/*! For license information please see 2.3c08a4aa.chunk.js.LICENSE.txt */
(this.webpackJsonpminer=this.webpackJsonpminer||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(456)},function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"w",(function(){return p})),n.d(t,"x",(function(){return m})),n.d(t,"kb",(function(){return v})),n.d(t,"O",(function(){return g})),n.d(t,"gb",(function(){return b})),n.d(t,"r",(function(){return y})),n.d(t,"K",(function(){return S})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return _})),n.d(t,"N",(function(){return C})),n.d(t,"jb",(function(){return A})),n.d(t,"Q",(function(){return L})),n.d(t,"R",(function(){return B})),n.d(t,"S",(function(){return U})),n.d(t,"T",(function(){return W})),n.d(t,"lb",(function(){return q})),n.d(t,"mb",(function(){return H})),n.d(t,"nb",(function(){return G})),n.d(t,"ob",(function(){return $})),n.d(t,"V",(function(){return K})),n.d(t,"hb",(function(){return X})),n.d(t,"i",(function(){return Y})),n.d(t,"j",(function(){return Z})),n.d(t,"k",(function(){return Q})),n.d(t,"l",(function(){return ee})),n.d(t,"m",(function(){return te})),n.d(t,"n",(function(){return o})),n.d(t,"o",(function(){return ne})),n.d(t,"p",(function(){return re})),n.d(t,"q",(function(){return ie})),n.d(t,"s",(function(){return ue})),n.d(t,"t",(function(){return d})),n.d(t,"u",(function(){return ce})),n.d(t,"v",(function(){return oe})),n.d(t,"y",(function(){return le})),n.d(t,"z",(function(){return fe})),n.d(t,"A",(function(){return u})),n.d(t,"B",(function(){return de})),n.d(t,"C",(function(){return he})),n.d(t,"D",(function(){return J})),n.d(t,"E",(function(){return pe})),n.d(t,"F",(function(){return c})),n.d(t,"G",(function(){return me})),n.d(t,"H",(function(){return l})),n.d(t,"I",(function(){return ve})),n.d(t,"J",(function(){return ge})),n.d(t,"L",(function(){return be})),n.d(t,"M",(function(){return ye})),n.d(t,"P",(function(){return xe})),n.d(t,"U",(function(){return N})),n.d(t,"W",(function(){return we})),n.d(t,"X",(function(){return Oe})),n.d(t,"Y",(function(){return s})),n.d(t,"Z",(function(){return f})),n.d(t,"ab",(function(){return ke})),n.d(t,"bb",(function(){return _e})),n.d(t,"cb",(function(){return R})),n.d(t,"eb",(function(){return Se})),n.d(t,"db",(function(){return je})),n.d(t,"fb",(function(){return Ce})),n.d(t,"ib",(function(){return Ae}));var r=function(e,t,n){return e.fields=t||[],e.fname=n,e};function i(e){return null==e?null:e.fname}function a(e){return null==e?null:e.fields}var o=function(e){throw Error(e)},s=function(e){var t,n,r,i=[],a=null,s=0,u=e.length,c="";function l(){i.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<u;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),c+=e.substring(++n,++n),t=n;else if(r===a)l(),a=null,s=-1;else{if(a)continue;t===s&&'"'===r||t===s&&"'"===r?(t=n+1,a=r):"."!==r||s?"["===r?(n>t&&l(),s=t=n+1):"]"===r&&(s||o("Access path missing open bracket: "+e),s>0&&l(),s=0,t=n+1):n>t?l():t=n+1}return s&&o("Access path missing closing bracket: "+e),a&&o("Access path missing closing quote: "+e),n>t&&(n++,l()),i},u=Array.isArray,c=function(e){return e===Object(e)},l=function(e){return"string"===typeof e};function f(e){return u(e)?"["+e.map(f)+"]":c(e)||l(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var d=function(e,t){var n=s(e),i="return _["+n.map(f).join("][")+"];";return r(Function("_",i),[e=1===n.length?n[0]:e],t||e)},h=[],p=d("id"),m=r((function(e){return e}),h,"identity"),v=r((function(){return 0}),h,"zero"),g=r((function(){return 1}),h,"one"),b=r((function(){return!0}),h,"true"),y=r((function(){return!1}),h,"false");function w(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var x=0,O=1,k=2,E=3,_=4,S=function(e,t){var n=e||x;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=O&&w(t||"error","ERROR",arguments),this},warn:function(){return n>=k&&w(t||"warn","WARN",arguments),this},info:function(){return n>=E&&w(t||"log","INFO",arguments),this},debug:function(){return n>=_&&w(t||"log","DEBUG",arguments),this}}},j=function(e){return"__proto__"!==e};function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=T(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;A(e,n,t[n],r)}return e}),{})}function A(e,t,n,r){var i,a;if(j(t))if(c(n)&&!u(n))for(i in a=c(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?A(a,i,n[i]):j(i)&&(a[i]=n[i]);else e[t]=n}function T(e,t){if(null==e)return t;var n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}var N=function(e){return e[e.length-1]},R=function(e){return null==e||""===e?null:+e};function M(e){return function(t){return e*Math.exp(t)}}function D(e){return function(t){return Math.log(e*t)}}function I(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function F(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function P(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function z(e,t,n,r){var i=n(e[0]),a=n(N(e)),o=(a-i)*t;return[r(i-o),r(a-o)]}function L(e,t){return z(e,t,R,m)}function B(e,t){var n=Math.sign(e[0]);return z(e,t,D(n),M(n))}function U(e,t,n){return z(e,t,P(n),P(1/n))}function W(e,t,n){return z(e,t,I(n),F(n))}function V(e,t,n,r,i){var a=r(e[0]),o=r(N(e)),s=null!=t?r(t):(a+o)/2;return[i(s+(a-s)*n),i(s+(o-s)*n)]}function q(e,t,n){return V(e,t,n,R,m)}function H(e,t,n){var r=Math.sign(e[0]);return V(e,t,n,D(r),M(r))}function G(e,t,n,r){return V(e,t,n,P(r),P(1/r))}function $(e,t,n,r){return V(e,t,n,I(r),F(r))}function K(e){return 1+~~(new Date(e).getMonth()/3)}function X(e){return 1+~~(new Date(e).getUTCMonth()/3)}var Y=function(e){return null!=e?u(e)?e:[e]:[]},Z=function(e,t,n){var r,i=e[0],a=e[1];return a<i&&(r=a,a=i,i=r),(r=a-i)>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]},J=function(e){return"function"===typeof e},Q=function(e,t){var n,i,o,u,c,l,d,h,p,m=[],v=(e=Y(e)).map((function(e,t){return null==e?null:(m.push(t),J(e)?e:s(e).map(f).join("]["))})),g=m.length-1,b=Y(t),y="var u,v;return ";if(g<0)return null;for(i=0;i<=g;++i)o=v[n=m[i]],J(o)?(u="(u=this."+(l="f"+n)+"(a))",c="(v=this."+l+"(b))",(d=d||{})[l]=o):(u="(u=a["+o+"])",c="(v=b["+o+"])"),l="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==b[n]?(p=1,h=-1):(p=-1,h=1),y+="("+u+"<"+c+"||u==null)&&v!=null?"+h+":(u>v||v==null)&&u!=null?"+p+":"+l+"!==u&&v===v?"+h+":v!==v&&u===u?"+p+(n<g?":":":0");return o=Function("a","b",y+";"),d&&(o=o.bind(d)),e=e.reduce((function(e,t){return J(t)?(a(t)||[]).forEach((function(t){e[t]=1})):null!=t&&(e[t+""]=1),e}),{}),r(o,Object.keys(e))},ee=function(e){return J(e)?e:function(){return e}},te=function(e,t){var n,r;function i(){t(r),n=r=null}return function(t){r=t,n&&clearTimeout(n),n=setTimeout(i,e)}},ne=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e},re=function(e,t){var n,r,i,a,o=0;if(e&&(n=e.length))if(null==t){for(r=e[o];o<n&&(null==r||r!==r);r=e[++o]);for(i=a=r;o<n;++o)null!=(r=e[o])&&(r<i&&(i=r),r>a&&(a=r))}else{for(r=t(e[o]);o<n&&(null==r||r!==r);r=t(e[++o]));for(i=a=r;o<n;++o)null!=(r=t(e[o]))&&(r<i&&(i=r),r>a&&(a=r))}return[i,a]},ie=function(e,t){var n,r,i,a,o,s=-1,u=e.length;if(null==t){for(;++s<u;)if(null!=(r=e[s])&&r>=r){n=i=r;break}if(s===u)return[-1,-1];for(a=o=s;++s<u;)null!=(r=e[s])&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}else{for(;++s<u;)if(null!=(r=t(e[s],s,e))&&r>=r){n=i=r;break}if(s===u)return[-1,-1];for(a=o=s;++s<u;)null!=(r=t(e[s],s,e))&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}return[a,o]},ae=Object.prototype.hasOwnProperty,oe=function(e,t){return ae.call(e,t)},se={},ue=function(e){var t,n,r={};function i(e){return oe(r,e)&&r[e]!==se}return t={size:0,empty:0,object:r,has:i,get:function(e){return i(e)?r[e]:void 0},set:function(e,n){return i(e)||(++t.size,r[e]===se&&--t.empty),r[e]=n,this},delete:function(e){return i(e)&&(--t.size,++t.empty,r[e]=se),this},clear:function(){t.size=t.empty=0,t.object=r={}},test:function(e){return arguments.length?(n=e,t):n},clean:function(){var e,i,a={},o=0;for(e in r)(i=r[e])===se||n&&n(i)||(a[e]=i,++o);t.size=o,t.empty=0,t.object=r=a}},e&&Object.keys(e).forEach((function(n){t.set(n,e[n])})),t},ce=function(e,t,n,r,i,a){if(!n&&0!==n)return a;var o,s,u=e[0],c=N(e),l=+n;return c<u&&(o=u,u=c,c=o),(o=Math.abs(t-u))<(s=Math.abs(c-t))&&o<=l?r:s<=l?i:a},le=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},fe=function(e,t,n,r){var i,a=t[0],o=t[t.length-1];return a>o&&(i=a,a=o,o=i),r=void 0===r||r,((n=void 0===n||n)?a<=e:a<e)&&(r?e<=o:e<o)},de=function(e){return"boolean"===typeof e},he=function(e){return"[object Date]"===Object.prototype.toString.call(e)},pe=function(e){return"number"===typeof e},me=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},ve=function(e,t){e&&(e=t?Y(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):Y(e));var n=e&&e.length?Function("_","return ''+"+e.map((function(e){return"_["+(t?f(e):s(e).map(f).join("]["))+"]"})).join("+'|'+")+";"):function(){return""};return r(n,e,"key")},ge=function(e,t){var n=e[0],r=N(e),i=+t;return i?1===i?r:n+i*(r-n):n},be=function(e){var t,n,r;e=+e||1e4;var i=function(){t={},n={},r=0},a=function(i,a){return++r>e&&(n=t,t={},r=1),t[i]=a};return i(),{clear:i,has:function(e){return oe(t,e)||oe(n,e)},get:function(e){return oe(t,e)?t[e]:oe(n,e)?a(e,n[e]):void 0},set:function(e,n){return oe(t,e)?t[e]=n:a(e,n)}}},ye=function(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var o=r||new t.constructor(i+a),s=0,u=0,c=0;s<i&&u<a;++c)o[c]=e(t[s],n[u])>0?n[u++]:t[s++];for(;s<i;++s,++c)o[c]=t[s];for(;u<a;++u,++c)o[c]=n[u];return o},we=function(e,t){for(var n="";--t>=0;)n+=e;return n},xe=function(e,t,n,r){var i=n||" ",a=e+"",o=t-a.length;return o<=0?a:"left"===r?we(i,o)+a:"center"===r?we(i,~~(o/2))+a+we(i,Math.ceil(o/2)):a+we(i,o)},Oe=function(e){return e&&N(e)-e[0]||0},ke=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e};function Ee(e){return pe(e)||he(e)?e:Date.parse(e)}var _e=function(e,t){return t=t||Ee,null==e||""===e?null:t(e)},Se=function(e){return null==e||""===e?null:e+""},je=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t},Ce=function(e,t,n,r){var i=null!=r?r:"\u2026",a=e+"",o=a.length,s=Math.max(0,t-i.length);return o<=t?a:"left"===n?i+a.slice(o-s):"center"===n?a.slice(0,Math.ceil(s/2))+i+a.slice(o-~~(s/2)):a.slice(0,s)+i},Ae=function(e,t,n){if(e){var r,i=0,a=e.length;if(t)for(;i<a;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}}},function(e,t,n){"use strict";(function(e,r,i,a){n.d(t,"a",(function(){return wh})),n.d(t,"b",(function(){return xh})),n.d(t,"c",(function(){return Oh})),n.d(t,"d",(function(){return kh})),n.d(t,"e",(function(){return wr})),n.d(t,"f",(function(){return xr})),n.d(t,"g",(function(){return Cr})),n.d(t,"h",(function(){return ua})),n.d(t,"i",(function(){return Or})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return Mr})),n.d(t,"m",(function(){return kr})),n.d(t,"n",(function(){return Tr})),n.d(t,"o",(function(){return ca})),n.d(t,"p",(function(){return Dr})),n.d(t,"q",(function(){return _h})),n.d(t,"r",(function(){return jr})),n.d(t,"s",(function(){return Ar})),n.d(t,"t",(function(){return yh})),n.d(t,"u",(function(){return Rr})),n.d(t,"v",(function(){return Sh})),n.d(t,"w",(function(){return Ee})),n.d(t,"x",(function(){return af})),n.d(t,"y",(function(){return Eh})),n.d(t,"z",(function(){return _r})),n.d(t,"A",(function(){return Er})),n.d(t,"B",(function(){return ke})),n.d(t,"C",(function(){return ye})),n.d(t,"D",(function(){return Nr})),n.d(t,"E",(function(){return Sr})),n.d(t,"F",(function(){return Te})),n.d(t,"G",(function(){return Lr})),n.d(t,"H",(function(){return Br})),n.d(t,"I",(function(){return Ur})),n.d(t,"J",(function(){return Ir})),n.d(t,"K",(function(){return Tu})),n.d(t,"L",(function(){return yi})),n.d(t,"M",(function(){return kl})),n.d(t,"N",(function(){return El})),n.d(t,"O",(function(){return _l})),n.d(t,"P",(function(){return Sl})),n.d(t,"Q",(function(){return Wr})),n.d(t,"R",(function(){return Vr})),n.d(t,"S",(function(){return qr})),n.d(t,"T",(function(){return wi})),n.d(t,"U",(function(){return Hr})),n.d(t,"V",(function(){return dl})),n.d(t,"W",(function(){return ml})),n.d(t,"X",(function(){return dn})),n.d(t,"Y",(function(){return Sa})),n.d(t,"Z",(function(){return Wl})),n.d(t,"ab",(function(){return Fu})),n.d(t,"bb",(function(){return Lu})),n.d(t,"cb",(function(){return Wu})),n.d(t,"db",(function(){return Hu})),n.d(t,"eb",(function(){return Iu})),n.d(t,"fb",(function(){return zu})),n.d(t,"gb",(function(){return Uu})),n.d(t,"hb",(function(){return qu})),n.d(t,"ib",(function(){return ir})),n.d(t,"jb",(function(){return Bc})),n.d(t,"kb",(function(){return Gu})),n.d(t,"lb",(function(){return dh})),n.d(t,"mb",(function(){return nr})),n.d(t,"nb",(function(){return ar})),n.d(t,"ob",(function(){return Gr})),n.d(t,"pb",(function(){return $r})),n.d(t,"qb",(function(){return $u})),n.d(t,"rb",(function(){return Tn})),n.d(t,"sb",(function(){return Yn})),n.d(t,"tb",(function(){return Zn})),n.d(t,"ub",(function(){return Jn})),n.d(t,"vb",(function(){return Qn})),n.d(t,"wb",(function(){return er})),n.d(t,"xb",(function(){return qc})),n.d(t,"yb",(function(){return Hc})),n.d(t,"zb",(function(){return Qc})),n.d(t,"Ab",(function(){return Gc})),n.d(t,"Bb",(function(){return el})),n.d(t,"Cb",(function(){return Kr})),n.d(t,"Db",(function(){return Xr})),n.d(t,"Eb",(function(){return or})),n.d(t,"Fb",(function(){return ra})),n.d(t,"Gb",(function(){return Xt})),n.d(t,"Hb",(function(){return sr})),n.d(t,"Ib",(function(){return Xc})),n.d(t,"Jb",(function(){return tf})),n.d(t,"Kb",(function(){return Kt})),n.d(t,"Lb",(function(){return tn})),n.d(t,"Mb",(function(){return Yt})),n.d(t,"Nb",(function(){return Fi})),n.d(t,"Ob",(function(){return ec})),n.d(t,"Pb",(function(){return xi})),n.d(t,"Qb",(function(){return nl})),n.d(t,"Rb",(function(){return nf})),n.d(t,"Sb",(function(){return Dl})),n.d(t,"Tb",(function(){return $t})),n.d(t,"Ub",(function(){return Gt})),n.d(t,"Vb",(function(){return Zt})),n.d(t,"Wb",(function(){return d})),n.d(t,"Xb",(function(){return Ec})),n.d(t,"Yb",(function(){return _c})),n.d(t,"Zb",(function(){return Yr})),n.d(t,"ac",(function(){return Zr})),n.d(t,"bc",(function(){return ur})),n.d(t,"cc",(function(){return Jr})),n.d(t,"dc",(function(){return nc})),n.d(t,"ec",(function(){return Kl})),n.d(t,"fc",(function(){return Hn})),n.d(t,"gc",(function(){return cn})),n.d(t,"hc",(function(){return ln})),n.d(t,"ic",(function(){return Qr})),n.d(t,"jc",(function(){return Oi})),n.d(t,"kc",(function(){return uf})),n.d(t,"lc",(function(){return Uf})),n.d(t,"mc",(function(){return zc})),n.d(t,"nc",(function(){return ef})),n.d(t,"oc",(function(){return zi})),n.d(t,"pc",(function(){return sn})),n.d(t,"qc",(function(){return g})),n.d(t,"rc",(function(){return v})),n.d(t,"sc",(function(){return b})),n.d(t,"tc",(function(){return Ji})),n.d(t,"uc",(function(){return Qi})),n.d(t,"vc",(function(){return Sc})),n.d(t,"wc",(function(){return jc})),n.d(t,"xc",(function(){return Cc})),n.d(t,"yc",(function(){return Ac})),n.d(t,"zc",(function(){return sf})),n.d(t,"Ac",(function(){return of})),n.d(t,"Bc",(function(){return Xl})),n.d(t,"Cc",(function(){return Rn})),n.d(t,"Dc",(function(){return Mf})),n.d(t,"Ec",(function(){return ff})),n.d(t,"Fc",(function(){return uh})),n.d(t,"Gc",(function(){return Zl})),n.d(t,"Hc",(function(){return fi})),n.d(t,"Ic",(function(){return li})),n.d(t,"Jc",(function(){return ci})),n.d(t,"Kc",(function(){return nn})),n.d(t,"Lc",(function(){return Il})),n.d(t,"Mc",(function(){return Tc})),n.d(t,"Nc",(function(){return Nc})),n.d(t,"Oc",(function(){return Rc})),n.d(t,"Pc",(function(){return Mc})),n.d(t,"Qc",(function(){return Sf})),n.d(t,"Rc",(function(){return Gn})),n.d(t,"Sc",(function(){return Bl})),n.d(t,"Tc",(function(){return ei})),n.d(t,"Uc",(function(){return ti})),n.d(t,"Vc",(function(){return ni})),n.d(t,"Wc",(function(){return oa})),n.d(t,"Xc",(function(){return jl})),n.d(t,"Yc",(function(){return Ku})),n.d(t,"Zc",(function(){return Xu})),n.d(t,"ad",(function(){return Yu})),n.d(t,"bd",(function(){return Zu})),n.d(t,"cd",(function(){return xf})),n.d(t,"dd",(function(){return tl})),n.d(t,"ed",(function(){return lh})),n.d(t,"fd",(function(){return Cl})),n.d(t,"gd",(function(){return fl})),n.d(t,"hd",(function(){return pl})),n.d(t,"id",(function(){return vl})),n.d(t,"jd",(function(){return ki})),n.d(t,"kd",(function(){return Ei})),n.d(t,"ld",(function(){return Al})),n.d(t,"md",(function(){return Jt})),n.d(t,"nd",(function(){return Tl})),n.d(t,"od",(function(){return _i})),n.d(t,"pd",(function(){return Si})),n.d(t,"qd",(function(){return ji})),n.d(t,"rd",(function(){return Ci})),n.d(t,"sd",(function(){return Nl})),n.d(t,"td",(function(){return ql})),n.d(t,"ud",(function(){return Ai})),n.d(t,"vd",(function(){return Ti})),n.d(t,"wd",(function(){return Vl})),n.d(t,"xd",(function(){return rc})),n.d(t,"yd",(function(){return ri})),n.d(t,"zd",(function(){return Th})),n.d(t,"Ad",(function(){return Ul})),n.d(t,"Bd",(function(){return Dc})),n.d(t,"Cd",(function(){return Ic})),n.d(t,"Dd",(function(){return ic})),n.d(t,"Ed",(function(){return Vn})),n.d(t,"Fd",(function(){return Kn})),n.d(t,"Gd",(function(){return An})),n.d(t,"Hd",(function(){return rl})),n.d(t,"Id",(function(){return ac})),n.d(t,"Jd",(function(){return oc})),n.d(t,"Kd",(function(){return sc})),n.d(t,"Ld",(function(){return uc})),n.d(t,"Md",(function(){return cc})),n.d(t,"Nd",(function(){return hl})),n.d(t,"Od",(function(){return Ni})),n.d(t,"Pd",(function(){return Ri})),n.d(t,"Qd",(function(){return Fl})),n.d(t,"Rd",(function(){return rr})),n.d(t,"Sd",(function(){return Ml})),n.d(t,"Td",(function(){return Qt})),n.d(t,"Ud",(function(){return lc})),n.d(t,"Vd",(function(){return bc})),n.d(t,"Wd",(function(){return yc})),n.d(t,"Xd",(function(){return wc})),n.d(t,"Yd",(function(){return $n})),n.d(t,"Zd",(function(){return on})),n.d(t,"ae",(function(){return Nn})),n.d(t,"be",(function(){return ii})),n.d(t,"ce",(function(){return fn})),n.d(t,"de",(function(){return w})),n.d(t,"ee",(function(){return y})),n.d(t,"fe",(function(){return Pl})),n.d(t,"ge",(function(){return zl})),n.d(t,"he",(function(){return un})),n.d(t,"ie",(function(){return cr})),n.d(t,"je",(function(){return il})),n.d(t,"ke",(function(){return al})),n.d(t,"le",(function(){return ol})),n.d(t,"me",(function(){return sl})),n.d(t,"ne",(function(){return ul})),n.d(t,"oe",(function(){return Yl})),n.d(t,"pe",(function(){return ai})),n.d(t,"qe",(function(){return oi})),n.d(t,"re",(function(){return In})),n.d(t,"se",(function(){return $l})),n.d(t,"te",(function(){return Vi})),n.d(t,"ue",(function(){return Ll})),n.d(t,"ve",(function(){return Jc})),n.d(t,"we",(function(){return vh})),n.d(t,"xe",(function(){return an})),n.d(t,"ye",(function(){return hn})),n.d(t,"ze",(function(){return pr})),n.d(t,"Ae",(function(){return si})),n.d(t,"Be",(function(){return ui})),n.d(t,"Ce",(function(){return lf})),n.d(t,"De",(function(){return di})),n.d(t,"Ee",(function(){return hi})),n.d(t,"Fe",(function(){return gl})),n.d(t,"Ge",(function(){return bl})),n.d(t,"He",(function(){return yl})),n.d(t,"Ie",(function(){return wl})),n.d(t,"Je",(function(){return xl})),n.d(t,"Ke",(function(){return Zi})),n.d(t,"Le",(function(){return aa})),n.d(t,"Me",(function(){return pi})),n.d(t,"Ne",(function(){return lr})),n.d(t,"Oe",(function(){return Ql})),n.d(t,"Pe",(function(){return Jl})),n.d(t,"Qe",(function(){return tr})),n.d(t,"Re",(function(){return mi})),n.d(t,"Se",(function(){return xc})),n.d(t,"Te",(function(){return Oc})),n.d(t,"Ue",(function(){return Mi})),n.d(t,"Ve",(function(){return fr})),n.d(t,"We",(function(){return dr})),n.d(t,"Xe",(function(){return vi})),n.d(t,"Ye",(function(){return cf})),n.d(t,"Ze",(function(){return Hl})),n.d(t,"af",(function(){return Di})),n.d(t,"bf",(function(){return Ii})),n.d(t,"cf",(function(){return Rl})),n.d(t,"df",(function(){return Me})),n.d(t,"ef",(function(){return gi})),n.d(t,"ff",(function(){return bi})),n.d(t,"gf",(function(){return Mn})),n.d(t,"hf",(function(){return Fn})),n.d(t,"if",(function(){return Pn})),n.d(t,"jf",(function(){return zn})),n.d(t,"kf",(function(){return Ln})),n.d(t,"lf",(function(){return Bn})),n.d(t,"mf",(function(){return Un})),n.d(t,"nf",(function(){return ze})),n.d(t,"of",(function(){return pc})),n.d(t,"pf",(function(){return en})),n.d(t,"qf",(function(){return tc})),n.d(t,"rf",(function(){return rn})),n.d(t,"sf",(function(){return Gl})),n.d(t,"tf",(function(){return Ch})),n.d(t,"uf",(function(){return sa})),n.d(t,"vf",(function(){return kc})),n.d(t,"wf",(function(){return O})),n.d(t,"xf",(function(){return x})),n.d(t,"yf",(function(){return Lc})),n.d(t,"zf",(function(){return hr})),n.d(t,"Af",(function(){return he})),n.d(t,"Bf",(function(){return ea})),n.d(t,"Cf",(function(){return ta})),n.d(t,"Df",(function(){return Wn})),n.d(t,"Ef",(function(){return na})),n.d(t,"Ff",(function(){return gh})),n.d(t,"Gf",(function(){return bh})),n.d(t,"Hf",(function(){return Ju})),n.d(t,"If",(function(){return Qu})),n.d(t,"Jf",(function(){return qn})),n.d(t,"Kf",(function(){return Xn}));var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var l=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags||(this.flags[e]=this.evaluateFlag(e)),this.flags[e]},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return f(n,t[0],t[1]),t.join("=")})),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),r=n[0],i=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,i)}))}},e}();function f(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function d(){return h}var h=null,p=new Map,m=new Map;function v(e,t){var n=k(e,t);return p.get(n)}function g(e){return m.get(e)}function b(e){for(var t=p.entries(),n=[];;){var r=t.next(),i=r.done,a=r.value;if(i)break;var o=a[0],s=a[1];o.split("_")[0]===e&&n.push(s)}return n}function y(e){var t=e.kernelName,n=e.backendName,r=k(t,n);if(p.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");p.set(r,e)}function w(e){var t=e.kernelName;m.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),m.set(t,e)}function x(e,t){var n=k(e,t);if(!p.has(n))throw new Error("The kernel '"+e+"' for backend '"+t+"' is not registered");p.delete(n)}function O(e){if(!m.has(e))throw new Error("The gradient '"+e+"' for backend is not registered");m.delete(e)}function k(e,t){return t+"_"+e}function E(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function _(e,t,n){return Math.max(e,Math.min(t,n))}function S(e){return e%2==0?e:e+1}function j(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function C(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function A(e,t,n){void 0===n&&(n=""),C(M(e,t),(function(){return n+" Shapes "+e+" and "+t+" must match"}))}function T(e){C(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function N(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||$(e)&&!n)for(var r=0;r<e.length;++r)N(e[r],t,n);else t.push(e);return t}function R(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function M(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function D(e){return e%1==0}function I(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function F(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function P(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function z(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise((function(r,i){var a=0;!function o(){if(e())r();else{a++;var s=t(a);null!=n&&a>=n?i():setTimeout(o,s)}}()}))}function L(e,t){for(var n=1,r=-1,i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+i);r=i}else if(e[i]<0)throw Error("Shapes can not be < 0. Found "+e[i]+" at dim "+i);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var a=e.slice();return a[r]=t/n,a}function B(e,t){var n=t.length;return C((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e})),C(e.every((function(e){return D(e)})),(function(){return"All values in axis param must be integers but got axis "+e})),e.map((function(e){return e<0?n+e:e}))}function U(e,t){for(var n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:B(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=a){if(a[o]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==a[o]||a[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function W(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function V(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function q(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function H(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function G(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function $(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function K(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function X(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function Y(e){return"string"==typeof e||e instanceof String}function Z(e){return"boolean"==typeof e}function J(e){return"number"==typeof e}function Q(e){return Array.isArray(e)?Q(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":J(e)?"float32":Y(e)?"string":Z(e)?"bool":"float32"}function ee(e){return!!(e&&e.constructor&&e.call&&e.apply)}function te(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function ne(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function re(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=N(e)),n&&q(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),i=0;i<r.length;++i)0!==Math.round(e[i])&&(r[i]=1);return r}throw new Error("Unknown data type "+t)}function ie(e,t){if(0===e.length)return t[0];var n=e.reduce((function(e,t){return e*t}));if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var i=new Array;if(1===n.length)for(var a=n[0],o=0;o<a;o++)i[o]=r[t+o];else{a=n[0];var s=n.slice(1),u=s.reduce((function(e,t){return e*t}));for(o=0;o<a;o++)i[o]=e(t+o*u,s,r)}return i}(0,e,t)}function ae(e,t){for(var n=oe(e,t),r=0;r<n.length;r++)n[r]=1;return n}function oe(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function se(){return d().platform.now()}function ue(e){e.forEach((function(t){C(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."}))}))}function ce(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",d().platform.encode(e,t)}function le(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",d().platform.decode(e,t)}function fe(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],i=0;i<e.length-1;++i)r+=n[i]*e[i];return r}function de(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),i=0;i<r.length-1;++i)r[i]=Math.floor(e/n[i]),e-=r[i]*n[i];return r[r.length-1]=e,r}var he=Object.freeze({shuffle:E,clamp:_,nearestLargerEven:S,sum:j,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var i=Number(e[r])-Number(t[r]);n+=i*i}return n},assert:C,assertShapesMatch:A,assertNonNull:T,flatten:N,sizeFromShape:R,isScalarShape:function(e){return 0===e.length},arraysEqual:M,isInt:D,tanh:I,sizeToSquarishShape:F,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return E(t),t},rightPad:P,repeatedTry:z,inferFromImplicitShape:L,parseAxisParam:B,squeezeShape:U,getTypedArrayFromDType:W,getArrayFromDType:V,checkConversionForErrors:q,isValidDtype:H,hasEncodingLoss:G,isTypedArray:$,bytesPerElement:K,bytesFromStringArray:X,isString:Y,isBoolean:Z,isNumber:J,inferDtype:Q,isFunction:ee,nearestDivisor:te,computeStrides:ne,toTypedArray:re,toNestedArray:ie,makeOnesTypedArray:ae,makeZerosTypedArray:oe,now:se,assertNonNegativeIntegerDimensions:ue,fetch:function(e,t){return d().platform.fetch(e,t)},encodeString:ce,decodeString:le,locToIndex:fe,indexToLoc:de}),pe=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new me)}return e.prototype.profileKernel=function(e,t,n){var r,i=this,a=this.backendTimer.time((function(){r=n()}));return r.forEach((function(n){n.data().then((function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(isNaN(i)||!isFinite(i))return console.warn("Found "+i+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),a.then((function(a){var o="";null!=a.getExtraProfileInfo&&(o=a.getExtraProfileInfo()),i.logger.logKernelProfile(e,n,r,a.kernelMs,t,o)}))}))})),r},e}(),me=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,i,a){var o="number"==typeof r?P(r+"ms",9):r.error,s=P(e,25),u=t.rank,c=t.size,l=P(t.shape.toString(),14),f="";for(var d in i){var h=i[d].shape||t.shape,p=h.length;f+=d+": "+p+"D "+(p>0?h:"")+" "}console.log("%c"+s+"\t%c"+o+"\t%c"+u+"D "+l+"\t%c"+c+"\t%c"+f+"\t%c"+a,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}();function ve(e,t,n){return P(Array.isArray(e)?parseFloat(e[0].toFixed(7))+" + "+parseFloat(e[1].toFixed(7))+"j":Y(e)?"'"+e+"'":"bool"===n?ge(e):parseFloat(e.toFixed(7)).toString(),t)}function ge(e){return 0===e?"false":"true"}function be(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var ye=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=R(e),null!=n){var i=n.length;C(i===this.size,(function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+r.size+"'."}))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||V(t,this.size),this.strides=ne(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),C(n.length===this.rank,(function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"}));var i=this.locToIndex(n);this.values[i]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,i=e;r<i.length;r++){var a=i[r];if(a<0||a>=this.shape[n]){var o="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(o)}n++}for(var s=e[e.length-1],u=0;u<e.length-1;++u)s+=this.strides[u]*e[u];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return we().makeTensor(this.values,this.shape,this.dtype)},e}(),we=null,xe=null,Oe=null,ke=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=R(e),this.strides=ne(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),C(1===this.size,(function(){return"The array must have only 1 element."})),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,i){return this.throwIfDisposed(),this.reshape([e,t,n,r,i])},e.prototype.asType=function(e){return this.throwIfDisposed(),xe.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,xe.buffer(this.shape,this.dtype,e)]}}))}))},e.prototype.bufferSync=function(){return xe.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,ie(this.shape,e)]}}))}))},e.prototype.arraySync=function(){return ie(this.shape,this.dataSync())},e.prototype.data=function(){return u(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=we().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map((function(e){return le(e)}))]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}}))}))},e.prototype.dataSync=function(){this.throwIfDisposed();var e=we().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return le(e)}))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,we().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}}))}))},e.prototype.dispose=function(){this.isDisposed||(we().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),xe.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),xe.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),xe.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),xe.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),xe.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),xe.clone(this)},e.prototype.toString=function(e){return void 0===e&&(e=!1),function(e,t,n,r){var i=ne(t),a=function(e,t,n,r){var i=R(t),a=r[r.length-1],o=new Array(a).fill(0),s=t.length,u="complex64"===n?be(e):e;if(s>1)for(var c=0;c<i/a;c++)for(var l=c*a,f=0;f<a;f++)o[f]=Math.max(o[f],ve(u[l+f],0,n).length);return o}(e,t,n,i),o=t.length,s=function e(t,n,r,i,a,o){void 0===o&&(o=!0);var s="complex64"===r?2:1,u=n[0],c=n.length;if(0===c)return"complex64"===r?[ve(be(t)[0],0,r)]:"bool"===r?[ge(t[0])]:[t[0].toString()];if(1===c){if(u>20){var l=3*s,f=Array.from(t.slice(0,l)),d=Array.from(t.slice((u-3)*s,u*s));return"complex64"===r&&(f=be(f),d=be(d)),["["+f.map((function(e,t){return ve(e,a[t],r)})).join(", ")+", ..., "+d.map((function(e,t){return ve(e,a[u-3+t],r)})).join(", ")+"]"]}return["["+("complex64"===r?be(t):Array.from(t)).map((function(e,t){return ve(e,a[t],r)})).join(", ")+"]"]}var h=n.slice(1),p=i.slice(1),m=i[0]*s,v=[];if(u>20){for(var g=0;g<3;g++){var b=(y=g*m)+m;v.push.apply(v,e(t.slice(y,b),h,r,p,a,!1))}for(v.push("..."),g=u-3;g<u;g++)b=(y=g*m)+m,v.push.apply(v,e(t.slice(y,b),h,r,p,a,g===u-1))}else for(g=0;g<u;g++){var y;b=(y=g*m)+m,v.push.apply(v,e(t.slice(y,b),h,r,p,a,g===u-1))}var w=2===c?",":"";for(v[0]="["+v[0]+w,g=1;g<v.length-1;g++)v[g]=" "+v[g]+w;var x=",\n";for(g=2;g<c;g++)x+="\n";return v[v.length-1]=" "+v[v.length-1]+"]"+(o?"":x),v}(e,t,n,i,a),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+o),u.push("  shape: ["+t+"]"),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}(this.dataSync(),this.shape,this.dtype,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),xe.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),xe.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),xe.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),xe.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),xe.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),xe.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),xe.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),xe.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),xe.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),xe.unstack(this,e)},e.prototype.batchNormalization=function(e,t,n,r,i){return void 0===n&&(n=.001),Oe("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,i,r,n)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),xe.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),xe.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),xe.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),xe.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),xe.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),xe.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),xe.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),xe.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),xe.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),xe.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),xe.cast(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),xe.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),xe.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),xe.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),xe.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),xe.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),xe.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),xe.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),xe.mulStrict(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),xe.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),xe.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),xe.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),xe.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),xe.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),xe.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),xe.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),xe.modStrict(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),xe.squaredDifferenceStrict(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),xe.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),xe.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),xe.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),xe.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),xe.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),xe.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),xe.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),xe.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),xe.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),xe.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),xe.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),xe.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),xe.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),xe.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),xe.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),xe.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),xe.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),xe.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),xe.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),xe.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),xe.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),xe.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),xe.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),xe.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),xe.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),xe.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),xe.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),xe.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),xe.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),xe.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),xe.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),xe.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),xe.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),xe.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),xe.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),xe.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),xe.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),xe.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),xe.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),xe.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),xe.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),xe.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),xe.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),xe.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),xe.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),xe.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),xe.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),xe.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),xe.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),xe.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),xe.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),xe.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),xe.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),xe.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),xe.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),xe.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),xe.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),xe.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),xe.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),xe.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),xe.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),xe.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),xe.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),xe.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,i,a){return void 0===r&&(r="NWC"),void 0===i&&(i=1),this.throwIfDisposed(),xe.conv1d(this,e,t,n,r,i,a)},e.prototype.conv2d=function(e,t,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),xe.conv2d(this,e,t,n,r,i,a)},e.prototype.conv2dTranspose=function(e,t,n,r,i){return this.throwIfDisposed(),xe.conv2dTranspose(this,e,t,n,r,i)},e.prototype.depthwiseConv2D=function(e,t,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),xe.depthwiseConv2d(this,e,t,n,r,i,a)},e.prototype.separableConv2d=function(e,t,n,r,i,a){return void 0===i&&(i=[1,1]),void 0===a&&(a="NHWC"),this.throwIfDisposed(),xe.separableConv2d(this,e,t,n,r,i,a)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),xe.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),xe.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),xe.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,i){return this.throwIfDisposed(),xe.pool(this,e,t,n,r,i)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),we().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),xe.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),xe.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),xe.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),xe.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,i,a,o,s){return void 0===r&&(r=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),this.throwIfDisposed(),xe.stridedSlice(this,e,t,n,r,i,a,o,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),xe.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),xe.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),xe.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),xe.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),xe.spectral.irfft(this)},e}();Object.defineProperty(ke,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var Ee,_e,Se,je,Ce,Ae,Te=function(e){function t(t,n,r,i){var a=e.call(this,t.shape,t.dtype,t.dataId,i)||this;return a.trainable=n,a.name=r,a}return s(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!M(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");we().disposeTensor(this),this.dataId=e.dataId,we().incRef(this,null)},t.prototype.dispose=function(){we().disposeVariable(this),this.isDisposedInternal=!0},t}(ke);Object.defineProperty(Te,Symbol.hasInstance,{value:function(e){return e instanceof ke&&null!=e.assign&&e.assign instanceof Function}}),(Ae=Ee||(Ee={})).R0="R0",Ae.R1="R1",Ae.R2="R2",Ae.R3="R3",Ae.R4="R4",Ae.R5="R5",Ae.R6="R6",function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(_e||(_e={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Se||(Se={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(je||(je={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Ce||(Ce={}));var Ne={float32:je,int32:_e,bool:Se,complex64:Ce};function Re(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return Ne[e][t]}function Me(e){return Re(e,"int32")}function De(e,t){if(e.dtype===t.dtype)return[e,t];var n=Re(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Ie(e,t){C(e.dtype===t.dtype,(function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"}))}function Fe(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof ke)n.push(t);else if(i=t,Array.isArray(i)||"object"==typeof i){var i,a=t;for(var o in a){var s=a[o];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}var Pe,ze=Object.freeze({makeTypesMatch:De,assertTypesMatch:Ie,isTensorInList:function(e,t){return t.some((function(t){return t.id===e.id}))},getTensorsInContainer:Fe}),Le=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),Be=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Le}return e.prototype.ready=function(){return u(this,void 0,void 0,(function(){var e,t,n;return c(this,(function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then((function(){}))];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return u(this,void 0,void 0,(function(){var t,n,r;return c(this,(function(i){switch(i.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=i.sent(),[3,3];case 2:r=n,i.label=3;case 3:if(!r)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new pe(this.backendInstance),[2,!0]}}))}))},e.prototype.setupRegisteredKernels=function(){var e=this;b(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))},e.prototype.disposeRegisteredKernels=function(e){var t=this;b(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var i=++this.pendingBackendInitId,a=r.then((function(n){return!(i<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return!(i<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),!1)}));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),i=r.success,a=r.asyncInit;if(a||i)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,i,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,i=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}return this.scopedRun((function(){return r.startScope(i)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){return e.toFloat()}}}),[],{}),t},e.prototype.runKernel=function(e,t,n,r,i){return this.runKernelFunc(null,t,null,e,n,r,i)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),i=0;n.forEach((function(e){i+="complex64"===e.dtype?3:1}));var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-i-a;if(o>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+o+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,i,a,o){var s,u=this,c=[],l=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var f,d=this.state.numBytes,h=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var p,m=v(r,this.backendName);if(null!=m)f=function(){var e=u.backend.numDataIds();p=m.kernelFunc({inputs:t,attrs:i,backend:u.backend});var n=Array.isArray(p)?p:[p];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,e,n);var s=n.map((function(e){var t=e.dataId,n=e.shape,r=e.dtype;return u.makeTensorFromDataId(t,n,r)}));if(l){var f=u.getTensorsForGradient(r,t,s);if(null==f){null==o&&(o=[]);var d=s.filter((function(e,t){return o[t]}));f=(a||[]).slice().concat(d)}c=u.saveTensorsForBackwardMode(f)}return s};else{var g=function(e){l&&(c=e.map((function(e){return u.keep(u.clone(e))})))};f=function(){var t=u.backend.numDataIds();p=u.tidy((function(){return e(u.backend,g)}));var n=Array.isArray(p)?p:[p];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,t,n),n}}return this.scopedRun((function(){return u.state.kernelDepth++}),(function(){return u.state.kernelDepth--}),(function(){s=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(r,t,(function(){return f()})):f()})),l&&this.addTapeNode(r,t,s,n,c,i),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-d,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-h,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map((function(e){return t[e].shape})),outputShapes:s.map((function(e){return e.shape}))}),Array.isArray(p)?s:s[0]},e.prototype.saveTensorsForBackwardMode=function(e){var t=this;return e.map((function(e){return t.keep(t.clone(e))}))},e.prototype.getTensorsForGradient=function(e,t,n){var r=g(e);if(null!=r){var i=r.inputsToSave||[],a=r.outputsToSave||[],o=void 0;r.saveAllInputs?(C(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),o=Object.keys(t).map((function(e){return t[e]}))):o=i.map((function(e){return t[e]}));var s=n.filter((function(e,t){return a[t]}));return o.concat(s)}return null},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var i=e;"string"===n&&Y(e[0])&&(i=e.map((function(e){return ce(e)})));var a=r.write(i,t,n),o=new ke(t,n,a,this.nextTensorId());if(this.incRef(o,r),"string"===n){var s=this.state.tensorInfo.get(a),u=X(i);this.state.numBytes+=u-s.bytes,s.bytes=u}return o},e.prototype.makeTensorFromDataId=function(e,t,n,r){var i=new ke(t,n=n||"float32",e,this.nextTensorId());return this.incRef(i,r),i},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var i=new Te(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*K(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof Te||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]}))}))},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,i,a){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},u=g(e);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],i=oe(r.size,r.dtype);return o.makeTensor(i,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],i,a)}),this.state.activeTape.push(s)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=Fe(e),r=new Set(n.map((function(e){return e.id}))),i=0;i<this.state.activeScope.track.length;i++){var a=this.state.activeScope.track[i];a.kept||r.has(a.id)||a.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==o.id||t.track(e)}))},e.prototype.gradients=function(e,t,n,r){var i=this;if(void 0===r&&(r=!1),C(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var a=this.scopedRun((function(){return i.startTape()}),(function(){return i.endTape()}),(function(){return i.tidy("forward",e)}));C(a instanceof ke,(function(){return"The result y returned by f() must be a tensor."}));var o=function(e,t,n){for(var r={},i={},a=0;a<t.length;a++)r[t[a].id]=!0;for(a=0;a<e.length;a++){var o=(p=e[a]).inputs;for(var s in o){for(var u=o[s],c=!1,l=0;l<t.length;l++)if(r[u.id]){p.outputs.forEach((function(e){return r[e.id]=!0})),c=!0,i[p.id]=!0;break}if(c)break}}var f={};f[n.id]=!0;var d={};for(a=e.length-1;a>=0;a--)for(o=(p=e[a]).inputs,l=0;l<p.outputs.length;l++)if(f[p.outputs[l].id]){for(var s in o)f[o[s].id]=!0,d[p.id]=!0;break}var h=[];for(a=0;a<e.length;a++){var p;if(i[(p=e[a]).id]&&d[p.id]){var m={};for(var s in p.inputs){var v=p.inputs[s];r[v.id]&&(m[s]=v)}var g=Object.assign({},p);g.inputs=m,g.outputs=p.outputs,h.push(g)}}return h}(this.state.activeTape,t,a);if(!r&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e,r,s={};s[a.id]=null==n?(r=ae(R(e=a.shape),"float32"),Ue.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var i=t[r],a=[];if(i.outputs.forEach((function(t){var n=e[t.id];null!=n?a.push(n):a.push(null)})),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+i.kernelName+".");var o=i.gradient(a),s=function(t){if(!(t in o))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(o)+".");var r=n((function(){return o[t]()}));if("float32"!==r.dtype)throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var a=i.inputs[t];if(!M(r.shape,a.shape))throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+a.shape+"'");if(null==e[a.id])e[a.id]=r;else{var s=e[a.id];e[a.id]=s.add(r),s.dispose()}};for(var u in i.inputs)s(u)},i=t.length-1;i>=0;i--)r(i)}(s,o,(function(e){return i.tidy(e)}));var u=t.map((function(e){return s[e.id]}));return 0===i.state.gradientDepth&&(i.state.activeTape.forEach((function(e){for(var t=0,n=e.saved;t<n.length;t++)n[t].dispose()})),i.state.activeTape=null),{value:a,grads:u}}))},e.prototype.customGrad=function(e){var t=this;return C(ee(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];C(r.every((function(e){return e instanceof ke})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var a={};return r.forEach((function(e,t){a[t]=e})),t.runKernelFunc((function(t,i){return C((n=e.apply(void 0,r.concat([i]))).value instanceof ke,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),C(ee(n.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),n.value}),a,(function(e,t){var i=n.gradFunc(e,t),a=Array.isArray(i)?i:[i];C(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),C(a.every((function(e){return e instanceof ke})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return a.forEach((function(e,t){o[t]=function(){return e}})),o}))}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.time=function(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return t=se(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=se()-t,[2,n]}}))}))},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Le,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),Ue=function(){var t=function(){if(null==Pe){var t=void 0;if("undefined"!=typeof window)t=window;else if("undefined"!=typeof e)t=e;else if("undefined"!=typeof r)t=r;else{if("undefined"==typeof self)throw new Error("Could not find a global object");t=self}Pe=t}return Pe}();if(null==t._tfengine){var n=new l(t);t._tfengine=new Be(n)}return function(e){h=e}(t._tfengine.ENV),we=function(){return t._tfengine},t._tfengine}();function We(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var Ve=d();Ve.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Ve.registerFlag("IS_BROWSER",(function(){return We()})),Ve.registerFlag("IS_NODE",(function(){return"undefined"!=typeof r&&void 0!==r.versions&&void 0!==r.versions.node})),Ve.registerFlag("IS_CHROME",(function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),Ve.registerFlag("PROD",(function(){return!1})),Ve.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return Ve.getBool("DEBUG")})),Ve.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),Ve.registerFlag("IS_TEST",(function(){return!1}));var qe,He,Ge,$e={},Ke={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Xe(e,t){$e[e]=t}function Ye(e){e in $e||($e[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete $e[e]}),!1),1===e?t.getContext("webgl",Ke)||t.getContext("experimental-webgl",Ke):t.getContext("webgl2",Ke)}(e));var t=$e[e];return t.isContextLost()?(delete $e[e],Ye(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),$e[e])}function Ze(e,t){return[t,e]}function Je(e){var t=R(e);return F(Math.ceil(t/4))}function Qe(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function et(e,t){var n,r,i,a,o,s,u,c,l,f=e;return 2===d().getNumber("WEBGL_VERSION")?(n=f.R32F,r=f.R16F,i=f.RGBA16F,a=f.RGBA32F,o=f.RED,s=4,u=1,c=f.HALF_FLOAT,l=f.FLOAT):(n=e.RGBA,r=e.RGBA,i=e.RGBA,a=f.RGBA,o=e.RGBA,s=4,u=4,c=null!=t?t.HALF_FLOAT_OES:null,l=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:c,textureTypeFloat:l}}function tt(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+rt(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(qe||(qe={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(He||(He={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Ge||(Ge={}));function nt(e){return!!(d().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function rt(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function it(e,t,n){return jt(e,t,(function(){return e.getExtension(n)}),'Extension "'+n+'" not supported on this browser.')}function at(e,t,n){var r=jt(e,t,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(tt(e,t,(function(){return e.shaderSource(r,n)})),tt(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function ot(e,t,n){var r=jt(e,t,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(tt(e,t,(function(){return e.shaderSource(r,n)})),tt(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=ct.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],i=e.split("\n"),a=i.length.toString().length+2,o=i.map((function(e,t){return P((t+1).toString(),a)+e})),s=0,u=0;u<o.length;u++)s=Math.max(o[u].length,s);var c=o.slice(0,r-1),l=o.slice(r-1,r),f=o.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+P(l[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var st,ut,ct=/ERROR: [0-9]+:([0-9]+):/g;function lt(e,t){return jt(e,t,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function ft(e,t,n){if(tt(e,t,(function(){return e.linkProgram(n)})),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function dt(e,t,n){if(tt(e,t,(function(){return e.validateProgram(n)})),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function ht(e,t,n){var r=jt(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return tt(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),tt(e,t,(function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function pt(e,t,n){var r=jt(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return tt(e,t,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)})),tt(e,t,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function mt(e,t){return jt(e,t,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function vt(e,t){var n=d().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function gt(e,t){return jt(e,t,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function bt(e,t,n,r,i,a,o,s){var u=e.getAttribLocation(n,r);return-1!==u&&(tt(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,i)})),tt(e,t,(function(){return e.vertexAttribPointer(u,a,e.FLOAT,!1,o,s)})),tt(e,t,(function(){return e.enableVertexAttribArray(u)})),!0)}function yt(e,t,n,r){Ct(e,r),tt(e,t,(function(){return e.activeTexture(e.TEXTURE0+r)})),tt(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)}))}function wt(e,t,n,r){return jt(e,t,(function(){return e.getUniformLocation(n,r)}),'uniform "'+r+'" not present in program.')}function xt(e,t,n){return e.getUniformLocation(t,n)}function Ot(e,t,n,r,i,a){tt(e,t,(function(){return yt(e,t,r,a)})),tt(e,t,(function(){return e.uniform1i(i,a)}))}function kt(e,t,n,r){tt(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)})),tt(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}))}function Et(e,t,n){tt(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),tt(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function _t(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+St(e,t))}function St(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function jt(e,t,n,r){var i=tt(e,t,(function(){return n()}));if(null==i)throw new Error(r);return i}function Ct(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function At(e,t){return void 0===t&&(t=2),R(e.slice(0,e.length-t))}function Tt(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Nt(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[At(e)].concat(Tt(e))),t}function Rt(e,t){var n;void 0===t&&(t=!1);var r=d().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map((function(t,n){return n>=e.length-2?S(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var i=U(e);e=i.newShape}var a=R(e);if(e.length<=1&&a<=r)return[1,a];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var o=At(e),s=2,u=2;return e.length&&(s=(n=Tt(e))[0],u=n[1]),F(a=o*(s/2)*(u/2)).map((function(e){return 2*e}))}return F(a)}function Mt(e){return e%2==0}function Dt(e,t){if(M(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(Mt(n)&&Mt(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Mt(e[0])&&Mt(t[0])}function It(e){if(null==st){var t=Ye(e);st=t.getParameter(t.MAX_TEXTURE_SIZE)}return st}function Ft(e){if(null==ut){var t=Ye(e);ut=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,ut)}function Pt(e){if(0===e)return 0;var t=Ye(e);return zt(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:zt(t,"EXT_disjoint_timer_query")?1:0}function zt(e,t){return null!=e.getExtension(t)}function Lt(e){try{if(null!=Ye(e))return!0}catch(e){return!1}return!1}function Bt(e){if(0===e)return!1;var t=Ye(e);if(1===e){if(!zt(t,"OES_texture_float"))return!1}else if(!zt(t,"EXT_color_buffer_float"))return!1;return Wt(t)}function Ut(e){if(0===e)return!1;var t=Ye(e);if(1!==e){if(zt(t,"EXT_color_buffer_float"))return Wt(t);if(zt(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=et(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),a}(t,n)}return!1}return!!zt(t,"OES_texture_float")&&!!zt(t,"WEBGL_color_buffer_float")&&Wt(t)}function Wt(e){var t=et(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),i}function Vt(e){return 2===e&&null!=Ye(e).fenceSync}var qt=Object.freeze({callAndCheck:tt,canBeRepresented:nt,getWebGLErrorMessage:rt,getExtensionOrThrow:it,createVertexShader:at,createFragmentShader:ot,createProgram:lt,linkProgram:ft,validateProgram:dt,createStaticVertexBuffer:ht,createStaticIndexBuffer:pt,getNumChannels:function(){return 2===d().getNumber("WEBGL_VERSION")?1:4},createTexture:mt,validateTextureSize:vt,createFramebuffer:gt,bindVertexBufferToProgramAttribute:bt,bindTextureUnit:yt,unbindTextureUnit:function(e,t,n){Ct(e,n),tt(e,t,(function(){return e.activeTexture(e.TEXTURE0+n)})),tt(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))},getProgramUniformLocationOrThrow:wt,getProgramUniformLocation:xt,bindTextureToProgramUniformSampler:Ot,bindCanvasToFramebuffer:function(e,t){tt(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),tt(e,t,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),tt(e,t,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))},bindColorTextureToFramebuffer:kt,unbindColorTextureFromFramebuffer:Et,validateFramebuffer:_t,getFramebufferErrorMessage:St,getBatchDim:At,getRowsCols:Tt,getShapeAs3D:Nt,getTextureShapeFromLogicalShape:Rt,isReshapeFree:Dt,getWebGLMaxTextureSize:It,resetMaxTextureSize:function(){st=null},resetMaxTexturesInShader:function(){ut=null},getMaxTexturesInShader:Ft,getWebGLDisjointQueryTimerVersion:Pt,hasExtension:zt,isWebGLVersionEnabled:Lt,isCapableOfRenderingToFloatTexture:Bt,isDownloadFloatTextureEnabled:Ut,isWebGLFenceEnabled:Vt}),Ht=d();function Gt(){d().set("PROD",!0)}function $t(){d().set("DEBUG",!0)}function Kt(){d().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function Xt(e){d().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Yt(){Ue.disposeVariables()}function Zt(){return Ue}function Jt(){return Ue.memory()}function Qt(e){return Ue.profile(e)}function en(e,t){return Ue.tidy(e,t)}function tn(e){Fe(e).forEach((function(e){return e.dispose()}))}function nn(e){return Ue.keep(e)}function rn(e){return Ue.time(e)}function an(e){return Ue.setBackend(e)}function on(){return Ue.ready()}function sn(){return Ue.backendName}function un(e){Ue.removeBackend(e)}function cn(e){return Ue.findBackend(e)}function ln(e){return Ue.findBackendFactory(e)}function fn(e,t,n){return void 0===n&&(n=1),Ue.registerBackend(e,t,n)}function dn(){return Ue.backend}function hn(e,t){d().setPlatform(e,t)}function pn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d().getBool("IS_TEST")||console.warn.apply(console,e)}function mn(e,t){var n=e;if($(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||$(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&d().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||$(t)){C(n.length>0,(function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"})),C(t.length===n[0],(function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"}));for(var i=n.slice(1),a=0;a<t.length;++a)e(t[a],i,r.concat(a))}else C(0===n.length,(function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"}))}(e,r,[]),r}function vn(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function gn(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof ke)return vn(r,e.dtype,t,n),e;var i=Q(e);if("string"!==i&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),vn(r,i,t,n),null==e||!$(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var a=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+a+"'")}var o=mn(e,i);$(e)||Array.isArray(e)||(e=[e]);var s="string"!==i?re(e,i,d().getBool("DEBUG")):N(e,[],!0);return Ue.makeTensor(s,o,i)}function bn(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map((function(e,r){return gn(e,t+"["+r+"]",n)}),r)}function yn(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function wn(e,t,n){for(var r=e.length+t.length,i=[],a=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[a++]):i.push(t[o++]);return i}function xn(e,t){for(var n=[],r=e.length,i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);return[n,t.map((function(t){return e[t]}))]}function On(e,t){return wn(e,t.map((function(e){return 1})),t)}function kn(e,t,n){C(yn(t,n),(function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."}))}function En(e,t){if(yn(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function _n(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function Sn(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function jn(e,t){var n=e[0].length;e.forEach((function(e,t){C(e.length===n,(function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"}))})),C(t>=0&&t<n,(function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."}));var r=e[0];e.forEach((function(e,i){for(var a=0;a<n;a++)C(a===t||e[a]===r[a],(function(){return"Error in concat"+n+"D: Shape of tensors["+i+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+"."}))}))}function Cn(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function An(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ue.startScope(n);try{var i=r.apply(void 0,e);return i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Ue.endScope(i),i}catch(e){throw Ue.endScope(null),e}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}Ht.registerFlag("HAS_WEBGL",(function(){return Ht.getNumber("WEBGL_VERSION")>0})),Ht.registerFlag("WEBGL_VERSION",(function(){return Lt(2)?2:Lt(1)?1:0})),Ht.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===Ht.get("WEBGL_VERSION")})),Ht.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),Ht.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),Ht.registerFlag("WEBGL_PACK",(function(){return Ht.getBool("HAS_WEBGL")})),Ht.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return Ht.getBool("WEBGL_PACK")})),Ht.registerFlag("WEBGL_PACK_CLIP",(function(){return Ht.getBool("WEBGL_PACK")})),Ht.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),Ht.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return Ht.getBool("WEBGL_PACK")})),Ht.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return Ht.getBool("WEBGL_PACK")})),Ht.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return Ht.getBool("WEBGL_PACK")})),Ht.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return Ht.getBool("WEBGL_PACK")})),Ht.registerFlag("WEBGL_PACK_REDUCE",(function(){return Ht.getBool("WEBGL_PACK")})),Ht.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return Ht.getBool("WEBGL_PACK")})),Ht.registerFlag("WEBGL_CONV_IM2COL",(function(){return Ht.getBool("WEBGL_PACK")})),Ht.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return It(Ht.getNumber("WEBGL_VERSION"))})),Ht.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return Ft(Ht.getNumber("WEBGL_VERSION"))})),Ht.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=Ht.getNumber("WEBGL_VERSION");return 0===e?0:Pt(e)})),Ht.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return Ht.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e})),Ht.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return Bt(Ht.getNumber("WEBGL_VERSION"))})),Ht.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!Ht.getBool("WEBGL_FORCE_F16_TEXTURES")&&Ht.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),Ht.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return Ut(Ht.getNumber("WEBGL_VERSION"))})),Ht.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return Vt(Ht.getNumber("WEBGL_VERSION"))})),Ht.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return Ht.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),Oe=Xt;var Tn=An({complex_:function(e,t){var n=gn(e,"real","complex"),r=gn(t,"imag","complex");return A(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),Ue.runKernelFunc((function(e){return e.complex(n,r)}),{$real:n,$imag:r})}}),Nn=An({real_:function(e){var t=gn(e,"input","real");return Ue.runKernelFunc((function(e){return e.real(t)}),{$input:t})}}),Rn=An({imag_:function(e){var t=gn(e,"input","imag");return Ue.runKernelFunc((function(e){return e.imag(t)}),{$input:t})}});function Mn(e,t,n){return Dn(e,t,mn(e,n),n)}function Dn(e,t,n,r){if(null==r&&(r=Q(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!$(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){ue(t);var i=R(t),a=R(n);C(i===a,(function(){return"Based on the provided shape, ["+t+"], the tensor should have "+i+" values but has "+a}));for(var o=0;o<n.length;++o){var s=n[o],u=o!==n.length-1||s!==R(t.slice(o));C(n[o]===t[o]||!u,(function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "}))}}return $(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?re(e,r,d().getBool("DEBUG")):N(e,[],!0),Ue.makeTensor(e,t,r)}function In(e,t){if(($(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&$(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Dn(e,[],[],t)}function Fn(e,t){T(e);var n=mn(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Dn(e,null,n,t)}function Pn(e,t,n){if(T(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=mn(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Dn(e,t,r,n)}function zn(e,t,n){if(T(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=mn(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Dn(e,t,r,n)}function Ln(e,t,n){if(T(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=mn(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Dn(e,t,r,n)}function Bn(e,t,n){if(T(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=mn(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Dn(e,t,r,n)}function Un(e,t,n){if(T(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=mn(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Dn(e,t=t||r,r,n)}function Wn(e,t,n,r){return void 0===t&&(t=!0),Ue.makeVariable(e,t,n,r)}function Vn(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=Vn(e,"float32"),r=qn(e,"float32");return Tn(n,r)}var i=ae(R(e),t);return Ue.makeTensor(i,e,t)}function qn(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=qn(e,"float32"),r=qn(e,"float32");return Tn(n,r)}var i=oe(R(e),t);return Ue.makeTensor(i,e,t)}function Hn(e,t,n){return Ue.runKernelFunc((function(r){return r.fill(e,t,n)}),{})}function Gn(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return Ue.runKernelFunc((function(r){return r.linspace(e,t,n)}),{})}function $n(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return qn([0],r);var i=oe(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),i[0]=e;for(var a=1;a<i.length;a++)i[a]=i[a-1]+n;return Fn(i,r)}var Kn=An({onesLike_:function(e){var t=gn(e,"x","onesLike");if("complex64"===t.dtype){var n=Kn(Nn(t)),r=Xn(Rn(t));return Tn(n,r)}return Ue.runKernelFunc((function(e){return e.onesLike(t)}),{x:t},(function(e,t){return{x:function(){return Xn(e)}}}),"OnesLike")}}),Xn=An({zerosLike_:function(e){var t=gn(e,"x","zerosLike");return Ue.runKernelFunc((function(e){return e.zerosLike(t)}),{x:t},(function(e,t){return{x:function(){return Xn(e)}}}),"ZerosLike")}}),Yn=An({concat_:function(e,t){void 0===t&&(t=0),C(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=bn(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")})),t=B(t,n[0].shape)[0];var r=Cn(n.map((function(e){return e.shape})),t);if(0===R(r))return Mn([],r);if(1===(n=n.filter((function(e){return e.size>0}))).length)return n[0];var i=n.map((function(e){return e.shape}));jn(i,t);var a=n,o={axis:t};return Ue.runKernelFunc((function(e){return e.concat(n,t)}),a,(function(e){var n=i.map((function(e){return e[t]}));return tr(e,n,t).map((function(e){return function(){return e}}))}),"Concat",o)}}),Zn=An({concat1d_:function(e){return Yn(e,0)}}),Jn=An({concat2d_:function(e,t){return Yn(e,t)}}),Qn=An({concat3d_:function(e,t){return Yn(e,t)}}),er=An({concat4d_:function(e,t){return Yn(e,t)}}),tr=An({split_:function(e,t,n){void 0===n&&(n=0);var r,i=gn(e,"x","split");return n=B(n,i.shape)[0],"number"==typeof t?(C(i.shape[n]%t==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(i.shape[n]/t)):(C(i.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t),Ue.runKernelFunc((function(e){return e.split(i,r,n)}),{$x:i},(function(e){return{$x:function(){return Yn(e,n)}}}))}});function nr(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",ue(e),new ye(e,t,n)}function rr(e,t){void 0===t&&(t=!1),console.log(e.toString(t))}var ir=An({batchToSpaceND_:function(e,t,n){var r=gn(e,"x","batchToSpaceND"),i=t.reduce((function(e,t){return e*t}));return C(r.rank>=1+t.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length})),C(n.length===t.length,(function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length})),C(r.shape[0]%i==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+i})),Ue.runKernelFunc((function(e){return e.batchToSpaceND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}}))}}),ar=An({cast_:function(e,t){var n=gn(e,"x","cast");if(!H(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return Ue.runKernelFunc((function(e){return e.cast(n,t)}),{x:n},(function(e){return{x:function(){return e.clone()}}}),"Cast",r)}}),or=An({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var i=gn(e,"x","cumsum"),a=En([t|=0],i.rank),o=i;null!=a&&(o=i.transpose(a));var s=Sn(1,i.rank)[0],u=Ue.runKernelFunc((function(e){return e.cumsum(o,s,n,r)}),{permutedX:o},(function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}}));return null!=a&&(u=u.transpose(a)),u}}),sr=An({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=gn(e,"x","depthToSpace"),i="NHWC"===n?r.shape[1]:r.shape[2],a="NHWC"===n?r.shape[2]:r.shape[3],o="NHWC"===n?r.shape[3]:r.shape[1];return C(i*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+t+"  for depthToSpace with input shape\n      "+r.shape})),C(a*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+t+" for depthToSpace with input shape\n          "+r.shape})),C(o%(t*t)==0,(function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+o+" for depthToSpace with input shape "+r.shape})),Ue.runKernelFunc((function(e){return e.depthToSpace(r,t,n)}),{$x:r})}}),ur=An({expandDims_:function(e,t){void 0===t&&(t=0);var n=gn(e,"x","expandDims",null);C(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n.shape.slice();return t<0&&(C(-(n.rank+1)<=t,(function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"})),t=n.rank+t+1),r.splice(t,0,1),cr(n,r)}}),cr=An({reshape_:function(e,t){var n=gn(e,"x","reshape",null);t=L(t,n.size),C(n.size===R(t),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:t};return Ue.runKernelFunc((function(e){return e.reshape(n,t)}),{x:n},(function(e){return{x:function(){return e.reshape(n.shape)}}}),"Reshape",r)}}),lr=An({spaceToBatchND_:function(e,t,n){var r=gn(e,"x","spaceToBatchND");return C(r.rank>=1+t.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length})),C(n.length===t.length,(function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length})),C(r.shape.reduce((function(e,r,i){return i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]==0:e}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()})),Ue.runKernelFunc((function(e){return e.spaceToBatchND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}}))}}),fr=An({squeeze_:function(e,t){var n=gn(e,"x","squeeze");return cr(n,U(n.shape,t).newShape)}}),dr=An({stack_:function(e,t){void 0===t&&(t=0);var n=bn(e,"tensors","stack");if(C(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),1===n.length)return n[0].expandDims(t);var r=n[0].rank,i=n[0].shape,a=n[0].dtype;C(t<=r,(function(){return"Axis must be <= rank of the tensor"})),n.forEach((function(e){A(i,e.shape,"All tensors passed to stack must have matching shapes")})),n.forEach((function(e){C(a===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=n.map((function(e){return e.expandDims(t)}));return Yn(o,t)}}),hr=An({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=gn(e,"x","unstack");C(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"})),t<0&&(t+=n.shape.length);var r={axis:t};return Ue.runKernelFunc((function(e){return e.unstack(n,t)}),{x:n},(function(e){return{x:function(){return dr(e,t)}}}),"Unpack",r)}}),pr=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,l,f,d;return c(this,(function(c){switch(c.label){case 0:return n=gn(e,"x","setdiff1d"),r=gn(t,"y","setdiff1d"),C(n.dtype===r.dtype,(function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."})),C(1===n.rank,(function(){return"x should be 1D tensor, but got x ("+n.shape+")."})),C(1===r.rank,(function(){return"y should be 1D tensor, but got y ("+r.shape+")."})),[4,n.data()];case 1:return i=c.sent(),[4,r.data()];case 2:for(a=c.sent(),o=new Set(a),s=0,f=0;f<i.length;f++)o.has(i[f])||s++;for(u=new ye([s],n.dtype),l=new ye([s],"int32"),f=0,d=0;f<i.length;f++)o.has(i[f])||(u.values[d]=i[f],l.values[d]=f,d++);return[2,[u.toTensor(),l.toTensor()]]}}))}))};function mr(e,t,n,r){void 0===r&&(r=!0);var i=[];if(r)(i=i.concat(t.slice(0))).push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);for(var a=t.length,o=0;o<a;++o)i=i.concat([e[o+1]/t[o],t[o]]);i=i.concat(e.slice(a+1))}return i}function vr(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var i=t+1;i<e;++i)i<=2*t?(r.push(i),r.push(i-(t+1))):r.push(i)}else{var a=[],o=[];for(i=1;i<e;++i)i>=2*t+1||i%2==1?o.push(i):a.push(i);r.push.apply(r,a),r.push(0),r.push.apply(r,o)}return r}function gr(e,t,n,r){void 0===r&&(r=!0);var i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(var a=1;a<e.length;++a)a<=t.length?r?i.push(t[a-1]*e[a]):i.push(e[a]/t[a-1]):i.push(e[a]);return i}function br(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function yr(e,t,n){for(var r=e.slice(0,1),i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}var wr="Add",xr="AddN",Or="Div",kr="FusedBatchNorm",Er="SquaredDifference",_r="Square",Sr="Transpose",jr="NonMaxSuppressionV5",Cr="BroadcastTo",Ar="OneHot",Tr="Identity",Nr="Tile",Rr="PadV2",Mr="FromPixels",Dr="MaxPoolWithArgmax",Ir=An({add_:function(e,t){var n,r=gn(e,"a","add"),i=gn(t,"b","add");n=De(r,i),r=n[0],i=n[1];var a={a:r,b:i};return Ue.runKernelFunc((function(e,t){var n=e.add(r,i);return t([r,i]),n}),a,null,wr)}});function Fr(e,t){for(var n=e.length,r=[],i=0;i<n;i++){var a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}function Pr(e,t){for(var n=[],r=0;r<t.length;r++){var i=e[e.length-r-1],a=t.length-r-1,o=t[a];(null==i||1===i&&o>1)&&n.unshift(a)}return n}function zr(e,t){for(var n=[],r=Math.max(e.length,t.length),i=0;i<r;i++){var a=e[e.length-i-1];null==a&&(a=1);var o=t[t.length-i-1];if(null==o&&(o=1),1===a)n.unshift(o);else if(1===o)n.unshift(a);else{if(a!==o)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(a)}}return n}var Lr=An({abs_:function(e){var t=gn(e,"x","abs");return"complex64"===t.dtype?Ue.runKernelFunc((function(e){return e.complexAbs(t)}),{$x:t}):Ue.runKernelFunc((function(e,n){var r=e.abs(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}}),"Abs")}}),Br=An({acos_:function(e){var t=gn(e,"x","acos");return Ue.runKernelFunc((function(e,n){var r=e.acos(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(In(1).sub(n.toFloat().square()).sqrt()).neg()}}}))}}),Ur=An({acosh_:function(e){var t=gn(e,"x","acosh");return Ue.runKernelFunc((function(e,n){var r=e.acosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}}))}}),Wr=An({asin_:function(e){var t=gn(e,"x","asin");return Ue.runKernelFunc((function(e,n){var r=e.asin(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(In(1).sub(n.toFloat().square()).sqrt())}}}))}}),Vr=An({asinh_:function(e){var t=gn(e,"x","asinh");return Ue.runKernelFunc((function(e,n){var r=e.asinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(In(1).add(n.toFloat().square()).sqrt())}}}))}}),qr=An({atan_:function(e){var t=gn(e,"x","atan");return Ue.runKernelFunc((function(e,n){var r=e.atan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}}))}}),Hr=An({atanh_:function(e){var t=gn(e,"x","atanh");return Ue.runKernelFunc((function(e,n){var r=e.atanh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(In(1).sub(n.toFloat().square()))}}}))}}),Gr=An({ceil_:function(e){var t=gn(e,"x","ceil");return Ue.runKernelFunc((function(e){return e.ceil(t)}),{$x:t},(function(e){return{$x:function(){return Xn(e)}}}))}}),$r=An({clipByValue_:function(e,t,n){var r=gn(e,"x","clipByValue");C(t<=n,(function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."}));var i=[r],a={min:t,max:n};return Ue.runKernelFunc((function(e,i){var a=e.clip(r,t,n);return i([r]),a}),{x:r},(function(e,r){var i=r[0];return{x:function(){return e.where(i.greaterEqual(t).logicalAnd(i.lessEqual(n)),Xn(e))}}}),"ClipByValue",a,i)}}),Kr=An({cos_:function(e){var t=gn(e,"x","cos"),n=[t];return Ue.runKernelFunc((function(e,n){var r=e.cos(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().sin().neg().mul(e)}}}),"Cos",{},n)}}),Xr=An({cosh_:function(e){var t=gn(e,"x","cosh");return Ue.runKernelFunc((function(e,n){var r=e.cosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}}))}}),Yr=An({erf_:function(e){var t=gn(e,"x","erf");return C("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=t.toFloat()),Ue.runKernelFunc((function(e,n){var r=e.erf(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),Zr=An({exp_:function(e){var t=gn(e,"x","exp");return Ue.runKernelFunc((function(e,n){var r=e.exp(t);return n([r]),r}),{x:t},(function(e,t){return{x:function(){return e.mulStrict(t[0])}}}),"Exp",{},[],[!0])}}),Jr=An({expm1_:function(e){var t=gn(e,"x","expm1");return Ue.runKernelFunc((function(e,n){var r=e.expm1(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}}))}}),Qr=An({floor_:function(e){var t=gn(e,"x","floor");return Ue.runKernelFunc((function(e){return e.floor(t)}),{$x:t},(function(e){return{$x:function(){return Xn(e)}}}))}}),ei=An({log_:function(e){var t=gn(e,"x","log"),n=[t];return Ue.runKernelFunc((function(e,n){var r=e.log(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.toFloat())}}}),"Log",{},n)}}),ti=An({log1p_:function(e){var t=gn(e,"x","log1p");return Ue.runKernelFunc((function(e,n){var r=e.log1p(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}}))}}),ni=An({logSigmoid_:function(e){var t=gn(e,"x","logSigmoid");return Ue.runKernelFunc((function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}}))}}),ri=An({neg_:function(e){var t=gn(e,"x","neg"),n=[t];return Ue.runKernelFunc((function(e){return e.neg(t)}),{x:t},(function(e){return{x:function(){return e.neg()}}}),"Neg",{},n)}}),ii=An({reciprocal_:function(e){var t=gn(e,"x","reciprocal");return Ue.runKernelFunc((function(e,n){var r=e.reciprocal(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}}))}}),ai=An({round_:function(e){var t=gn(e,"x","round");return Ue.runKernelFunc((function(e){return e.round(t)}),{$x:t},(function(e){return{$x:function(){return Xn(e)}}}))}}),oi=An({rsqrt_:function(e){var t=gn(e,"x","rsqrt"),n=[t];return Ue.runKernelFunc((function(e,n){var r=e.rsqrt(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},n)}}),si=An({sigmoid_:function(e){var t=gn(e,"x","sigmoid");return Ue.runKernelFunc((function(e,n){var r=e.sigmoid(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(In(1).sub(n)))}}}),"Sigmoid")}}),ui=An({sign_:function(e){var t=gn(e,"x","sign");return Ue.runKernelFunc((function(e){return e.sign(t)}),{$x:t},(function(e){return{$x:function(){return Xn(e)}}}))}}),ci=An({isNaN_:function(e){var t=gn(e,"x","isNaN");return Ue.runKernelFunc((function(e){return e.isNaN(t)}),{$x:t},(function(e){return{$x:function(){return Xn(e)}}}))}}),li=An({isInf_:function(e){var t=gn(e,"x","isInf");return Ue.runKernelFunc((function(e){return e.isInf(t)}),{$x:t},(function(e){return{$x:function(){return Xn(e)}}}))}}),fi=An({isFinite_:function(e){var t=gn(e,"x","isFinite");return Ue.runKernelFunc((function(e){return e.isFinite(t)}),{$x:t},(function(e){return{$x:function(){return Xn(e)}}}))}}),di=An({sin_:function(e){var t=gn(e,"x","sin"),n=[t];return Ue.runKernelFunc((function(e,n){var r=e.sin(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().cos().mul(e)}}}),"Sin",{},n)}}),hi=An({sinh_:function(e){var t=gn(e,"x","sinh");return Ue.runKernelFunc((function(e,n){var r=e.sinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}}))}}),pi=An({softplus_:function(e){var t=gn(e,"x","softplus");return Ue.runKernelFunc((function(e,n){var r=e.softplus(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}}))}}),mi=An({sqrt_:function(e){var t=gn(e,"x","sqrt");return Ue.runKernelFunc((function(e,n){var r=e.sqrt(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}}))}}),vi=An({step_:function(e,t){void 0===t&&(t=0);var n=gn(e,"x","step");return Ue.runKernelFunc((function(e){return e.step(n,t)}),{$x:n},(function(e){return{$x:function(){return Xn(e)}}}))}}),gi=An({tan_:function(e){var t=gn(e,"x","tan");return Ue.runKernelFunc((function(e,n){var r=e.tan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}}))}}),bi=An({tanh_:function(e){var t=gn(e,"x","tanh");return Ue.runKernelFunc((function(e,n){var r=e.tanh(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return In(1).sub(n.square()).mulStrict(e)}}}),"Tanh",{},null,[!0])}}),yi=An({addStrict_:function(e,t){var n=gn(e,"a","addStrict"),r=gn(t,"b","addStrict");return A(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),wi=An({atan2_:function(e,t){var n,r=gn(e,"a","atan2"),i=gn(t,"b","atan2");n=De(r,i),r=n[0],i=n[1];var a=zr(r.shape,i.shape);return Ue.runKernelFunc((function(e,t){var n=e.atan2(r,i);return t([r,i]),n}),{$a:r,$b:i},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=Ir(n.square(),r.square()),i=e.mul(r.div(t)),o=Pr(n.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(n.shape)},$b:function(){var t=Ir(n.square(),r.square()),i=ri(e.mul(n.div(t))),o=Pr(r.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(r.shape)}}}))}}),xi=An({divStrict_:function(e,t){var n=gn(e,"a","div"),r=gn(t,"b","div");return A(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),Oi=An({floorDiv_:function(e,t){var n,r=gn(e,"a","floorDiv"),i=gn(t,"b","floorDiv");n=De(r,i),r=n[0],i=n[1];var a=zr(r.shape,i.shape);return Ue.runKernelFunc((function(e,t){var n=e.floorDiv(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),i=Pr(n.shape,a);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=Pr(r.shape,a);i.length>0&&(t=t.sum(i).reshape(r.shape));var o=r.square();return t.div(o.toFloat()).neg()}}}),"FloorDiv")}}),ki=An({maximum_:function(e,t){var n,r=gn(e,"a","maximum"),i=gn(t,"b","maximum");return n=De(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),zr(r.shape,i.shape),Ue.runKernelFunc((function(e,t){var n=e.maximum(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.greaterEqual(r).toFloat())},b:function(){return e.mul(n.less(r).toFloat())}}}),"Maximum")}}),Ei=An({maximumStrict_:function(e,t){var n=gn(e,"a","maximumStrict"),r=gn(t,"b","maximumStrict");return A(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),_i=An({minimum_:function(e,t){var n,r=gn(e,"a","minimum"),i=gn(t,"b","minimum");return n=De(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),zr(r.shape,i.shape),Ue.runKernelFunc((function(e,t){var n=e.minimum(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.lessEqual(r).toFloat())},b:function(){return e.mul(n.greater(r).toFloat())}}}),"Minimum")}}),Si=An({minimumStrict_:function(e,t){var n=gn(e,"a","minimumStrict"),r=gn(t,"b","minimumStrict");return A(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),ji=An({mod_:function(e,t){var n,r=gn(e,"a","mod"),i=gn(t,"b","mod");n=De(r,i),r=n[0],i=n[1];var a=zr(r.shape,i.shape);return Ue.runKernelFunc((function(e,t){var n=e.mod(r,i);return t([r,i]),n}),{$a:r,$b:i},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=Pr(n.shape,a);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),i=Pr(r.shape,a);return i.length>0?t.sum(i).reshape(r.shape):t}}}))}}),Ci=An({modStrict_:function(e,t){var n=gn(e,"a","modStrict"),r=gn(t,"b","modStrict");return A(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),Ai=An({mul_:function(e,t){var n,r=gn(e,"a","mul"),i=gn(t,"b","mul");n=De(r,i),r=n[0],i=n[1];var a=zr(r.shape,i.shape);return Ue.runKernelFunc((function(e,t){var n=e.multiply(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),i=Pr(n.shape,a);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=Pr(r.shape,a);return i.length>0?t.sum(i).reshape(r.shape):t}}}),"Mul")}}),Ti=An({mulStrict_:function(e,t){var n=gn(e,"a","mul"),r=gn(t,"b","mul");return A(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),Ni=An({pow_:function(e,t){var n,r=gn(e,"base","pow"),i=gn(t,"exp","pow");n=De(r,i),r=n[0],i=n[1];var a=zr(r.shape,i.shape),o=[r,i];return Ue.runKernelFunc((function(e,t){var n=e.pow(r,i);return t([r,i,n]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1],i=t[2];return{a:function(){var t=r.toFloat(),i=e.mul(t.mul(n.pow(t.sub(In(1))))),o=Pr(n.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(n.shape)},b:function(){var t=n.greater(0),o=n.log().where(t,Xn(n)),s=e.mul(i.mul(o)),u=Pr(r.shape,a);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)}}}),"Pow",{},o,[!0])}}),Ri=An({powStrict_:function(e,t){return A(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),Mi=An({squaredDifferenceStrict_:function(e,t){var n=gn(e,"a","squaredDifferenceStrict"),r=gn(t,"b","squaredDifferenceStrict");return A(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),Di=An({sub_:function(e,t){var n,r=gn(e,"a","sub"),i=gn(t,"b","sub");n=De(r,i),r=n[0],i=n[1];var a=zr(r.shape,i.shape);return Ue.runKernelFunc((function(e){return e.subtract(r,i)}),{a:r,b:i},(function(e){return{a:function(){var t=e,n=Pr(r.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Pr(i.shape,a);return n.length>0&&(t=t.sum(n)),t.neg().reshape(i.shape)}}}),"Sub")}}),Ii=An({subStrict_:function(e,t){var n=gn(e,"a","subStrict"),r=gn(t,"b","subStrict");return A(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),Fi=An({div_:function(e,t){var n,r=gn(e,"a","div"),i=gn(t,"b","div");if(n=De(r,i),r=n[0],i=n[1],"int32"===r.dtype&&"int32"===i.dtype)return Oi(r,i);var a={a:r,b:i};return Ue.runKernelFunc((function(e,t){var n=e.realDivide(r,i);return t([r,i]),n}),a,null,Or,{})}});function Pi(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],i=1,a=0;a<n.length-1;++a)i*=n[a];var o=e.shape,s=n.slice();s.pop();var u=1;for(a=r;a<e.rank;++a)u*=o[a],s.push(o[a]);var c=ne(e.shape).map((function(e){return e/u})).concat([1]).slice(0,r);return[s,i,u,c]}var zi=Object.freeze({prepareAndValidate:Pi});function Li(e){return e<=30?e:te(e,Math.floor(Math.sqrt(e)))}function Bi(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+i+".";if(n.rank<i)throw new Error(a+" update.rank < "+i+". ");if(e.length<r+(n.rank-i))throw new Error(a+" Output shape length < "+(r+(n.rank-i)));if(n.rank!==i+e.length-r)throw new Error(a+" update.rank != "+(i+e.length-r));for(var o=0;o<i;++o)if(n.shape[o]!==t.shape[o])throw new Error(a+" updates.shape["+o+"] ("+n.shape[o]+") != indices.shape["+o+"] ("+t.shape[o]+").");for(o=0;o<n.rank-i;++o)if(n.shape[o+i]!==e[o+r])throw new Error(a+" updates.shape["+(o+i)+"] ("+n.shape[o+i]+") != shape["+(o+i)+"] ("+e[o+i]+")")}function Ui(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}Bi(n,t,e)}function Wi(e,t,n){for(var r=t.shape.length,i=r>1?t.shape[r-1]:1,a=n.length,o=1,s=i;s<a;++s)o*=n[s];var u=i<1?1:i;return{sliceRank:i,numUpdates:R(t.shape)/u,sliceSize:o,strides:ne(n.slice(0,i)).concat([1]),outputSize:R(n)}}var Vi=Object.freeze({validateUpdateShape:Bi,validateInput:Ui,calculateShapes:Wi});function qi(e,t,n){C(e.rank===t.length,(function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."})),C(e.rank===n.length,(function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."}));for(var r=function(r){C(t[r]+n[r]<=e.shape[r],(function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"}))},i=0;i<e.rank;++i)r(i)}function Hi(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Gi(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function $i(e,t,n,r,i){var a=t[i],o=n[i]||1;(e&1<<i||null==a)&&(a=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[i];return a<0&&(a+=s),_(0,a,s-1)}function Ki(e,t,n,r,i){var a=t[i],o=n[i]||1;(e&1<<i||null==a)&&(a=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[i];return a<0&&(a+=s),o>0?_(0,a,s):_(-1,a,s-1)}function Xi(e,t,n){for(var r=n.length,i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function Yi(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}var Zi=Object.freeze({assertParamsValid:qi,maskToAxes:Hi,computeOutShape:Gi,startForAxis:$i,stopForAxis:Ki,isSliceContinous:Xi,computeFlatOffset:Yi});function Ji(e){return C(ee(e),(function(){return"The f passed in grad(f) must be a function"})),function(t,n){var r=gn(t,"x","tf.grad",null),i=null!=n?gn(n,"dy","tf.grad"):null;return Ue.tidy((function(){var t=Ue.gradients((function(){return e(r)}),[r],i),n=t.value,a=t.grads;return null!=i&&A(n.shape,i.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),ia(a),a[0]}))}}function Qi(e){return C(ee(e),(function(){return"The f passed in grads(f) must be a function"})),function(t,n){C(Array.isArray(t),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var r=bn(t,"args","tf.grads",null),i=null!=n?gn(n,"dy","tf.grads"):null;return Ue.tidy((function(){var t=Ue.gradients((function(){return e.apply(void 0,r)}),r,i),n=t.value,a=t.grads;return null!=i&&A(n.shape,i.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),ia(a),a}))}}function ea(e){return C(ee(e),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(t,n){C(t instanceof ke,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),C(null==n||n instanceof ke,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=Ue.gradients((function(){return e(t)}),[t],n),i=r.grads,a=r.value;return ia(i),{grad:i[0],value:a}}}function ta(e){return C(ee(e),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(t,n){C(Array.isArray(t)&&t.every((function(e){return e instanceof ke})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),C(null==n||n instanceof ke,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var r=Ue.gradients((function(){return e.apply(void 0,t)}),t,n);return null!=n&&A(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),ia(r.grads),r}}function na(e,t){C(ee(e),(function(){return"The f passed in variableGrads(f) must be a function"})),C(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof Te})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],Ue.registeredVariables)t.push(Ue.registeredVariables[r]);var i=n?t.filter((function(e){return!e.trainable})):null,a=t.length;C((t=t.filter((function(e){return e.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+a+" variables is trainable."}));var o=Ue.gradients(e,t,null,!0),s=o.value,u=o.grads;C(u.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),C(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"}));var c={};return t.forEach((function(e,t){null!=u[t]&&(c[e.name]=u[t])})),null!=i&&i.forEach((function(e){return c[e.name]=null})),{value:s,grads:c}}function ra(e){return Ue.customGrad(e)}function ia(e){if(e.filter((function(e){return null==e})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}var aa=An({softmax_:function(e,t){void 0===t&&(t=-1);var n=gn(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return Ue.runKernelFunc((function(e,r){var i=e.softmax(n,t);return r([i]),i}),{logits:n},(function(e,n){var r=n[0],i=e.mul(r);return{logits:function(){return i.sub(i.sum([t],!0).mul(r))}}}),"Softmax",{dim:t},[],[!0])}}),oa=An({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=gn(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return ra((function(e,n){var r=e.max(t,!0),i=e.sub(r),a=i.toFloat().sub(i.exp().sum(t,!0).log());return n([a]),{value:a,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}}))(n)}}),sa=An({transpose_:function(e,t){var n=gn(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),C(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."})),t.forEach((function(e){C(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t}))})),n.rank<=1)return n.clone();var r={perm:t};return Ue.runKernelFunc((function(e){return e.transpose(n,t)}),{x:n},null,"Transpose",r)}}),ua=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),ca=function(){function e(){}return e.prototype.time=function(e){return la("time")},e.prototype.read=function(e){return la("read")},e.prototype.readSync=function(e){return la("readSync")},e.prototype.numDataIds=function(){return la("numDataIds")},e.prototype.disposeData=function(e){return la("disposeData")},e.prototype.write=function(e,t,n){return la("write")},e.prototype.move=function(e,t,n,r){return la("move")},e.prototype.memory=function(){return la("memory")},e.prototype.floatPrecision=function(){return la("floatPrecision")},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return la("batchMatMul")},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,la("fusedBatchMatMul")},e.prototype.slice=function(e,t,n){return la("slice")},e.prototype.stridedSlice=function(e,t,n,r){return la("stridedSlice")},e.prototype.unstack=function(e,t){return la("unstack")},e.prototype.reverse=function(e,t){return la("reverse")},e.prototype.concat=function(e,t){return la("concat")},e.prototype.neg=function(e){return la("neg")},e.prototype.add=function(e,t){return la("add")},e.prototype.addN=function(e){return la("addN")},e.prototype.subtract=function(e,t){return la("subtract")},e.prototype.multiply=function(e,t){return la("multiply")},e.prototype.realDivide=function(e,t){return la("realDivide")},e.prototype.floorDiv=function(e,t){return la("floorDiv")},e.prototype.sum=function(e,t){return la("sum")},e.prototype.prod=function(e,t){return la("prod")},e.prototype.unsortedSegmentSum=function(e,t,n){return la("unsortedSegmentSum")},e.prototype.argMin=function(e,t){return la("argMin")},e.prototype.argMax=function(e,t){return la("argMax")},e.prototype.equal=function(e,t){return la("equal")},e.prototype.notEqual=function(e,t){return la("notEqual")},e.prototype.less=function(e,t){return la("less")},e.prototype.lessEqual=function(e,t){return la("lessEqual")},e.prototype.greater=function(e,t){return la("greater")},e.prototype.greaterEqual=function(e,t){return la("greaterEqual")},e.prototype.logicalNot=function(e){return la("logicalNot")},e.prototype.logicalAnd=function(e,t){return la("logicalAnd")},e.prototype.logicalOr=function(e,t){return la("logicalOr")},e.prototype.where=function(e){return la("where")},e.prototype.select=function(e,t,n){return la("select")},e.prototype.topk=function(e,t,n){return la("topk")},e.prototype.min=function(e,t){return la("min")},e.prototype.minimum=function(e,t){return la("minimum")},e.prototype.mod=function(e,t){return la("mod")},e.prototype.max=function(e,t){return la("max")},e.prototype.maximum=function(e,t){return la("maximum")},e.prototype.all=function(e,t){return la("all")},e.prototype.any=function(e,t){return la("any")},e.prototype.squaredDifference=function(e,t){return la("squaredDifference")},e.prototype.ceil=function(e){return la("ceil")},e.prototype.floor=function(e){return la("floor")},e.prototype.round=function(e){return la("round")},e.prototype.sign=function(e){return la("sign")},e.prototype.isNaN=function(e){return la("isNaN")},e.prototype.isInf=function(e){return la("isInf")},e.prototype.isFinite=function(e){return la("isFinite")},e.prototype.pow=function(e,t){return la("pow")},e.prototype.exp=function(e){return la("exp")},e.prototype.expm1=function(e){return la("expm1")},e.prototype.softmax=function(e,t){return la("softmax")},e.prototype.log=function(e){return la("log")},e.prototype.log1p=function(e){return la("log1p")},e.prototype.sqrt=function(e){return la("sqrt")},e.prototype.rsqrt=function(e){return la("rsqrt")},e.prototype.square=function(e){return la("square")},e.prototype.reciprocal=function(e){return la("reciprocal")},e.prototype.relu=function(e){return la("relu")},e.prototype.relu6=function(e){return la("relu6")},e.prototype.prelu=function(e,t){return la("prelu")},e.prototype.elu=function(e){return la("elu")},e.prototype.eluDer=function(e,t){return la("eluDer")},e.prototype.selu=function(e){return la("selu")},e.prototype.int=function(e){return la("int")},e.prototype.clip=function(e,t,n){return la("clip")},e.prototype.abs=function(e){return la("abs")},e.prototype.complexAbs=function(e){return la("complexAbs")},e.prototype.sigmoid=function(e){return la("sigmoid")},e.prototype.softplus=function(e){return la("softplus")},e.prototype.sin=function(e){return la("sin")},e.prototype.cos=function(e){return la("cos")},e.prototype.tan=function(e){return la("tan")},e.prototype.asin=function(e){return la("asin")},e.prototype.acos=function(e){return la("acos")},e.prototype.atan=function(e){return la("atan")},e.prototype.atan2=function(e,t){return la("atan2")},e.prototype.sinh=function(e){return la("sinh")},e.prototype.cosh=function(e){return la("cosh")},e.prototype.tanh=function(e){return la("tanh")},e.prototype.asinh=function(e){return la("asinh")},e.prototype.acosh=function(e){return la("acosh")},e.prototype.atanh=function(e){return la("atanh")},e.prototype.erf=function(e){return la("erf")},e.prototype.step=function(e,t){return la("step")},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,la("fusedConv2d")},e.prototype.conv2d=function(e,t,n){return la("conv2d")},e.prototype.conv2dDerInput=function(e,t,n){return la("conv2dDerInput")},e.prototype.conv2dDerFilter=function(e,t,n){return la("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,la("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(e,t,n){return la("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return la("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return la("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(e,t,n){return la("conv3d")},e.prototype.conv3dDerInput=function(e,t,n){return la("conv3dDerInput")},e.prototype.conv3dDerFilter=function(e,t,n){return la("conv3dDerFilter")},e.prototype.maxPool=function(e,t){return la("maxPool")},e.prototype.maxPoolBackprop=function(e,t,n,r){return la("maxPoolBackprop")},e.prototype.avgPool=function(e,t){return la("avgPool")},e.prototype.avgPoolBackprop=function(e,t,n){return la("avgPoolBackprop")},e.prototype.avgPool3d=function(e,t){return la("avgPool3d")},e.prototype.avgPool3dBackprop=function(e,t,n){return la("avgPool3dBackprop")},e.prototype.maxPool3d=function(e,t){return la("maxPool3d")},e.prototype.maxPool3dBackprop=function(e,t,n,r){return la("maxPool3dBackprop")},e.prototype.reshape=function(e,t){return la("reshape")},e.prototype.cast=function(e,t){return la("cast")},e.prototype.tile=function(e,t){return la("tile")},e.prototype.pad=function(e,t,n){return la("pad")},e.prototype.transpose=function(e,t){return la("transpose")},e.prototype.gather=function(e,t,n){return la("gather")},e.prototype.gatherND=function(e,t){return la("gatherND")},e.prototype.scatterND=function(e,t,n){return la("scatterND")},e.prototype.batchToSpaceND=function(e,t,n){return la("batchToSpaceND")},e.prototype.spaceToBatchND=function(e,t,n){return la("spaceToBatchND")},e.prototype.resizeBilinear=function(e,t,n,r){return la("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(e,t,n){return la("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return la("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return la("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(e,t,n,r,i,a){return la("batchNormalization")},e.prototype.localResponseNormalization4D=function(e,t,n,r,i){return la("localResponseNormalization4D")},e.prototype.LRNGrad=function(e,t,n,r,i,a,o){return la("LRNGrad")},e.prototype.multinomial=function(e,t,n,r){return la("multinomial")},e.prototype.oneHot=function(e,t,n,r){return la("oneHot")},e.prototype.cumsum=function(e,t,n,r){return la("cumsum")},e.prototype.nonMaxSuppression=function(e,t,n,r,i){return la("nonMaxSuppression")},e.prototype.fft=function(e){return la("fft")},e.prototype.ifft=function(e){return la("ifft")},e.prototype.complex=function(e,t){return la("complex")},e.prototype.real=function(e){return la("real")},e.prototype.imag=function(e){return la("imag")},e.prototype.cropAndResize=function(e,t,n,r,i,a){return la("cropAndResize")},e.prototype.depthToSpace=function(e,t,n){return la("depthToSpace")},e.prototype.split=function(e,t,n){return la("split")},e.prototype.sparseToDense=function(e,t,n,r){return la("sparseToDense")},e.prototype.diag=function(e){return la("diag")},e.prototype.fill=function(e,t,n){return la("fill")},e.prototype.onesLike=function(e){return la("onesLike")},e.prototype.zerosLike=function(e){return la("zerosLike")},e.prototype.linspace=function(e,t,n){return la("linspace")},e.prototype.dispose=function(){return la("dispose")},e}();function la(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function fa(e,t,n,r,i,a,o){void 0===o&&(o="channelsLast");var s,u=va(t),c=u[0],l=u[1];if("channelsLast"===o)s=[c,l,e[3],e[3]];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);s=[c,l,e[1],e[1]]}return ha(e,s,n,r,i,a,!1,o)}function da(e,t,n,r,i,a,o){void 0===o&&(o="NDHWC");var s,u,c=ga(t),l=c[0],f=c[1],d=c[2];if("NDHWC"===o)u="channelsLast",s=[l,f,d,e[4],e[4]];else{if("NCDHW"!==o)throw new Error("Unknown dataFormat "+o);u="channelsFirst",s=[l,f,d,e[1],e[1]]}return pa(e,s,n,r,i,!1,u,a)}function ha(e,t,n,r,i,a,o,s){void 0===o&&(o=!1),void 0===s&&(s="channelsLast");var u=[-1,-1,-1,-1],c=u[0],l=u[1],f=u[2],d=u[3];if("channelsLast"===s)c=e[0],l=e[1],f=e[2],d=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);c=e[0],d=e[1],l=e[2],f=e[3]}var h,p=t[0],m=t[1],v=t[3],g=va(n),b=g[0],y=g[1],w=va(r),x=w[0],O=w[1],k=ba(p,x),E=ba(m,O),_=function(e,t,n,r,i,a,o,s){var u,c,l;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var f=function(e,t,n,r,i){null==r&&(r=ma(e,t,n));var a=e[1],o=ya((e[0]-t+2*r)/n+1,i);C(D(o),(function(){return"The output # of rows ("+o+") must be an integer. Change the stride and/or zero pad parameters"}));var s=ya((a-t+2*r)/n+1,i);return C(D(s),(function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"})),[o,s]}([t,n],a,r,e,s);c=f[0],l=f[1]}else if("same"===e){c=Math.ceil(t/r),l=Math.ceil(n/i);var d=Math.max(0,(c-1)*r+a-t),h=Math.max(0,(l-1)*i+o-n),p=Math.floor(d/2),m=d-p,v=Math.floor(h/2);u={top:p,bottom:m,left:v,right:h-v,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-a+1)/r),l=Math.ceil((n-o+1)/i)}return{padInfo:u,outHeight:c,outWidth:l}}(i,l,f,b,y,k,E,a),S=_.padInfo,j=_.outHeight,A=_.outWidth,T=o?v*d:v;return"channelsFirst"===s?h=[c,T,j,A]:"channelsLast"===s&&(h=[c,j,A,T]),{batchSize:c,dataFormat:s,inHeight:l,inWidth:f,inChannels:d,outHeight:j,outWidth:A,outChannels:T,padInfo:S,strideHeight:b,strideWidth:y,filterHeight:p,filterWidth:m,effectiveFilterHeight:k,effectiveFilterWidth:E,dilationHeight:x,dilationWidth:O,inShape:e,outShape:h,filterShape:t}}function pa(e,t,n,r,i,a,o,s){void 0===a&&(a=!1),void 0===o&&(o="channelsLast");var u=[-1,-1,-1,-1,-1],c=u[0],l=u[1],f=u[2],d=u[3],h=u[4];if("channelsLast"===o)c=e[0],l=e[1],f=e[2],d=e[3],h=e[4];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);c=e[0],h=e[1],l=e[2],f=e[3],d=e[4]}var p,m=t[0],v=t[1],g=t[2],b=t[4],y=ga(n),w=y[0],x=y[1],O=y[2],k=ga(r),E=k[0],_=k[1],S=k[2],j=ba(m,E),A=ba(v,_),T=ba(g,S),N=function(e,t,n,r,i,a,o,s,u,c,l){var f,d,h,p;if("number"==typeof e){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,i,a){null==i&&(i=ma(e,t,r));var o=e[1],s=e[2],u=ya((e[0]-t+2*i)/r+1,a);C(D(u),(function(){return"The output # of depths ("+u+") must be an integer. Change the stride and/or zero pad parameters"}));var c=ya((o-t+2*i)/r+1,a);C(D(c),(function(){return"The output # of rows ("+c+") must be an integer. Change the stride and/or zero pad parameters"}));var l=ya((s-t+2*i)/r+1,a);return C(D(l),(function(){return"The output # of columns ("+l+") must be an integer. Change the stride and/or zero pad parameters"})),[u,c,l,1]}([t,n,r,1],s,0,i,e,l);d=m[0],h=m[1],p=m[2]}else if("same"===e){var v=((d=Math.ceil(t/i))-1)*i+s-t,g=((h=Math.ceil(n/a))-1)*a+u-n,b=((p=Math.ceil(r/o))-1)*o+c-r,y=Math.floor(v/2),w=v-y,x=Math.floor(g/2),O=g-x,k=Math.floor(b/2);f={top:x,bottom:O,left:k,right:b-k,front:y,back:w,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},d=Math.ceil((t-s+1)/i),h=Math.ceil((n-u+1)/a),p=Math.ceil((r-c+1)/o)}return{padInfo:f,outDepth:d,outHeight:h,outWidth:p}}(i,l,f,d,w,x,O,j,A,T,s),R=N.padInfo,M=N.outDepth,I=N.outHeight,F=N.outWidth,P=a?b*h:b;return"channelsFirst"===o?p=[c,P,M,I,F]:"channelsLast"===o&&(p=[c,M,I,F,P]),{batchSize:c,dataFormat:o,inDepth:l,inHeight:f,inWidth:d,inChannels:h,outDepth:M,outHeight:I,outWidth:F,outChannels:P,padInfo:R,strideDepth:w,strideHeight:x,strideWidth:O,filterDepth:m,filterHeight:v,filterWidth:g,effectiveFilterDepth:j,effectiveFilterHeight:A,effectiveFilterWidth:T,dilationDepth:E,dilationHeight:_,dilationWidth:S,inShape:e,outShape:p,filterShape:t}}function ma(e,t,n,r){void 0===r&&(r=1);var i=ba(t,r);return Math.floor((e[0]*(n-1)-n+i)/2)}function va(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function ga(e){return"number"==typeof e?[e,e,e]:e}function ba(e,t){return t<=1?e:e+(e-1)*(t-1)}function ya(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function wa(e){var t=va(e),n=t[0],r=t[1],i=t[2];return 1===n&&1===r&&1===i}function xa(e,t){return wa(e)||wa(t)}function Oa(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function ka(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=qn(e.shape),i=e.toFloat(),a=n.complex(i,r);return r.dispose(),i.dispose(),a}if(!G(e.dtype,t))return Ue.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var o=n.real(e);return a=o.cast(t),o.dispose(),a}if("int32"===t)return n.int(e);if("bool"===t){var s=In(0,e.dtype);return a=n.notEqual(e,s),s.dispose(),a}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function Ea(e,t){return Ue.makeTensorFromDataId(e.dataId,t,e.dtype)}function _a(e,t,n){var r=(t-e)/(n-1),i=oe(n,"float32");i[0]=e;for(var a=1;a<i.length;a++)i[a]=i[a-1]+r;return Fn(i,"float32")}var Sa=Object.freeze({castTensor:ka,reshapeTensor:Ea,linspaceImpl:_a,upcastType:Re,axesAreInnerMostDims:yn,combineLocations:wn,computeOutAndReduceShapes:xn,expandShapeToKeepDim:On,assertAxesAreInnerMostDims:kn,getAxesPermutation:En,getUndoAxesPermutation:_n,getInnerMostAxes:Sn,getBroadcastDims:Fr,getReductionAxes:Pr,assertAndGetBroadcastShape:zr,assertParamsConsistent:jn,computeOutShape:Cn,computePool2DInfo:fa,computePool3DInfo:da,computeConv2DInfo:ha,computeConv3DInfo:pa,computeDefaultPad:ma,tupleValuesAreOne:wa,eitherStridesOrDilationsAreOne:xa,convertConv2DDataFormat:Oa,PARALLELIZE_THRESHOLD:30,computeOptimalWindowSize:Li});function ja(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Ca(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Aa(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Ta(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function Na(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,i=e.length,a=0,o=!1;r<i;){var s=n(t,e[a=r+(i-r>>>1)]);s>0?r=a+1:(i=a,o=!s)}return o?r:-r-1}(e,t,n||Ra)}(e,t,n),i=r<0?-(r+1):r;e.splice(i,0,t)}function Ra(e,t){return e>t?1:e<t?-1:0}function Ma(e,t,n,r,i){return Ia(e,t,n,r,i,0).selectedIndices}function Da(e,t,n,r,i,a){var o=Ia(e,t,n,r,i,a,!0);return o.numValidOutputs.dispose(),{selectedIndices:o.selectedIndices,selectedScores:o.selectedScores}}function Ia(e,t,n,r,i,a,o,s){void 0===o&&(o=!1),void 0===s&&(s=!1);for(var u=Array.from(t).map((function(e,t){return{score:e,boxIndex:t,suppressBeginIndex:0}})).filter((function(e){return e.score>i})).sort(za),c=a>0?-.5/a:0,l=[],f=[];l.length<n&&u.length>0;){var d=u.pop(),h=d.score,p=d.boxIndex,m=d.suppressBeginIndex;if(h<i)break;for(var v=!1,g=l.length-1;g>=m;--g){var b=Fa(e,p,l[g]);if(b>=r){v=!0;break}if(d.score=d.score*Pa(r,c,b),d.score<=i)break}d.suppressBeginIndex=l.length,v||(d.score===h?(l.push(p),f.push(d.score)):d.score>i&&Na(u,d,za))}var y=l.length;return s&&(l.fill(0,y),f.fill(0,y)),{selectedIndices:Fn(l,"int32"),selectedScores:Fn(f,"float32"),numValidOutputs:In(y,"int32")}}function Fa(e,t,n){var r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(i[0],i[2]),l=Math.min(i[1],i[3]),f=Math.max(i[0],i[2]),d=Math.max(i[1],i[3]),h=(s-a)*(u-o),p=(f-c)*(d-l);if(h<=0||p<=0)return 0;var m=Math.max(a,c),v=Math.max(o,l),g=Math.min(s,f),b=Math.min(u,d),y=Math.max(g-m,0)*Math.max(b-v,0);return y/(h+p-y)}function Pa(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function za(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function La(e,t,n){var r=new Array(e.rank).fill(0),i=e.shape.slice();return t.map((function(t){i[n]=t;var a=e.slice(r,i);return r[n]+=t,a}))}function Ba(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var i=nr(n,e.dtype);for(r=0;r<i.values.length;++r){for(var a=i.indexToLoc(r),o=new Array(e.rank),s=0;s<o.length;s++)o[s]=a[s]%e.shape[s];var u=e.locToIndex(o);i.values[r]=e.values[u]}return i.toTensor()}function Ua(e,t,n,r,i){for(var a=t[t.length-1],o=[e.length/a,a],s=o[0],u=o[1],c=W(n,s*r),l=W("int32",s*r),f=0;f<s;f++){for(var d=f*u,h=e.subarray(d,d+u),p=[],m=0;m<h.length;m++)p.push({value:h[m],index:m});p.sort((function(e,t){return t.value-e.value}));var v=f*r,g=c.subarray(v,v+r),b=l.subarray(v,v+r);for(m=0;m<r;m++)g[m]=p[m].value,b[m]=p[m].index}var y=t.slice();return y[y.length-1]=r,[Mn(c,y,n),Mn(l,y,"int32")]}function Wa(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var i=nr(e,"int32"),a=nr([n.length,e.length],"int32");for(r=0;r<n.length;r++){var o=i.indexToLoc(n[r]),s=r*e.length;a.values.set(o,s)}return a.toTensor()}var Va=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},qa=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},Ha=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,i=e.batchSize,a=e.inSize,o=Math.ceil(a/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var s="max"===t?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function Ga(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return e+"."+t}))}function $a(e,t){return 1===t?[e]:Ga(e,t)}function Ka(){var e,t,n,r,i,a,o,s,u,c;return 2===d().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",i="texture",a="outputColor",o="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",i="texture2D",a="gl_FragColor",o="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:i,output:a,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:u,defineRound:c}}function Xa(e,t,n){void 0===n&&(n="index");var r=ne(t);return r.map((function(t,i){return"int "+e[i]+" = "+n+" / "+t+"; "+(i===r.length-1?"int "+e[i+1]+" = "+n+" - "+e[i]+" * "+t:"index -= "+e[i]+" * "+t)+";"})).join("")}function Ya(e){var t=ne(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var Za="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function Ja(e,t,n,r){var i=[];e.forEach((function(e){var t=R(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?i.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(i.push("uniform sampler2D "+e.name+";"),i.push("uniform int offset"+e.name+";"))}));var a,o,s=i.join("\n"),u=e.map((function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?function e(t){var n,r,i;switch(t.shapeInfo.logicalShape.length){case 0:return n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=Ka(),"\n    vec4 "+r+"() {\n      return "+i.texture2D+"("+n+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=Ka();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+i[0]+", "+i[1]+", index);\n      return "+a.texture2D+"("+t+", uv);\n    }\n  "}(t);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=i[0],o=i[1],s=Ka();if(null!=i&&M(t,i))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+o+".0, "+a+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+u[0]+", "+u[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(t);case 3:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=t.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===n[0]){var s=oo(t,n.slice(1));return"\n        "+e(s)+"\n        vec4 "+i+"(int b, int row, int col) {\n          return "+i+"("+so(["b","row","col"],[1,2])+");\n        }\n      "}var u=o[0],c=o[1],l=Math.ceil(n[2]/2);return"\n    vec4 "+i+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+u+", "+c+", "+l*Math.ceil(n[1]/2)+", "+l+", b, row, col);\n      return "+Ka().texture2D+"("+r+", uv);\n    }\n  "}(t);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],s=o[0],u=o[1],c=Math.ceil(t[n-1]/2),l=c*Math.ceil(t[n-2]/2),f="int b, int row, int col",d="b * "+l+" + (row / 2) * "+c+" + (col / 2)",h=2;h<n-1;h++)f="int b"+h+", "+f,d="b"+h+" * "+(l*=t[n-h-1])+" + "+d;return"\n    vec4 "+i+"("+f+") {\n      int index = "+d+";\n      int texR = index / "+u+";\n      int texC = index - texR * "+u+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+u+", "+s+");\n      return "+Ka().texture2D+"("+r+", uv);\n    }\n  "}(t)}}(e):function e(t){var n=t.shapeInfo.logicalShape;switch(n.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,i=r[0],a=r[1];if(1===i&&1===a)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var o=e.shapeInfo.texShape;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+o[0]+", "+o[1]+", "+ro(t)+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(t);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+io(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,i=r[0],a=r[1];if(1===a&&1===i)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var o=ro(t);return 1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+o+") + 0.5) / "+i+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+o+") + 0.5) / "+a+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+i+", "+a+", index + "+o+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(t);case 2:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=t.shapeInfo.texShape;if(null!=a&&M(n,a)){var o=a[0];return"\n    float "+i+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+a[1]+".0, "+o+".0);\n      return sampleTexture("+r+", uv);\n    }\n  "}var s=U(n),u=s.newShape,c=s.keptDims,l=u;if(l.length<n.length){var f=oo(t,l);return"\n      "+e(f)+"\n      float "+i+"(int row, int col) {\n        return "+i+"("+so(["row","col"],c)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+n[1]+", 1)));\n        "+io(t)+"\n      }\n    ";var d=a[0],h=a[1],p=ro(r);return 1===h?"\n    float "+i+"(int row, int col) {\n      float index = dot(vec3(row, col, "+p+"), vec3("+n[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+d+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":1===d?"\n    float "+i+"(int row, int col) {\n      float index = dot(vec3(row, col, "+p+"), vec3("+n[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+h+".0, 0.5);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n  float "+i+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+n[1]+" + col + "+p+";\n    vec2 uv = uvFromFlat("+d+", "+h+", index);\n    return sampleTexture("+r+", uv);\n  }\n"}(t);case 3:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[1]*n[2],o=n[2],s=U(n),u=s.newShape,c=s.keptDims,l=u;if(l.length<n.length){var f=oo(t,l);return"\n        "+e(f)+"\n        float "+i+"(int row, int col, int depth) {\n          return "+i+"("+so(["row","col","depth"],c)+");\n        }\n      "}if(t.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+a+", "+o+", 1)));\n        "+io(t)+"\n      }\n    ";var d=t.shapeInfo.texShape,h=d[0],p=d[1],m=t.shapeInfo.flatOffset;return p===a&&null==m?"\n        float "+i+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+o+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+p+".0, "+h+".0);\n          return sampleTexture("+r+", uv);\n        }\n      ":p===o&&null==m?"\n    float "+i+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+n[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+p+".0, "+h+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n      float "+i+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+a+" + col * "+o+" + depth + "+ro(r)+";\n        vec2 uv = uvFromFlat("+h+", "+p+", index);\n        return sampleTexture("+r+", uv);\n      }\n  "}(t);case 4:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[3],o=n[2]*a,s=n[1]*o,u=U(n),c=u.newShape,l=u.keptDims;if(c.length<n.length){var f=oo(t,c);return"\n      "+e(f)+"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        return "+i+"("+so(["row","col","depth","depth2"],l)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+s+", "+o+", "+a+", 1)));\n        "+io(t)+"\n      }\n    ";var d=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,p=h[0],m=h[1];return m===s&&null==d?"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+o+", "+a+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+m+".0, "+p+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":m===a&&null==d?"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+n[1]*n[2]+", "+n[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+m+".0, "+p+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+i+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+o+" +\n          depth * "+a+" + depth2;\n      vec2 uv = uvFromFlat("+p+", "+m+", index + "+ro(r)+");\n      return sampleTexture("+r+", uv);\n    }\n  "}(t);case 5:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[4],o=n[3]*a,s=n[2]*o,u=n[1]*s,c=U(n),l=c.newShape,f=c.keptDims;if(l.length<n.length){var d=oo(t,l);return"\n      "+e(d)+"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+i+"("+so(["row","col","depth","depth2","depth3"],f)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+u+", "+s+", "+o+", "+a+")) +\n          depth3;\n        "+io(t)+"\n      }\n    ";var h=t.shapeInfo.flatOffset,p=t.shapeInfo.texShape,m=p[0],v=p[1];return v===u&&null==h?"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+s+", "+o+", "+a+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+v+".0, "+m+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":v===a&&null==h?"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+n[1]*n[2]*n[3]+",\n               "+n[2]*n[3]+", "+n[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+v+".0, "+m+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+u+" + col * "+s+" + depth * "+o+" +\n          depth2 * "+a+" + depth3 + "+ro(r)+";\n      vec2 uv = uvFromFlat("+m+", "+v+", index);\n      return sampleTexture("+r+", uv);\n    }\n  "}(t);case 6:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=U(n),o=a.newShape,s=a.keptDims;if(o.length<n.length){var u=oo(t,o);return"\n      "+e(u)+"\n      float "+i+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+i+"("+so(["row","col","depth","depth2","depth3","depth4"],s)+");\n      }\n    "}var c=n[5],l=n[4]*c,f=n[3]*l,d=n[2]*f,h=n[1]*d;if(t.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+h+", "+d+", "+f+", "+l+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+c+", 1)));\n        "+io(t)+"\n      }\n    ";var p=t.shapeInfo.flatOffset,m=t.shapeInfo.texShape,v=m[0],g=m[1];return g===h&&null==p?"\n      float "+i+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+d+", "+f+", "+l+", "+c+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+g+".0, "+v+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":g===c&&null==p?"\n      float "+i+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+n[1]*n[2]*n[3]*n[4]+",\n               "+n[2]*n[3]*n[4]+",\n               "+n[3]*n[4]+",\n               "+n[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+g+".0, "+v+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+i+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+h+" + col * "+d+" + depth * "+f+" +\n          depth2 * "+l+" + depth3 * "+c+" + depth4 + "+ro(r)+";\n      vec2 uv = uvFromFlat("+v+", "+g+", index);\n      return sampleTexture("+r+", uv);\n    }\n  "}(t);default:throw new Error(n.length+"-D input sampling is not yet supported")}}(e);var i=e.shapeInfo.logicalShape,a=t.logicalShape;return i.length<=a.length&&(r+=n?function(e,t){var n,r=e.name,i=r.charAt(0).toUpperCase()+r.slice(1),a="get"+i+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,u=Fr(e.shapeInfo.logicalShape,t.logicalShape),c=ao(s),l=s-o,f=["x","y","z","w","u","v"];n=0===o?"":s<2&&u.length>=1?"coords = 0;":u.map((function(e){return"coords."+f[e+l]+" = 0;"})).join("\n");var d;d=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+f[t+l]})).join(", ");var h="return outputValue;",p=1===R(e.shapeInfo.logicalShape),m=1===R(t.logicalShape);if(1!==o||p||m){if(p&&!m)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var v=o-2,g=o-1;u.indexOf(v)>-1&&u.indexOf(g)>-1?h="return vec4(outputValue.x);":u.indexOf(v)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(g)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+a+"() {\n      "+c+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+i+"("+d+");\n      "+h+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",a=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===u&&null==e.shapeInfo.flatOffset&&M(o,a))return"\n      float "+i+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var c=ao(u),l=Fr(e.shapeInfo.logicalShape,t.logicalShape),f=u-s,d=["x","y","z","w","u","v"];return"\n    float "+i+"() {\n      "+c+" coords = getOutputCoords();\n      "+(0===s?"":u<2&&l.length>=1?"coords = 0;":l.map((function(e){return"coords."+d[e+f]+" = 0;"})).join("\n"))+"\n      return get"+r+"("+(u<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+d[t+f]})).join(", "))+");\n    }\n  "}(e,t)),r}(e,t,r)})).join("\n"),c=t.texShape,l=Ka(),f=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+e.texture2D+"(textureSampler, uv).r;\n    }\n  "}(l),d=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+Qa+"\n    "+eo+"\n    "+to+"\n  "}(l);return t.isPacked?(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(M(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],o=(a=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+i[0]+", "+i[1]+"));\n      int index = resTexRC.x * "+i[1]+" + resTexRC.y;\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+a+");\n      int c = imod(index, "+a+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),i=r*Math.ceil(e[e.length-2]/2),a=i,o="",s="b, r, c",u=2;u<e.length-1;u++)o="\n      int b"+u+" = index / "+(a*=e[e.length-u-1])+";\n      index -= b"+u+" * "+a+";\n    "+o,s="b"+u+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+o+"\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,i,a,o}(t.logicalShape,c),o=function(e){return"\n    void setOutput(vec4 val) {\n      "+e.output+" = val;\n    }\n  "}(l)):(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return M(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=Xa(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=Xa(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=Xa(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=Xa(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,c),o=function(e){return"\n    void setOutput(float val) {\n      "+e.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(l)),r&&(d+=no),[d,f,o,s,a,u,n].join("\n")}var Qa="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",eo="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",to="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",no="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function ro(e){return"offset"+e}function io(e){var t=e.name,n=R(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function ao(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function oo(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function so(e,t){return t.map((function(t){return e[t]})).join(", ")}var uo=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,C(e.length>2,(function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."}));var i=e[e.length-1],a=Math.ceil(i/t);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");var o,s,u=this.outputShape,c=u.length,l=ao(c),f=$a("coords",c);if(1===a){var d=ao(s=c+1);o="\n        "+d+" sourceLocR = "+d+"("+f.join()+", 0);\n        ++"+f[c-1]+";\n        "+d+" sourceLocG = "+d+"("+f.join()+", 0);\n        ++"+f[c-2]+";\n        "+d+" sourceLocA = "+d+"("+f.join()+", 0);\n        --"+f[c-1]+";\n        "+d+" sourceLocB = "+d+"("+f.join()+", 0);\n        --"+f[c-2]+";"}else s=c,o="\n        "+l+" sourceLocR = coords;\n        ++"+f[c-1]+";\n        "+l+" sourceLocG = coords;\n        ++"+f[c-2]+";\n        "+l+" sourceLocA = coords;\n        --"+f[c-1]+";\n        "+l+" sourceLocB = coords;\n        --"+f[c-2]+";";var h=["x","y","z","w","u","v"].slice(0,s),p="."+h[s-1],m=h.map((function(e){return"int "+e})),v=$a("sourceLocR",s-1).concat("inIdx.r"),g=$a("sourceLocG",s-1).concat("inIdx.g"),b=$a("sourceLocB",s-1).concat("inIdx.b"),y=$a("sourceLocA",s-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",x=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+v.join()+"),\n                             getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+b.join()+"),\n                             getBestIndicesAChannel("+y.join()+")));",O="vec4(\n            getAChannel("+v.join()+"),\n            hasNextCol ? getAChannel("+g.join()+") : 0.,\n            hasNextRow ? getAChannel("+b.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+y.join()+") : 0.)",k=r?"":"\n      float getBestIndicesAChannel("+m.join()+") {\n        return getChannel(getBestIndicesA("+h.join()+"),\n                                          vec2("+h.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+m.join()+") {\n        return getChannel(getA("+h.join()+"),\n                               vec2("+h.slice(-2).join()+"));\n      }\n      "+k+"\n      void main() {\n        "+l+" coords = getOutputCoords();\n        bool hasNextCol = "+f[c-1]+" < "+(u[c-1]-1)+";\n        bool hasNextRow = "+f[c-2]+" < "+(u[c-2]-1)+";\n        "+o+"\n        ivec4 srcIdx = ivec4(sourceLocR"+p+", sourceLocG"+p+",\n          sourceLocB"+p+", sourceLocA"+p+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+O+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+x+"\n          vec4 candidate = "+O+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+w+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},co=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.top,l=u-1-e.padInfo.left,f=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+c+", "+l+");\n      const float avgMultiplier = float("+f+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+a+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+u+";\n            wC+= "+o+") {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},lo=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,l=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=l-1-e.padInfo.front,p=f-1-e.padInfo.top,m=d-1-e.padInfo.left,v=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+h+", "+p+", "+m+");\n      const float avgMultiplier = float("+v+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+l+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+i+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+f+";\n              wR += "+u+") {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+d+";\n                wC += "+c+") {\n              float dyC = float(dyCCorner + wC) / "+o+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},fo=function(e,t,n,r,i,a){this.outputShape=[],this.variableNames=["x","mean","variance"],zr(e,t),zr(e,n);var o="0.0";null!=r&&(zr(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="1.0";null!=i&&(zr(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+o+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+a+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},ho=function(e,t,n,r,i,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],zr(e,t),zr(e,n);var o="vec4(0.0)";null!=r&&(zr(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=i&&(zr(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+o+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+a+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},po=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=zr(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},mo="return a + b;",vo="return a - b;",go="return a * b;",bo="return (a < 0.) ? b * a : a;",yo=function(e,t,n){this.variableNames=["A","B"],this.outputShape=zr(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},wo="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",xo=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=zr(t,n);var i=this.outputShape.length,a="";if(r)if(0===i||1===R(this.outputShape))a="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(a="\n          "+ao(i)+" coords = getOutputCoords();\n        ",1===i)a+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var o=$a("coords",i);a+="\n            bool nextRowOutOfBounds =\n              ("+o[i-2]+" + 1) >= "+this.outputShape[i-2]+";\n            bool nextColOutOfBounds =\n              ("+o[i-1]+" + 1) >= "+this.outputShape[i-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+a+"\n\n        setOutput(result);\n      }\n    "},Oo=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),ko=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),Eo=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},_o=function(e){this.outputShape=[],this.outputShape=Cn(e,1),this.variableNames=e.map((function(e,t){return"T"+t}));var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var i=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+i+"));")}var a=t.length,o=t[t.length-1];r.push("else setOutput(getT"+a+"(yR, yC-"+o+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},So=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Cn(e,t);var n=this.outputShape,r=n.length,i=ao(r),a=$a("coords",r),o=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((function(e,t){return"T"+t}));var s=new Array(e.length-1);s[0]=e[0][t];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][t];var c=o[t],l=o.slice(-2),f=o.join(),d="if ("+c+" < "+s[0]+") {\n        return getChannel(\n            getT0("+f+"), vec2("+l.join()+"));\n        }";for(u=1;u<s.length;u++){var h=s[u-1];d+="\n        if ("+c+" < "+s[u]+"  && "+c+" >= "+s[u-1]+") {\n          return getChannel(\n            getT"+u+"("+jo(o,c,h)+"),\n            vec2("+jo(l,c,h)+"));\n        }"}var p=s.length,m=s[s.length-1];d+="\n        return getChannel(\n          getT"+p+"("+jo(o,c,m)+"),\n          vec2("+jo(l,c,m)+"));",this.userCode="\n      float getValue("+o.map((function(e){return"int "+e}))+") {\n        "+d+"\n      }\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+a+"), 0., 0., 0.);\n\n        "+a[r-1]+" = "+a[r-1]+" + 1;\n        if ("+a[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+a+");\n        }\n\n        "+a[r-2]+" = "+a[r-2]+" + 1;\n        if ("+a[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+a+");\n        }\n\n        "+a[r-1]+" = "+a[r-1]+" - 1;\n        if ("+a[r-2]+" < "+n[r-2]+" &&\n            "+a[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+a+");\n        }\n        setOutput(result);\n      }\n    "};function jo(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?e+" - "+n:e})).join()}var Co=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,a="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+a+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ao=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a="channelsLast"===e.dataFormat,o=t-1-e.padInfo.top,s=n-1-e.padInfo.left,u=a?1:2,c=a?2:3,l=a?3:1;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+l+"];\n\n        ivec2 dyCorner = ivec2(coords["+u+"], coords["+c+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+a+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},To=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.padInfo.front,a=e.padInfo.top,o=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+i+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+a+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+o+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},No=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=t-1-e.padInfo.front,u=n-1-e.padInfo.top,c=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+u+", "+c+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+i+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+o+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ro=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+a+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Mo=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a=t-1-e.padInfo.top,o=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Do=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.padInfo.top,a=e.padInfo.left,o=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,l=e.filterHeight,f=e.filterWidth,d=4*Math.floor(e.inChannels/4),h=e.inChannels%4,p="channelsLast"===e.dataFormat,m=p?1:2,v=p?2:3,g=p?3:1,b="",y="";n&&(b=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",y="result = activation(result);");var w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+b+"\n\n      const ivec2 strides = ivec2("+o+", "+s+");\n      const ivec2 pads = ivec2("+i+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+g+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+m+"], coords["+v+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+l+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+c+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+d+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+p+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===h)+") {\n\n              if ("+p+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+d+") *\n                    getW(wR, wC, "+d+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+d+", xR, xC) *\n                    getW(wR, wC, "+d+", d2);\n              }\n\n            } else if ("+(2===h)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2)\n              );\n\n              if ("+p+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===h)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2),\n                getW(wR, wC, "+d+" + 2, d2)\n              );\n\n              if ("+p+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1),\n                  getX(batch, xR, xC, "+d+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC),\n                  getX(batch, "+d+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+w+"\n        "+y+"\n        setOutput(result);\n      }\n    "},Io=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,l=e.filterDepth,f=e.filterHeight,d=e.filterWidth,h=4*Math.floor(e.inChannels/4),p=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+i+", "+a+", "+o+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+l+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+"; wR++) {\n            int xR = xRCorner + wR * "+u+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+d+"; wC++) {\n              int xC = xCCorner + wC * "+c+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+h+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===p)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+h+") *\n                  getW(wF, wR, wC, "+h+", d2);\n              } else if ("+(2===p)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+h+"),\n                  getX(batch, xF, xR, xC, "+h+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+h+", d2),\n                  getW(wF, wR, wC, "+h+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===p)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+h+"),\n                  getX(batch, xF, xR, xC, "+h+" + 1),\n                  getX(batch, xF, xR, xC, "+h+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+h+", d2),\n                  getW(wF, wR, wC, "+h+" + 1, d2),\n                  getW(wF, wR, wC, "+h+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Fo=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.inHeight,a=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,p=e.outChannels/e.inChannels,m="",v="";n&&(m=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",v="result = activation(result);");var g=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+m+"\n\n      const ivec2 strides = ivec2("+u+", "+c+");\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+p+";\n        int q = d2 - d1 * "+p+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+d+"; wR++) {\n          int xR = xRCorner + wR * "+l+";\n\n          if (xR < 0 || xR >= "+i+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+h+"; wC++) {\n            int xC = xCCorner + wC * "+f+";\n\n            if (xC < 0 || xC >= "+a+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+g+"\n        "+v+"\n        setOutput(result);\n      }\n    "},Po=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var i=e.inHeight,a=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,p=h,m="int xR; int xC; int xCOffset;",v=0;v<d;v++)for(var g=0;g<h;g++)m+="\n          vec4 xTexelR"+v+"C"+2*g+" = vec4(0.);\n          vec4 wR"+v+"C"+g+" = vec4(0.);\n          vec4 xR"+v+"C"+g+" = vec4(0.);";for(v=0;v<d;v++)for(var b=0;b<p;b++){if(m+="\n          xR = xRCorner + "+v*l+";\n          xC = xCCorner + "+(g=2*b)*f+";\n        ",1===c){if(g<h&&(m+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    xTexelR"+v+"C"+g+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+v+"C"+g+" = vec4(previous.zw, xTexelR"+v+"C"+g+".xy);\n                } else {\n                  xR"+v+"C"+g+" = vec4(0, 0, xTexelR"+v+"C"+g+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+i+" && xC >= 0 && xC < "+a+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                xR"+v+"C"+g+" = xTexelR"+v+"C"+g+";\n              ",g+1<h)){var y=s%2==0?S(f):f;f%2==0&&s%2==1||f%2!=0&&s%2!=1?(m+="\n                  xCOffset = xC + "+s%2+" + "+y+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",f>1&&(m+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+i+" &&\n                      xCOffset >= 0 && xCOffset < "+a+") {\n                      xTexelR"+v+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+v+"C"+g+" = vec4(0.);\n                    }\n                  "),m+="\n                  xR"+v+"C"+(g+1)+" = vec4(\n                    xTexelR"+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+".xy);\n                "):m+="\n                  xCOffset = xC + "+y+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+v+"C"+(g+1)+" = xTexelR"+v+"C"+(g+2)+";\n                "}}else g<h&&(m+="\n              if(xR >= 0 && xR < "+i+") {\n            ",s%2==1?(m+="\n                xCOffset = xC + 1 - "+c+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+a+") {\n                  xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+v+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+v+"C"+g+" = vec4(\n                  xTexelR"+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+".zw);\n              ",g+1<h&&(m+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+c+";\n                  if(xCOffset >= 0 && xCOffset < "+a+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+v+"C"+(g+1)+" = vec4(xTexelR"+v+"C"+(g+2)+".xy, final.xy);\n                ")):(m+="\n                if(xC >= 0 && xC < "+a+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+c+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+v+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+v+"C"+g+" = vec4(\n                  xTexelR"+v+"C"+g+".xy, xTexelR"+v+"C"+(g+2)+".xy);\n              ",g+1<h&&(m+="\n                  xR"+v+"C"+(g+1)+" = vec4(\n                    xTexelR"+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+".zw);\n                ")),m+="}");g<h&&(m+="\n            vec4 wTexelR"+v+"C"+g+" = getW("+v+", "+g+", d1, q);\n            wR"+v+"C"+g+" = vec4(wTexelR"+v+"C"+g+".xz, wTexelR"+v+"C"+g+".xz);\n          ",g+1<h&&(m+="\n              vec4 wTexelR"+v+"C"+(g+1)+" = getW("+v+", "+(g+1)+", d1, q);\n              wR"+v+"C"+(g+1)+" =\n                vec4(wTexelR"+v+"C"+(g+1)+".xz, wTexelR"+v+"C"+(g+1)+".xz);"))}for(v=0;v<d;v++)for(g=0;g<h;g++)m+="dotProd += xR"+v+"C"+g+" * wR"+v+"C"+g+";";var w="",x="";n&&(w=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",x="result = activation(result);");var O=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+w+"\n\n      const ivec2 strides = ivec2("+u+", "+c+");\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+m+"\n\n        vec4 result = dotProd;\n        "+O+"\n        "+x+"\n        setOutput(result);\n      }\n    "},zo=function(e,t,n,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=e[0],o=e[1],s=e[2],u=e[3],c=t[0],l=n[0],f=n[1];this.outputShape=[c,l,f,u];var d="bilinear"===r?1:0,h=[o-1+".0",s-1+".0"],p=h[0],m=h[1],v=l>1?[""+(o-1)/(l-1),"(y2-y1) * height_ratio","y1*"+p+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+p],g=v[0],b=v[1],y=v[2],w=f>1?[""+(s-1)/(f-1),"(x2-x1) * width_ratio","x1*"+m+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+m],x=w[0],O=w[1],k=w[2];this.userCode="\n      const float height_ratio = float("+g+");\n      const float width_ratio = float("+x+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+a+") {\n          return;\n        }\n\n        float height_scale = "+b+";\n        float width_scale = "+O+";\n\n        float in_y = "+y+";\n        if( in_y < 0.0 || in_y > "+p+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n        float in_x = "+k+";\n        if( in_x < 0.0 || in_x > "+m+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+d+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},Lo=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,i=e[e.length-1],a=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+i+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+ao(r)+" coords = getOutputCoords();\n        int end = "+Bo(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+i+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+a+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+Bo(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function Bo(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var Uo=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=qe.DENSE;var t=Je(e),n=Ka();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Xa(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},Wo=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=qe.DENSE;var t=Je(e),n=Ka();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Xa(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},Vo=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),qo=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},Ho=function(e){this.variableNames=["A"],this.outTexUsage=He.DOWNLOAD;var t=Ka();this.outputShape=e,this.userCode="\n      "+Za+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},Go=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=He.DOWNLOAD;var t=Ka();this.outputShape=e,this.userCode="\n      "+Za+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},$o=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=Ka(),i=t[0],a=t[1];this.outputShape=e;var o="result";n&&(o="floor(result * 255. + 0.5)"),this.userCode="\n      "+Ya(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+a+";\n        int c = imod(flatIndex, "+a+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+i+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+o+", 0., 0., 0.);\n      }\n    "},Ko=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Ka(),i=t[0],a=t[1];this.outputShape=e;var o="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var c=0;c<=1;c++){var l=2*u+c;o+="\n          localCoords = coords;\n          if(localCoords[2] + "+c+" < "+e[2]+") {\n            localCoords[2] += "+c+";\n            if(localCoords[1] + "+u+" < "+e[1]+") {\n              localCoords[1] += "+u+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+a+";\n              c = imod(flatIndex, "+a+");\n              uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+i+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+l+"] = values[0];\n              } else if(offset == 1) {\n                result["+l+"] = values[1];\n              } else if(offset == 2) {\n                result["+l+"] = values[2];\n              } else {\n                result["+l+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+Ya(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+o+"\n\n        "+r.output+" = "+s+";\n      }\n    "},Xo=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var i=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,a=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+i+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+a+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},Yo=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),Zo=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var i=ao(this.rank),a=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],a=0;a<e.length;a++)a===t?i.push("int(getIndices("+r[a]+"))"):i.push(""+r[a]);return i.join()}(e,n);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},Jo=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=ao(t.length),i=ao(n.length),a=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+i+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+a+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function Qo(e,t){var n=Ka();return at(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function es(e,t){return ht(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function ts(e,t){return pt(e,t,new Uint16Array([0,1,2,2,1,3]))}function ns(e,t,n,r,i,a,o){vt(n,r);var s=mt(e,t),u=e.TEXTURE_2D;return tt(e,t,(function(){return e.bindTexture(u,s)})),tt(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),tt(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),tt(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)})),tt(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)})),tt(e,t,(function(){return e.texImage2D(u,0,i,n,r,0,a,o,null)})),tt(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),s}function rs(e,t,n,r,i){var a=Ze(n,r);return ns(e,t,a[0],a[1],i.internalFormatFloat,i.textureFormatFloat,e.FLOAT)}function is(e,t,n,r,i){var a=Ze(n,r);return ns(e,t,a[0],a[1],i.internalFormatHalfFloat,i.textureFormatFloat,i.textureTypeHalfFloat)}function as(e,t,n,r,i){var a=Ze(n,r);return ns(e,t,a[0],a[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function os(e,t,n,r,i){var a=Qe(n,r);return ns(e,t,a[0],a[1],i.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function ss(e,t,n,r,i){var a=Qe(n,r);return ns(e,t,a[0],a[1],i.internalFormatPackedHalfFloat,e.RGBA,i.textureTypeHalfFloat)}function us(e,t,n,r){return tt(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),bt(e,t,n,"clipSpacePos",r,3,20,0)&&bt(e,t,n,"uv",r,2,20,12)}function cs(e,t,n,r,i,a,o){var s,u,c;tt(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),a instanceof Uint8Array?(s=new Uint8Array(r*i*4),u=e.UNSIGNED_BYTE,c=e.RGBA):(s=new Float32Array(r*i*4),u=e.FLOAT,c=o.internalFormatPackedFloat),s.set(a),tt(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,c,r,i,0,e.RGBA,u,s)})),tt(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function ls(e,t,n,r){tt(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),r.data instanceof Uint8Array?tt(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)})):tt(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)})),tt(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function fs(e,t,n,r,i){var a=e.createBuffer();tt(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var o=16*n*r;return tt(e,t,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)})),tt(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)})),tt(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}function ds(e,t,n){var r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function hs(e,t,n,r,i){var a=Ze(n,r),o=a[0],s=a[1],u=new Uint8Array(n*r*4);return tt(e,t,(function(){return e.readPixels(0,0,o,s,i.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function ps(e,t,n,r,i,a,o,s){var u=e,c=new Float32Array(function(e,t){var n=Qe(e,t);return n[0]*n[1]*4}(a,o));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}function ms(e,t,n,r){var i=new Float32Array(n*r*4);return tt(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,i)})),i}var vs=Object.freeze({createVertexShader:Qo,createVertexBuffer:es,createIndexBuffer:ts,createFloat32MatrixTexture:rs,createFloat16MatrixTexture:is,createUnsignedBytesMatrixTexture:as,createPackedMatrixTexture:os,createFloat16PackedMatrixTexture:ss,bindVertexProgramAttributeStreams:us,uploadDenseMatrixToTexture:cs,uploadPixelDataToTexture:ls,createBufferFromOutputTexture:fs,downloadFloat32MatrixFromBuffer:ds,downloadByteEncodedFloatMatrixFromOutputTexture:hs,downloadPackedMatrixFromBuffer:ps,downloadMatrixFromPackedOutputTexture:ms}),gs=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=d().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,Xe(t,e)):this.gl=Ye(t);var n="WEBGL_color_buffer_float";if(1===d().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=it(this.gl,this.debug,"OES_texture_float"),zt(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=it(this.gl,this.debug,"OES_texture_half_float");else if(d().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),zt(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=it(this.gl,this.debug,"EXT_color_buffer_half_float");else if(d().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",zt(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!zt(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=es(this.gl,this.debug),this.indexBuffer=ts(this.gl,this.debug),this.framebuffer=gt(this.gl,this.debug),this.textureConfig=et(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return d().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;tt(t,this.debug,(function(){return t.finish()})),tt(t,this.debug,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),tt(t,this.debug,(function(){return t.deleteFramebuffer(e.framebuffer)})),tt(t,this.debug,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),tt(t,this.debug,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),tt(t,this.debug,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),rs(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),is(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),as(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),ls(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),cs(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),ss(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),os(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(Et(this.gl,this.debug,this.framebuffer),this.outputTexture=null),tt(this.gl,this.debug,(function(){return t.gl.deleteTexture(e)}))},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return hs(r.gl,r.debug,t,n,r.textureConfig)}))},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,i,a){return ps(this.gl,e,0,0,0,i,a,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return ds(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=fs(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(d().getBool("WEBGL_FENCE_API_ENABLED")){var i=e,a=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=i.clientWaitSync(a,0,0);return e===i.ALREADY_SIGNALED||e===i.CONDITION_SATISFIED},t=a}else d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return ms(r.gl,r.debug,t,n)}))},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=ot(t,this.debug,e),r=Qo(t,this.debug),i=lt(t,this.debug);return tt(t,this.debug,(function(){return t.attachShader(i,r)})),tt(t,this.debug,(function(){return t.attachShader(i,n)})),ft(t,this.debug,i),this.debug&&dt(t,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=us(t,this.debug,this.program,this.vertexBuffer)),i},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&tt(this.gl,this.debug,(function(){return t.gl.deleteProgram(e)}))},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&dt(this.gl,this.debug,this.program),tt(this.gl,this.debug,(function(){return t.gl.useProgram(e)}))},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?wt(this.gl,this.debug,e,t):xt(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),tt(this.gl,this.debug,(function(){return n.gl.getAttribLocation(e,t)}))},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),Ot(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=Qe(t,n),i=r[0],a=r[1];this.setOutputMatrixTextureDriver(e,i,a)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&dt(this.gl,this.debug,this.program),_t(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),tt(e,this.debug,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),tt(this.gl,this.debug,(function(){return e.gl.finish()}))},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=it(this.gl,this.debug,2===d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i},e.prototype.endQuery=function(){if(2!==d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return u(this,void 0,void 0,(function(){var t=this;return c(this,(function(n){switch(n.label){case 0:return[4,z((function(){return t.disposed||t.isQueryAvailable(e,d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return n.sent(),[2,this.getQueryTime(e,d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||z((function(){return n.pollItems(),0===n.itemsToPoll.length}))},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),kt(this.gl,this.debug,e,this.framebuffer),this.debug&&_t(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(kt(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&_t(this.gl)):Et(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;kt(r,this.debug,e,this.framebuffer),this.debug&&_t(r),this.outputTexture=e,tt(r,this.debug,(function(){return r.viewport(0,0,t,n)})),tt(r,this.debug,(function(){return r.scissor(0,0,t,n)}))},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var i=this;this.throwIfDisposed(),tt(this.gl,this.debug,(function(){return i.gl.scissor(e,t,n,r)}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function bs(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach((function(e,n){var r=e.logicalShape,i=t[n],a=i.shape;if(!M(r,a))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+a+" must match");if(!e.isUniform||!i.isUniform){var o=e.texShape,s=i.isUniform?null:i.texData.texShape;if(!M(o,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+o+" and "+s+" must match")}}))}var ys=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,i=n.inChannels,a=n.strideWidth,o=n.strideHeight,s=n.padInfo,u=n.outWidth,c=n.dilationWidth,l=n.dilationHeight,f=n.dataFormat,d=s.left,h=s.top,p=i*r,m=Ka(),v="channelsLast"===f,g=v?0:1,b=v?1:2,y="",w=0;w<=1;w++)for(var x=0;x<=1;x++)y+="\n          blockIndex = rc.y + "+x+";\n          pos = rc.x + "+w+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+u+")) * "+o+" - "+h+";\n            d0 = offsetY + "+l+" * (pos / "+p+");\n\n            if(d0 < "+t[g]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+u+".) * "+a+". - "+d+".);\n              d1 = offsetX + "+c+" * (int(mod(float(pos), "+p+".) / "+i+".));\n\n              if(d1 < "+t[b]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+i+".));\n\n                if ("+v+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*w+x)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*w+x)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+y+"\n\n        "+m.output+" = result;\n      }\n    "},ws=function(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[];var a,o=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";a=.5===i?"inversesqrt("+u+")":1===i?"1.0/("+u+")":"exp(log("+u+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+o+"; j <= "+o+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+a+";\n        setOutput(val);\n      }\n    "},xs=function(e,t,n,r,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+i+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+i+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},Os=function(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var a,o=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";a=.5===i?"inversesqrt("+u+")":1===i?"1.0/("+u+")":"exp(log("+u+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+o+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+o+"; j <= "+o+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+a+";\n        setOutput(result);\n      }\n    "},ks=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,i=e.effectiveFilterHeight,a=e.effectiveFilterWidth,o=i-1-e.padInfo.top,s=a-1-e.padInfo.left,u=i*a-1;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+i+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+a+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+u+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+a+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Es=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.dilationDepth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,l=s-1-e.padInfo.front,f=u-1-e.padInfo.top,d=c-1-e.padInfo.left,h=s*u*c-1;this.userCode="\n      const ivec3 pads = ivec3("+l+", "+f+", "+d+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+i+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+a+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+o+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+h+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+u+" * "+c+" +\n                  wR * "+c+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},_s=function(e,t,n,r,i,a,o){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===a&&(a=null),void 0===o&&(o=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],u=Math.ceil(s/2),c=n?"i * 2, rc.y":"rc.y, i * 2",l=r?"rc.z, i * 2":"i * 2, rc.z",f=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],h="",p="";a&&(h=o?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+a+"\n        }":"vec4 activation(vec4 x) {\n          "+a+"\n        }",p="result = activation(result);");var m=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+h+"\n\n      const float sharedDimension = "+u+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+u+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+c+");\n          vec4 b = getMatrixB(rc.x, "+l+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+f[0]+" * "+d[0]+");\n          result += ("+f[1]+" * "+d[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+m+"\n\n        "+p+"\n\n        setOutput(result);\n      }\n    "},Ss=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),js=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},Cs=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=$a("rc",t),r=ao(t),i=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",i=e-2;i<e;i++)r+=n[i]+" >= "+t[i],i<e-1&&(r+="||");return r}(t,e,n),a=function(e,t,n,r){if(1===e)return"";var i=r.slice(-2);return"\n    int r = "+i[0]+";\n    int c = "+i[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),o=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var i=0;i<=1;i++){for(var a=(0===r?"r":"rp1")+", "+(0===i?"c":"cp1"),o=2;o<e;o++)a=t[t.length-1-o]+","+a;n.push(a)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+i+") {\n            setOutput(vec4(0));\n          } else {\n            "+a+"\n\n            setOutput(vec4("+o+"));\n          }\n        }\n      "}},As=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));var r=e.length,i=ao(r),a=t.map((function(e){return e[0]})).join(","),o=t.map((function(t,n){return t[0]+e[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+i+" start = "+i+"("+a+");\n      "+i+" end = "+i+"("+o+");\n\n      void main() {\n        "+i+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+i+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+a+";\n        int end = "+o+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},Ts=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));for(var r=e.length,i=ao(r),a=t.map((function(e){return e[0]})).join(","),o=t.map((function(t,n){return t[0]+e[n]})).join(","),s=$a("rc",r),u=$a("source",r),c=s[r-1]+" < "+this.outputShape[r-1],l=1===r?"source":"vec2("+u.slice(-2).join()+")",f=[i+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+c+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+c+") {"],d=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="",p=0,m=1===r?2:4;p<m;p++)h+="\n        "+f[p]+"\n        if ("+d+") {\n          result["+p+"] = float("+n+");\n        } else {\n          "+i+" source = rc - start;\n          result["+p+"] = getChannel(getX("+u.join()+"), "+l+");\n        }\n      ";h+=1===r?"} ":"}}",this.userCode="\n      const "+i+" start = "+i+"("+a+");\n      const "+i+" end = "+i+"("+o+");\n\n      void main() {\n        "+i+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+h+"\n        setOutput(result);\n      }\n    "},Ns=function(e,t,n,r,i){if(void 0===r&&(r=!1),void 0===i&&(i=!1),this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var a=e.filterWidth,o=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,l=e.effectiveFilterHeight,f=e.effectiveFilterWidth,d=e.padInfo.top,h=e.padInfo.left;this.outputShape=e.outShape;var p="avg"===t,m="((batch  * "+e.inHeight+" + xR) * "+e.inWidth+" + xC) * "+e.inChannels+" + d",v="(xR * "+e.inWidth+" + xC) * "+e.inChannels+" + d",g="0.0";if(p||(g="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+o+", "+s+");\n        const ivec2 pads = ivec2("+d+", "+h+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+u+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+f+";\n                wC += "+c+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = "+(r?i?m:v:"wR * "+f+" + wC")+";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var b=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(b="avgValue / count");var y=4*Math.floor(a/4),w=a%4,x="\n      if ("+p+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+o+", "+s+");\n      const ivec2 pads = ivec2("+d+", "+h+");\n      const float initializationValue = "+g+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+g+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+l+";\n            wR += "+u+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+y+"; wC += 4) {\n            int xC = xCCorner + wC * "+c+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+c+", d),\n              getValue(batch, xR, xC + 2 * "+c+", d),\n              getValue(batch, xR, xC + 3 * "+c+", d)\n            );\n\n            "+x+"\n          }\n\n          int xC = xCCorner + "+y+";\n          if ("+(1===w)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+x+"\n          } else if ("+(2===w)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+c+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+x+"\n          } else if ("+(3===w)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+c+", d),\n              getValue(batch, xR, xC + 2 * "+c+", d),\n              initializationValue\n            );\n\n            "+x+"\n          }\n        }\n        setOutput("+b+");\n      }\n    "}},Rs=function(e,t,n,r,i){if(void 0===r&&(r=!1),void 0===i&&(i=!1),this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var a=e.filterWidth,o=e.strideDepth,s=e.strideHeight,u=e.strideWidth,c=e.dilationDepth,l=e.dilationHeight,f=e.dilationWidth,d=e.effectiveFilterDepth,h=e.effectiveFilterHeight,p=e.effectiveFilterWidth,m=e.padInfo.front,v=e.padInfo.top,g=e.padInfo.left;this.outputShape=e.outShape;var b="avg"===t,y="0.0";if(b||(y="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+o+", "+s+", "+u+");\n        const ivec3 pads = ivec3("+m+", "+v+", "+g+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+d+";\n              wD += "+c+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+h+";\n                wR += "+l+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+p+";\n                  wC += "+f+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = "+(r?i?"(((batch * "+e.inDepth+" + xD) * "+e.inHeight+" + xR) * "+e.inWidth+" + xC) * "+e.inChannels+" + ch":"((xD * "+e.inHeight+" + xR) * "+e.inWidth+" + xC) * "+e.inChannels+" + ch":"wD * "+h+" * "+p+" +\n                      wR * "+p+" + wC")+";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var w=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(w="avgValue / count");var x=4*Math.floor(a/4),O=a%4,k="\n      if ("+b+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+o+", "+s+", "+u+");\n      const ivec3 pads = ivec3("+m+", "+v+", "+g+");\n      const float initializationValue = "+y+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+y+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+d+";\n            wD += "+c+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+h+";\n            wR += "+l+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+x+"; wC += 4) {\n              int xC = xCCorner + wC * "+f+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+f+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+f+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+f+", ch)\n              );\n\n              "+k+"\n            }\n\n            int xC = xCCorner + "+x+";\n            if ("+(1===O)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+k+"\n            } else if ("+(2===O)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+f+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+k+"\n            } else if ("+(3===O)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+f+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+f+", ch),\n                initializationValue\n              );\n\n              "+k+"\n            }\n          }\n          setOutput("+w+");\n        }\n      }\n    "}},Ms=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,i=e.inSize,a=Math.ceil(i/n);this.outputShape=[r,a];var o="0.0",s="";"prod"===t?o="1.0":"min"===t?(o="1.0 / 1e-20",s="min"):"max"===t&&(o="-1.0 / 1e-20",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?u="sumValue":"prod"===t?u="prodValue":"all"===t?u="allValue":"any"===t&&(u="anyValue");var c=4*Math.floor(n/4),l=n%4,f="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",d="vec4";"all"===t?(o="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(o="0.0",f="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");var h="";i%n>0&&(h="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+o+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+h+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+o+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+c+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+f+"\n        }\n\n        int inIdx = inOffset + "+c+";\n        if ("+(1===l)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(2===l)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(3===l)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+f+"\n        }\n        setOutput("+u+");\n      }\n    "},Ds=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var i="thisRC = rc;";r%2==1&&(i+="thisRC.z += 1;"),r>1&&(i+="thisRC.y += 1;"),n+="\n        "+i+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+Xa(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+Ya(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},Is=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,i=r[1],a=r[2],o=e.shape,s=o[1],u=o[2],c=[n&&s>1?i-1:i,n&&u>1?a-1:a],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=c[0]/l[0],d=c[1]/l[1],h=1/f,p=1/d,m=2*Math.ceil(h)+2,v=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+v+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(a-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},Fs=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},Ps=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+",\n          "+u[1]/c[1]+");\n      const vec3 inputShapeRC = vec3("+a+".0, "+o+".0,\n                                     "+o+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},zs=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,i=r[1],a=r[2],o=e.shape,s=o[1],u=o[2],c=[n&&s>1?i-1:i,n&&u>1?a-1:a],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=c[0]/l[0],d=c[1]/l[1],h=1/f,p=1/d,m=2*Math.ceil(h)+2,v=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+v+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+c[0]+") *\n                (float(dyR) / float("+l[0]+"));\n\n            float sourceFracCol =\n                float("+c[1]+") *\n                  (float(dyC) / float("+l[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+a+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},Ls=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],l=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+l+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},Bs=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map((function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)})).join(","),i=ao(n);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},Us=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=$a("rc",n),i=r[n-1]+" + 1 < "+this.outputShape[n-1],a=r[n-2]+" + 1 < "+this.outputShape[n-2],o=ao(n);function s(n){var r=e.map((function(r,i){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(i,n)}));return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+i+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+o+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(e){return s(e)}(r.slice())+";\n          if("+i+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+a+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+i+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},Ws=function(e,t,n,r,i,a,o){void 0===o&&(o=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;var s=ao(i.length),u=ao(a.length),c="";1===n?c="i":2===n&&(c="i, j");var l="getIndices("+c+")",f="";1===r?f="i":2===r&&(f="i, coords[1]");var d="getUpdates("+f+")",h=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+i+");\n\n        void main() {\n          "+u+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+l+");\n              flattenedIndex += index * "+h+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+d+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},Vs=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,i=e.inSize,a=e.numSegments,o=a*Math.ceil(i/n);this.outputShape=[r,o];var s=4*Math.floor(n/4),u=n%4,c="\n        sumValue += dot(values, segFilter);\n    ",l="";i%n>0&&(l="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var f="";i%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+l+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+f+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+a+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+a+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+c+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+c+"\n        } else if ("+(2===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+c+"\n        } else if ("+(3===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+c+"\n        }\n        setOutput(sumValue);\n      }\n    "},qs=function(e,t,n){var r,i;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)i="resRC",r="resRC";else{for(var a=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[],u=0;u<t.length;u++)s.push(""+a[u]),u<e&&o.push(""+a[u]);r=o.join(),i=s.join()}var c=ao(n);this.userCode="\n      void main() {\n        "+c+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+i+"));\n        } else {\n          setOutput(getB("+i+"));\n        }\n      }\n    "},Hs=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=ao(this.rank),r="uniform int start["+this.rank+"];",i=function(e){if(1===e)return"sourceLoc";if(e<=6)return Gs.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map((function(e,t){return"sourceLoc."+Gs[t]+" = start["+t+"] + coords."+Gs[t]+";"})).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+i+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),Gs=["x","y","z","w","u","v"],$s=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=ao(this.rank),n=$a("coords",this.rank),r=$a("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",a="getChannel(getSource("+r.join()+"), "+i+")",o="\n      result.x = "+a+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+a+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+a+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+a+";\n        }\n      }\n    ",u=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map((function(e,t){return"start["+t+"]"})).join()+");":e.map((function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"})).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+u+"\n        vec4 result = vec4(0.);\n        "+o+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),Ks=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,i=ao(n.length),a=ao(n.length),o="";if(1===r)o="coords * strides + begin";else{var s=0;o=n.map((function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"})).join(",")}this.userCode="\n      "+i+" begin = "+i+"("+e+");\n      "+i+" strides = "+i+"("+t+");\n\n      void main() {\n        "+a+" coords = getOutputCoords();\n        setOutput(getX("+o+"));\n      }\n    "},Xs=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,i=Ys(t,n),a=Zs(e,i,n);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var o=this.freeTextures[a].shift();return this.usedTextures[a].push(o),o}return this.numUsedTextures++,this.log(),i===Ge.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):i===Ge.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):i===Ge.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):i===Ge.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):i===Ge.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var i=Zs(t,Ys(n,r),r);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(e),this.numFreeTextures++,this.numUsedTextures--;var a=this.usedTextures[i],o=a.indexOf(e);if(o<0)throw new Error("Cannot release a texture that was never provided by this texture manager");a.splice(o,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));for(var t in this.usedTextures)this.usedTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function Ys(e,t){if(e===He.UPLOAD)return Ge.PACKED_2X2_FLOAT32;if(e===He.RENDER||null==e)return function(e){return d().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Ge.PACKED_2X2_FLOAT32:Ge.UNPACKED_FLOAT32:e?Ge.PACKED_2X2_FLOAT16:Ge.UNPACKED_FLOAT16}(t);if(e===He.DOWNLOAD||e===He.PIXELS)return Ge.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function Zs(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var Js=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var i=ao(this.rank),a=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<e.length;i++)r.push("imod("+n[i]+", "+e[i]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},Qs=1.7580993408473768,eu=1.0507009873554805,tu=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},nu="if (isnan(x)) return x;",ru="return abs(x);",iu=nu+"\n  return (x < 0.0) ? 0.0 : x;\n",au=nu+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",ou="return (x >= 0.0) ? x : (exp(x) - 1.0);",su="return -x;",uu="return ceil(x);",cu="return floor(x);",lu="return exp(x);",fu="return exp(x) - 1.0;",du="return x;",hu="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",pu="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",mu="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",vu=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},gu=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=$a("rc",t),r=ao(t),i=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),a=n.slice(-2),o=t<=1?"rc":"vec2("+a.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+i+");\n\n        setOutput(getChannel(packedInput, "+o+"));\n      }\n    "},bu={};function yu(e,t){if(void 0===t&&(t=!1),"linear"===e)return"return x;";if("relu"===e)return t?hu:iu;if("elu"===e)return t?mu:ou;if("relu6"===e)return t?pu:au;if("prelu"===e)return t?wo:bo;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var wu=function(e){function t(t){var n,r=e.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!d().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var i=Ye(d().getNumber("WEBGL_VERSION"));r.binaryCache=((n=d().getNumber("WEBGL_VERSION"))in bu||(bu[n]={}),bu[n]),r.gpgpu=new gs(i),r.canvas=i.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new Xs(r.gpgpu),r.numMBBeforeWarning=null==d().global.screen?1024:d().global.screen.height*d().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new ua(r,Ue),r}return s(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(e,t,n){if(d().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:He.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(d().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:He.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,i=t.complexTensors,a=t.slice,o=t.shape,s=t.isPacked;if(null!=a){var u;u=s?new vu(o,du):new tu(o,du);var c=this.runWebGLProgram(u,[{dataId:e,shape:o,dtype:r}],r),l=this.readSync(c.dataId);return this.disposeData(c.dataId),l}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var f,d,h=null!=this.activeTimers;return h&&(f=se()),d="complex64"===r?ja(i.real.dataSync(),i.imag.dataSync()):this.getValuesFromTexture(e),h&&(this.downloadWaitMs+=se()-f),this.convertAndCacheOnCPU(e,d)},t.prototype.read=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,u,l,f,h,p,m,v,g,b,y,w,x,O,k,E;return c(this,(function(c){switch(c.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise((function(e){return t.push(e)}))];if(n=this.texData.get(e),r=n.values,i=n.shape,a=n.slice,o=n.dtype,s=n.complexTensors,u=n.isPacked,null!=a)return void 0,l=u?new vu(i,du):new tu(i,du),f=this.runWebGLProgram(l,[{dataId:e,shape:i,dtype:o}],o),h=this.read(f.dataId),this.disposeData(f.dataId),[2,h];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!d().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===d().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return p=null,"complex64"!==o&&d().get("WEBGL_BUFFER_SUPPORTED")&&(m=this.decode(e),v=this.texData.get(m.dataId),p=(E=this.gpgpu).createBufferFromTexture.apply(E,[v.texture].concat(Je(i)))),this.pendingRead.set(e,[]),"complex64"===o?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:c.sent(),c.label=2;case 2:return"complex64"!==o?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return b=c.sent(),y=b[0],w=b[1],g=ja(y,w),[3,5];case 4:null==p?g=this.getValuesFromTexture(e):(x=R(i),g=this.gpgpu.downloadFloat32MatrixFromBuffer(p,x)),c.label=5;case 5:return null!=m&&this.disposeData(m.dataId),O=this.convertAndCacheOnCPU(e,g),k=this.pendingRead.get(e),this.pendingRead.delete(e),k.forEach((function(e){return e(O)})),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,O]}}))}))},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!nt(n)){if(d().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,i=n.dtype,a=n.isPacked,o=R(r);if(d().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),u=this.texData.get(s.dataId),c=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[u.texture].concat(Je(r))).subarray(0,o);return this.disposeData(s.dataId),c}var l=d().getBool("WEBGL_PACK")&&!0===a,f=l?Nt(r):r,h=l?new Go(f):new Ho(f),p=this.runWebGLProgram(h,[{shape:f,dtype:i,dataId:e}],"float32"),m=this.texData.get(p.dataId),v=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(m.texture,m.texShape[0],m.texShape[1]).subarray(0,o);return this.disposeData(p.dataId),v},t.prototype.time=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i,a,o,s;return c(this,(function(u){switch(u.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),i=N(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),a=N(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e})),this.activeTimers=t,r&&(this.programTimersStack=null),o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(i)]:[3,2];case 1:return s=u.sent(),o.kernelMs=j(s),o.getExtraProfileInfo=function(){return s.map((function(e,t){return{name:a[t],ms:e}})).map((function(e){return e.name+": "+e.ms})).join(", ")},[3,3];case 2:o.kernelMs={error:"WebGL query timers are not supported in this environment."},u.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,o]}}))}))},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:se(),endMs:null}},t.prototype.endTimer=function(e){return d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=se(),e)},t.prototype.getQueryTime=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){return d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]}))}))},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,i=t.texShape,a=t.usage,o=t.isPacked,s=t.slice,u=s&&s.origDataId||e,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(i,r),this.textureManager.releaseTexture(n,i,a,o)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return d().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Ue.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every((function(e){return null==n.texData.get(e.dataId).texture&&R(e.shape)<t}))},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:Ue.keep(e.clone()),imag:Ue.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===R(n))return Mn([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,i=Xi(e.shape,t,n);if(r||!i){var a=d().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new $s(n):new Hs(n),o=a.getCustomSetupFunc(t);return this.compileAndRun(a,[e],null,o)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),i=this.makeOutput(n,e.dtype),a=this.texData.get(i.dataId);Object.assign(a,r),a.shape=n,a.dtype=e.dtype;var o=Yi(t,e.strides);r.slice&&(o+=r.slice.flatOffset),a.slice={flatOffset:o,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(a.slice.origDataId)||1;return this.dataRefCount.set(a.slice.origDataId,s+1),i},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var i=Gi(t,n,r);if(i.some((function(e){return 0===e})))return Mn([],i);var a=new Ks(t,r,i);return this.compileAndRun(a,[e])},t.prototype.reverse=function(e,t){var n=d().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Us(e.shape,t):new Bs(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map((function(e){return Nn(e)})),r=e.map((function(e){return Rn(e)}));return Tn(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>d().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(e.length/2),a=this.concat(e.slice(0,i),t),o=this.concat(e.slice(i),t);return this.concat([a,o],t)}if(d().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new So(e.map((function(e){return e.shape})),t);return this.compileAndRun(s,e)}var u=Cn(e.map((function(e){return e.shape})),t),c=e.map((function(e){return e.as2D(-1,R(e.shape.slice(t)))})),l=new _o(c.map((function(e){return e.shape})));return this.compileAndRun(l,c).reshape(u)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,su,e.dtype);var t=new tu(e.shape,su);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var i=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],o=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===i||1===a)&&o>1e3){n&&(e=sa(e,[0,2,1])),r&&(t=sa(t,[0,2,1]));var u=1===a?e:e.as3D(s,o,1),c=1===a?2:1,l=1===a?t.as3D(s,1,o):t;return this.multiply(u,l).sum(c,!0)}var f=Re(e.dtype,t.dtype),d=new _s(e.shape,[s,i,a],n,r);return this.compileAndRun(d,[e,t],f)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.bias,o=e.activation,s=e.preluActivationWeights,u=r?t.shape[2]:t.shape[1],c=i?n.shape[1]:n.shape[2],l=t.shape[0],f=Re(t.dtype,n.dtype),d=null!=a,h=null!=s,p=o?yu(o,!0):null,m=new _s(t.shape,[l,u,c],r,i,d,p,h),v=[t,n];return a&&v.push(a),s&&v.push(s),this.compileAndRun(m,v,f)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),i=new po("return areal * breal - aimag * bimag;",e.shape,t.shape),a=new po("return areal * bimag + aimag * breal;",e.shape,t.shape),o=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(i,o),u=this.compileAndRun(a,o),c=this.complex(s,u);return s.dispose(),u.dispose(),c}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,go,e.dtype);var l=new yo(go,e.shape,t.shape);return this.compileAndRun(l,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,i,a){var o=[e,t,n],s=null;null!=a&&(s=a.shape,o.push(a));var u=null;if(null!=i&&(u=i.shape,o.push(i)),d().getBool("WEBGL_PACK_NORMALIZATION")){var c=new ho(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(c,o)}var l=new fo(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(l,o)},t.prototype.localResponseNormalization4D=function(e,t,n,r,i){var a=d().getBool("WEBGL_PACK_NORMALIZATION")?new Os(e.shape,t,n,r,i):new ws(e.shape,t,n,r,i);return this.compileAndRun(a,[e])},t.prototype.LRNGrad=function(e,t,n,r,i,a,o){var s=new xs(t.shape,r,i,a,o);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map((function(e){return le(e)}));return Ba(nr(e.shape,e.dtype,n),t)}var r=new Js(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=d().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ts(e.shape,t,n):new As(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new Zo(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){C(e.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),i=mr(e.shape,t,r),a=vr(i.length,t.length),o=gr(e.shape,t,r),s=br(n,t.length),u=yr(o,n,t.length);return sa(e.reshape(i),a).reshape(o).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){C(e.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),i=[[0,0]];i.push.apply(i,n);for(var a=1+t.length;a<e.shape.length;++a)i.push([0,0]);var o=e.pad(i),s=mr(o.shape,t,r,!1),u=vr(s.length,t.length,!1),c=gr(o.shape,t,r,!1);return sa(o.reshape(s),u).reshape(c)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],i=e.shape[1],a=Li(i),o=new Ms({windowSize:a,inSize:i,batchSize:r},t),s=this.compileAndRun(o,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],i=e.shape[1];null!=n&&(r=n.shape[0],i=n.shape[1]);var a=Li(i),o=new Ha({windowSize:a,inSize:i,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var u=this.compileAndRun(o,s,"int32");return 1===u.shape[1]?u:this.argReduce(e,t,u)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,i=Li(r[r.length-1]),a=new uo(r,i,t,null==n),o=null==n?[e]:[e,n],s=this.compileAndRun(a,o,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){kn("sum",t,e.rank);var n=xn(e.shape,t),r=n[0],i=R(n[1]),a=e.as2D(-1,i),o=Me(e.dtype);return this.reduce(a,"sum",o).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=xn(e.shape,t),r=n[0],i=R(n[1]),a=e.as2D(-1,i),o=Me(e.dtype);return this.reduce(a,"prod",o).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,i=En([r],e.rank),a=e;null!=i&&(a=sa(e,i),r=Sn(1,e.rank)[0]);var o=function(e,t,n){for(var r=[],i=e.length,a=0;a<i;a++)a!==t?r.push(e[a]):r.push(n);return r}(a.shape,r,n),s=R([a.shape[r]]),u=a.as2D(-1,s),c=Me(e.dtype),l=this.segOpCompute(u,"unsortedSegmentSum",t,c,n).reshape(o);return null!=i&&(l=sa(l,_n(i))),l},t.prototype.segOpCompute=function(e,t,n,r,i){var a=e.shape[0],o=e.shape[1],s=function(e,t){var n,r=!1;for(e<=30?(n=e,r=!0):n=te(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=te(e,n+1);return n}(o,i),u=new Vs({windowSize:s,inSize:o,batchSize:a,numSegments:i},t),c=this.compileAndRun(u,[e,n],r);return c.shape[1]===i?c:(n=$n(0,i).tile([o/s]),this.segOpCompute(c,t,n,r,i))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(kn("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!d().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var i=xn(e.shape,r),a=i[0],o=R(i[1]),s=e.as2D(-1,o);return this.argReduce(s,n).reshape(a)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var i=new Lo(e.shape,n,r);return this.compileAndRun(i,[e])},t.prototype.equal=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new yo("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new yo("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new yo("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new yo("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new yo("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new yo("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new tu(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new yo("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new yo("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new qs(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],Re(t.dtype,n.dtype))},t.prototype.where=function(e){pn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Wa(e.shape,t)},t.prototype.topk=function(e,t,n){return Ua(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){kn("min",t,e.rank);var n=xn(e.shape,t),r=n[0],i=R(n[1]),a=e.as2D(-1,i);return this.reduce(a,"min",a.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xo("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new yo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xo("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new yo("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);kn("max",t,e.rank);var n=xn(e.shape,t),r=n[0],i=R(n[1]),a=e.as2D(-1,i);return this.reduce(a,"max",a.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xo("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new yo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){kn("all",t,e.rank);var n=xn(e.shape,t),r=n[0],i=R(n[1]),a=e.as2D(-1,i);return this.reduce(a,"all",a.dtype).reshape(r)},t.prototype.any=function(e,t){kn("any",t,e.rank);var n=xn(e.shape,t),r=n[0],i=R(n[1]),a=e.as2D(-1,i);return this.reduce(a,"any",a.dtype).reshape(r)},t.prototype.floorDiv=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new yo("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,mo);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=Re(e.dtype,t.dtype);if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,mo,n);var r=new yo(mo,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new vu(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,i){void 0===i&&(i=!1);var a=new xo(n,e.shape,t.shape,i);return this.compileAndRun(a,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,i=this.texData.get(e.dataId),a=this.texData.get(t.dataId),o=[[i.complexTensors.real,a.complexTensors.real],[i.complexTensors.imag,a.complexTensors.imag]].map((function(i){var a=i[0],o=i[1],s=r.makeComplexComponentTensorInfo(e,a),u=r.makeComplexComponentTensorInfo(t,o),c=new yo(n,e.shape,t.shape);return r.compileAndRun(c,[s,u],Re(a.dtype,o.dtype))})),s=o[0],u=o[1],c=this.complex(s,u);return s.dispose(),u.dispose(),c},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>d().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var i=e.map((function(e){return e.dtype})).reduce((function(e,t){return Re(e,t)})),a=e.map((function(e){return e.shape})),o=d().getBool("WEBGL_PACK")?new qa(e[0].shape,a):new Va(e[0].shape,a);return this.compileAndRun(o,e,i)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,vo);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=Re(e.dtype,t.dtype);if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,vo,e.dtype);var r=new yo(vo,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xo("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new yo("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=Re(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,uu,e.dtype);var t=new tu(e.shape,uu);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,cu,e.dtype);var t=new tu(e.shape,cu);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new tu(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new tu(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new tu(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new tu(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new tu(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,lu,e.dtype);var t=new tu(e.shape,lu);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,fu,e.dtype);var t=new tu(e.shape,fu);return this.compileAndRun(t,[e])},t.prototype.softmax=function(e,t){var n=B([t],e.shape),r=this.max(e,n),i=On(r.shape,n),a=this.subtract(e,r.reshape(i)),o=this.exp(a),s=this.sum(o,n).reshape(i);return Fi(o,s)},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new tu(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new tu(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new tu(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new tu(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new tu(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=d().getBool("WEBGL_PACK")?new vu(e.shape,hu):new tu(e.shape,iu),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=d().getBool("WEBGL_PACK")?new vu(e.shape,pu):new tu(e.shape,au),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xo(wo,e.shape,t.shape):new yo(bo,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,mu,e.dtype);var t=new tu(e.shape,ou);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xo("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new yo("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new tu(e.shape,"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = 1.7580993408473768;\n  float scale = 1.0507009873554805;\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n");return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new tu(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,i=(r=d().getBool("WEBGL_PACK_CLIP")?new ko(e.shape):new Oo(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,i)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,ru,e.dtype);var t=new tu(e.shape,ru);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new Eo(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new tu(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new tu(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new tu(e.shape,"if (isnan(x)) return x;\n  return sin(x);\n");return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new tu(e.shape,"if (isnan(x)) return x;\n  return cos(x);\n");return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new tu(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new tu(e.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n");return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new tu(e.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n");return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new tu(e.shape,"if (isnan(x)) return x;\n  return atan(x);\n");return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xo("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new yo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new tu(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new tu(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new tu(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new tu(e.shape,"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));");return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new tu(e.shape,"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));");return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new tu(e.shape,"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;");return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new tu(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new tu(e.shape,function(e){return void 0===e&&(e=0),nu+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,i,a){var o=e.shape,s=this.texData.get(e.dataId),u=n.inChannels,c=o[0]*o[1]*o[2],l=n.outChannels,f="channelsLast"===n.dataFormat,h=(1===c||1===l)&&u>1e3,p=o[2]%2!=0&&!!s.isPacked;if(h||!d().getBool("WEBGL_LAZILY_UNPACK")||!d().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!p){var m=f?o[0]*o[1]*o[2]:o[0]*o[2]*o[3],v=this.reshape(e,[1,m,n.inChannels]),g=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:v,b:g,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:a}),n.outShape)}var b=f?o[0]*o[1]*(o[2]+1):o[0]*o[2]*(o[3]+1),y={dataId:e.dataId,shape:[1,b,n.inChannels],dtype:e.dtype},w=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,C(Dt(s.shape,y.shape),(function(){return"packed reshape "+s.shape+" to "+y.shape+" isn't free"}));var x=this.reshape(t,[1,n.inChannels,n.outChannels]),O=this.fusedBatchMatMul({a:y,b:x,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:a}),k=this.texData.get(O.dataId);return C(k.isPacked,(function(){return"batchMatMul result is expected to be packed"})),s.shape=w,k.shape=n.outShape,Ue.makeTensorFromDataId(O.dataId,n.outShape,O.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,i,a){var o=n.filterWidth,s=n.filterHeight,u=n.inChannels,c=n.outWidth,l=n.outHeight,f="channelsLast"===n.dataFormat,d=o*s*u,h=l*c,p=[d,h],m=e.squeeze([0]),v=t.reshape([1,d,-1]),g=new ys(p,m.shape,n),b=this.compileAndRun(g,[m]).reshape([1,p[0],p[1]]),y=null!=r,w=null!=a,x=i?yu(i,!0):null,O=new _s(b.shape,[1,h,n.outChannels],!0,!1,y,x,w),k=[b,v];r&&k.push(r),w&&k.push(a);var E=this.compileAndRun(O,k);return f?E.reshape([1,l,c,n.outChannels]):E.reshape([1,n.outChannels,l,c])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,i,a,o);if(d().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,i,a,o);var s=null!=i,u=null!=o,c=a?yu(a,!1):null,l=new Do(r,s,c,u),f=[t,n];return i&&f.push(i),o&&f.push(o),this.compileAndRun(l,f)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(d().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new Do(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new Ao(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new Co(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,i=e.convInfo,a=e.bias,o=e.activation,s=e.preluActivationWeights,u=d().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1,c=o?yu(o,u):null,l=[n,r],f=null!=a,h=null!=s;return f&&l.push(a),h&&l.push(s),u?(t=new Po(i,f,c,h),this.compileAndRun(t,l)):(t=new Fo(i,f,c,h),this.compileAndRun(t,l))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return d().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new Po(n),this.compileAndRun(r,[e,t])):(r=new Fo(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new Mo(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new Ro(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new Io(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new No(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new To(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new Ns(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new Ns(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var i=new Ns(r,"max",!0),a=this.compileAndRun(i,[t]),o=new ks(r),s=this.compileAndRun(o,[e,a],t.dtype);return a.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new co(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return ka(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),i=0,a=0;a<e.rank;a++)a!==t&&(r[i++]=e.shape[a]);var o=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(a=0;a<u.length;a++)o[t]=a,u[a]=this.slice(e,o,s).reshape(r);return u},t.prototype.avgPool3d=function(e,t){var n=new Rs(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new lo(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new Rs(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var i=new Rs(r,"max",!0),a=this.compileAndRun(i,[t]),o=new Es(r),s=this.compileAndRun(o,[e,a],t.dtype);return a.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!Dt(e.shape,t)&&(null===n.texture||!Dt(n.shape,t))){var r=this.packedReshape(e,t);return Ue.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return Ea(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var i=d().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Ps(e.shape,t,n,r):new Fs(e.shape,t,n,r);return this.compileAndRun(i,[e],"float32")},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new Is(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var i=new Ls(e.shape,t,n,r);return this.compileAndRun(i,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new zs(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var i=t?e:aa(e),a=i.shape[0],o=i.shape[1],s=new Ss(a,o,n),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[i],"int32",u)},t.prototype.oneHot=function(e,t,n,r){var i=new js(e.size,t,n,r);return this.compileAndRun(i,[e])},t.prototype.diag=function(e){var t=new qo(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,i){return pn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),Ma(e.dataSync(),t.dataSync(),n,r,i)},t.prototype.cropAndResize=function(e,t,n,r,i,a){var o=new zo(e.shape,t.shape,r,i,a);return this.compileAndRun(o,[e,t,n],"float32")},t.prototype.depthToSpace=function(e,t,n){C(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));var r=e.shape[0],i="NHWC"===n?e.shape[1]:e.shape[2],a="NHWC"===n?e.shape[2]:e.shape[3],o="NHWC"===n?e.shape[3]:e.shape[1],s=i*t,u=a*t,c=o/(t*t),l=new Vo("NHWC"===n?[r,s,u,c]:[r,c,s,u],t,n);return this.compileAndRun(l,[e])},t.prototype.split=function(e,t,n){return La(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=Wi(0,e,n),i=r.sliceRank,a=r.numUpdates,o=r.sliceSize,s=r.strides,u=r.outputSize,c=[u/o,o],l=e.reshape([a,i]),f=t.reshape([a,o]);if(0===u)return Ea(Mn([]),n);var d=In(0),h=new Ws(a,i,l.rank,f.rank,s,c);return this.compileAndRun(h,[f,l,d]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var i=Wi(0,e,n),a=i.sliceRank,o=i.numUpdates,s=i.strides,u=i.outputSize,c=new Ws(o,a,e.rank,t.rank,s,[u,1],!1);return this.compileAndRun(c,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new Xo("return real * expR - imag * expI;",e.shape,t),i=new Xo("return real * expI + imag * expR;",e.shape,t),a=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],o=this.compileAndRun(r,a),s=this.compileAndRun(i,a),u=this.complex(o,s).as2D(e.shape[0],e.shape[1]);return o.dispose(),s.dispose(),u},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],i=Pi(e,t),a=i[0],o=i[1],s=i[2],u=i[3],c=t.reshape([o,r]),l=e.reshape([e.size/s,s]),f=new Jo(r,u,[o,s]);return this.compileAndRun(f,[l,c]).reshape(a)},t.prototype.fill=function(e,t,n){if("string"===(n=n||Q(t))){var r=V(n,R(e));return r.fill(t),Ue.makeTensor(r,e,n,this)}var i=new Yo(e,t),a=i.getCustomSetupFunc(t);return this.compileAndRun(i,[],n,a)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return _a(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return Ue.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new gu(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new Cs(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[At(e.shape)].concat(Tt(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[At(t)].concat(Tt(t)),a=new Ds(i,n),o=this.runWebGLProgram(a,[r],e.dtype,null,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,i=n.shape,a=n.dtype,o=Nt(i);return t=r?new Wo(o):new Uo(o),{dtype:a,shape:i,dataId:this.runWebGLProgram(t,[{shape:o,dtype:a,dataId:e}],a,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,i){var a=this;void 0===i&&(i=!1);var o=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(o.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===qe.DENSE){var u=Je(e.outputShape);s.texShape=u.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===R(o.shape))return s.values=W(o.dtype,0),o;var c=[],l=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&R(t.shape)<=d().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),c.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!Dt(n.shape,t.shape)){var r=t,i=t.shape;t.shape=n.shape,t=a.packedReshape(t,i),c.push(t),n=a.texData.get(t.dataId),r.shape=i}return a.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(o.dataId);var f,h={shape:o.shape,texData:s,isUniform:!1},p=function(e,t,n){var r="";t.concat(n).forEach((function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t}));var i=e.userCode;return e.constructor.name+"_"+r+"_"+i}(e,l,h),m=this.getAndSaveBinary(p,(function(){return function(e,t,n,r){var i=t.userCode,a=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),o=a.map((function(e){return e.shapeInfo})),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},u=Ja(a,s,i,t.packedInputs),c=e.createProgram(u),l=null,f=e.getUniformLocation(c,"NAN",!1);1===d().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(c,"INFINITY",!1));for(var h={},p=0;p<t.variableNames.length;p++){var m=t.variableNames[p];h[m]=e.getUniformLocation(c,m,!1),h["offset"+m]=e.getUniformLocation(c,"offset"+m,!1)}return{program:t,source:u,webGLProgram:c,uniformLocations:h,inShapeInfos:o,outShapeInfo:s,infLoc:l,nanLoc:f}}(a.gpgpu,e,l,h)})),v=null!=this.activeTimers;if(v&&(f=this.startTimer()),function(e,t,n,r,i){bs(t.inShapeInfos,n),bs([t.outShapeInfo],[r]);var a=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a,o[0],o[1]):e.setOutputMatrixTexture(a,o[0],o[1]),e.setProgram(t.webGLProgram),1===d().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var i=t.program.variableNames[r],a=t.uniformLocations[i],o=t.uniformLocations["offset"+i];if(null!=a)if(n.isUniform)if(R(n.shape)<2)e.gl.uniform1f(a,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(a,s)}else null!=n.texData.slice&&null!=o&&e.gl.uniform1i(o,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,a,r)})),null!=i&&i(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,m,l,h,r),c.forEach((function(e){return a.disposeData(e.dataId)})),v&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)})),!d().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===i){var g=this.unpackTensor(o);return this.disposeData(o.dataId),g}return o},t.prototype.compileAndRun=function(e,t,n,r,i){void 0===i&&(i=!1),n=n||t[0].dtype;var a=this.runWebGLProgram(e,t,n,r,i);return Ue.makeTensorFromDataId(a.dataId,a.shape,a.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var e=this;this.disposed||(d().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]})),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=en((function(){if(!d().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=d().getBool("DEBUG");d().set("DEBUG",!1);var n=e.abs(In(1e-8)).dataSync()[0];if(d().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,i=n.dtype,a=n.values,o=n.texture,s=n.usage,u=n.isPacked;if(null==o){var c,l=null!=this.activeTimers;l&&(c=se());var f=n.texShape;if(null==f&&(f=Rt(r,u),n.texShape=f),null!=a){var d=Nt(r),h=void 0,p=f[1],m=f[0],v=a instanceof Uint8Array;u?(p=(t=Qe(f[0],f[1]))[0],m=t[1],h=new Ko(d,[m,p],v)):h=new $o(d,[m,p],v);var g=this.makeTensorInfo([m,p],i);this.texData.get(g.dataId).usage=v?He.PIXELS:He.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(g.dataId),p,m,a);var b=this.runWebGLProgram(h,[g],i,null,!0),y=this.texData.get(b.dataId);n.texture=y.texture,n.texShape=y.texShape,n.isPacked=y.isPacked,n.usage=y.usage,this.disposeData(g.dataId),this.texData.delete(b.dataId),n.values=null,l&&(this.uploadWaitMs+=se()-c)}else{var w=this.acquireTexture(f,s,i,u);n.texture=w}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+i+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*K(t)},t}(ca);function xu(e,t){return e(t={exports:{}},t.exports),t.exports}We()&&Ue.registerBackend("webgl",(function(){return new wu}),2),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;var Ou=xu((function(e){!function(e,t,n){function r(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function a(e,t){var n=new r(e),a=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,a&&("object"==typeof a&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.alea=a}(0,e)})),ku=xu((function(e){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function a(e,t){var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&("object"==typeof a&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.xor128=a}(0,e)})),Eu=xu((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function a(e,t){var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&("object"==typeof a&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.xorwow=a}(0,e)})),_u=xu((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function a(e,t){null==e&&(e=+new Date);var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&(a.x&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.xorshift7=a}(0,e)})),Su=xu((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function a(e,t){null==e&&(e=+new Date);var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&(a.X&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.xor4096=a}(0,e)})),ju=xu((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function a(e,t){var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&("object"==typeof a&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.tychei=a}(0,e)})),Cu=xu((function(e){!function(t,r){var i,a=this,o=256,s="random",u=r.pow(o,6),c=r.pow(2,52),l=2*c,f=255;function d(e,n,f){var d=[],g=m(function e(t,n){var r,i=[],a=typeof t;if(n&&"object"==a)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"string"==a?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,v(t)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(o):(e=new Uint8Array(o),(a.crypto||a.msCrypto).getRandomValues(e)),v(e)}catch(e){var n=a.navigator,r=n&&n.plugins;return[+new Date,a,r,a.screen,v(t)]}}():e,3),d),b=new h(d),y=function(){for(var e=b.g(6),t=u,n=0;e<c;)e=(e+n)*o,t*=o,n=b.g(1);for(;e>=l;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|b.g(4)},y.quick=function(){return b.g(4)/4294967296},y.double=y,m(v(b.S),t),(n.pass||f||function(e,t,n,i){return i&&(i.S&&p(i,b),e.state=function(){return p(b,{})}),n?(r[s]=e,t):e})(y,g,"global"in n?n.global:this==r,n.state)}function h(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);i<o;)s[i]=i++;for(i=0;i<o;i++)s[i]=s[a=f&a+e[i%n]+(t=s[i])],s[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,s=r.S;e--;)t=s[i=f&i+1],n=n*o+s[f&(s[i]=s[a=f&a+t])+(s[a]=t)];return r.i=i,r.j=a,n})(o)}function p(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){for(var n,r=e+"",i=0;i<r.length;)t[f&i]=f&(n^=19*t[f&i])+r.charCodeAt(i++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(r.seedrandom=d,m(r.random(),t),e.exports){e.exports=d;try{i=n(471)}catch(e){}}}([],Math)}));Cu.alea=Ou,Cu.xor128=ku,Cu.xorwow=Eu,Cu.xorshift7=_u,Cu.xor4096=Su,Cu.tychei=ju;var Au=Cu.alea,Tu=An({addN_:function(e){C(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),C(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length}));var t=e.map((function(e,t){return gn(e,"tensors"+t,"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!M(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return Ue.runKernelFunc((function(e,n){return e.addN(t)}),r,null,"AddN")}});function Nu(){Xt("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}function Ru(e){return 0===e.rank||1===e.rank?e.as4D(1,1,1,e.size):2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function Mu(e,t,n,r,i,a){null==a&&(a=.001);var o,s,u=gn(e,"x","batchNorm"),c=gn(t,"mean","batchNorm"),l=gn(n,"variance","batchNorm");null!=i&&(o=gn(i,"scale","batchNorm")),null!=r&&(s=gn(r,"offset","batchNorm")),C(c.rank===l.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),C(null==s||c.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),C(null==o||c.rank===o.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var f={x:u,scale:o,offset:s,mean:c,variance:l},d={varianceEpsilon:a};return Ue.runKernelFunc((function(e,t){var n=Ru(u),r=e.batchNormalization(n,Du(c),Du(l),a,Du(o),Du(s));return t([u,c,l,o]),r}),f,null,"FusedBatchNorm",d).reshape(u.shape)}function Du(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}var Iu=An({batchNormalization_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),Nu(),Mu(e,t,n,a,i,r)}}),Fu=An({batchNorm_:Mu});function Pu(e,t,n,r,i,a){var o,s,u=gn(e,"x","batchNorm"),c=gn(t,"mean","batchNorm"),l=gn(n,"variance","batchNorm");return null!=i&&(o=gn(i,"scale","batchNorm")),null!=r&&(s=gn(r,"offset","batchNorm")),C(2===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),C(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+c.rank+"."})),C(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+l.rank+"."})),null!=o&&C(2===o.rank||1===o.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+o.rank+"."})),null!=s&&C(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."})),Fu(u,c,l,s,o,a)}var zu=An({batchNormalization2d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),Nu(),Pu(e,t,n,a,i,r)}}),Lu=An({batchNorm2d_:Pu});function Bu(e,t,n,r,i,a){var o,s,u=gn(e,"x","batchNorm"),c=gn(t,"mean","batchNorm"),l=gn(n,"variance","batchNorm");return null!=i&&(o=gn(i,"scale","batchNorm")),null!=r&&(s=gn(r,"offset","batchNorm")),C(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),C(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+c.rank+"."})),C(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+l.rank+"."})),null!=o&&C(3===o.rank||1===o.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+o.rank+"."})),null!=s&&C(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."})),Fu(u,c,l,s,o,a)}var Uu=An({batchNormalization3d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),Nu(),Bu(e,t,n,a,i,r)}}),Wu=An({batchNorm3d_:Bu});function Vu(e,t,n,r,i,a){var o,s,u=gn(e,"x","batchNorm"),c=gn(t,"mean","batchNorm"),l=gn(n,"variance","batchNorm");return null!=i&&(o=gn(i,"scale","batchNorm")),null!=r&&(s=gn(r,"offset","batchNorm")),C(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."})),C(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+c.rank+"."})),C(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+l.rank+"."})),null!=o&&C(4===o.rank||1===o.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+o.rank+"."})),null!=s&&C(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."})),Fu(u,c,l,s,o,a)}var qu=An({batchNormalization4d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),Nu(),Vu(e,t,n,a,i,r)}}),Hu=An({batchNorm4d_:Vu}),Gu=An({broadcastTo_:function(e,t){var n=gn(e,"broadcastTo","x"),r=n.shape;if(t.some((function(e){return!(e>0)||e%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var i=n.shape.slice();i.length<t.length;)i.unshift(1);n=n.reshape(i)}for(var a=n.shape,o=Array.from(t),s=t.length-1;s>=0;s--)if(a[s]===t[s])o[s]=1;else if(1!==n.shape[s])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var u=o.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));if(0===u.length)return n.clone();var c={x:n},l={shape:t,inputShape:a};return Ue.runKernelFunc((function(e){return e.tile(n,o)}),c,(function(e){return{x:function(){return e.sum(u,!0)}}}),Cr,l)}}),$u=An({clone_:function(e){var t=gn(e,"x","clone",null);return Ue.runKernelFunc((function(){return Ue.makeTensorFromDataId(t.dataId,t.shape,t.dtype)}),{x:t},null,Tr)}}),Ku=An({logicalAnd_:function(e,t){var n=gn(e,"a","logicalAnd","bool"),r=gn(t,"b","logicalAnd","bool");return zr(n.shape,r.shape),Ue.runKernelFunc((function(e){return e.logicalAnd(n,r)}),{a:n,b:r},null,"LogicalAnd")}}),Xu=An({logicalNot_:function(e){var t=gn(e,"x","logicalNot","bool");return Ue.runKernelFunc((function(e){return e.logicalNot(t)}),{$x:t})}}),Yu=An({logicalOr_:function(e,t){var n=gn(e,"a","logicalOr","bool"),r=gn(t,"b","logicalOr","bool");return zr(n.shape,r.shape),Ue.runKernelFunc((function(e){return e.logicalOr(n,r)}),{$a:n,$b:r})}}),Zu=An({logicalXor_:function(e,t){var n=gn(e,"a","logicalXor","bool"),r=gn(t,"b","logicalXor","bool");return zr(n.shape,r.shape),Yu(e,t).logicalAnd(Ku(e,t).logicalNot())}}),Ju=An({where_:function(e,t,n){var r=gn(t,"a","where"),i=gn(n,"b","where"),a=gn(e,"condition","where","bool");return A(r.shape,i.shape,"Error in where: "),1===a.rank?C(a.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):A(a.shape,i.shape,"Error in where: "),Ue.runKernelFunc((function(e,t){var n=e.select(a,r,i);return t([a]),n}),{$condition:a,$a:r,$b:i},(function(e,t){var n=t[0];return{$condition:function(){return Xn(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}}))}}),Qu=function(e){return u(this,void 0,void 0,(function(){var t,n,r;return c(this,(function(i){switch(i.label){case 0:return[4,(t=gn(e,"condition","whereAsync","bool")).data()];case 1:return n=i.sent(),r=Wa(t.shape,n),e!==t&&t.dispose(),[2,r]}}))}))},ec=An({divNoNan_:function(e,t){var n,r=gn(e,"a","div"),i=gn(t,"b","div");r=(n=De(r,i))[0],i=n[1];var a=Fi(r,i),o=Xn(a),s=i.equal(o);return Ju(s,o,a)}}),tc=An({tile_:function(e,t){var n=gn(e,"x","tile",null);C(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."}));var r=[n],i={x:n},a={reps:t};return Ue.runKernelFunc((function(e,r){var i=e.tile(n,t);return r([n]),i}),i,null,Nr,a,r)}}),nc=An({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var i=nr([e,t],r),a=e<=t?e:t,o=0;o<a;++o)i.set(1,o,o);var s=i.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return tc(ur(s,0),[n[0],1,1]);if(2===n.length)return tc(ur(ur(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return tc(ur(ur(ur(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),rc=An({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var i=gn(e,"logits","multinomial"),a=i.size,o=i.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);n=n||Math.random();var s=1===o?i.as2D(1,-1):i,u=Ue.runKernelFunc((function(e){return e.multinomial(s,r,t,n)}),{logits2D:s});return 1===o?u.as1D():u}}),ic=An({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var i=gn(e,"indices","oneHot","int32"),a=i.shape.concat([t]),o={indices:i=i.flatten()},s={depth:t,onValue:n,offValue:r};return Ue.runKernelFunc((function(e,a){return a([i]),e.oneHot(i,t,n,r)}),o,null,Ar,s).reshape(a)}}),ac=An({pad_:function(e,t,n){void 0===n&&(n=0);var r=gn(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i={paddings:t,constantValue:n},a={x:r};return Ue.runKernelFunc((function(e,i){return i([r]),e.pad(r,t,n)}),a,null,Rr,i)}}),oc=An({pad1d_:function(e,t,n){return void 0===n&&(n=0),C(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),ac(e,[t],n)}}),sc=An({pad2d_:function(e,t,n){return void 0===n&&(n=0),C(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),ac(e,t,n)}}),uc=An({pad3d_:function(e,t,n){return void 0===n&&(n=0),C(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),ac(e,t,n)}}),cc=An({pad4d_:function(e,t,n){return void 0===n&&(n=0),C(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),ac(e,t,n)}}),lc=An({rand_:function(e,t,n){var r=R(e),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);i=new Uint8Array(r)}for(var a=0;a<r;a++)i[a]=t();return Ue.makeTensor(i,e,n)}});function fc(){return 32===Ue.backend.floatPrecision()?.001:.1}function dc(e,t,n){var r=!0;if(($(e)||$(t))&&(r=!1),$(e)&&$(t)&&(r=!0),r){var i=e.constructor.name,a=t.constructor.name;if(i!==a)throw new Error("Arrays are of different type. Actual: "+i+". Expected: "+a)}if(Array.isArray(e)&&Array.isArray(t)){var o=mn(e),s=mn(t);if(!M(o,s))throw new Error("Arrays have different shapes. Actual: ["+o+"]. Expected: ["+s+"]")}var u=$(e)?e:N(e),c=$(t)?t:N(t);if(u.length!==c.length)throw new Error("Arrays have different lengths actual: "+u.length+" vs expected: "+c.length+".\nActual:   "+u+".\nExpected: "+c+".");for(var l=0;l<c.length;++l){var f=u[l],d=c[l];if(!n(f,d))throw new Error("Arrays differ: actual["+l+"] = "+f+", expected["+l+"] = "+d+".\nActual:   "+u+".\nExpected: "+c+".")}}function hc(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}var pc=Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(e,t,n){return null==n&&(n=fc()),dc(e,t,(function(e,t){return hc(e,t,n)}))},testEpsilon:fc,expectPromiseToFail:function(e,t){e().then((function(){return t.fail()}),(function(){return t()}))},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return Y(e)||Y(e[0])||Y(t)||Y(t[0])?dc(e,n,(function(e,t){return e==t})):dc(e,t,(function(e,t){return hc(e,t,0)}))},expectNumbersClose:function(e,t,n){if(null==n&&(n=fc()),!hc(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),mc=function(){function e(e,t,n,r,i){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=i||Math.random();this.random=Au(a.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var i=void 0,a=void 0,o=void 0;do{o=(i=2*this.random()-1)*i+(a=2*this.random()-1)*a}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),vc=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var i=r||Math.random();this.randu=Au(i.toString()),this.randn=new mc(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,i,a;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-a+Math.log(a)),(i=this.randu())<t||Math.log(i)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),gc=function(){function e(e,t,n,r){var i=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==i.dtype||"float32"===i.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=Au(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}(),bc=An({randomGamma_:function(e,t,n,r,i){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var a=new vc(t,n,r,i),o=nr(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),yc=An({randomNormal_:function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new mc(t,n,r,!1,i),o=nr(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),wc=An({randomUniform_:function(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var a=nr(e,r),o=new gc(t,n,null,i),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),xc=An({square_:function(e){var t=gn(e,"x","square"),n=[t];return Ue.runKernelFunc((function(e,n){return n([t]),e.square(t)}),{x:t},null,"Square",{},n,[])}}),Oc=An({squaredDifference_:function(e,t){var n,r=gn(e,"a","squaredDifference"),i=gn(t,"b","squaredDifference");n=De(r,i),r=n[0],i=n[1],zr(r.shape,i.shape);var a={a:r,b:i},o=[r,i];return Ue.runKernelFunc((function(e,t){var n=e.squaredDifference(r,i);return t([r,i]),n}),a,(function(e,t){var n=t[0],r=t[1],i=In(2);return{a:function(){return e.mul(n.sub(r).mul(i))},b:function(){return e.mul(r.sub(n).mul(i))}}}),Er,{},o,[])}}),kc=An({truncatedNormal_:function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var a=new mc(t,n,r,!0,i),o=nr(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),Ec=An({equal_:function(e,t){var n,r=gn(e,"a","equal"),i=gn(t,"b","equal");return n=De(r,i),r=n[0],i=n[1],zr(r.shape,i.shape),Ue.runKernelFunc((function(e){return e.equal(r,i)}),{$a:r,$b:i})}}),_c=An({equalStrict_:function(e,t){var n=gn(e,"a","equalStrict"),r=gn(t,"b","equalStrict");return A(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),Sc=An({greater_:function(e,t){var n,r=gn(e,"a","greater"),i=gn(t,"b","greater");return n=De(r,i),r=n[0],i=n[1],zr(r.shape,i.shape),Ue.runKernelFunc((function(e){return e.greater(r,i)}),{a:r,b:i},null,"Greater")}}),jc=An({greaterEqual_:function(e,t){var n,r=gn(e,"a","greaterEqual"),i=gn(t,"b","greaterEqual");return n=De(r,i),r=n[0],i=n[1],zr(r.shape,i.shape),Ue.runKernelFunc((function(e,t){var n=e.greaterEqual(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){return Xn(n)},b:function(){return Xn(r)}}}),"GreaterEqual")}}),Cc=An({greaterEqualStrict_:function(e,t){var n=gn(e,"a","greaterEqualStrict"),r=gn(t,"b","greaterEqualStrict");return A(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Ac=An({greaterStrict_:function(e,t){var n=gn(e,"a","greaterStrict"),r=gn(t,"b","greaterStrict");return A(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),Tc=An({less_:function(e,t){var n,r=gn(e,"a","less"),i=gn(t,"b","less");return n=De(r,i),r=n[0],i=n[1],zr(r.shape,i.shape),Ue.runKernelFunc((function(e){return e.less(r,i)}),{a:r,b:i},null,"Less")}}),Nc=An({lessEqual_:function(e,t){var n,r=gn(e,"a","lessEqual"),i=gn(t,"b","lessEqual");return n=De(r,i),r=n[0],i=n[1],zr(r.shape,i.shape),Ue.runKernelFunc((function(e,t){var n=e.lessEqual(r,i);return t([r,i]),n}),{a:r,b:i},null,"LessEqual")}}),Rc=An({lessEqualStrict_:function(e,t){var n=gn(e,"a","lessEqualStrict"),r=gn(t,"b","lessEqualStrict");return A(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),Mc=An({lessStrict_:function(e,t){var n=gn(e,"a","lessStrict"),r=gn(t,"b","lessStrict");return A(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),Dc=An({notEqual_:function(e,t){var n,r=gn(e,"a","notEqual"),i=gn(t,"b","notEqual");return n=De(r,i),r=n[0],i=n[1],zr(r.shape,i.shape),Ue.runKernelFunc((function(e){return e.notEqual(r,i)}),{a:r,b:i},null,"NotEqual")}}),Ic=An({notEqualStrict_:function(e,t){var n=gn(e,"a","notEqualStrict"),r=gn(t,"b","notEqualStrict");return A(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function Fc(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function Pc(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var zc=An({gather_:function(e,t,n){void 0===n&&(n=0);var r=gn(e,"x","gather"),i=gn(t,"indices","gather","int32");n=B(n,r.shape)[0];var a=function(e,t,n){for(var r=e.shape[n],i=[],a=1,o=1,s=0;s<n;s++)i.push(e.shape[s]),a*=e.shape[s];for(s=0;s<t.rank;s++)i.push(t.shape[s]);for(s=n+1;s<e.rank;s++)i.push(e.shape[s]),o*=e.shape[s];return{batchSize:a,sliceSize:o,dimSize:r,outputShape:i}}(r,i,n);return Ue.runKernelFunc((function(e,t){var a=e.gather(r,i.flatten(),n);return t([i]),a}),{x:r,indices:i},(function(e,t){var i=t[0];return{x:function(){var t=r.shape,a=i.size,o=t.slice(0,n),s=o.length,u=t.slice(n,t.length).slice(1),c=u.length,l=Fc(0,s),f=Fc(s+1,s+1+c),d=Pc([o,[a],u]),h=e.reshape(d),p=i.reshape([a]),m=Pc([[s],l,f]),v=h.transpose(m),g=Lc(v,p,r.shape[n]),b=_n(m);return g.transpose(b)},indices:function(){return i}}}),"Gather",{axis:n}).reshape(a.outputShape)}}),Lc=An({unsortedSegmentSum_:function(e,t,n){var r=gn(e,"x","unsortedSegmentSum"),i=gn(t,"segmentIds","unsortedSegmentSum","int32");return C(D(n),(function(){return"numSegments must be of dtype int"})),Ue.runKernelFunc((function(e,t){var a=e.unsortedSegmentSum(r,i,n);return t([i]),a}),{$x:r},(function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=ki(t,Xn(t)),r=zc(e,n),i=jc(t,In(0,"int32")),a=r.rank-i.rank,o=0;o<a;++o)i=ur(i,o+1);i=Ku(i,Vn(r.shape,"bool"));var s=Xn(r);return Ju(i,r,s)}(e,n)}}}))}}),Bc=function(e,t,n){return u(this,void 0,void 0,(function(){var r,i,a,o,s,u,l,f,d,h,p,m,v;return c(this,(function(c){switch(c.label){case 0:for(r=gn(e,"tensor","boolMask"),i=gn(t,"mask","boolMask","bool"),a=null==n?0:n,o=i.rank,s=r.shape,C(o>0,(function(){return"mask cannot be scalar"})),A(s.slice(a,a+o),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,l=a;l<a+o;l++)u*=s[l];return f=s.slice(0,a).concat([u],s.slice(a+o)),d=r.reshape(f),h=i.reshape([-1]),[4,Qu(h)];case 1:return p=c.sent(),m=p.squeeze([1]),v=zc(d,m,a),e!==r&&r.dispose(),t!==i&&i.dispose(),m.dispose(),d.dispose(),h.dispose(),p.dispose(),[2,v]}}))}))};function Uc(e,t,n,r,i,a,o){void 0===a&&(a="NHWC"),C(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var s=e,u=t,c=!1;3===t.rank&&(c=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),C(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."})),C(4===u.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank})),C(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank}));var l="NHWC"===a?s[3]:s[1],f="NHWC"===a?u.shape[3]:u.shape[1];C(l===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[2]+"."})),C(f===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+n.shape[3]+"."})),null!=o&&C(D(i),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."}));var d=Oa(a),h=ha(s,n.shape,r,1,i,o,!1,d),p=Ue.runKernelFunc((function(e,t){var r=e.conv2dDerInput(u,n,h);return t([n,u]),r}),{dy4D:u,filter:n},(function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return Hc(e,n,r,i,a,1,o)},filter:function(){return $c(e,s,n.shape,r,i,a,o)}}}));return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function Wc(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],i=t[2];return 1===n&&1===r&&1===i}function Vc(e,t,n,r,i){C(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var a=e,o=t,s=!1;4===t.rank&&(s=!0,o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),a=[1,e[0],e[1],e[2],e[3]]);var u=a[4],c=o.shape[4];C(5===a.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+"."})),C(5===o.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+o.rank})),C(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank})),C(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."})),C(c===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[4]+"."}));var l=pa(a,n.shape,r,1,i),f=Ue.runKernelFunc((function(e){return e.conv3dDerInput(o,n,l)}),{dy5D:o});return s?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}var qc=An({conv1d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NWC"),void 0===a&&(a=1);var s=gn(e,"x","conv1d"),u=gn(t,"filter","conv1d"),c=s,l=!1;2===s.rank&&(l=!0,c=s.as3D(1,s.shape[0],s.shape[1])),C(3===c.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."})),C(3===u.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."})),null!=o&&C(D(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."})),C(c.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+u.shape[1]+"."})),C(xa(n,a),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+a+"'"})),C("NWC"===i,(function(){return"Error in conv1d: got dataFormat of "+i+" but only NWC is currently supported."}));var f=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),d=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),h=Hc(d,f,[1,n],r,"NHWC",[1,a],o);return l?h.as2D(h.shape[2],h.shape[3]):h.as3D(h.shape[0],h.shape[2],h.shape[3])}}),Hc=An({conv2d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NHWC"),void 0===a&&(a=[1,1]);var s=gn(e,"x","conv2d"),u=gn(t,"filter","conv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),C(4===c.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank "+c.rank+"."})),C(4===u.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."})),null!=o&&C(D(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var f="NHWC"===i?c.shape[3]:c.shape[1];C(f===u.shape[2],(function(){return"Error in conv2d: depth of input ("+f+") must match input depth for filter "+u.shape[2]+"."})),C(xa(n,a),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}));var d=Oa(i),h=ha(c.shape,u.shape,n,a,r,o,!1,d),p=[u,c],m=Ue.runKernelFunc((function(e,t){var n=e.conv2d(c,u,h);return t([u,c]),n}),{x:c,filter:u},(function(e,t){var o=t,s=o[0],u=o[1];return C(wa(a),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"})),{x:function(){return Kc(u.shape,e,s,n,r,i)},filter:function(){return $c(u,e,s.shape,n,r,i)}}}),"Conv2D",h,p);return l?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),Gc=An({conv3d_:function(e,t,n,r,i,a){void 0===i&&(i="NDHWC"),void 0===a&&(a=[1,1,1]);var o=gn(e,"x","conv3d"),s=gn(t,"filter","conv3d"),u=o,c=!1;4===o.rank&&(c=!0,u=o.as5D(1,o.shape[0],o.shape[1],o.shape[2],o.shape[3])),C(5===u.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."})),C(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."})),C(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."})),C(function(e,t){return Wc(e)||Wc(t)}(n,a),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),C("NDHWC"===i,(function(){return"Error in conv3d: got dataFormat of "+i+" but only NDHWC is currently supported."}));var l=pa(u.shape,s.shape,n,a,r),f=Ue.runKernelFunc((function(e,t){var n=e.conv3d(u,s,l);return t([u,s]),n}),{x:u,$filter:s},(function(e,t){C(Wc(a),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"}));var i=t[0],o=t[1];return{x:function(){return Vc(i.shape,e,o,n,r)},$filter:function(){return function(e,t,n,r,i){var a=e;4===e.rank&&(a=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var o=t;4===o.rank&&(o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),C(5===a.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+a.shape+"."})),C(5===o.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+o.shape+"."})),C(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."})),C(a.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input "+a.shape[4]+") must match input depth in filter ("+n[3]+"."})),C(o.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+o.shape[4]+") must match output depth for filter ("+n[4]+")."}));var s=pa(a.shape,n,r,1,i);return Ue.runKernelFunc((function(e){return e.conv3dDerFilter(a,o,s)}),{x5D:a,dy5D:o})}(i,e,o.shape,n,r)}}}));return c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),$c=An({conv2dDerFilter_:function(e,t,n,r,i,a,o){void 0===a&&(a="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=t;3===u.rank&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),C(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."})),C(4===u.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."})),C(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."}));var c="NHWC"===a?s.shape[3]:s.shape[1],l="NHWC"===a?u.shape[3]:u.shape[1];C(c===n[2],(function(){return"Error in conv2dDerFilter: depth of input "+c+") must match input depth in filter ("+n[2]+"."})),C(l===n[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+l+") must match output depth for filter ("+n[3]+")."})),null!=o&&C(D(i),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."}));var f=Oa(a),d=ha(s.shape,n,r,1,i,o,!1,f);return Ue.runKernelFunc((function(e){return e.conv2dDerFilter(s,u,d)}),{x4D:s,dy4D:u})}}),Kc=An({conv2dDerInput_:Uc}),Xc=An({depthwiseConv2d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NHWC"),void 0===a&&(a=[1,1]);var s=gn(e,"x","depthwiseConv2d"),u=gn(t,"filter","depthwiseConv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),C(4===c.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."})),C(4===u.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."})),C(c.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."})),null==a&&(a=[1,1]),C(xa(n,a),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),null!=o&&C(D(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var f=ha(c.shape,u.shape,n,a,r,o,!0),d=[c,u],h=Ue.runKernelFunc((function(e,t){var n=e.depthwiseConv2D(c,u,f);return t([c,u]),n}),{x:c,filter:u},(function(e,t){C(wa(a),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+a+"'"}));var n=t[0],r=t[1];return{x:function(){return Yc(n.shape,e,r,f)},filter:function(){return Zc(n,e,r.shape,f)}}}),"DepthwiseConv2dNative",f,d);return l?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),Yc=An({depthwiseConv2dDerInput_:function(e,t,n,r){var i=t,a=!1;3===t.rank&&(a=!0,i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=Ue.runKernelFunc((function(e){return e.depthwiseConv2DDerInput(i,n,r)}),{dy4D:i});return a?o.as3D(o.shape[1],o.shape[2],o.shape[3]):o}}),Zc=An({depthwiseConv2dDerFilter_:function(e,t,n,r){var i=e;3===e.rank&&(i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=t;return 3===a.rank&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),Ue.runKernelFunc((function(e){return e.depthwiseConv2DDerFilter(i,a,r)}),{x4D:i,dy4D:a})}}),Jc=An({separableConv2d_:function(e,t,n,r,i,a,o){void 0===a&&(a=[1,1]),void 0===o&&(o="NHWC");var s=gn(e,"x","separableConv2d"),u=gn(t,"depthwiseFilter","separableConv2d"),c=gn(n,"pointwiseFilter","separableConv2d"),l=s,f=!1;if(3===s.rank&&(f=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");C(4===l.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+l.rank+"."})),C(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."})),C(4===c.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."})),C(1===c.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+c.shape[0]+"."})),C(1===c.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+c.shape[1]+"."}));var d=u.shape[2],h=u.shape[3];C(c.shape[2]===d*h,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+d*h+", but got "+c.shape[2]+"."}));var p=Xc(l,u,r,i,o,a),m=Hc(p,c,1,"valid",o);return f?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),Qc=An({conv2dTranspose_:function(e,t,n,r,i,a){return Uc(n,gn(e,"x","conv2dTranspose"),gn(t,"filter","conv2dTranspose"),r,i,"NHWC",a)}}),el=An({conv3dTranspose_:function(e,t,n,r,i){return Vc(n,gn(e,"x","conv3dTranspose"),gn(t,"filter","conv3dTranspose"),r,i)}}),tl=An({matMul_:function(e,t,n,r){var i;void 0===n&&(n=!1),void 0===r&&(r=!1);var a=gn(e,"a","matMul"),o=gn(t,"b","matMul");i=De(a,o),a=i[0],o=i[1];var s=n?a.shape[a.rank-2]:a.shape[a.rank-1],u=r?o.shape[o.rank-1]:o.shape[o.rank-2],c=n?a.shape[a.rank-1]:a.shape[a.rank-2],l=r?o.shape[o.rank-2]:o.shape[o.rank-1],f=a.shape.slice(0,-2),d=o.shape.slice(0,-2),h=R(f),p=R(d);C(a.rank>=2&&o.rank>=2&&a.rank===o.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+a.rank+" and "+o.rank+"."})),C(M(f,d),(function(){return"Error in matMul: outer dimensions ("+f+") and ("+d+") of Tensors with shapes "+a.shape+" and "+o.shape+" must match."})),C(s===u,(function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+a.shape+" and "+o.shape+" and transposeA="+n+" and transposeB="+r+" must match."}));var m=a.shape.slice(0,-2).concat([c,l]),v=n?a.as3D(h,s,c):a.as3D(h,c,s),g=r?o.as3D(p,l,u):o.as3D(p,u,l),b={transposeA:n,transposeB:r};return Ue.runKernelFunc((function(e,t){var i=e.batchMatMul(v,g,n,r);return t([v,g]),i}),{a:v,b:g},(function(e,t){var i=t,a=i[0],o=i[1];return n||r?!n&&r?{a:function(){return e.matMul(o,!1,!1)},b:function(){return e.matMul(a,!0,!1)}}:n&&!r?{a:function(){return o.matMul(e,!1,!0)},b:function(){return a.matMul(e,!1,!1)}}:{a:function(){return o.matMul(e,!0,!0)},b:function(){return e.matMul(a,!0,!0)}}:{a:function(){return e.matMul(o,!1,!0)},b:function(){return a.matMul(e,!0,!1)}}}),"BatchMatMul",b).reshape(m)}}),nl=An({dot_:function(e,t){var n=gn(e,"t1","dot"),r=gn(t,"t2","dot");C(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."}));var i=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];return C(i===a,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+i+" and "+a+"."})),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),rl=An({outerProduct_:function(e,t){var n=gn(e,"v1","outerProduct"),r=gn(t,"v2","outerProduct");return C(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."})),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),il=An({reverse_:function(e,t){var n=gn(e,"x","reverse");if(0===n.rank)return n.clone();var r=B(t,n.shape);return Ue.runKernelFunc((function(e){return e.reverse(n,r)}),{$x:n},(function(e){return{$x:function(){return e.reverse(r)}}})).reshapeAs(n)}}),al=An({reverse1d_:function(e){var t=gn(e,"x","reverse");return C(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."})),il(t,0)}}),ol=An({reverse2d_:function(e,t){var n=gn(e,"x","reverse");return C(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."})),il(n,t)}}),sl=An({reverse3d_:function(e,t){var n=gn(e,"x","reverse");return C(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."})),il(n,t)}}),ul=An({reverse4d_:function(e,t){var n=gn(e,"x","reverse");return C(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."})),il(n,t)}});function cl(e,t,n,r,i,a){var o=gn(e,"x","maxPool"),s=o,u=!1;3===o.rank&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),null==r&&(r=[1,1]),C(4===s.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."})),C(xa(n,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"})),null!=a&&C(D(i),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."}));var c=fa(s.shape,t,n,r,i,a);if(1===c.filterWidth&&1===c.filterHeight&&M(c.inShape,c.outShape))return o.clone();var l=[s],f=Ue.runKernelFunc((function(e,t){var n=e.maxPool(s,c);return t([s,n]),n}),{x:s},(function(e,a){var o=a[0],s=a[1];return{x:function(){return function(e,t,n,r,i,a,o,s){var u=gn(e,"dy","maxPoolBackprop"),c=gn(t,"input","maxPoolBackprop"),l=gn(n,"output","maxPoolBackprop");C(c.rank===u.rank,(function(){return"Rank of input ("+c.rank+") does not match rank of dy ("+u.rank+")"})),null==a&&(a=[1,1]),C(xa(i,a),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"})),C(4===u.rank,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."})),C(4===c.rank,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+c.rank+"."}));var f=fa(c.shape,r,i,a,o,s);return Ue.runKernelFunc((function(e){return e.maxPoolBackprop(u,c,l,f)}),{$dy:u,$input:c})}(e,o,s,t,n,r,i)}}}),"MaxPool",c,l);return u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function ll(e,t,n,r,i,a){var o=gn(e,"x","avgPool","float32");null==r&&(r=[1,1]),C(xa(n,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}));var s=o,u=!1;3===o.rank&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),C(4===s.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."})),null!=a&&C(D(i),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."}));var c=fa(s.shape,t,n,r,i,a);if(1===c.filterWidth&&1===c.filterHeight&&M(c.inShape,c.outShape))return o.clone();var l=Ue.runKernelFunc((function(e){return e.avgPool(s,c)}),{x:s},(function(e){return{x:function(){return function(e,t,n,r,i,a){var o=gn(e,"dy","avgPoolBackprop"),s=gn(t,"input","avgPoolBackprop");C(s.rank===o.rank,(function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+o.rank+")"})),null==i&&(i=[1,1]),C(xa(r,i),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"}));var u=s,c=o,l=!1;3===s.rank&&(l=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),c=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),C(4===c.rank,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+c.rank+"."})),C(4===u.rank,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+u.rank+"."}));var f=fa(u.shape,n,r,i,a),d=Ue.runKernelFunc((function(e){return e.avgPoolBackprop(c,u,f)}),{dy4D:c,input4D:u});return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}(e,s,t,n,r,i)}}}),"AvgPool",c);return l=l.cast(o.dtype),u?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}var fl=An({maxPool_:function(e,t,n,r,i){return cl(e,t,n,1,r,i)}}),dl=An({avgPool_:function(e,t,n,r,i){return ll(e,t,n,1,r,i)}}),hl=An({pool_:function(e,t,n,r,i,a){null==i&&(i=[1,1]),null==a&&(a=1),0===r&&(r="valid");var o=gn(e,"x","maxPool"),s=o,u=!1;3===o.rank&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),C(xa(a,i),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+i+"'"}));var c,l=fa(s.shape,t,a,i,r),f=[l.dilationHeight,l.dilationWidth];c="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),i=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],i[t]]}))}([l.filterHeight,l.filterWidth],f):[[0,0],[0,0]];var d=1===f[0]&&1===f[1],h=function(e,t,n){var r=n.map((function(e){return e[0]})),i=n.map((function(e){return e[1]})),a=e.concat(r,i),o=t.map((function(e,t){return(e-a[t]%e)%e})),s=i.map((function(e,t){return e+o[t]}));return[t.map((function(e,t){return[r[t],s[t]]})),t.map((function(e,t){return[0,o[t]]}))]}([l.inHeight,l.inWidth],f,c),p=h[0],m=h[1],v=d?r:"valid",g=d?s:lr(s,f,p),b=("avg"===n?function(){return ll(g,t,a,1,v)}:function(){return cl(g,t,a,1,v)})(),y=d?b:ir(b,f,m);return u?y.as3D(y.shape[1],y.shape[2],y.shape[3]):y}}),pl=An({maxPool3d_:function(e,t,n,r,i,a,o){void 0===a&&(a="NDHWC");var s=gn(e,"x","maxPool3d"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==o&&(o=[1,1,1]),C(5===u.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."})),C("NDHWC"===a,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),C(xa(n,o),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"})),null!=i&&C(D(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var l=da(u.shape,t,n,o,r,i,a),f=Ue.runKernelFunc((function(e,t){var n=e.maxPool3d(u,l);return t([u,n]),n}),{x:u},(function(e,a){var s=a[0],u=a[1];return{x:function(){return function(e,t,n,r,i,a,o,s){var u=gn(e,"dy","maxPool3dBackprop"),c=gn(t,"input","maxPool3dBackprop"),l=gn(n,"output","maxPool3dBackprop"),f=u,d=c,h=l,p=!1;4===c.rank&&(p=!0,f=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),d=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]),h=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3])),C(5===f.rank,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+f.rank+"."})),C(5===d.rank,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+d.rank+"."})),C(5===h.rank,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+h.rank+"."})),null==a&&(a=[1,1,1]),C(xa(i,a),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"})),null!=s&&C(D(o),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+o+"."}));var m=da(d.shape,r,i,a,o,s),v=Ue.runKernelFunc((function(e){return e.maxPool3dBackprop(f,d,h,m)}),{dy5D:f,input5D:d});return p?v.as4D(v.shape[1],v.shape[2],v.shape[3],v.shape[4]):v}(e,s,u,t,n,o,r,i)}}}));return c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),ml=An({avgPool3d_:function(e,t,n,r,i,a,o){void 0===a&&(a="NDHWC");var s=gn(e,"x","avgPool3d","float32"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==o&&(o=[1,1,1]),C(5===u.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."})),C("NDHWC"===a,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),C(xa(n,o),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"})),null!=i&&C(D(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var l=da(u.shape,t,n,o,r,i,a),f=Ue.runKernelFunc((function(e){return e.avgPool3d(u,l)}),{x:u},(function(e){return{x:function(){return function(e,t,n,r,i,a,o){var s=gn(e,"dy","avgPool3dBackprop"),u=gn(t,"input","avgPool3dBackprop"),c=s,l=u,f=!1;4===u.rank&&(f=!0,c=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),l=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),C(5===c.rank,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+c.rank+"."})),C(5===l.rank,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+l.rank+"."})),null==i&&(i=[1,1,1]),C(xa(r,i),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"})),null!=o&&C(D(a),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."}));var d=da(l.shape,n,r,i,a,o),h=Ue.runKernelFunc((function(e){return e.avgPool3dBackprop(c,l,d)}),{dy5D:c,input5D:l});return f?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}(e,u,t,n,o,r,i)}}}));return f=f.cast(u.dtype),c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),vl=An({maxPoolWithArgmax_:function(e,t,n,r,i){void 0===i&&(i=!1);var a=gn(e,"x","maxPoolWithArgmax"),o={filterSize:t,strides:n,pad:r,includeBatchInIndex:i},s=Ue.runKernel("MaxPoolWithArgmax",{x:a},o);return{result:s[0],indexes:s[1]}}}),gl=An({slice_:function(e,t,n){var r,i,a=gn(e,"x","slice");if(0===a.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(a.rank-1).fill(0)):t.length<a.rank?t.concat(new Array(a.rank-t.length).fill(0)):t.slice()).forEach((function(e){C(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),i=(i=null==n?new Array(a.rank).fill(-1):"number"==typeof n?[n].concat(new Array(a.rank-1).fill(-1)):n.length<a.rank?n.concat(new Array(a.rank-n.length).fill(-1)):n).map((function(e,t){return e>=0?e:(C(-1===e,(function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."})),a.shape[t]-r[t])})),qi(a,r,i);var o=a.shape,s={begin:r,size:i};return Ue.runKernelFunc((function(e){return e.slice(a,r,i)}),{x:a},(function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],o[n]-r[n]-i[n]]);return{x:function(){return ac(e,t)}}}),"Slice",s)}}),bl=An({slice1d_:function(e,t,n){var r=gn(e,"x","slice1d");return C(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),gl(r,[t],[n])}}),yl=An({slice2d_:function(e,t,n){var r=gn(e,"x","slice2d");return C(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),gl(r,t,n)}}),wl=An({slice3d_:function(e,t,n){var r=gn(e,"x","slice3d");return C(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),gl(r,t,n)}}),xl=An({slice4d_:function(e,t,n){var r=gn(e,"x","slice4d");return C(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),gl(r,t,n)}});function Ol(e,t,n,r,i){return t.rank<n.rank&&(t=t.reshape(On(t.shape,r))),e.rank<n.rank&&(e=e.reshape(On(e.shape,r))),{x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==i?r:r.transpose(i)}}}var kl=An({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=gn(e,"x","all","bool"),i=B(t,r.shape),a=i,o=En(a,r.rank);null!=o&&(r=r.transpose(o),a=Sn(a.length,r.rank));var s=Ue.runKernelFunc((function(e){return e.all(r,a)}),{$x:r});if(n){var u=On(s.shape,i);return s.reshape(u)}return s}}),El=An({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=gn(e,"x","any","bool"),i=B(t,r.shape),a=i,o=En(a,r.rank);null!=o&&(r=r.transpose(o),a=Sn(a.length,r.rank));var s=Ue.runKernelFunc((function(e){return e.any(r,a)}),{$x:r});if(n){var u=On(s.shape,i);return s.reshape(u)}return s}}),_l=An({argMax_:function(e,t){void 0===t&&(t=0);var n=gn(e,"x","argMax");null==t&&(t=0);var r=B(t,n.shape),i=En(r,n.rank);null!=i&&(n=n.transpose(i),r=Sn(r.length,n.rank));var a={axis:r[0]},o=[n];return Ue.runKernelFunc((function(e,t){var i=e.argMax(n,r[0]);return t([n]),i}),{x:n},(function(e,t){var n=t[0];return{x:function(){return Xn(n)}}}),"ArgMax",a,o)}}),Sl=An({argMin_:function(e,t){void 0===t&&(t=0);var n=gn(e,"x","argMin");null==t&&(t=0);var r=B(t,n.shape),i=En(r,n.rank);return null!=i&&(n=n.transpose(i),r=Sn(r.length,n.rank)),Ue.runKernelFunc((function(e,t){var i=e.argMin(n,r[0]);return t([n]),i}),{$x:n},(function(e,t){var n=t[0];return{$x:function(){return Xn(n)}}}))}}),jl=An({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=gn(e,"x","logSumExp"),i=B(t,r.shape),a=r.max(i,!0),o=r.sub(a).exp().sum(i).log(),s=a.reshape(o.shape).add(o);if(n){var u=On(s.shape,i);return s.reshape(u)}return s}}),Cl=An({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=gn(e,"x","max"),i=r,a=B(t,r.shape),o=a,s=En(o,r.rank);null!=s&&(r=r.transpose(s),o=Sn(o.length,r.rank));var u=[r],c=Ue.runKernelFunc((function(e,t){var n=e.max(r,o);return t([i,n]),n}),{x:r},(function(e,t){return Ol(e,t[1],t[0],a,s)}),"Max",{axes:o},u,[!0]);if(n){var l=On(c.shape,a);c=c.reshape(l)}return c}}),Al=An({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=gn(e,"x","mean"),i=B(t,r.shape),a=R(xn(r.shape,i)[1]);return ra((function(e){var r=In(a);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return i.forEach((function(e){n[e]=1})),t.reshape(n).mul(Vn(e.shape,"float32")).div(a)}}}))(r)}}),Tl=An({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=gn(e,"x","min"),i=r,a=B(t,r.shape),o=a,s=En(o,r.rank);null!=s&&(r=r.transpose(s),o=Sn(o.length,r.rank));var u=[r],c=Ue.runKernelFunc((function(e,t){var n=e.min(r,o);return t([i,n]),n}),{x:r},(function(e,t){return Ol(e,t[1],t[0],a,s)}),"Min",{axes:o},u,[!0]);if(n){var l=On(c.shape,a);c=c.reshape(l)}return c}}),Nl=An({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=B(t,(e=gn(e,"x","moments")).shape),i=e.mean(r,n),a=i.shape;n||(a=On(i.shape,r));var o=e.toFloat().sub(i.reshape(a)).square();return{mean:i,variance:o.mean(r,n)}}}),Rl=An({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=gn(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var i=B(t,r.shape);return ra((function(e){var t=En(i,e.rank),r=i,a=e;null!=t&&(a=e.transpose(t),r=Sn(r.length,e.rank));var o=function(t){var n=e.shape.slice();return i.forEach((function(e){n[e]=1})),t.reshape(n).mul(Vn(e.shape,"float32"))},s={axes:r},u=Ue.runKernelFunc((function(e){return e.sum(a,r)}),{x:a},(function(e){return{x:function(){return o(e)}}}),"Sum",s);if(n){var c=On(u.shape,i);u=u.reshape(c)}return{value:u,gradFunc:o}}))(r)}}),Ml=An({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=gn(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var i=B(t,r.shape),a=En(i,r.rank),o=i,s=r;null!=a&&(s=r.transpose(a),o=Sn(o.length,r.rank));var u=Ue.runKernelFunc((function(e){return e.prod(s,o)}),{permutedX:s});if(n){var c=On(u.shape,i);u=u.reshape(c)}return u}}),Dl=An({elu_:function(e){var t=gn(e,"x","elu");return Ue.runKernelFunc((function(e,n){var r=e.elu(t);return n([r]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return Ue.runKernelFunc((function(t){return t.eluDer(e,n)}),{dy:e,y:n})}}}))}}),Il=An({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=gn(e,"x","leakyRelu");return ki(In(t).mul(n),n)}}),Fl=An({prelu_:function(e,t){var n=gn(e,"x","prelu"),r=gn(t,"alpha","prelu");return Ue.runKernelFunc((function(e,t){var i=e.prelu(n,r);return t([n,r]),i}),{x:n,alpha:r},(function(e,t){var n=t[0],r=t[1],i=n.greater(0);return{x:function(){return Ju(i,e,e.mul(r))},alpha:function(){var t=Ju(i,Xn(e),e.mul(n)),a=Pr(r.shape,e.shape);return a.length>0&&(t=t.sum(a)),t.reshape(r.shape)}}}),"Prelu")}}),Pl=An({relu_:function(e){var t=gn(e,"x","relu");return"bool"===t.dtype?t.toInt():Ue.runKernelFunc((function(e,n){var r=e.relu(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mulStrict(n.step().toFloat())}}}),"Relu")}}),zl=An({relu6_:function(e){var t=gn(e,"x","relu6");return"bool"===t.dtype?t.toInt():Ue.runKernelFunc((function(e,n){var r=e.relu6(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return e.mulStrict(r.toFloat())}}}),"Relu6")}}),Ll=An({selu_:function(e){var t=gn(e,"x","selu");return Ue.runKernelFunc((function(e,n){var r=e.selu(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){var t=n.greater(In(0)),r=In(Qs),i=In(eu),a=e.mul(i),o=e.mul(r).mul(n.toFloat().exp());return Ju(t,a,o)}}}))}}),Bl=An({localResponseNormalization_:function(e,t,n,r,i){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=.5);var a=gn(e,"x","localResponseNormalization");C(4===a.rank||3===a.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+a.rank+"."})),C(D(t),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."}));var o=a,s=!1;3===a.rank&&(s=!0,o=a.as4D(1,a.shape[0],a.shape[1],a.shape[2]));var u=Ue.runKernelFunc((function(e,a){var s=e.localResponseNormalization4D(o,t,n,r,i);return a([o,s]),s}),{x4D:o},(function(e,a){var o=a[0],s=a[1];return{x4D:function(){return Ue.runKernelFunc((function(a){return a.LRNGrad(e,o,s,t,n,r,i)}),{})}}}));return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Ul=An({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var i=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(In(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=gn(e,"x","norm"),t,n),a=i.shape;if(r){var o=B(n,e.shape);a=On(i.shape,o)}return i.reshape(a)}}),Wl=An({basicLSTMCell_:function(e,t,n,r,i,a){var o=gn(e,"forgetBias","basicLSTMCell"),s=gn(t,"lstmKernel","basicLSTMCell"),u=gn(n,"lstmBias","basicLSTMCell"),c=gn(r,"data","basicLSTMCell"),l=gn(i,"c","basicLSTMCell"),f=gn(a,"h","basicLSTMCell"),d=c.concat(f,1).matMul(s).add(u),h=d.shape[0],p=d.shape[1]/4,m=[h,p],v=d.slice([0,0],m),g=d.slice([0,p],m),b=d.slice([0,2*p],m),y=d.slice([0,3*p],m),w=v.sigmoid().mulStrict(g.tanh()).addStrict(l.mulStrict(o.add(b).sigmoid())),x=w.tanh().mulStrict(y.sigmoid());return[w,x]}}),Vl=An({multiRNNCell_:function(e,t,n,r){for(var i=gn(t,"data","multiRNNCell"),a=bn(n,"c","multiRNNCell"),o=bn(r,"h","multiRNNCell"),s=i,u=[],c=0;c<e.length;c++){var l=e[c](s,a[c],o[c]);u.push(l[0]),u.push(l[1]),s=l[1]}var f=[],d=[];for(c=0;c<u.length;c+=2)f.push(u[c]),d.push(u[c+1]);return[f,d]}}),ql=An({movingAverage_:function(e,t,n,r,i){void 0===i&&(i=!0);var a=gn(e,"v","movingAverage"),o=gn(t,"x","movingAverage"),s=gn(n,"decay","movingAverage");Ie(a,o),C(M(a.shape,o.shape),(function(){return"Shape mismatch in v and x"}));var u=In(1),c=u.sub(s),l=o.sub(a).mul(c);if(i){C(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var f=gn(r,"step","movingAverage");l=l.div(u.sub(Ni(s,f)))}return a.add(l)}}),Hl=An({stridedSlice_:function(e,t,n,r,i,a,o,s,u){if(void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===u&&(u=0),null==r&&(r=new Array(t.length)),0!==o)throw new Error("ellipsis mask is not yet supported");var c=gn(e,"x","stridedSlice"),l=Hi(s),f=c.shape.slice();l.forEach((function(e){t[e]=0,n[e]=1,f.splice(e,0,1)})),c=c.reshape(f);for(var d=0;d<c.rank;d++)t[d]=$i(i,t,r,c.shape,d),n[d]=Ki(a,n,r,c.shape,d),r[d]=r[d]||1;var h=Hi(u);h.forEach((function(e){n[e]=t[e]+1,r[e]=1}));var p=Gi(t,n,r),m=p.filter((function(e,t){return-1===h.indexOf(t)}));return r.every((function(e){return 1===e}))?gl(c,t,p).reshape(m):Ue.runKernelFunc((function(e){return e.stridedSlice(c,t,n,r)}),{$x:c}).reshape(m)}}),Gl=An({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=gn(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var i=r.shape[r.shape.length-1];if(t>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+t);var a=Ue.runKernelFunc((function(e){return e.topk(r,t,n)}),{$x:r});return{values:a[0],indices:a[1]}}}),$l=An({scatterND_:function(e,t,n){var r=gn(e,"indices","scatterND","int32"),i=gn(t,"updates","scatterND");return Ui(i,r,n),Ue.runKernelFunc((function(e){return e.scatterND(r,i,n)}),{indices:r,updates:i},null,"ScatterNd",{shape:n})}}),Kl=An({fft_:function(e){C("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Ue.runKernelFunc((function(e){return e.fft(r)}),{input:e}).reshape(e.shape)}}),Xl=An({ifft_:function(e){C("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Ue.runKernelFunc((function(e){return e.ifft(r)}),{input:e}).reshape(e.shape)}}),Yl=An({rfft_:function(e,t){C("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got "+e.dtype}));var n,r=e.shape[e.shape.length-1],i=e.size/r;if(null!=t&&t<r){var a=e.shape.map((function(e){return 0})),o=e.shape.map((function(e){return e}));o[e.shape.length-1]=t,n=e.slice(a,o),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=e.concat(qn(s),e.shape.length-1),r=t}else n=e;var u=n.zerosLike(),c=Tn(n,u).as2D(i,r),l=Kl(c),f=Math.floor(r/2)+1,d=Nn(l),h=Rn(l),p=d.split([f,r-f],d.shape.length-1),m=h.split([f,r-f],h.shape.length-1),v=n.shape.slice();return v[n.shape.length-1]=f,Tn(p[0],m[0]).reshape(v)}}),Zl=An({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),i=Xl(r);return Nn(i)}var a=[n,2*(t-1)],o=Nn(e).as2D(n,t),s=Rn(e).as2D(n,t),u=o.slice([0,1],[n,t-2]).reverse(1),c=s.slice([0,1],[n,t-2]).reverse(1).mul(In(-1)),l=o.concat(u,1),f=s.concat(c,1);return r=Tn(l,f).as2D(a[0],a[1]),i=Xl(r),Nn(i)}}),Jl=Object.freeze({fft:Kl,ifft:Xl,rfft:Yl,irfft:Zl}),Ql=An({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var i=gn(e,"sparseIndices","sparseToDense","int32"),a=gn(t,"sparseValues","sparseToDense"),o=gn(r,"defaultValue","sparseToDense",a.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var i=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+a+".");var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==i))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+i+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,a,n,o),Ue.runKernelFunc((function(e){return e.sparseToDense(i,a,n,o)}),{$sparseIndices:i,$sparseValues:a,$defaultValue:o})}}),ef=An({gatherND_:function(e,t){var n=gn(t,"indices","gatherND","int32"),r=gn(e,"x","gatherND");return Ue.runKernelFunc((function(e){return e.gatherND(r,n)}),{x:r,indices:n},null,"GatherNd")}}),tf=An({diag_:function(e){var t=gn(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return Ue.runKernelFunc((function(e){return e.diag(t)}),{$x:t}).reshape(n)}}),nf=An({dropout_:function(e,t,n,r){var i=gn(e,"x","dropout");if(C("float32"===i.dtype,(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+i.dtype+" tensor instead."})),C(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got "+t+"."})),0===t)return e instanceof ke?i.clone():i;var a=function(e,t){if(null==t)return e.shape.slice();if(M(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(i,n),o=1-t,s=wc(a,0,1,"float32",r).add(o).floor().div(o);return i.mul(s)}});function rf(e,t,n){for(var r=1-e%2,i=new Float32Array(e),a=0;a<e;++a){var o=2*Math.PI*a/(e+r-1);i[a]=t-n*Math.cos(o)}return Fn(i,"float32")}var af,of=An({hannWindow_:function(e){return rf(e,.5,.5)}}),sf=An({hammingWindow_:function(e){return rf(e,.54,.46)}}),uf=An({frame_:function(e,t,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=0);for(var a=0,o=[];a+t<=e.size;)o.push(gl(e,a,t)),a+=n;if(r)for(;a<e.size;){var s=a+t-e.size,u=Yn([gl(e,a,t-s),Hn([s],i)]);o.push(u),a+=n}return 0===o.length?Pn([],[0,t]):Yn(o).as2D(o.length,t)}}),cf=An({stft_:function(e,t,n,r,i){var a;void 0===i&&(i=of),null==r&&(a=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))));for(var o=uf(e,t,n),s=Ai(o,i(t)),u=[],c=0;c<o.shape[0];c++)u.push(Yl(s.slice([c,0],[1,t]),r));return Yn(u)}}),lf=Object.freeze({hannWindow:of,hammingWindow:sf,frame:uf,stft:cf}),ff=function(e,t,n){return void 0===n&&(n=1),u(this,void 0,void 0,(function(){var r,i,a,o,s,u,l,f,d,h,p,m,v,g;return c(this,(function(c){switch(c.label){case 0:return r=gn(e,"predictions","inTopK"),i=gn(t,"targets","inTopK"),C(r.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank})),C(r.rank-1===i.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+i.rank})),A(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),a=r.shape[r.shape.length-1],C(n>0&&n<=a,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+a+"), but got "+n})),[4,r.data()];case 1:return o=c.sent(),[4,i.data()];case 2:for(s=c.sent(),u=[o.length/a,a],f=u[1],d=W("bool",l=u[0]),h=0;h<l;h++){for(p=h*f,m=o.subarray(p,p+f),v=[],g=0;g<m.length;g++)v.push({value:m[g],index:g});for(v.sort((function(e,t){return t.value-e.value})),d[h]=0,g=0;g<n;g++)if(v[g].index===s[h]){d[h]=1;break}}return e!==r&&r.dispose(),t!==i&&i.dispose(),[2,Mn(d,i.shape,"bool")]}}))}))};!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(af||(af={}));var df=An({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=af.SUM_BY_NONZERO_WEIGHTS);var i=gn(e,"labels","absoluteDifference"),a=gn(t,"predictions","absoluteDifference"),o=null;null!=n&&(o=gn(n,"weights","absoluteDifference")),A(i.shape,a.shape,"Error in absoluteDifference: ");var s=i.sub(a).abs();return hf(s,o,r)}}),hf=An({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=af.SUM_BY_NONZERO_WEIGHTS);var r=gn(e,"losses","computeWeightedLoss"),i=null;null!=t&&(i=gn(t,"weights","computeWeightedLoss"));var a=null==i?r:r.mul(i);if(n===af.NONE)return a;if(n===af.SUM)return a.sum();if(n===af.MEAN){if(null==i)return a.mean();var o=r.size/i.size,s=a.sum().div(i.sum());return o>1?s.div(In(o)):s}if(n===af.SUM_BY_NONZERO_WEIGHTS){if(null==i)return a.sum().div(In(r.size));var u=i.mul(Vn(r.shape)).notEqual(In(0)).sum().toFloat();return a.sum().div(u)}throw Error("Unknown reduction: "+n)}}),pf=An({cosineDistance_:function(e,t,n,r,i){void 0===i&&(i=af.SUM_BY_NONZERO_WEIGHTS);var a=gn(e,"labels","cosineDistance"),o=gn(t,"predictions","cosineDistance"),s=null;null!=r&&(s=gn(r,"weights","cosineDistance")),A(a.shape,o.shape,"Error in cosineDistance: ");var u=In(1).sub(a.mul(o).sum(n,!0));return hf(u,s,i)}}),mf=An({hingeLoss_:function(e,t,n,r){void 0===r&&(r=af.SUM_BY_NONZERO_WEIGHTS);var i=gn(e,"labels","hingeLoss"),a=gn(t,"predictions","hingeLoss"),o=null;null!=n&&(o=gn(n,"weights","hingeLoss")),A(i.shape,a.shape,"Error in hingeLoss: ");var s=In(1);i=In(2).mul(i).sub(s);var u=s.sub(i.mul(a)).relu();return hf(u,o,r)}}),vf=An({huberLoss_:function(e,t,n,r,i){void 0===r&&(r=1),void 0===i&&(i=af.SUM_BY_NONZERO_WEIGHTS);var a=gn(e,"labels","huberLoss"),o=gn(t,"predictions","huberLoss"),s=null;null!=n&&(s=gn(n,"weights","huberLoss")),A(a.shape,o.shape,"Error in huberLoss: ");var u=In(r),c=o.sub(a).abs(),l=_i(c,u),f=c.sub(l),d=In(.5).mul(l.square()).add(u.mul(f));return hf(d,s,i)}}),gf=An({logLoss_:function(e,t,n,r,i){void 0===r&&(r=1e-7),void 0===i&&(i=af.SUM_BY_NONZERO_WEIGHTS);var a=gn(e,"labels","logLoss"),o=gn(t,"predictions","logLoss"),s=null;null!=n&&(s=gn(n,"weights","logLoss")),A(a.shape,o.shape,"Error in logLoss: ");var u=In(1),c=In(r),l=a.mul(o.add(c).log()).neg().sub(u.sub(a).mul(u.sub(o).add(c).log()));return hf(l,s,i)}}),bf=An({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=af.SUM_BY_NONZERO_WEIGHTS);var i=gn(e,"labels","meanSquaredError"),a=gn(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=gn(n,"weights","meanSquaredError")),A(i.shape,a.shape,"Error in meanSquaredError: ");var s=i.squaredDifference(a);return hf(s,o,r)}}),yf=An({sigmoidCrossEntropy_:function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=af.SUM_BY_NONZERO_WEIGHTS);var a=gn(e,"multiClassLabels","sigmoidCrossEntropy"),o=gn(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=gn(n,"weights","sigmoidCrossEntropy")),A(a.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=In(r),c=In(1),l=In(.5);a=a.mul(c.sub(u)).add(l.mul(u))}var f=function(e,t){var n=gn(e,"labels","sigmoidCrossEntropyWithLogits"),r=gn(t,"logits","sigmoidCrossEntropyWithLogits");A(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=r.relu(),a=r.mul(n),o=r.abs().neg().exp().log1p();return i.sub(a).add(o)}(a,o);return hf(f,s,i)}}),wf=An({softmaxCrossEntropy_:function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=af.SUM_BY_NONZERO_WEIGHTS);var a=gn(e,"onehotLabels","softmaxCrossEntropy"),o=gn(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=gn(n,"weights","softmaxCrossEntropy")),A(a.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var u=In(r),c=In(1),l=In(a.shape[1]);a=a.mul(c.sub(u)).add(u.div(l))}var f=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return ra((function(e,t,r){var i=t.logSumExp([n],!0),a=t.toFloat().sub(i);return r([e,a]),{value:a.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],i=t[1],a=On(e.shape,[n]);return[e.reshape(a).mul(r.toFloat().sub(i.exp())),e.reshape(a).mul(i.exp().sub(r.toFloat()))]}}}))(e,t)}(a,o);return hf(f,s,i)}}),xf=Object.freeze({get Reduction(){return af},absoluteDifference:df,computeWeightedLoss:hf,cosineDistance:pf,hingeLoss:mf,huberLoss:vf,logLoss:gf,meanSquaredError:bf,sigmoidCrossEntropy:yf,softmaxCrossEntropy:wf});function Of(e,t){return void 0===t&&(t=!1),Ue.tidy((function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],i=nc(n),a=e.clone(),o=Pn([[1]],[1,1]),s=o.clone(),u=n>=r?r:n,c=function(e){var t,u=a,c=s,l=i;t=Ue.tidy((function(){var t=a.slice([e,e],[n-e,1]),u=t.norm(),c=a.slice([e,e],[1,1]),l=Pn([[-1]]).where(c.greater(0),Pn([[1]])),f=c.sub(l.mul(u)),d=t.div(f);s=1===d.shape[0]?o.clone():o.concat(d.slice([1,0],[d.shape[0]-1,d.shape[1]]),0);var h=l.matMul(f).div(u).neg(),p=a.slice([e,0],[n-e,r]),m=h.mul(s),v=s.transpose();if(0===e)a=p.sub(m.matMul(v.matMul(p)));else{var g=p.sub(m.matMul(v.matMul(p)));a=a.slice([0,0],[e,r]).concat(g,0)}var b=m.transpose(),y=i.slice([0,e],[n,i.shape[1]-e]);if(0===e)i=y.sub(y.matMul(s).matMul(b));else{var w=y.sub(y.matMul(s).matMul(b));i=i.slice([0,0],[n,e]).concat(w,1)}return[s,a,i]})),s=t[0],a=t[1],i=t[2],tn([u,c,l])},l=0;l<u;++l)c(l);return!t&&n>r&&(i=i.slice([0,0],[n,r]),a=a.slice([0,0],[r,r])),[i,a]}))}var kf=An({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=gn(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var i=r.shape,a=r.shape.slice(-2),o=a[0],s=a[1];if(!(t<=o))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+o+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=o),n<0&&(n=s);var u=$n(0,o,1,"int32").reshape([-1,1]),c=$n(0,s,1,"int32"),l=Di(u,c),f=Ku(l.lessEqual(In(+t,"int32")),l.greaterEqual(In(-n,"int32"))),d=qn([o,s],r.dtype);return dr(hr(r.reshape([-1,o,s])).map((function(e){return Ju(f,e,d)}))).reshape(i)}}),Ef=An({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,C(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){C(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"}))},i=1;i<e.length;++i)r(i)}else t=!0,e=tr(e,e.shape[0],0).map((function(e){return fr(e,[0])}));C(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."}));var a=[],o=e,s=function(e){a.push(Ue.tidy((function(){var t=o[e];if(e>0)for(var n=0;n<e;++n){var r=Rl(a[n].mulStrict(t)).mul(a[n]);t=t.sub(r)}return t.div(Ul(t,"euclidean"))})))};for(i=0;i<e.length;++i)s(i);return t?dr(a,0):a}}),_f=An({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return Of(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=hr(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],a=[];return r.forEach((function(e){var n=Of(e,t),r=n[0],o=n[1];i.push(r),a.push(o)})),[dr(i,0).reshape(e.shape),dr(a,0).reshape(e.shape)]}}),Sf=Object.freeze({bandPart:kf,gramSchmidt:Ef,qr:_f});function jf(e,t,n,r,i,a){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==a&&(a=0);var o=e.shape[0];return n=Math.min(n,o),C(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),C(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"})),C(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]})),C(1===t.rank,(function(){return"scores must be a 1D tensor"})),C(t.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected "+o+", but was "+t.shape[0]})),C(0<=a&&a<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+a+"'"})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:a}}var Cf=An({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=gn(e,"images","resizeBilinear");C(3===r.rank||4===r.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),C(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."}));var i=r,a=!1;3===r.rank&&(a=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],u=Ue.runKernelFunc((function(e,t){return t([i]),e.resizeBilinear(i,o,s,n)}),{x:i},(function(e,t){return{x:function(){return Ue.runKernelFunc((function(r){return r.resizeBilinearBackprop(e,t[0],n)}),{})}}}),"ResizeBilinear",{alignCorners:n,newHeight:o,newWidth:s});return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Af=An({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=gn(e,"images","resizeNearestNeighbor");C(3===r.rank||4===r.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),C(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."})),C("float32"===r.dtype||"int32"===r.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"}));var i=r,a=!1;3===r.rank&&(a=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],u=Ue.runKernelFunc((function(e,t){return t([i]),e.resizeNearestNeighbor(i,o,s,n)}),{batchImages:i},(function(e,t){return{batchImages:function(){return Ue.runKernelFunc((function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)}),{})}}}));return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Tf=An({nonMaxSuppression_:function(e,t,n,r,i){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY);var a=gn(e,"boxes","nonMaxSuppression"),o=gn(t,"scores","nonMaxSuppression"),s=jf(a,o,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:i};return Ue.runKernelFunc((function(e){return e.nonMaxSuppression(a,o,n,r,i)}),{boxes:a,scores:o},null,"NonMaxSuppressionV3",u)}}),Nf=An({nonMaxSuppressionWithScore_:function(e,t,n,r,i,a){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===a&&(a=0);var o=gn(e,"boxes","nonMaxSuppression"),s=gn(t,"scores","nonMaxSuppression"),u=jf(o,s,n,r,i,a),c={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:i=u.scoreThreshold,softNmsSigma:a=u.softNmsSigma},l=Ue.runKernel("NonMaxSuppressionV5",{boxes:o,scores:s},c);return{selectedIndices:l[0],selectedScores:l[1]}}}),Rf=An({cropAndResize_:function(e,t,n,r,i,a){var o=gn(e,"image","cropAndResize"),s=gn(t,"boxes","cropAndResize","float32"),u=gn(n,"boxInd","cropAndResize","int32");i=i||"bilinear",a=a||0;var c=s.shape[0];return C(4===o.rank,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+o.rank+"."})),C(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size ["+c+",4] but had shape "+s.shape+"."})),C(1===u.rank&&u.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size ["+c+"] but had shape "+s.shape+"."})),C(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),C(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),C("bilinear"===i||"nearest"===i,(function(){return"method must be bilinear or nearest, but was "+i})),Ue.runKernelFunc((function(e,t){return e.cropAndResize(o,s,u,r,i,a)}),{images:o,boxes:s,boxInd:u},null,"CropAndResize",{method:i,extrapolationValue:a,cropSize:r})}}),Mf=Object.freeze({resizeBilinear:Cf,resizeNearestNeighbor:Af,nonMaxSuppression:Tf,nonMaxSuppressionAsync:function(e,t,n,r,i){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),u(this,void 0,void 0,(function(){var a,o,s,u,l,f,d;return c(this,(function(c){switch(c.label){case 0:return a=gn(e,"boxes","nonMaxSuppressionAsync"),o=gn(t,"scores","nonMaxSuppressionAsync"),s=jf(a,o,n,r,i),n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold,[4,Promise.all([a.data(),o.data()])];case 1:return u=c.sent(),l=u[0],f=u[1],d=Ma(l,f,n,r,i),a!==e&&a.dispose(),o!==t&&o.dispose(),[2,d]}}))}))},nonMaxSuppressionWithScore:Nf,nonMaxSuppressionWithScoreAsync:function(e,t,n,r,i,a){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===a&&(a=0),u(this,void 0,void 0,(function(){var o,s,u,l,f,d,h;return c(this,(function(c){switch(c.label){case 0:return o=gn(e,"boxes","nonMaxSuppressionAsync"),s=gn(t,"scores","nonMaxSuppressionAsync"),u=jf(o,s,n,r,i,a),n=u.maxOutputSize,r=u.iouThreshold,i=u.scoreThreshold,a=u.softNmsSigma,[4,Promise.all([o.data(),s.data()])];case 1:return l=c.sent(),f=l[0],d=l[1],h=Da(f,d,n,r,i,a),o!==e&&o.dispose(),s!==t&&s.dispose(),[2,h]}}))}))},cropAndResize:Rf}),Df=function(e,t){return!(e>0)||"linear"===t},If=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},Ff=function(e,t){var n=t,r=Pr(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},Pf=function(e,t,n){if("linear"===t)return e;if("relu"===t)return Pl(e);if("elu"===t)return Dl(e);if("relu6"===t)return zl(e);if("prelu"===t)return Fl(e,n);throw new Error("Unknown fused activation "+t+".")},zf=An({fusedMatMul_:function(e){var t,n=e.a,r=e.b,i=e.transposeA,a=void 0!==i&&i,o=e.transposeB,s=void 0!==o&&o,u=e.bias,c=e.activation,l=void 0===c?"linear":c,f=e.preluActivationWeights;if(!1===Df(Ue.state.gradientDepth,l)){var d=tl(n,r,a,s);return null!=u&&(d=Ir(d,u)),Pf(d,l,f)}var h=gn(n,"a","fused matMul"),p=gn(r,"b","fused matMul");t=De(h,p),h=t[0],p=t[1];var m=a?h.shape[h.rank-2]:h.shape[h.rank-1],v=s?p.shape[p.rank-1]:p.shape[p.rank-2],g=a?h.shape[h.rank-1]:h.shape[h.rank-2],b=s?p.shape[p.rank-2]:p.shape[p.rank-1],y=h.shape.slice(0,-2),w=p.shape.slice(0,-2),x=R(y),O=R(w);C(h.rank>=2&&p.rank>=2&&h.rank===p.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+h.rank+" and "+p.rank+"."})),C(M(y,w),(function(){return"Error in fused matMul: outer dimensions ("+y+") and ("+w+") of Tensors with shapes "+h.shape+" and "+p.shape+" must match."})),C(m===v,(function(){return"Error in fused matMul: inner shapes ("+m+") and ("+v+") of Tensors with shapes "+h.shape+" and "+p.shape+" and transposeA="+a+" and transposeB="+s+" must match."}));var k,E,_=h.shape.slice(0,-2).concat([g,b]),S=a?h.as3D(x,m,g):h.as3D(x,g,m),j=s?p.as3D(O,b,v):p.as3D(O,v,b);null!=u&&zr(_,(k=De(k=gn(u,"bias","fused matMul"),h)[0]).shape),null!=f&&(E=gn(f,"prelu weights","fused matMul"));var A={a:S,b:j};null!=u&&(A.bias=k),null!=f&&(A.preluActivationWeights=E);var T=[S,j];return Ue.runKernelFunc((function(e,t){var n=e.fusedBatchMatMul({a:S,b:j,transposeA:a,transposeB:s,bias:k,activation:l,preluActivationWeights:E});return t([S,j,n]),n}),A,(function(e,t){var n=t[0],r=t[1],i=t[2],o=If(e,i,l),c={};return null!=u&&(c={bias:function(){return Ff(k,o)}}),a||s?!a&&s?Object.assign({a:function(){return o.matMul(r,!1,!1)},b:function(){return o.matMul(n,!0,!1)}},c):a&&!s?Object.assign({a:function(){return r.matMul(o,!1,!0)},b:function(){return n.matMul(o,!1,!1)}},c):Object.assign({a:function(){return r.matMul(o,!0,!0)},b:function(){return o.matMul(n,!0,!0)}},c):Object.assign({a:function(){return o.matMul(r,!1,!0)},b:function(){return n.matMul(o,!0,!1)}},c)}),"_FusedMatMul",{transposeA:a,transposeB:s,activation:l},T,[!0]).reshape(_)}}),Lf=An({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,a=e.dataFormat,o=void 0===a?"NHWC":a,s=e.dilations,u=void 0===s?[1,1]:s,c=e.dimRoundingMode,l=e.bias,f=e.activation,d=void 0===f?"linear":f,h=e.preluActivationWeights;if(d=d||"linear",!1===Df(Ue.state.gradientDepth,d)){var p=Hc(t,n,r,i,o,u,c);return null!=l&&(p=Ir(p,l)),Pf(p,d,h)}var m=gn(t,"x","conv2d"),v=gn(n,"filter","conv2d"),g=m,b=!1;3===m.rank&&(b=!0,g=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),C(4===g.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+g.rank+"."})),C(4===v.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+v.rank+"."})),null!=c&&C(D(i),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+i+"."})),C(g.shape[3]===v.shape[2],(function(){return"Error in conv2d: depth of input ("+g.shape[3]+") must match input depth for filter "+v.shape[2]+"."})),C(xa(r,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),C("NHWC"===o,(function(){return"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported."}));var y,w,x=ha(g.shape,v.shape,r,u,i,c);null!=l&&(y=De(y=gn(l,"bias","fused conv2d"),m)[0],zr(x.outShape,y.shape)),null!=h&&(w=gn(h,"prelu weights","fused conv2d"));var O={x:g,filter:v};null!=l&&(O.bias=y),null!=h&&(O.preluActivationWeights=w);var k=[v,g],E=Ue.runKernelFunc((function(e,t){var n=e.fusedConv2d({input:g,filter:v,convInfo:x,bias:y,activation:d,preluActivationWeights:w});return t([v,g,n]),n}),O,(function(e,t){var n=t,a=n[0],o=n[1],s=n[2],c=If(e,s,d);C(wa(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"}));var f={};return null!=l&&(f={bias:function(){return Ff(y,c)}}),Object.assign({x:function(){return Kc(o.shape,c,a,r,i)},filter:function(){return $c(o,c,a.shape,r,i)}},f)}),"FusedConv2D",{convInfo:x,activation:d},k,[!0]);return b?E.as3D(E.shape[1],E.shape[2],E.shape[3]):E}}),Bf=An({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,a=e.dataFormat,o=void 0===a?"NHWC":a,s=e.dilations,u=void 0===s?[1,1]:s,c=e.dimRoundingMode,l=e.bias,f=e.activation,d=void 0===f?"linear":f,h=e.preluActivationWeights;if(!1===Df(Ue.state.gradientDepth,d)){var p=Xc(t,n,r,i,o,u,c);return null!=l&&(p=Ir(p,l)),Pf(p,d,h)}var m=gn(t,"x","depthwiseConv2d"),v=gn(n,"filter","depthwiseConv2d"),g=m,b=!1;3===m.rank&&(b=!0,g=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),C(4===g.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+g.rank+"."})),C(4===v.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+v.rank+"."})),C(g.shape[3]===v.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+g.shape[3]+") must match the inChannels dimension in filter "+v.shape[2]+"."})),null==u&&(u=[1,1]),C(xa(r,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),null!=c&&C(D(i),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+c+" but got pad "+i+"."}));var y,w,x=ha(g.shape,v.shape,r,u,i,c,!0);null!=l&&(y=De(y=gn(l,"bias","fused conv2d"),m)[0],zr(x.outShape,y.shape)),null!=h&&(w=gn(h,"prelu weights","fused depthwiseConv2d"));var O={x:g,filter:v};null!=l&&(O.bias=y),null!=h&&(O.preluActivationWeights=w);var k=[v,g],E=Ue.runKernelFunc((function(e,t){var n=e.fusedDepthwiseConv2D({input:g,filter:v,convInfo:x,bias:y,activation:d,preluActivationWeights:w});return t([v,g,n]),n}),O,(function(e,t){C(wa(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"}));var n=t[0],r=t[1],i=t[2],a=If(e,i,d),o={};return null!=l&&(o={bias:function(){return Ff(y,a)}}),Object.assign({x:function(){return Yc(r.shape,a,n,x)},filter:function(){return Zc(r,a,n.shape,x)}},o)}),"FusedDepthwiseConv2D",{convInfo:x,activation:d},k,[!0]);return b?E.as3D(E.shape[1],E.shape[2],E.shape[3]):E}}),Uf=Object.freeze({matMul:zf,conv2d:Lf,depthwiseConv2d:Bf}),Wf=Object.freeze({image:Mf,linalg:Sf,losses:xf,spectral:Jl,fused:Uf,signal:lf,add:Ir,addN:Tu,batchNorm:Fu,batchNormalization:Iu,batchNorm2d:Lu,batchNormalization2d:zu,batchNorm3d:Wu,batchNormalization3d:Uu,batchNorm4d:Hu,batchNormalization4d:qu,broadcastTo:Gu,clone:$u,div:Fi,divNoNan:ec,eye:nc,multinomial:rc,oneHot:ic,pad:ac,pad1d:oc,pad2d:sc,pad3d:uc,pad4d:cc,rand:lc,randomGamma:bc,randomNormal:yc,randomUniform:wc,square:xc,squaredDifference:Oc,tile:tc,truncatedNormal:kc,conv1d:qc,conv2d:Hc,conv3d:Gc,depthwiseConv2d:Xc,separableConv2d:Jc,conv2dTranspose:Qc,conv3dTranspose:el,op:An,booleanMaskAsync:Bc,complex:Tn,real:Nn,imag:Rn,concat:Yn,concat1d:Zn,concat2d:Jn,concat3d:Qn,concat4d:er,split:tr,matMul:tl,dot:nl,outerProduct:rl,reverse:il,reverse1d:al,reverse2d:ol,reverse3d:sl,reverse4d:ul,maxPool:fl,avgPool:dl,pool:hl,maxPool3d:pl,avgPool3d:ml,maxPoolWithArgmax:vl,slice:gl,slice1d:bl,slice2d:yl,slice3d:wl,slice4d:xl,abs:Lr,acos:Br,acosh:Ur,asin:Wr,asinh:Vr,atan:qr,atanh:Hr,ceil:Gr,clipByValue:$r,cos:Kr,cosh:Xr,erf:Yr,exp:Zr,expm1:Jr,floor:Qr,log:ei,log1p:ti,logSigmoid:ni,neg:ri,reciprocal:ii,round:ai,rsqrt:oi,sigmoid:si,sign:ui,isNaN:ci,isInf:li,isFinite:fi,sin:di,sinh:hi,softplus:pi,sqrt:mi,step:vi,tan:gi,tanh:bi,all:kl,any:El,argMax:_l,argMin:Sl,logSumExp:jl,max:Cl,mean:Al,min:Tl,moments:Nl,sum:Rl,prod:Ml,equal:Ec,equalStrict:_c,greater:Sc,greaterEqual:jc,greaterEqualStrict:Cc,greaterStrict:Ac,less:Tc,lessEqual:Nc,lessEqualStrict:Rc,lessStrict:Mc,notEqual:Dc,notEqualStrict:Ic,addStrict:yi,atan2:wi,divStrict:xi,floorDiv:Oi,maximum:ki,maximumStrict:Ei,minimum:_i,minimumStrict:Si,mod:ji,modStrict:Ci,mul:Ai,mulStrict:Ti,pow:Ni,powStrict:Ri,squaredDifferenceStrict:Mi,sub:Di,subStrict:Ii,elu:Dl,leakyRelu:Il,prelu:Fl,relu:Pl,relu6:zl,selu:Ll,logicalAnd:Ku,logicalNot:Xu,logicalOr:Yu,logicalXor:Zu,where:Ju,whereAsync:Qu,buffer:nr,print:rr,batchToSpaceND:ir,cast:ar,cumsum:or,depthToSpace:sr,expandDims:ur,reshape:cr,spaceToBatchND:lr,squeeze:fr,stack:dr,unstack:hr,setdiff1dAsync:pr,fill:Hn,linspace:Gn,ones:Vn,range:$n,scalar:In,tensor:Mn,tensor1d:Fn,tensor2d:Pn,tensor3d:zn,tensor4d:Ln,tensor5d:Bn,tensor6d:Un,variable:Wn,zeros:qn,onesLike:Kn,zerosLike:Xn,transpose:sa,softmax:aa,logSoftmax:oa,localResponseNormalization:Bl,norm:Ul,gather:zc,unsortedSegmentSum:Lc,basicLSTMCell:Wl,multiRNNCell:Vl,movingAverage:ql,stridedSlice:Hl,topk:Gl,scatterND:$l,fft:Kl,ifft:Xl,rfft:Yl,irfft:Zl,sparseToDense:Ql,gatherND:ef,diag:tf,dropout:nf,hannWindow:of,hammingWindow:sf,frame:uf,stft:cf,inTopKAsync:ff});function Vf(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&C("complex64"!==e.dtype,(function(){return t+" does not support complex64 tensors."}))}))}function qf(e,t,n,r,i,a){for(var o=i.strideHeight,s=i.strideWidth,u=i.dilationHeight,c=i.dilationWidth,l=i.effectiveFilterHeight,f=i.effectiveFilterWidth,d=i.padInfo.top,h=i.padInfo.left,p="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=nr(i.outShape,n),v=m.values,g=i.outShape[1]*i.outShape[2]*i.outShape[3],b=i.outShape[2]*i.outShape[3],y=i.outShape[3],w=0;w<i.batchSize;++w)for(var x=w*g,O=w*r[0],k=0;k<i.inChannels;++k)for(var E=0;E<i.outHeight;++E)for(var _=E*o-d,S=Math.max(0,_),j=Math.min(i.inHeight,l+_),C=x+E*b,A=0;A<i.outWidth;++A){for(var T=A*s-h,N=Math.max(0,T),R=Math.min(i.inWidth,f+T),M=p,D=0,I=0,F=S;F<j;F+=u){for(var P=O+F*r[1],z=N;z<R;z+=c){var L=e[P+z*r[2]+k];"max"===a&&L>M?M=L:"avg"===a&&(D+=L,I++)}if(isNaN(M))break}v[C+A*y+k]="avg"===a?D/I:M}return m}function Hf(e,t,n,r,i,a){void 0===i&&(i=!1),void 0===a&&(a=!1);for(var o=nr(r.outShape,"int32"),s=r.strideHeight,u=r.strideWidth,c=r.dilationHeight,l=r.dilationWidth,f=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,p=r.padInfo.left,m=nr(t,n,e),v=0;v<r.batchSize;++v)for(var g=0;g<r.inChannels;++g)for(var b=0;b<r.outHeight;++b){for(var y=b*s-h,w=y;w<0;)w+=c;for(var x=Math.min(r.inHeight,f+y),O=0;O<r.outWidth;++O){for(var k=O*u-p,E=k;E<0;)E+=l;for(var _=Math.min(r.inWidth,d+k),S=Number.NEGATIVE_INFINITY,j=-1,C=w;C<x;C+=c)for(var A=C-y,T=E;T<_;T+=l){var N=T-k,R=m.get(v,C,T,g);R>S&&(S=R,j=i?a?((v*r.inHeight+C)*r.inWidth+T)*r.inChannels+g:(C*r.inWidth+T)*r.inChannels+g:A*d+N)}o.set(j,v,b,O,g)}}return o}function Gf(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var $f=function(e){function t(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new ua(t,Ue),t}return s(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,d().get("IS_NODE")&&pn("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){return[2,this.readSync(e)]}))}))},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?ja(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return le(e)}))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return nr(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return Ue.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){return t=se(),e(),[2,{kernelMs:se()-t}]}))}))},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:Ue.keep(e.clone()),imag:Ue.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(Vf(e,"slice"),Xi(e.shape,t,n)){var r=Yi(t,e.strides),i=R(n);return Mn(this.readSync(e.dataId).subarray(r,r+i),n,e.dtype)}for(var a=nr(n,e.dtype),o=this.bufferSync(e),s=0;s<a.size;++s){var u=a.indexToLoc(s).map((function(e,n){return e+t[n]}));a.values[s]=o.get.apply(o,u)}return a.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){Vf(e,"stridedSlice");var i=Gi(t,n,r);if(i.some((function(e){return 0===e})))return Mn([],i);for(var a=nr(i,e.dtype),o=this.bufferSync(e),s=0;s<a.size;s++){for(var u=a.indexToLoc(s),c=new Array(u.length),l=0;l<c.length;l++)c[l]=u[l]*r[l]+t[l];a.set.apply(a,[o.get.apply(o,c)].concat(u))}return a.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=nr([e.size,e.size],e.dtype),r=n.values,i=0;i<t.length;i++)r[i*e.size+i]=t[i];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),i=0,a=0;a<e.rank;a++)a!==t&&(r[i++]=e.shape[a]);var o=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(a=0;a<u.length;a++)o[t]=a,u[a]=this.slice(e,o,s).reshape(r);return u},t.prototype.reverse=function(e,t){Vf(e,"reverse");for(var n=nr(e.shape,e.dtype),r=this.bufferSync(e),i=function(i){var a=n.indexToLoc(i),o=a.slice();t.forEach((function(t){return o[t]=e.shape[t]-1-o[t]})),n.set.apply(n,[r.get.apply(r,o)].concat(a))},a=0;a<n.size;a++)i(a);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map((function(e){return Nn(e)})),i=e.map((function(e){return Rn(e)}));return Tn(this.concat(r,t),this.concat(i,t))}var a=e.map((function(e){var n=R(e.shape.slice(t));return e.as2D(-1,n)})),o=Cn(a.map((function(e){return e.shape})),1),s=nr(o,e[0].dtype).values;if(1===a[0].shape[0]){var u=0;a.forEach((function(e){s.set(n.readSync(e.dataId),u),u+=e.size}))}else{var c=0;a.forEach((function(e){for(var t=n.readSync(e.dataId),r=0,i=0;i<e.shape[0];++i)for(var a=i*o[1]+c,u=0;u<e.shape[1];++u)s[a+u]=t[r++];c+=e.shape[1]}))}var l=Cn(e.map((function(e){return e.shape})),t);return Mn(s,l,e[0].dtype)},t.prototype.neg=function(e){return Vf(e,"neg"),this.multiply(In(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e+n,imag:t+r}})):this.broadcastedBinaryOp(e,t,Re(e.dtype,t.dtype),(function(e,t){return e+t}))},t.prototype.addN=function(e){var t=this;Vf(e,"addN");for(var n=e.map((function(e){return t.readSync(e.dataId)})),r=nr(e[0].shape,e[0].dtype),i=r.values,a=0;a<e.length;a++)for(var o=n[a],s=0;s<i.length;s++)i[s]+=o[s];return r.toTensor()},t.prototype.softmax=function(e,t){var n=B([t],e.shape),r=this.max(e,n),i=On(r.shape,n),a=this.subtract(e,r.reshape(i)),o=this.exp(a),s=this.sum(o,n).reshape(i);return Fi(o,s)},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e-n,imag:t-r}})):this.broadcastedBinaryOp(e,t,Re(e.dtype,t.dtype),(function(e,t){return e-t}))},t.prototype.pow=function(e,t){return Vf([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.pow(e,t)}))},t.prototype.batchMatMul=function(e,t,n,r){Vf([e,t],"matMul");for(var i=n?e.shape[1]:e.shape[2],a=n?e.shape[2]:e.shape[1],o=r?t.shape[1]:t.shape[2],s=e.shape[0],u=this.readSync(e.dataId),c=this.readSync(t.dataId),l=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],f=l[0],d=l[1],h=l[2],p=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],m=p[0],v=p[1],g=p[2],b=a*o,y=nr([s,a,o],e.dtype),w=y.values,x=this.blockSize,O=0;O<s;O++)for(var k=0;k<a;k+=x)for(var E=0;E<o;E+=x)for(var _=0;_<i;_+=x)for(var S=Math.min(k+x,a),j=Math.min(E+x,o),C=Math.min(_+x,i),A=k;A<S;A++)for(var T=E;T<j;T++){for(var N=0,R=_;R<C;R++)N+=u[O*f+A*d+R*h]*c[R*m+T*v+O*g];w[O*b+(A*o+T)]+=N}return y.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.bias,o=e.activation,s=e.preluActivationWeights,u=this.batchMatMul(t,n,r,i);return a&&(u=this.add(u,a)),o&&(u=Gf(this,u,o,s)),u},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})):this.broadcastedBinaryOp(e,t,Re(e.dtype,t.dtype),(function(e,t){return e*t}))},t.prototype.floorDiv=function(e,t){return Vf([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",(function(e,t){return Math.floor(e/t)}))},t.prototype.sum=function(e,t){Vf(e,"sum"),kn("sum",t,e.rank);for(var n=xn(e.shape,t),r=n[0],i=n[1],a=qn(r,Re(e.dtype,"int32")),o=R(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*o,f=0,d=0;d<o;++d)f+=u[l+d];s[c]=f}return a},t.prototype.prod=function(e,t){Vf(e,"sum");for(var n=xn(e.shape,t),r=n[0],i=n[1],a=qn(r,Re(e.dtype,"int32")),o=R(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*o,f=1,d=0;d<o;++d)f*=u[l+d];s[c]=f}return a},t.prototype.unsortedSegmentSum=function(e,t,n){Vf(e,"unsortedSegmentSum");for(var r=[],i=e.rank-t.rank,a=0;a<i;++a)t=t.expandDims(a+1);for(a=0;a<n;++a){var o=In(a,"int32"),s=Ec(o,t).asType("float32").mul(e).sum(0);r.push(s)}return dr(r)},t.prototype.argMin=function(e,t){Vf(e,"argMin");var n=[t];kn("argMin",n,e.rank);for(var r=xn(e.shape,n),i=r[0],a=r[1],o=qn(i,"int32"),s=R(a),u=this.readSync(o.dataId),c=this.readSync(e.dataId),l=0;l<u.length;++l){for(var f=l*s,d=c[f],h=0,p=0;p<s;++p){var m=c[f+p];m<d&&(d=m,h=p)}u[l]=h}return o},t.prototype.argMax=function(e,t){Vf(e,"argMax");var n=[t];kn("argMax",n,e.rank);for(var r=xn(e.shape,n),i=r[0],a=r[1],o=qn(i,"int32"),s=R(a),u=this.readSync(o.dataId),c=this.readSync(e.dataId),l=0;l<u.length;++l){for(var f=l*s,d=c[f],h=0,p=0;p<s;++p){var m=c[f+p];m>d&&(d=m,h=p)}u[l]=h}return o},t.prototype.cumsum=function(e,t,n,r){if(Vf(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var i=Re(e.dtype,"int32"),a=qn(e.shape,i),o=this.readSync(a.dataId),s=this.readSync(e.dataId),u=e.shape[e.rank-1],c=r?function(e,t){return e+u-t-1}:function(e,t){return e+t},l=0;l<s.length;l+=u)for(var f=0;f<u;f++){var d=c(l,f);if(0===f)o[d]=n?0:s[d];else{var h=c(l,f-1);o[d]=n?s[h]+o[h]:s[d]+o[h]}}return a},t.prototype.equal=function(e,t){return Vf([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e===t?1:0}))},t.prototype.notEqual=function(e,t){return Vf([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e!==t?1:0}))},t.prototype.less=function(e,t){return Vf([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<t?1:0}))},t.prototype.lessEqual=function(e,t){return Vf([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<=t?1:0}))},t.prototype.greater=function(e,t){return Vf([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>t?1:0}))},t.prototype.greaterEqual=function(e,t){return Vf([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>=t?1:0}))},t.prototype.logicalNot=function(e){Vf(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return Vf([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e&&t}))},t.prototype.logicalOr=function(e,t){return Vf([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e||t}))},t.prototype.select=function(e,t,n){Vf([e,t,n],"select");for(var r=this.readSync(e.dataId),i=this.readSync(t.dataId),a=this.readSync(n.dataId),o=qn(t.shape,Re(t.dtype,n.dtype)),s=this.readSync(o.dataId),u=0,c=0===e.rank||e.rank>1||1===t.rank?1:R(t.shape.slice(1)),l=0;l<r.length;l++)for(var f=0;f<c;f++)1===r[l]?s[u++]=i[l]:s[u++]=a[l];return o},t.prototype.where=function(e){Vf([e],"where");var t=this.readSync(e.dataId);return Wa(e.shape,t)},t.prototype.topk=function(e,t,n){return Vf(e,"topk"),Ua(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){Vf(e,"min"),kn("min",t,e.rank);for(var n=xn(e.shape,t),r=n[0],i=n[1],a=qn(r,e.dtype),o=R(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*o,f=u[l],d=0;d<o;++d){var h=u[l+d];h<f&&(f=h)}s[c]=f}return a},t.prototype.minimum=function(e,t){return Vf([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.min(e,t)}))},t.prototype.mod=function(e,t){return Vf([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}))},t.prototype.max=function(e,t){Vf(e,"max"),kn("max",t,e.rank);for(var n=xn(e.shape,t),r=n[0],i=n[1],a=qn(r,e.dtype),o=R(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*o,f=u[l],d=0;d<o;++d){var h=u[l+d];h>f&&(f=h)}s[c]=f}return a},t.prototype.maximum=function(e,t){return Vf([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.max(e,t)}))},t.prototype.all=function(e,t){Vf(e,"all"),kn("all",t,e.rank);for(var n=xn(e.shape,t),r=n[0],i=n[1],a=qn(r,e.dtype),o=R(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*o,f=u[l],d=0;d<o;++d){var h=u[l+d];f=f&&h}s[c]=f}return a},t.prototype.any=function(e,t){Vf(e,"any"),kn("any",t,e.rank);for(var n=xn(e.shape,t),r=n[0],i=n[1],a=qn(r,e.dtype),o=R(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*o,f=u[l],d=0;d<o;++d){var h=u[l+d];f=f||h}s[c]=f}return a},t.prototype.squaredDifference=function(e,t){return Vf([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e-t;return n*n}))},t.prototype.ceil=function(e){Vf(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){Vf(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){Vf(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){Vf(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){Vf(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){Vf(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){Vf(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=Math.floor(t[r]);t[r]-i<.5?n[r]=Math.floor(t[r]):t[r]-i>.5?n[r]=Math.ceil(t[r]):n[r]=i%2==0?i:i+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){Vf(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){Vf(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){Vf(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.log(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){Vf(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.log1p(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){Vf(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.sqrt(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){Vf(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=1/Math.sqrt(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){Vf(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){Vf(e,"relu");for(var t=qn(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),i=0;i<r.length;++i)n[i]=Math.max(0,r[i]);return t},t.prototype.relu6=function(e){Vf(e,"relu");for(var t=qn(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),i=0;i<r.length;++i)n[i]=Math.min(Math.max(0,r[i]),6);return t},t.prototype.prelu=function(e,t){return Vf([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return e<0?t*e:e}))},t.prototype.elu=function(e){Vf(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=n[r];t[r]=i>=0?i:Math.exp(i)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){Vf([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),i=this.readSync(e.dataId),a=0;a<r.length;++a){var o=r[a];n[a]=o>=1?i[a]:i[a]*(o+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){Vf(e,"selu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=n[r];t[r]=i>=0?1.0507009873554805*i:1.7580993408473768*(Math.exp(i)-1)}return this.makeOutput(t,e.shape,"float32")},t.prototype.clip=function(e,t,n){Vf(e,"clip");for(var r=new Float32Array(e.size),i=this.readSync(e.dataId),a=0;a<i.length;++a){var o=i[a];r[a]=o>n?n:o<t?t:o}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var i=n[2*r],a=n[2*r+1];t[r]=Math.hypot(i,a)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){Vf(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){Vf(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){Vf(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),i=0;i<r.length;++i){var a,o=r[i]>-t,s=r[i]<t,u=Math.exp(r[i]);a=s?u:o?r[i]:Math.log(1+u),n[i]=a}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){Vf(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){Vf(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){Vf(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){Vf(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){Vf(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){Vf(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return Vf([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.atan2(e,t)}))},t.prototype.sinh=function(e){Vf(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){Vf(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){Vf(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=I(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){Vf(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){Vf(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){Vf(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){Vf(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=Math.sign(n[r]),a=Math.abs(n[r]),o=1/(1+.3275911*a);t[r]=i*(1-((((1.061405429*o-1.453152027)*o+1.421413741)*o-.284496736)*o+.254829592)*o*Math.exp(-a*a))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),Vf(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),i=0;i<r.length;++i){var a=r[i];isNaN(a)?n[i]=NaN:n[i]=a>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights,s=this.conv2d(t,n,r);return i&&(s=this.add(s,i)),a&&(s=Gf(this,s,a,o)),s},t.prototype.conv2d=function(e,t,n){Vf([e,t],"conv2d");for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c="channelsLast"===n.dataFormat,l=nr(n.outShape,e.dtype),f=e.strides[0],d=c?e.strides[1]:e.strides[2],h=c?e.strides[2]:1,p=c?1:e.strides[1],m=l.strides[0],v=c?l.strides[1]:l.strides[2],g=c?l.strides[2]:1,b=c?1:l.strides[1],y=this.readSync(e.dataId),w=this.readSync(t.dataId),x=l.values,O=0;O<n.batchSize;++O)for(var k=O*f,E=O*m,_=0;_<n.outHeight;++_)for(var S=E+_*v,j=_*n.strideHeight-u,C=0;C<r;C++){var A=j+C*a;if(!(A<0||A>=n.inHeight))for(var T=C*t.strides[0],N=k+A*d,R=0;R<n.outWidth;++R)for(var M=S+R*g,D=R*n.strideWidth-s,I=0;I<i;I++){var F=D+I*o;if(!(F<0||F>=n.inWidth))for(var P=N+F*h,z=T+I*t.strides[1],L=0;L<n.inChannels;++L){for(var B=y[P+L*p],U=0;U<n.outChannels;++U)x[M+U*b]+=B*w[z+U];z+=n.outChannels}}}return l.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,i=n.filterHeight,a=n.filterWidth,o=n.dilationDepth,s=n.dilationHeight,u=n.dilationWidth,c=n.padInfo.front,l=n.padInfo.left,f=n.padInfo.top,d=nr(n.outShape,e.dtype),h=this.readSync(e.dataId),p=this.readSync(t.dataId),m=d.values,v=0;v<n.batchSize;++v)for(var g=v*e.strides[0],b=v*d.strides[0],y=0;y<n.outDepth;++y)for(var w=b+y*d.strides[1],x=y*n.strideDepth-c,O=0;O<r;O++){var k=x+O*o;if(!(k<0||k>=n.inDepth))for(var E=O*t.strides[0],_=g+k*e.strides[1],S=0;S<n.outHeight;++S)for(var j=w+S*d.strides[2],C=S*n.strideHeight-f,A=0;A<i;A++){var T=C+A*s;if(!(T<0||T>=n.inHeight))for(var N=E+A*t.strides[1],R=_+T*e.strides[2],M=0;M<n.outWidth;++M)for(var D=j+M*n.outChannels,I=M*n.strideWidth-l,F=0;F<a;F++){var P=I+F*u;if(!(P<0||P>=n.inWidth))for(var z=N+F*t.strides[2],L=R+P*n.inChannels,B=z,U=0;U<n.inChannels;++U){for(var W=h[L+U],V=0;V<n.outChannels;++V)m[D+V]+=W*p[B+V];B+=n.outChannels}}}}return d.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){Vf([e,t],"conv2dDerInput");for(var r=nr(n.inShape,"float32"),i=r.values,a=this.readSync(e.dataId),o=this.readSync(t.dataId),s=t.strides,u=s[0],c=s[1],l=s[2],f=n.batchSize,d=n.filterHeight,h=n.filterWidth,p=n.inChannels,m=n.inHeight,v=n.inWidth,g=n.outChannels,b=n.outHeight,y=n.outWidth,w=n.strideHeight,x=n.strideWidth,O=n.dataFormat,k=d-1-n.padInfo.top,E=h-1-n.padInfo.left,_="channelsLast"===O,S=r.strides[0],j=_?r.strides[1]:r.strides[2],C=_?r.strides[2]:1,A=_?1:r.strides[1],T=e.strides[0],N=_?e.strides[1]:e.strides[2],R=_?e.strides[2]:1,M=_?1:e.strides[1],D=0;D<f;++D)for(var I=0;I<p;++I)for(var F=0;F<m;++F)for(var P=F-k,z=Math.max(0,Math.ceil(P/w)),L=Math.min(b,(d+P)/w),B=0;B<v;++B){for(var U=B-E,W=Math.max(0,Math.ceil(U/x)),V=Math.min(y,(h+U)/x),q=0,H=z;H<L;++H)for(var G=H*w-P,$=W;$<V;++$)for(var K=T*D+N*H+R*$,X=u*(d-1-G)+c*(h-1-($*x-U))+l*I,Y=0;Y<g;++Y)q+=a[K+M*Y]*o[X+Y];i[S*D+j*F+C*B+A*I]=q}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=nr(n.inShape,"float32"),i=r.values,a=r.strides,o=a[0],s=a[1],u=a[2],c=a[3],l=this.readSync(e.dataId),f=e.strides,d=f[0],h=f[1],p=f[2],m=f[3],v=this.readSync(t.dataId),g=t.strides,b=g[0],y=g[1],w=g[2],x=g[3],O=n.batchSize,k=n.filterDepth,E=n.filterHeight,_=n.filterWidth,S=n.inChannels,j=n.inDepth,C=n.inHeight,A=n.inWidth,T=n.outChannels,N=n.outDepth,R=n.outHeight,M=n.outWidth,D=n.strideDepth,I=n.strideHeight,F=n.strideWidth,P=k-1-n.padInfo.front,z=E-1-n.padInfo.top,L=_-1-n.padInfo.left,B=0;B<O;++B)for(var U=0;U<S;++U)for(var W=0;W<j;++W)for(var V=W-P,q=Math.max(0,Math.ceil(V/D)),H=Math.min(N,(k+V)/D),G=0;G<C;++G)for(var $=G-z,K=Math.max(0,Math.ceil($/I)),X=Math.min(R,(E+$)/I),Y=0;Y<A;++Y){for(var Z=Y-L,J=Math.max(0,Math.ceil(Z/F)),Q=Math.min(M,(_+Z)/F),ee=0,te=q;te<H;++te)for(var ne=te*D-V,re=K;re<X;++re)for(var ie=re*I-$,ae=J;ae<Q;++ae)for(var oe=d*B+h*te+p*re+m*ae,se=b*(k-1-ne)+y*(E-1-ie)+w*(_-1-(ae*F-Z))+x*U,ue=0;ue<T;++ue)ee+=l[oe+ue]*v[se+ue];i[o*B+s*W+u*G+c*Y+U]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){Vf([e,t],"conv2dDerFilter");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s="channelsLast"===n.dataFormat,u=nr(n.filterShape,"float32"),c=n.padInfo.left,l=n.padInfo.top,f=this.bufferSync(e),d=this.bufferSync(t),h=0;h<a;++h)for(var p=Math.max(0,Math.ceil((l-h)/r)),m=Math.min(n.outHeight,(n.inHeight+l-h)/r),v=0;v<o;++v)for(var g=Math.max(0,Math.ceil((c-v)/i)),b=Math.min(n.outWidth,(n.inWidth+c-v)/i),y=0;y<n.inChannels;++y)for(var w=0;w<n.outChannels;++w){for(var x=0,O=0;O<n.batchSize;++O)for(var k=p;k<m;++k)for(var E=h+k*r-l,_=g;_<b;++_){var S=v+_*i-c;x+=s?f.get(O,E,S,y)*d.get(O,k,_,w):f.get(O,y,E,S)*d.get(O,w,k,_)}u.set(x,h,v,y,w)}return u.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,i=n.strideHeight,a=n.strideWidth,o=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=nr(n.filterShape,"float32"),l=c.values,f=c.strides,d=f[0],h=f[1],p=f[2],m=f[3],v=this.readSync(t.dataId),g=t.strides,b=g[0],y=g[1],w=g[2],x=g[3],O=this.readSync(e.dataId),k=e.strides,E=k[0],_=k[1],S=k[2],j=k[3],C=n.padInfo.front,A=n.padInfo.left,T=n.padInfo.top,N=0;N<o;++N)for(var R=Math.max(0,Math.ceil((C-N)/r)),M=Math.min(n.outDepth,(n.inDepth+C-N)/r),D=N*d,I=0;I<s;++I)for(var F=Math.max(0,Math.ceil((T-I)/i)),P=Math.min(n.outHeight,(n.inHeight+T-I)/i),z=I*h+D,L=0;L<u;++L)for(var B=Math.max(0,Math.ceil((A-L)/a)),U=Math.min(n.outWidth,(n.inWidth+A-L)/a),W=L*p+z,V=0;V<n.inChannels;++V)for(var q=V*m+W,H=0;H<n.outChannels;++H){for(var G=0,$=0;$<n.batchSize;++$)for(var K=$*E,X=$*b,Y=R;Y<M;++Y)for(var Z=(N+Y*r-C)*_+K,J=Y*y+X,Q=F;Q<P;++Q)for(var ee=(I+Q*i-T)*S+Z,te=Q*w+J,ne=B;ne<U;++ne){var re=ne*x+te;G+=O[(L+ne*a-A)*j+ee+V]*v[re+H]}l[q+H]=G}return c.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return i&&(s=this.add(s,i)),a&&(s=Gf(this,s,a,o)),s},t.prototype.depthwiseConv2D=function(e,t,n){Vf([e,t],"depthwiseConv2D");for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,l=nr(n.outShape,e.dtype),f=this.readSync(e.dataId),d=this.readSync(t.dataId),h=l.values,p=0;p<n.batchSize;++p)for(var m=p*e.strides[0],v=p*l.strides[0],g=0;g<n.outHeight;++g)for(var b=v+g*l.strides[1],y=g*n.strideHeight-s,w=0;w<r;++w){var x=y+w*a;if(!(x<0||x>=n.inHeight))for(var O=w*t.strides[0],k=m+x*e.strides[1],E=0;E<n.outWidth;++E)for(var _=b+E*l.strides[2],S=E*n.strideWidth-u,j=0;j<i;++j){var C=S+j*o;if(!(C<0||C>=n.inWidth))for(var A=O+j*t.strides[1],T=k+C*n.inChannels,N=_,R=A,M=0;M<n.inChannels;++M){for(var D=f[T+M],I=0;I<c;++I)h[N+I]+=D*d[R+I];N+=c,R+=c}}}return l.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){Vf([e,t],"depthwiseConv2DDerInput");for(var r=nr(n.inShape,"float32"),i=r.values,a=r.strides,o=a[0],s=a[1],u=a[2],c=this.readSync(e.dataId),l=e.strides,f=l[0],d=l[1],h=l[2],p=this.readSync(t.dataId),m=t.strides,v=m[0],g=m[1],b=m[2],y=n.batchSize,w=n.filterHeight,x=n.filterWidth,O=n.inChannels,k=n.inHeight,E=n.inWidth,_=n.outChannels,S=n.outHeight,j=n.outWidth,C=n.strideHeight,A=n.strideWidth,T=w-1-n.padInfo.top,N=x-1-n.padInfo.left,R=_/O,M=0;M<y;++M)for(var D=0;D<O;++D)for(var I=0;I<k;++I)for(var F=I-T,P=Math.max(0,Math.ceil(F/C)),z=Math.min(S,(w+F)/C),L=0;L<E;++L){for(var B=L-N,U=Math.max(0,Math.ceil(B/A)),W=Math.min(j,(x+B)/A),V=0,q=P;q<z;++q)for(var H=q*C-F,G=U;G<W;++G)for(var $=f*M+d*q+h*G,K=v*(w-1-H)+g*(x-1-(G*A-B))+b*D,X=0;X<R;++X)V+=c[$+(D*R+X)]*p[K+X];i[o*M+s*I+u*L+D]=V}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){Vf([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s=nr(n.filterShape,"float32"),u=n.padInfo.left,c=n.padInfo.top,l=n.outChannels/n.inChannels,f=this.bufferSync(e),d=this.bufferSync(t),h=0;h<a;++h)for(var p=Math.max(0,Math.ceil((c-h)/r)),m=Math.min(n.outHeight,(n.inHeight+c-h)/r),v=0;v<o;++v)for(var g=Math.max(0,Math.ceil((u-v)/i)),b=Math.min(n.outWidth,(n.inWidth+u-v)/i),y=0;y<n.outChannels;++y){for(var w=Math.trunc(y/l),x=y%l,O=0,k=0;k<n.batchSize;++k)for(var E=p;E<m;++E)for(var _=h+E*r-c,S=g;S<b;++S){var j=v+S*i-u;O+=f.get(k,_,j,w)*d.get(k,E,S,y)}s.set(O,h,v,w,x)}return s.toTensor()},t.prototype.tile=function(e,t){return Vf(e,"tile"),Ba(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){Vf(e,"pad");var r=t.map((function(t,n){return t[0]+e.shape[n]+t[1]})),i=t.map((function(e){return e[0]})),a=this.bufferSync(e),o=nr(r,e.dtype);0!==n&&o.values.fill(n);for(var s=0;s<e.size;s++){var u=a.indexToLoc(s),c=u.map((function(e,t){return e+i[t]}));o.set.apply(o,[a.get.apply(a,u)].concat(c))}return o.toTensor()},t.prototype.gather=function(e,t,n){Vf([e,t],"gather");var r=e.shape.slice(),i=this.readSync(t.dataId);r[n]=i.length;for(var a=nr(r,e.dtype),o=this.bufferSync(e),s=0;s<a.size;++s){var u=a.indexToLoc(s),c=u.slice();c[n]=i[u[n]];var l=o.locToIndex(c);a.values[s]=o.values[l]}return a.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){Vf([e],"batchToSpaceND");var r=t.reduce((function(e,t){return e*t})),i=mr(e.shape,t,r),a=vr(i.length,t.length),o=gr(e.shape,t,r),s=br(n,t.length),u=yr(o,n,t.length);return sa(e.reshape(i),a).reshape(o).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){Vf([e],"spaceToBatchND");var r=t.reduce((function(e,t){return e*t})),i=[[0,0]];i.push.apply(i,n);for(var a=1+t.length;a<e.shape.length;++a)i.push([0,0]);var o=e.pad(i),s=mr(o.shape,t,r,!1),u=vr(s.length,t.length,!1),c=gr(o.shape,t,r,!1);return sa(o.reshape(s),u).reshape(c)},t.prototype.maxPool=function(e,t){return Vf(e,"maxPool"),qf(this.readSync(e.dataId),e.shape,e.dtype,e.strides,t,"max").toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){Vf([t,n],"maxPoolBackprop");for(var i=this.readSync(t.dataId),a=nr(r.outShape,t.dtype,Hf(i,t.shape,t.dtype,r).values),o=r.strideHeight,s=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,l=r.effectiveFilterHeight,f=r.effectiveFilterWidth,d=f-1-r.padInfo.left,h=l-1-r.padInfo.top,p=nr(t.shape,"float32"),m=this.bufferSync(e),v=0;v<r.batchSize;++v)for(var g=0;g<r.inChannels;++g)for(var b=0;b<r.inHeight;++b)for(var y=0;y<r.inWidth;++y){for(var w=b-h,x=y-d,O=0,k=0;k<l;k+=u){var E=(w+k)/o;if(!(E<0||E>=r.outHeight||Math.floor(E)!==E))for(var _=0;_<f;_+=c){var S=(x+_)/s;if(!(S<0||S>=r.outWidth||Math.floor(S)!==S)){var j=l*f-1-a.get(v,E,S,g)===k*f+_?1:0;0!==j&&(O+=m.get(v,E,S,g)*j)}}}p.set(O,v,b,y,g)}return p.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){Vf([e,t],"avgPoolBackprop");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s=n.dilationHeight,u=n.dilationWidth,c=n.effectiveFilterHeight,l=n.effectiveFilterWidth,f=l-1-n.padInfo.left,d=c-1-n.padInfo.top,h=nr(t.shape,"float32"),p=1/(a*o),m=this.bufferSync(e),v=0;v<n.batchSize;++v)for(var g=0;g<n.inChannels;++g)for(var b=0;b<n.inHeight;++b)for(var y=0;y<n.inWidth;++y){for(var w=b-d,x=y-f,O=0,k=0;k<c;k+=s){var E=(w+k)/r;if(!(E<0||E>=n.outHeight||Math.floor(E)!==E))for(var _=0;_<l;_+=u){var S=(x+_)/i;S<0||S>=n.outWidth||Math.floor(S)!==S||(O+=m.get(v,E,S,g))}}h.set(O*p,v,b,y,g)}return h.toTensor()},t.prototype.pool3d=function(e,t,n){Vf(e,"pool3d");for(var r=t.strideDepth,i=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,c=t.effectiveFilterDepth,l=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,p=t.padInfo.left,m="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=this.readSync(e.dataId),g=nr(t.outShape,e.dtype),b=g.values,y=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[2]*t.outShape[3]*t.outShape[4],x=t.outShape[3]*t.outShape[4],O=t.outShape[4],k=0;k<t.batchSize;++k)for(var E=k*y,_=k*e.strides[0],S=0;S<t.inChannels;++S)for(var j=0;j<t.outDepth;++j){for(var C=j*r-d,A=C;A<0;)A+=o;for(var T=Math.min(t.inDepth,c+C),N=E+j*w,R=0;R<t.outHeight;++R){for(var M=R*i-h,D=M;D<0;)D+=s;for(var I=Math.min(t.inHeight,l+M),F=N+R*x,P=0;P<t.outWidth;++P){for(var z=P*a-p,L=z;L<0;)L+=u;for(var B=Math.min(t.inWidth,f+z),U=F+P*O,W=m,V=0,q=0,H=A;H<T;H+=o){for(var G=_+H*e.strides[1],$=D;$<I;$+=s){for(var K=G+$*e.strides[2],X=L;X<B;X+=u){var Y=v[K+X*e.strides[3]+S];if("max"===n&&Y>W?W=Y:"avg"===n&&(V+=Y,q++),isNaN(W))break}if(isNaN(W))break}if(isNaN(W))break}b[U+S]="avg"===n?V/q:W}}}return g.toTensor()},t.prototype.avgPool3d=function(e,t){return Vf(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){Vf([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,i=n.strideHeight,a=n.strideWidth,o=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=n.dilationDepth,l=n.dilationHeight,f=n.dilationWidth,d=n.effectiveFilterDepth,h=n.effectiveFilterHeight,p=n.effectiveFilterWidth,m=d-1-n.padInfo.front,v=p-1-n.padInfo.left,g=h-1-n.padInfo.top,b=nr(t.shape,"float32"),y=1/(o*s*u),w=this.bufferSync(e),x=0;x<n.batchSize;++x)for(var O=0;O<n.inChannels;++O)for(var k=0;k<n.inDepth;++k)for(var E=0;E<n.inHeight;++E)for(var _=0;_<n.inWidth;++_){for(var S=k-m,j=E-g,C=_-v,A=0,T=0;T<d;T+=c){var N=(S+T)/r;if(!(N<0||N>=n.outDepth||Math.floor(N)!==N))for(var R=0;R<h;R+=l){var M=(j+R)/i;if(!(M<0||M>=n.outHeight||Math.floor(M)!==M))for(var D=0;D<p;D+=f){var I=(C+D)/a;I<0||I>=n.outWidth||Math.floor(I)!==I||(A+=w.get(x,N,M,I,O))}}}b.set(A*y,x,k,E,_,O)}return b.toTensor()},t.prototype.maxPool3d=function(e,t){return Vf(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=nr(t.outShape,"int32"),r=t.strideDepth,i=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,c=t.effectiveFilterDepth,l=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,p=t.padInfo.left,m=this.bufferSync(e),v=0;v<t.batchSize;++v)for(var g=0;g<t.inChannels;++g)for(var b=0;b<t.outDepth;++b){for(var y=b*r-d,w=y;w<0;)w+=o;for(var x=Math.min(t.inDepth,c+y),O=0;O<t.outHeight;++O){for(var k=O*i-h,E=k;E<0;)E+=s;for(var _=Math.min(t.inHeight,l+k),S=0;S<t.outWidth;++S){for(var j=S*a-p,C=j;C<0;)C+=u;for(var A=Math.min(t.inWidth,f+j),T=Number.NEGATIVE_INFINITY,N=-1,R=w;R<x;R+=o)for(var M=R-y,D=E;D<_;D+=s)for(var I=D-k,F=C;F<A;F+=u){var P=F-j,z=m.get(v,R,D,F,g);z>=T&&(T=z,N=M*l*f+I*l+P)}n.set(N,v,b,O,S,g)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){Vf([t,n],"maxPool3dBackprop");for(var i=this.maxPool3dPositions(t,r),a=r.strideDepth,o=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,l=r.dilationWidth,f=r.effectiveFilterDepth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,p=f-1-r.padInfo.front,m=h-1-r.padInfo.left,v=d-1-r.padInfo.top,g=nr(t.shape,"float32"),b=this.bufferSync(i),y=this.bufferSync(e),w=0;w<r.batchSize;++w)for(var x=0;x<r.inChannels;++x)for(var O=0;O<r.inDepth;++O)for(var k=0;k<r.inHeight;++k)for(var E=0;E<r.inWidth;++E){for(var _=O-p,S=k-v,j=E-m,C=0,A=0;A<f;A+=u){var T=(_+A)/a;if(!(T<0||T>=r.outDepth||Math.floor(T)!==T))for(var N=0;N<d;N+=c){var R=(S+N)/o;if(!(R<0||R>=r.outHeight||Math.floor(R)!==R))for(var M=0;M<h;M+=l){var D=(j+M)/s;if(!(D<0||D>=r.outWidth||Math.floor(D)!==D)){var I=f*d*h-1-b.get(w,T,R,D,x)===A*d*h+N*h+M?1:0;0!==I&&(C+=y.get(w,T,R,D,x)*I)}}}}g.set(C,w,O,k,E,x)}return g.toTensor()},t.prototype.cast=function(e,t){return ka(e,t,this)},t.prototype.reshape=function(e,t){return Ea(e,t)},t.prototype.avgPool=function(e,t){return Vf(e,"avgPool"),Vf(e,"maxPool"),qf(this.readSync(e.dataId),e.shape,e.dtype,e.strides,t,"avg").toTensor().toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){Vf(e,"resizeBilinear");for(var i=e.shape,a=i[0],o=i[1],s=i[2],u=i[3],c=this.readSync(e.dataId),l=new Float32Array(R([a,t,n,u])),f=[r&&t>1?o-1:o,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=0,p=f[0]/d[0],m=f[1]/d[1],v=0;v<a;v++)for(var g=0;g<t;g++)for(var b=p*g,y=Math.floor(b),w=b-y,x=Math.min(o-1,Math.ceil(b)),O=v*e.strides[0]+y*e.strides[1],k=v*e.strides[0]+x*e.strides[1],E=0;E<n;E++)for(var _=m*E,S=Math.floor(_),j=_-S,C=Math.min(s-1,Math.ceil(_)),A=O+S*e.strides[2],T=k+S*e.strides[2],N=O+C*e.strides[2],M=k+C*e.strides[2],D=0;D<u;D++){var I=c[A+D],F=c[T+D],P=I+(c[N+D]-I)*j,z=P+(F+(c[M+D]-F)*j-P)*w;l[h++]=z}return Mn(l,[a,t,n,u])},t.prototype.resizeBilinearBackprop=function(e,t,n){Vf([e,t],"resizeBilinearBackprop");for(var r=t.shape,i=r[0],a=r[1],o=r[2],s=r[3],u=e.shape,c=u[1],l=u[2],f=new Float32Array(i*a*o*s),d=[n&&c>1?a-1:a,n&&l>1?o-1:o],h=[n&&c>1?c-1:c,n&&l>1?l-1:l],p=d[0]/h[0],m=d[1]/h[1],v=this.readSync(e.dataId),g=0,b=0;b<i;b++)for(var y=b*t.strides[0],w=0;w<c;w++)for(var x=w*p,O=Math.floor(x),k=Math.min(Math.ceil(x),a-1),E=y+O*t.strides[1],_=y+k*t.strides[1],S=x-O,j=1-S,C=0;C<l;C++)for(var A=C*m,T=Math.floor(A),N=Math.min(Math.ceil(A),o-1),R=A-T,M=1-R,D=E+T*t.strides[2],I=E+N*t.strides[2],F=_+T*t.strides[2],P=_+N*t.strides[2],z=j*M,L=j*R,B=S*M,U=S*R,W=0;W<s;W++){var V=v[g++];f[D+W]+=V*z,f[I+W]+=V*L,f[F+W]+=V*B,f[P+W]+=V*U}return Ln(f,[i,o,a,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){Vf(e,"resizeNearestNeighbor");for(var i=e.shape,a=i[0],o=i[1],s=i[2],u=i[3],c=this.readSync(e.dataId),l=new Float32Array(a*t*n*u),f=[r&&t>1?o-1:o,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=f[0]/d[0],p=f[1]/d[1],m=0,v=0;v<a;v++)for(var g=v*e.strides[0],b=0;b<t;b++)for(var y=h*b,w=g+Math.min(o-1,r?Math.round(y):Math.floor(y))*e.strides[1],x=0;x<n;x++)for(var O=p*x,k=w+Math.min(s-1,r?Math.round(O):Math.floor(O))*e.strides[2],E=0;E<u;E++){var _=c[k+E];l[m++]=_}return Mn(l,[a,t,n,u],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){Vf([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,i=r[0],a=r[1],o=r[2],s=r[3],u=e.shape,c=u[1],l=u[2],f=new Float32Array(i*a*o*s),d=this.readSync(e.dataId),h=[n&&c>1?a-1:a,n&&l>1?o-1:o],p=[n&&c>1?c-1:c,n&&l>1?l-1:l],m=h[0]/p[0],v=h[1]/p[1],g=1/m,b=1/v,y=2*Math.ceil(g)+2,w=2*Math.ceil(b)+2,x=0;x<i;x++)for(var O=x*t.strides[0],k=0;k<a;k++)for(var E=O+k*t.strides[1],_=Math.floor(k*g),S=Math.floor(_-y/2),j=0;j<o;j++)for(var C=E+j*t.strides[2],A=Math.floor(j*b),T=Math.floor(A-w/2),N=0;N<s;N++){for(var R=0,M=0;M<y;M++){var D=M+S;if(!(D<0||D>=c)){var I=O+D*e.strides[1],F=D*m;if(k===Math.min(a-1,n?Math.round(F):Math.floor(F)))for(var P=0;P<w;P++){var z=P+T;if(!(z<0||z>=l)){var L=I+z*e.strides[2],B=z*v;j===Math.min(o-1,n?Math.round(B):Math.floor(B))&&(R+=d[L+N])}}}}f[C+N]=R}return Ln(f,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,i,a){Vf([e,t,n,i,a],"batchNorm");for(var o=this.readSync(e.dataId),s=this.readSync(t.dataId),u=this.readSync(n.dataId),c=i?this.readSync(i.dataId):new Float32Array([1]),l=a?this.readSync(a.dataId):new Float32Array([0]),f=new Float32Array(o.length),d=l.length,h=c.length,p=u.length,m=s.length,v=0,g=0,b=0,y=0,w=0;w<o.length;++w)f[w]=l[v++]+(o[w]-s[g++])*c[b++]/Math.sqrt(u[y++]+r),v>=d&&(v=0),g>=m&&(g=0),b>=h&&(b=0),y>=p&&(y=0);return Ln(f,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,i){Vf(e,"localResponseNormalization4D");var a=e.shape[3],o=a-1,s=this.readSync(e.dataId),u=e.size,c=new Float32Array(u);function l(e){for(var n=e%a,r=e-n+Math.max(0,n-t),i=e-n+Math.min(n+t,o),u=0;r<=i;r++){var c=s[r];u+=c*c}return u}for(var f=0;f<u;f++){var d=l(f),h=s[f]*Math.pow(n+r*d,-i);c[f]=h}return Ln(c,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,i,a,o){Vf(e,"LRNGrad");for(var s=e.shape[3],u=this.readSync(e.dataId),c=this.readSync(t.dataId),l=this.readSync(n.dataId),f=new Float32Array(e.size),d=e.size,h=0;h<d;h++){for(var p=h%s,m=h-p+Math.max(0,p-r),v=h-p+Math.min(s,p+r+1),g=0,b=m;b<v;b++)g+=Math.pow(c[b],2);for(g=a*g+i,b=m;b<v;b++){var y=-2*a*o*c[b]*l[h]/g;h===b&&(y+=Math.pow(g,-o)),y*=u[h],f[b]+=y}}return Ln(f,e.shape)},t.prototype.multinomial=function(e,t,n,r){Vf(e,"multinomial");for(var i=t?e:aa(e),a=i.shape[0],o=i.shape[1],s=qn([a,n],"int32"),u=this.readSync(s.dataId),c=this.readSync(i.dataId),l=0;l<a;++l){var f=l*o,d=new Float32Array(o-1);d[0]=c[f];for(var h=1;h<d.length;++h)d[h]=d[h-1]+c[f+h];for(var p=Au(r.toString()),m=l*n,v=0;v<n;++v){var g=p();u[m+v]=d.length;for(var b=0;b<d.length;b++)if(g<d[b]){u[m+v]=b;break}}}return s},t.prototype.oneHot=function(e,t,n,r){Vf(e,"oneHot");var i=new Float32Array(e.size*t);i.fill(r);for(var a=this.readSync(e.dataId),o=0;o<e.size;++o)a[o]>=0&&a[o]<t&&(i[o*t+a[o]]=n);return Pn(i,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,i){return Vf(e,"nonMaxSuppression"),Ma(this.readSync(e.dataId),this.readSync(t.dataId),n,r,i)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],i=nr(e.shape,"float32"),a=nr(e.shape,"float32"),o=Nn(e).as2D(n,r),s=Rn(e).as2D(n,r),u=0;u<n;u++)for(var c=o.slice([u,0],[1,r]),l=s.slice([u,0],[1,r]),f=Tn(c,l),d=this.readSync(this.fftImpl(f,t).dataId),h=0;h<r;h++){var p=Ca(d,h);i.values[u*r+h]=p.real,a.values[u*r+h]=p.imag}return Tn(i.toTensor(),a.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var i=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(i=Tn(Nn(i).div(In(r)),Rn(i).div(In(r)))),i}var a=this.readSync(e.dataId),o=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(a,r,t));return Tn(o.real,o.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),i=t/2,a=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=0;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}(r),o=Tn(a.real,a.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=2;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}(r),u=Tn(s.real,s.imag).as1D();o=this.fftRadix2(o,i,n),u=this.fftRadix2(u,i,n);var c=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),i=0;i<Math.ceil(e/2);i++){var a=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(a),r[i]=Math.sin(a)}return{real:n,imag:r}}(t,n),l=Tn(c.real,c.imag).mul(u),f=o.add(l),d=o.sub(l),h=Nn(f).concat(Nn(d)),p=Rn(f).concat(Rn(d));return Tn(h,p).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),i=0;i<t;i++){for(var a=0,o=0,s=0;s<t;s++){var u=Ta(i*s,t,n),c=Ca(e,s);a+=c.real*u.real-c.imag*u.imag,o+=c.real*u.imag+c.imag*u.real}n&&(a/=t,o/=t),Aa(r,a,o,i)}return r},t.prototype.depthToSpace=function(e,t,n){C("NHWC"===n,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n})),C(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));for(var r=e.shape[0],i=e.shape[1],a=e.shape[2],o=e.shape[3],s=i*t,u=a*t,c=o/(t*t),l=this.readSync(e.dataId),f=new Float32Array(r*s*u*c),d=0,h=0;h<r;++h)for(var p=0;p<s;++p)for(var m=Math.floor(p/t),v=p%t,g=0;g<u;++g)for(var b=Math.floor(g/t),y=(v*t+g%t)*c,w=0;w<c;++w){var x=w+y+o*(b+a*(m+i*h));f[d++]=l[x]}return Ln(f,[r,s,u,c])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var i=zr(e.shape,t.shape),a=nr(i,n),o=this.readSync(e.dataId),s=this.readSync(t.dataId),u=Fr(e.shape,i),c=Fr(t.shape,i),l=a.values;if(u.length+c.length===0)for(var f=0;f<l.length;++f)l[f]=r(o[f%o.length],s[f%s.length]);else{var d=this.bufferSync(e),h=this.bufferSync(t),p=function(n){var i=a.indexToLoc(n),f=i.slice(-e.rank);u.forEach((function(e){return f[e]=0}));var p=d.locToIndex(f),m=i.slice(-t.rank);c.forEach((function(e){return m[e]=0}));var v=h.locToIndex(m);l[n]=r(o[p],s[v])};for(f=0;f<l.length;++f)p(f)}return a.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=zr(e.shape,t.shape),i=nr(r,"float32"),a=nr(r,"float32"),o=this.readSync(e.dataId),s=this.readSync(t.dataId),u=Fr(e.shape,r),c=Fr(t.shape,r),l=i.values,f=a.values;if(u.length+c.length===0)for(var d=0;d<l.length;d++){var h=d%o.length,p=d%s.length,m=n(o[2*h],o[2*h+1],s[2*p],s[2*p+1]);l[d]=m.real,f[d]=m.imag}else{var v=this.bufferSync(this.data.get(e.dataId).complexTensors.real),g=this.bufferSync(this.data.get(t.dataId).complexTensors.real),b=function(r){var a=i.indexToLoc(r),d=a.slice(-e.rank);u.forEach((function(e){return d[e]=0}));var h=v.locToIndex(d),p=a.slice(-t.rank);c.forEach((function(e){return p[e]=0}));var m=g.locToIndex(p),b=n(o[2*h],o[2*h+1],s[2*m],s[2*m+1]);l[r]=b.real,f[r]=b.imag};for(d=0;d<l.length;d++)b(d)}return this.complex(i.toTensor(),a.toTensor())},t.prototype.split=function(e,t,n){return La(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,i,a){for(var o=e.shape,s=o[0],u=o[1],c=o[2],l=o[3],f=t.shape[0],d=r[0],h=r[1],p=nr([f,d,h,l],"float32"),m=this.readSync(t.dataId),v=this.readSync(n.dataId),g=this.readSync(e.dataId),b=e.strides,y=p.strides,w=0;w<f;w++){var x=4*w,O=m[x],k=m[x+1],E=m[x+2],_=m[x+3],S=v[w];if(!(S>=s))for(var j=d>1?(E-O)*(u-1)/(d-1):0,C=h>1?(_-k)*(c-1)/(h-1):0,A=0;A<d;A++){var T=d>1?O*(u-1)+A*j:.5*(O+E)*(u-1);if(T<0||T>u-1)for(var N=0;N<h;N++)for(var R=0;R<l;R++){var M=R+N*y[2]+A*y[1]+w*y[0];p.values[M]=a}else if("bilinear"===i){var D=Math.floor(T),I=Math.ceil(T),F=T-D;for(N=0;N<h;N++)if((H=h>1?k*(c-1)+N*C:.5*(k+_)*(c-1))<0||H>c-1)for(R=0;R<l;R++)M=R+N*y[2]+A*y[1]+w*y[0],p.values[M]=a;else{var P=Math.floor(H),z=Math.ceil(H),L=H-P;for(R=0;R<l;R++){var B=g[M=R+P*b[2]+D*b[1]+S*b[0]],U=g[M=R+z*b[2]+D*b[1]+S*b[0]],W=g[M=R+P*b[2]+I*b[1]+S*b[0]],V=B+(U-B)*L,q=W+(g[M=R+z*b[2]+I*b[1]+S*b[0]]-W)*L;M=R+N*y[2]+A*y[1]+w*y[0],p.values[M]=V+(q-V)*F}}}else for(N=0;N<h;++N){var H;if((H=h>1?k*(c-1)+N*C:.5*(k+_)*(c-1))<0||H>c-1)for(R=0;R<l;R++)M=R+N*y[2]+A*y[1]+w*y[0],p.values[M]=a;else{var G=Math.round(H),$=Math.round(T);for(R=0;R<l;R++){var K=R+G*b[2]+$*b[1]+S*b[0],X=R+N*y[2]+A*y[1]+w*y[0];p.values[X]=g[K]}}}}}return p.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var i=Wi(0,e,n),a=i.sliceRank,o=i.numUpdates,s=i.sliceSize,u=i.strides,c=i.outputSize;return this.scatter(e,t,n,c,s,o,a,u,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],i=Pi(e,t),a=i[0],o=i[1],s=i[2],u=i[3];if(0===o)return Mn([],a,e.dtype);for(var c=new ye([o,s],e.dtype),l=this.readSync(t.dataId),f=this.readSync(e.dataId),d=0;d<o;d++){for(var h=[],p=0,m=0;m<r;m++){var v=l[d*r+m];p+=v*u[m],h.push(v)}if(p<0||p>=e.size/s)throw new Error("Invalid indices: "+h+" does not index into "+e.shape);for(var g=0;g<s;g++)c.values[d*s+g]=f[p*s+g]}return c.toTensor().reshape(a)},t.prototype.scatterND=function(e,t,n){var r=Wi(0,e,n),i=r.sliceRank,a=r.numUpdates,o=r.sliceSize,s=r.strides,u=r.outputSize,c=In(0);return this.scatter(e,t,n,u,o,a,i,s,c,!0)},t.prototype.fill=function(e,t,n){var r=V(n=n||Q(t),R(e));return r.fill(t),Ue.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=V(e.dtype,R(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return _a(e,t,n)},t.prototype.scatter=function(e,t,n,r,i,a,o,s,u,c){var l=[r/i,i],f=this.readSync(e.dataId),d=this.readSync(t.dataId);if(0===r)return Mn([],n,t.dtype);var h=new ye(l,t.dtype);h.values.fill(this.readSync(u.dataId)[0]);for(var p=0;p<a;p++){for(var m=[],v=0,g=0;g<o;g++){var b=f[p*o+g];m.push(b),v+=b*s[g]}if(v<0||v>=r/i)throw new Error("Invalid indices: "+m+" does not index into "+n);for(var y=0;y<i;y++)c?h.values[v*i+y]+=d[p*i+y]:h.values[v*i+y]=0===t.rank?d[0]:d[p*i+y]}return h.toTensor().reshape(n)},t}(ca);function Kf(e,t){return{kernelName:e,backendName:"cpu",kernelFunc:function(n){var r=n.inputs,i=n.backend,a=r,o=a.a,s=a.b,u=i;Vf([o,s],e);var c=u.data.get(o.dataId).values,l=u.data.get(s.dataId).values,f=t(o.shape,s.shape,c,l,o.dtype),d=f[0],h=f[1];return{dataId:u.write(d,h,o.dtype),shape:h,dtype:o.dtype}}}}function Xf(e){return function(t,n,r,i,a){var o=zr(t,n),s=o.length,u=ne(o),c=W(a,R(o)),l=t.length,f=n.length,d=ne(t),h=ne(n),p=Fr(t,o),m=Fr(n,o);if(p.length+m.length===0)for(var v=0;v<c.length;++v)c[v]=e(r[v%r.length],i[v%i.length]);else{var g=function(t){var n=de(t,s,u),a=n.slice(-l);p.forEach((function(e){return a[e]=0}));var o=fe(a,l,d),v=n.slice(-f);m.forEach((function(e){return v[e]=0}));var g=fe(v,f,h);c[t]=e(r[o],i[g])};for(v=0;v<c.length;++v)g(v)}return[c,o]}}Ue.registerBackend("cpu",(function(){return new $f}),1);var Yf=Xf((function(e,t){return e/t})),Zf=Kf(Or,Yf),Jf={kernelName:"MaxPoolWithArgmax",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n,o=a.filterSize,s=a.strides,u=a.pad,c=a.includeBatchInIndex,l=r;Vf(i,"MaxPoolWithArgmax");var f=l.data.get(i.dataId).values,d=fa(i.shape,o,s,[1,1],u),h=function(e,t,n,r,i){var a=qf(e,0,n,ne(t),i,"max"),o=Hf(e,t,n,i,!0,r);return[a.values,o.values]}(f,i.shape,i.dtype,c,d),p=h[0],m=h[1],v=l.write(p,d.outShape,i.dtype),g=l.write(m,d.outShape,i.dtype);return[{dataId:v,shape:d.outShape,dtype:i.dtype},{dataId:g,shape:d.outShape,dtype:"int32"}]}},Qf={kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t,a=i.boxes,o=i.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,f=s.softNmsSigma,d=n;Vf(a,"NonMaxSuppressionWithScore");var h=Da(d.data.get(a.dataId).values,d.data.get(o.dataId).values,u,c,l,f);return[h.selectedIndices,h.selectedScores]}},ed={kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n;Vf(r,"square");for(var a=i.data.get(r.dataId).values,o=new Float32Array(a.length),s=0;s<a.length;++s){var u=a[s];o[s]=u*u}return{dataId:i.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},td=Xf((function(e,t){var n=e-t;return n*n}));function nd(e,t,n,r,i){for(var a=R(t),o=t.length,s=ne(t),u=ne(i),c=W(n,R(i)),l=0;l<a;++l){for(var f=de(l,o,s),d=new Array(f.length),h=0;h<d.length;h++)d[h]=f[r[h]];c[fe(d,o,u)]=e[l]}return c}for(var rd=0,id=[Qf,ed,Kf(Er,td),Zf,{kernelName:"Transpose",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n.perm,o=r;Vf(i,"transpose");for(var s=i.shape.length,u=new Array(s),c=0;c<u.length;c++)u[c]=i.shape[a[c]];var l=nd(o.data.get(i.dataId).values,i.shape,i.dtype,a,u);return{dataId:o.write(l,u,i.dtype),shape:u,dtype:i.dtype}}},Jf];rd<id.length;rd++)y(id[rd]);for(var ad,od=function(e){this.variableNames=["A"];var t=Ka(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},sd=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=Ka(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},ud=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var i=ao(this.rank),a=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),i=0;i<e.length;i++)r[e[i]]=n[i];return r.join()}(t);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+a+"));\n    }\n    "},cd=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var i=ao(this.rank),a=Ga("rc",this.rank),o=new Array(this.rank);for(r=0;r<t.length;r++)o[t[r]]=a[r];var s="vec2("+o.slice(-2).join()+")",u="++"+a[this.rank-1]+" < "+n[this.rank-1],c="getChannel(getA("+o.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+i+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+c+";\n      if("+u+") {\n        result[1] = "+c+";\n      }\n      --"+a[this.rank-1]+";\n      if(++"+a[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+c+";\n        if("+u+") {\n          result[3] = "+c+";\n        }\n      }\n      setOutput(result);\n    }\n    "},ld=0,fd=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.pixels,a=r.numChannels,o="undefined"!=typeof HTMLVideoElement&&i instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement,u=o?[i.videoWidth,i.videoHeight]:[i.width,i.height],c=u[0],l=u[1],f=[l,c],h=[l,c,a];(s||o)&&(null==ad&&(ad=document.createElement("canvas").getContext("2d")),ad.canvas.width=c,ad.canvas.height=l,ad.drawImage(i,0,0,c,l),i=ad.canvas);var p=n.makeTensorInfo(f,"int32");n.texData.get(p.dataId).usage=He.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),i);var m=d().getBool("WEBGL_PACK")?new sd(h):new od(h),v=n.runWebGLProgram(m,[p],"int32");return n.disposeData(p.dataId),v}},{kernelName:Or,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;return function(e,t,n){var r=new yo("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return d().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&(r=new xo("\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",e.shape,t.shape,!0)),n.runWebGLProgram(r,[e,t],"float32")}(r.a,r.b,n)}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;pn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var i=t,a=i.boxes,o=i.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,f=s.softNmsSigma,d=n,h=Da(d.readSync(a.dataId),d.readSync(o.dataId),u,c,l,f);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n,a=new tu(r.shape,"return x * x;");return i.runWebGLProgram(a,[r],r.dtype)}},{kernelName:Er,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,i=r.a,a=r.b,o=n,s=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xo("return (a - b) * (a - b);",i.shape,a.shape):new yo("return (a - b) * (a - b);",i.shape,a.shape);return o.compileAndRun(s,[i,a])}},{kernelName:"Transpose",backendName:"webgl",kernelFunc:function(e){for(var t,n=e.inputs,r=e.attrs,i=e.backend,a=n.x,o=r.perm,s=i,u=a.shape.length,c=new Array(u),l=0;l<c.length;l++)c[l]=a.shape[o[l]];if(s.shouldExecuteOnCPU([a])){var f=nd(s.texData.get(a.dataId).values,a.shape,a.dtype,o,c);t=s.makeTensorInfo(c,a.dtype),s.texData.get(t.dataId).values=f}else t=function(e,t,n){var r=d().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new cd(e.shape,t):new ud(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}(a,o,s);return t}},{kernelName:"MaxPoolWithArgmax",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n,o=a.filterSize,s=a.strides,u=a.pad,c=a.includeBatchInIndex,l=r;C(4===i.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank "+i.shape.length+"."}));var f=[1,1];C(xa(s,f),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+s+" and dilations '"+f+"'"}));var d=fa(i.shape,o,s,f,u),h=function(e,t,n,r){var i=new Ns(n,"max",!1),a=r.runWebGLProgram(i,[e],"float32");return i=new Ns(n,"max",!0,!0,t),[a,r.runWebGLProgram(i,[e],"float32")]}(i,c,d,l);return[h[0],h[1]]}}];ld<fd.length;ld++)y(fd[ld]);for(var dd=0,hd=[{kernelName:wr,inputsToSave:["a","b"],gradFunc:function(e,t){var n=t[0],r=t[1],i=zr(n.shape,r.shape);return{a:function(){var t=e,r=Pr(n.shape,i);return r.length>0&&(t=t.sum(r)),t.reshape(n.shape)},b:function(){var t=e,n=Pr(r.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)}}}},{kernelName:"AddN",saveAllInputs:!0,gradFunc:function(e,t){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}},{kernelName:Cr,gradFunc:function(e,t,n){for(var r=n,i=r.inputShape,a=r.shape,o=Array.from(a),s=i.length-1;s>=0;s--)if(i[s]===a[s])o[s]=1;else if(1!==i[s])throw new Error("broadcastTo(): ["+i+"] cannot be broadcast to ["+a+"].");var u=[];for(s=0;s<o.length;s++)o[s]>1&&u.push(s);return{x:function(){return e.sum(u,!0)}}}},{kernelName:Or,inputsToSave:["a","b"],gradFunc:function(e,t){var n=t[0],r=t[1],i=zr(n.shape,r.shape);return{a:function(){var t=Fi(e,r.toFloat()),a=Pr(n.shape,i);return a.length>0?Rl(t,a).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),a=Pr(r.shape,i);a.length>0&&(t=Rl(t,a).reshape(r.shape));var o=xc(r);return ri(Fi(t,o.toFloat()))}}}},{kernelName:"FusedBatchNorm",inputsToSave:["x","mean","variance","scale"],gradFunc:function(e,t,n){var r=n.varianceEpsilon,i=t[0],a=t[1],o=t[2],s=t[3],u=Ru(i),c=null==s?In(1):s,l=Pr(a.shape,u.shape),f=[];if(1===a.rank){for(var d=0;d<u.shape.length-1;++d)f.push(u.shape[d]);f.push(1)}var h=Di(i,a),p=Ai(e,c),m=oi(Ir(o,In(r))),v=Ai(Ai(Ai(m,m),m),In(-.5));return{x:function(){return 1===a.rank?cr(Ai(Ai(e,tc(m.as4D(1,1,1,a.shape[0]),f)),c),i.shape):cr(Ai(Ai(e,m),c),i.shape)},mean:function(){var e=Ai(Ai(m,In(-1)),p);return 1===a.rank&&(e=Rl(e,l)),cr(e,a.shape)},variance:function(){var e=Ai(Ai(v,h),p);return 1===a.rank&&(e=Rl(e,l)),cr(e,a.shape)},scale:function(){var t=Ai(h,m),n=Ai(e,t);return 1===a.rank&&(n=Rl(n,l)),cr(n,a.shape)},offset:function(){var t=e;return 1===a.rank&&(t=Rl(t,l)),cr(t,a.shape)}}}},{kernelName:Tr,gradFunc:function(e){return{x:function(){return e.toFloat()}}}},{kernelName:Ar,inputsToSave:["indices"],gradFunc:function(e,t){var n=t[0];return{indices:function(){return qn(n.shape,"float32")}}}},{kernelName:Rr,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],i=n.paddings.map((function(e){return e[0]}));return{x:function(){return e.slice(i,r.shape)}}}},{kernelName:"Square",inputsToSave:["x"],gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:Er,inputsToSave:["a","b"],gradFunc:function(e,t){var n=t[0],r=t[1],i=In(2);return{a:function(){return Ai(e,Ai(i,Di(n,r)))},b:function(){return Ai(e,Ai(i,Di(r,n)))}}}},{kernelName:Nr,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],i=n.reps;return{x:function(){var t=Xn(r);if(1===r.rank)for(var n=0;n<i[0];++n)t=t.add(e.slice([n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(n=0;n<i[0];++n)for(var a=0;a<i[1];++a)t=t.add(e.slice([n*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(n=0;n<i[0];++n)for(a=0;a<i[1];++a)for(var o=0;o<i[2];++o)t=t.add(e.slice([n*r.shape[0],a*r.shape[1],o*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(n=0;n<i[0];++n)for(a=0;a<i[1];++a)for(o=0;o<i[2];++o)for(var s=0;s<i[3];++s)t=t.add(e.slice([n*r.shape[0],a*r.shape[1],o*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},{kernelName:"Transpose",gradFunc:function(e,t,n){var r=_n(n.perm);return{x:function(){return sa(e,r)}}}}];dd<hd.length;dd++)w(hd[dd]);var pd=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();d().get("IS_BROWSER")&&d().setPlatform("browser",new pd);var md,vd=function(){function e(){this.util=n(473),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=d().global.fetch?d().global.fetch(e,t):(null==md&&(md=n(472)),md(e,t))},e.prototype.now=function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();d().get("IS_NODE")&&d().setPlatform("node",new vd);var gd={float32:4,int32:4,uint16:2,uint8:1,bool:1};function bd(e,t){for(var n={},r=0,i=function(t){var i=t.name,a=t.dtype,o=t.shape,s=R(o),u=void 0;if("quantization"in t){var c=t.quantization;if("uint8"!==c.dtype&&"uint16"!==c.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+c.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var l=gd[c.dtype],f=e.slice(r,r+s*l),d="uint8"===c.dtype?new Uint8Array(f):new Uint16Array(f);if("float32"===a)u=Float32Array.from(d,(function(e){return e*c.scale+c.min}));else{if("int32"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);u=Int32Array.from(d,(function(e){return Math.round(e*c.scale+c.min)}))}r+=s*l}else if("string"===a){var h=R(t.shape);u=[];for(var p=0;p<h;p++){var m=new Uint32Array(e.slice(r,r+4))[0];r+=4;var v=new Uint8Array(e.slice(r,r+m));u.push(v),r+=m}}else{var g=gd[a];if(f=e.slice(r,r+s*g),"float32"===a)u=new Float32Array(f);else if("int32"===a)u=new Int32Array(f);else{if("bool"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);u=new Uint8Array(f)}r+=s*g}n[i]=Mn(u,o,a)},a=0,o=t;a<o.length;a++)i(o[a]);return n}function yd(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)}));var r=new Uint8Array(t),i=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),i),i+=e.byteLength})),r.buffer}var wd="undefined"!=typeof i&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function xd(e){return wd?i.byteLength(e):new Blob([e]).size}function Od(e){var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function kd(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function Ed(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:xd(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:xd(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var _d=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var i=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&i.push(n)})),i},e}(),Sd="://",jd=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){C(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(Sd)&&(t=t.slice(0,t.indexOf(Sd))),C(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();C(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '"+t+"'."})),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function Cd(e){if(-1===e.indexOf(Sd))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+jd.getSchemes().join(","));return{scheme:e.split(Sd)[0],path:e.split(Sd)[1]}}function Ad(e,t,n){return void 0===n&&(n=!1),u(this,void 0,void 0,(function(){var r,i,a,o,s,u,l,f,d;return c(this,(function(c){switch(c.label){case 0:return C(e!==t,(function(){return"Old path and new path are the same: '"+e+"'"})),C((r=_d.getLoadHandlers(e)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+e+"."})),C(r.length<2,(function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."})),i=r[0],C((a=_d.getSaveHandlers(t)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+t+"."})),C(a.length<2,(function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."})),o=a[0],s=Cd(e).scheme,u=Cd(e).path,l=s===Cd(e).scheme,[4,i.load()];case 1:return f=c.sent(),n&&l?[4,jd.getManager(s).removeModel(u)]:[3,3];case 2:c.sent(),c.label=3;case 3:return[4,o.save(f)];case 4:return d=c.sent(),!n||l?[3,6]:[4,jd.getManager(s).removeModel(u)];case 5:c.sent(),c.label=6;case 6:return[2,d.modelArtifactsInfo]}}))}))}var Td="models_store",Nd="model_info_store";function Rd(){if(!d().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Md(e){var t=e.result;t.createObjectStore(Td,{keyPath:"modelPath"}),t.createObjectStore(Nd,{keyPath:"modelPath"})}var Dd=function(){function e(e){if(this.indexedDB=Rd(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]}))}))},e.prototype.load=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.databaseAction(this.modelPath)]}))}))},e.prototype.databaseAction=function(e,t){var n=this;return new Promise((function(e,r){var i=n.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return Md(i)},i.onsuccess=function(){var a=i.result;if(null==t){var o=a.transaction(Td,"readonly"),s=o.objectStore(Td).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return a.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return a.close(),r(s.error)},o.oncomplete=function(){return a.close()}}else{var u,c=Ed(t),l=a.transaction(Nd,"readwrite"),f=l.objectStore(Nd),d=f.put({modelPath:n.modelPath,modelArtifactsInfo:c});d.onsuccess=function(){var i=(u=a.transaction(Td,"readwrite")).objectStore(Td).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c});i.onsuccess=function(){return e({modelArtifactsInfo:c})},i.onerror=function(e){var t=(f=l.objectStore(Nd)).delete(n.modelPath);t.onsuccess=function(){return a.close(),r(i.error)},t.onerror=function(e){return a.close(),r(i.error)}}},d.onerror=function(e){return a.close(),r(d.error)},l.oncomplete=function(){null==u?a.close():u.oncomplete=function(){return a.close()}}}},i.onerror=function(e){return r(i.error)}}))},e.URL_SCHEME="indexeddb://",e}(),Id=function(e){return d().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Dd.URL_SCHEME)?(t=e.slice(Dd.URL_SCHEME.length),new Dd(t)):null;var t};_d.registerSaveRouter(Id),_d.registerLoadRouter(Id);var Fd=function(){function e(){this.indexedDB=Rd()}return e.prototype.listModels=function(){return u(this,void 0,void 0,(function(){var e=this;return c(this,(function(t){return[2,new Promise((function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return Md(r)},r.onsuccess=function(){var e=r.result,i=e.transaction(Nd,"readonly"),a=i.objectStore(Nd).getAll();a.onsuccess=function(){for(var e={},n=0,r=a.result;n<r.length;n++){var i=r[n];e[i.modelPath]=i.modelArtifactsInfo}t(e)},a.onerror=function(t){return e.close(),n(a.error)},i.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}}))]}))}))},e.prototype.removeModel=function(e){return u(this,void 0,void 0,(function(){var t=this;return c(this,(function(n){var r;return e=(r=e).startsWith(Dd.URL_SCHEME)?r.slice(Dd.URL_SCHEME.length):r,[2,new Promise((function(n,r){var i=t.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return Md(i)},i.onsuccess=function(){var t,a=i.result,o=a.transaction(Nd,"readwrite"),s=o.objectStore(Nd),u=s.get(e);u.onsuccess=function(){if(null==u.result)return a.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var i=s.delete(e),o=function(){var i=(t=a.transaction(Td,"readwrite")).objectStore(Td).delete(e);i.onsuccess=function(){return n(u.result.modelArtifactsInfo)},i.onerror=function(e){return r(u.error)}};i.onsuccess=o,i.onerror=function(e){return o(),a.close(),r(u.error)}},u.onerror=function(e){return a.close(),r(u.error)},o.oncomplete=function(){null==t?a.close():t.oncomplete=function(){return a.close()}}},i.onerror=function(e){return r(i.error)}}))]}))}))},e}();if(d().getBool("IS_BROWSER"))try{jd.registerManager(Dd.URL_SCHEME,new Fd)}catch(Ae){}var Pd="/",zd="tensorflowjs_models",Ld="info",Bd="model_topology",Ud="weight_specs",Wd="weight_data",Vd="model_metadata";function qd(e){return{info:[zd,e,Ld].join(Pd),topology:[zd,e,Bd].join(Pd),weightSpecs:[zd,e,Ud].join(Pd),weightData:[zd,e,Wd].join(Pd),modelMetadata:[zd,e,Vd].join(Pd)}}function Hd(e){var t=e.split(Pd);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(Pd)}var Gd=function(){function e(e){if(!d().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=qd(this.modelPath)}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){var t,n,r;return c(this,(function(a){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=Ed(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(wd)return i.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]}))}))},e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,a,o,s;return c(this,(function(u){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(a=this.LS.getItem(this.keys.modelMetadata))&&(o=JSON.parse(a),t.format=o.format,t.generatedBy=o.generatedBy,t.convertedBy=o.convertedBy,t.userDefinedMetadata=o.userDefinedMetadata),null==(s=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(wd){var t=i.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),a=0;a<n.length;++a)r.set([n.charCodeAt(a)],a);return r.buffer}(s),[2,t]}))}))},e.URL_SCHEME="localstorage://",e}(),$d=function(e){return d().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Gd.URL_SCHEME)?(t=e.slice(Gd.URL_SCHEME.length),new Gd(t)):null;var t};_d.registerSaveRouter($d),_d.registerLoadRouter($d);var Kd=function(){function e(){C(d().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),C("undefined"==typeof window||void 0!==window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return e.prototype.listModels=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,i,a;return c(this,(function(o){for(e={},t=zd+Pd,n=Pd+Ld,r=0;r<this.LS.length;++r)(i=this.LS.key(r)).startsWith(t)&&i.endsWith(n)&&(a=Hd(i),e[a]=JSON.parse(this.LS.getItem(i)));return[2,e]}))}))},e.prototype.removeModel=function(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){var i;if(e=(i=e).startsWith(Gd.URL_SCHEME)?i.slice(Gd.URL_SCHEME.length):i,t=qd(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]}))}))},e}();if(d().getBool("IS_BROWSER"))try{jd.registerManager(Gd.URL_SCHEME,new Kd)}catch(Ae){}function Xd(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var Yd=function(){function e(t){if(!d().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i,a,o;return c(this,(function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},i=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(a=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,a.href=i,[4,Xd((function(){return a.dispatchEvent(new MouseEvent("click"))}))];case 2:return s.sent(),null==e.weightData?[3,4]:((o=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,o.href=t,[4,Xd((function(){return o.dispatchEvent(new MouseEvent("click"))}))]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:Ed(e)}]}}))}))},e.URL_SCHEME="downloads://",e}(),Zd=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n=this;return c(this,(function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise((function(r,i){var a=new FileReader;a.onload=function(a){var o=JSON.parse(a.target.result),s=o.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var u=o.weightsManifest;if(null!=u){var c;try{c=n.checkManifestAndWeightFiles(u,t)}catch(e){return void i(e)}var l=[],f=[],d=[];u.forEach((function(e){e.paths.forEach((function(e){f.push(e),d.push(null)})),l.push.apply(l,e.weights)})),u.forEach((function(e){e.paths.forEach((function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,i=f.indexOf(e);d[i]=n,-1===d.indexOf(null)&&r({modelTopology:s,weightSpecs:l,weightData:Od(d),format:o.format,generatedBy:o.generatedBy,convertedBy:o.convertedBy,userDefinedMetadata:o.userDefinedMetadata})},t.onerror=function(t){return i("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(c[e])}))}))}else i(new Error("weightManifest field is missing from file "+e.name))}else i(new Error("modelTopology field is missing from file "+e.name))},a.onerror=function(t){return i("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},a.readAsText(e)}))]}))}))},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map((function(e){return kd(e.name)})),i={},a=0,o=e;a<o.length;a++)o[a].paths.forEach((function(e){var a=kd(e);if(-1!==n.indexOf(a))throw new Error("Duplicate file basename found in weights manifest: '"+a+"'");if(n.push(a),-1===r.indexOf(a))throw new Error("Weight file with basename '"+a+"' is not provided.");i[e]=t[r.indexOf(a)]}));if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return i},e}();function Jd(e,t,n,r){!function(e){C(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){C(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e})),C(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t})),C(t>=e,(function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t}))}(n=null==n?0:n,r=null==r?1:r);var i=0;return Promise.all(e.map((function(a){return a.then((function(a){var o=n+ ++i/e.length*(r-n);return t(o),a})),a})))}function Qd(e,t){return u(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,l,f;return c(this,(function(c){switch(c.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?d().platform.fetch:t.fetchFunc,r=e.map((function(e){return n(e,t.requestInit,{isBinary:!0})})),i=0,a=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return o=c.sent(),[3,4];case 2:return[4,Jd(r,t.onProgress,i,a)];case 3:o=c.sent(),c.label=4;case 4:return s=o.map((function(e){return e.arrayBuffer()})),u=.5,l=1,null!=t.onProgress?[3,6]:[4,Promise.all(s)];case 5:return f=c.sent(),[3,8];case 6:return[4,Jd(s,t.onProgress,u,l)];case 7:f=c.sent(),c.label=8;case 8:return[2,f]}}))}))}function eh(e){var t=this;return function(n,r,i){return void 0===r&&(r=""),u(t,void 0,void 0,(function(){var t,a,o,s,u,l,f,d,h,p;return c(this,(function(c){switch(c.label){case 0:if(t=n.map((function(){return!1})),a={},o=null!=i?i.map((function(){return!1})):[],s=[],n.forEach((function(e,n){var r=0;e.weights.forEach((function(e){var u="quantization"in e?e.quantization.dtype:e.dtype,c=gd[u]*R(e.shape),l=function(){t[n]=!0,null==a[n]&&(a[n]=[]),a[n].push({manifestEntry:e,groupOffset:r,sizeBytes:c})};null!=i?i.forEach((function(t,n){t===e.name&&(l(),o[n]=!0)})):l(),s.push(e.name),r+=c}))})),!o.every((function(e){return e})))throw u=i.filter((function(e,t){return!o[t]})),new Error("Could not find weights in manifest with names: "+u.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return l=t.reduce((function(e,t,n){return t&&e.push(n),e}),[]),f=[],l.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;f.push(t)}))})),[4,e(f)];case 1:return d=c.sent(),h={},p=0,l.forEach((function(e){for(var t=n[e].paths.length,r=0,i=0;i<t;i++)r+=d[p+i].byteLength;for(var o=new ArrayBuffer(r),s=new Uint8Array(o),u=0,c=0;c<t;c++){var l=new Uint8Array(d[p+c]);s.set(l,u),u+=l.byteLength}a[e].forEach((function(e){var t=bd(o.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)h[n]=t[n]})),p+=t})),[2,h]}}))}))}}_d.registerSaveRouter((function(e){return d().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Yd.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new Yd(e)}(e.slice(Yd.URL_SCHEME.length)):null}));var th=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(C("function"==typeof t.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=t.fetchFunc):this.fetch=d().platform.fetch,C(null!=e&&e.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(e)&&C(2===e.length,(function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."})),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i;return c(this,(function(a){switch(a.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((i=a.sent()).ok)return[2,{modelArtifactsInfo:Ed(e),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}}))}))},e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,s,u,l,f,d;return c(this,(function(c){switch(c.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=c.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");c.label=2;case 2:return c.trys.push([2,4,,5]),[4,e.json()];case 3:return t=c.sent(),[3,5];case 4:throw c.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,i=t.weightsManifest,a=t.generatedBy,o=t.convertedBy,s=t.format,u=t.userDefinedMetadata,null==r&&null==i)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==i?[3,7]:[4,this.loadWeights(i)];case 6:d=c.sent(),l=d[0],f=d[1],c.label=7;case 7:return[2,{modelTopology:r,weightSpecs:l,weightData:f,userDefinedMetadata:u,generatedBy:a,convertedBy:o,format:s}]}}))}))},e.prototype.loadWeights=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,u,l,f,d;return c(this,(function(c){switch(c.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],i=n[1],a=this.weightPathPrefix||r,o=[],s=0,u=e;s<u.length;s++)l=u[s],o.push.apply(o,l.weights);return f=[],e.forEach((function(e){e.paths.forEach((function(e){f.push(a+e+i)}))})),[4,Qd(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return d=c.sent(),[2,[o,Od(d)]]}}))}))},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function nh(e){return null!=e.match(th.URL_SCHEME_REGEX)}var rh=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every((function(e){return nh(e)})):nh(e))?ih(e,{onProgress:t}):null};function ih(e,t){return new th(e,t)}_d.registerSaveRouter(rh),_d.registerLoadRouter(rh);var ah,oh=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.modelArtifacts]}))}))},e}(),sh=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){return[2,this.saveHandler(e)]}))}))},e}(),uh=Object.freeze({browserFiles:function(e){return new Zd(e)},browserHTTPRequest:function(e,t){return ih(e,t)},concatenateArrayBuffers:Od,decodeWeights:bd,encodeWeights:function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,a,o,s=this;return c(this,(function(l){switch(l.label){case 0:for(n=[],r=[],i=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e),a=function(a){var o=i[a],l=Array.isArray(e)?e[a].tensor:e[o];if("float32"!==l.dtype&&"int32"!==l.dtype&&"bool"!==l.dtype&&"string"!==l.dtype)throw new Error("Unsupported dtype in weight '"+o+"': "+l.dtype);var f={name:o,shape:l.shape,dtype:l.dtype};if("string"===l.dtype){var d=new Promise((function(e){return u(s,void 0,void 0,(function(){var t,n,r,i,a,o,s;return c(this,(function(u){switch(u.label){case 0:return[4,l.bytes()];case 1:for(t=u.sent(),n=t.reduce((function(e,t){return e+t.length}),0)+4*t.length,r=new Uint8Array(n),i=0,a=0;a<t.length;a++)o=t[a],s=new Uint8Array(new Uint32Array([o.length]).buffer),r.set(s,i),i+=4,r.set(o,i),i+=o.length;return e(r),[2]}}))}))}));r.push(d)}else r.push(l.data());null!=t&&(f.group=t),n.push(f)},o=0;o<i.length;++o)a(o);return[4,Promise.all(r)];case 1:return[2,{data:yd(l.sent()),specs:n}]}}))}))},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new oh(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new oh({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new oh({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return _d.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:Ed,getSaveHandlers:function(e){return _d.getSaveHandlers(e)},http:ih,isHTTPScheme:nh,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),u(this,void 0,void 0,(function(){return c(this,(function(i){return[2,eh((function(e){return Qd(e,{requestInit:r})}))(e,t,n)]}))}))},registerLoadRouter:function(e){return _d.registerLoadRouter(e)},registerSaveRouter:function(e){return _d.registerSaveRouter(e)},weightsLoaderFactory:eh,withSaveHandler:function(e){return new sh(e)},copyModel:function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){return[2,Ad(e,t,!1)]}))}))},listModels:function(){return u(this,void 0,void 0,(function(){var e,t,n,r,i,a,o;return c(this,(function(s){switch(s.label){case 0:e=jd.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(i=r[n],[4,jd.getManager(i).listModels()]):[3,4];case 2:for(o in a=s.sent())t[i+Sd+o]=a[o];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}}))}))},moveModel:function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){return[2,Ad(e,t,!0)]}))}))},removeModel:function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){return t=Cd(e),[2,jd.getManager(t.scheme).removeModel(t.path)]}))}))}}),ch=An({confusionMatrix_:function(e,t,n){var r=gn(e,"labels","confusionMatrix"),i=gn(t,"predictions","confusionMatrix");C(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, but got "+n})),C(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),C(1===i.rank,(function(){return"Expected the rank of predictions to be 1, but got "+i.rank})),C(r.shape[0]===i.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+i.shape[0]+". Labels and predictions should have the same number of elements."})),C(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+n}));var a=ic(r.asType("int32"),n),o=ic(i.asType("int32"),n);return a.transpose().matMul(o).asType("int32")}}),lh=Object.freeze({confusionMatrix:ch}),fh=An({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,i=!1,a=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);o=!0}if(i&&i&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=v("FromPixels",Ue.backendName))return Ue.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,u,c=i?[e.videoWidth,e.videoHeight]:[e.width,e.height],l=c[0],f=c[1];if(o?s=e.getContext("2d").getImageData(0,0,l,f).data:r||n?s=e.data:(a||i)&&(null==ah&&(ah=document.createElement("canvas").getContext("2d")),ah.canvas.width=l,ah.canvas.height=f,ah.drawImage(e,0,0,l,f),s=ah.getImageData(0,0,l,f).data),4===t)u=new Int32Array(s);else{var d=l*f;u=new Int32Array(d*t);for(var h=0;h<d;h++)for(var p=0;p<t;++p)u[h*t+p]=s[4*h+p]}return zn(u,[f,l,t],"int32")}}),dh=Object.freeze({toPixels:function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,l,f,d,h,p,m,v,g,b,y,w,x,O,k,E,_;return c(this,(function(c){switch(c.label){case 0:if(n=gn(e,"img","toPixels"),e instanceof ke||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),i=r[0],a=r[1],(o=2===n.rank?1:n.shape[2])>4||2===o)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+o);return[4,n.data()];case 1:return s=c.sent(),u=n.min(),l=n.max(),[4,Promise.all([u.data(),l.data()])];case 2:if(f=c.sent(),d=f[0],h=f[1],p=d[0],m=h[0],u.dispose(),l.dispose(),"float32"===n.dtype){if(p<0||m>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+p+" - "+m+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(p<0||m>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+p+" - "+m+"].")}for(v="float32"===n.dtype?255:1,g=new Uint8ClampedArray(a*i*4),b=0;b<i*a;++b)y=void 0,w=void 0,x=void 0,O=void 0,1===o?(y=s[b]*v,w=s[b]*v,x=s[b]*v,O=255):3===o?(y=s[3*b]*v,w=s[3*b+1]*v,x=s[3*b+2]*v,O=255):4===o&&(y=s[4*b]*v,w=s[4*b+1]*v,x=s[4*b+2]*v,O=s[4*b+3]*v),g[0+(k=4*b)]=Math.round(y),g[k+1]=Math.round(w),g[k+2]=Math.round(x),g[k+3]=Math.round(O);return null!=t&&(t.width=a,t.height=i,E=t.getContext("2d"),_=new ImageData(g,a,i),E.putImageData(_,0,0)),n!==e&&n.dispose(),[2,g]}}))}))},fromPixels:fh}),hh=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),ph=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function mh(e){C(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),C("string"==typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),C(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),ph.register(e)}var vh=Object.freeze({Serializable:hh,SerializationMap:ph,registerClass:mh}),gh="1.7.2",bh=Object.freeze({gpgpu_util:vs,webgl_util:qt,forceHalfFloat:function(){d().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:wu,setWebGLContext:Xe,GPGPUContext:gs}),yh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),i=r.value,a=r.grads;if(null!=n){var o=n.map((function(e){return{name:e.name,tensor:a[e.name]}}));this.applyGradients(o)}else this.applyGradients(a);return tn(a),t?i:(i.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return na(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&tn(this.iterations_)},t.prototype.saveIterations=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:In(this.iterations_,"int32")}]}))}))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},t.prototype.extractIterations=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}}))}))},t}(hh);Object.defineProperty(yh,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var wh=function(e){function t(t,n,r){void 0===r&&(r=null);var i=e.call(this)||this;return i.learningRate=t,i.rho=n,i.epsilon=r,i.accumulatedGrads=[],i.accumulatedUpdates=[],null==r&&(i.epsilon=Ue.backend.epsilon()),i}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Ue.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:en((function(){return Xn(i).variable(!1)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:en((function(){return Xn(i).variable(!1)}))});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;en((function(){var e=o.mul(t.rho).add(a.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(o.add(t.epsilon).sqrt()).mul(a),r=s.mul(t.rho).add(n.square().mul(1-t.rho));o.assign(e),s.assign(r);var u=n.mul(-t.learningRate).add(i);i.assign(u)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(tn(this.accumulatedGrads.map((function(e){return e.variable}))),tn(this.accumulatedUpdates.map((function(e){return e.variable}))))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedUpdates=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}(yh);mh(wh);var xh=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Ue.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:en((function(){return Hn(i.shape,t.initialAccumulatorValue).variable(!1)}))});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable;en((function(){var e=o.add(a.square());o.assign(e);var n=a.div(e.add(Ue.backend.epsilon()).sqrt()).mul(-t.learningRate).add(i);i.assign(n)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&tn(this.accumulatedGrads.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}(yh);mh(xh);var Oh=function(e){function t(t,n,r,i){void 0===i&&(i=null);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=r,a.epsilon=i,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],en((function(){a.accBeta1=In(n).variable(),a.accBeta2=In(r).variable()})),null==i&&(a.epsilon=Ue.backend.epsilon()),a}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);en((function(){var r=Di(1,t.accBeta1),i=Di(1,t.accBeta2);n.forEach((function(n,a){var o=Ue.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:n+"/m",variable:en((function(){return Xn(o).variable(!1)}))}),null==t.accumulatedSecondMoment[a]&&(t.accumulatedSecondMoment[a]={originalName:n+"/v",variable:en((function(){return Xn(o).variable(!1)}))});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,c=t.accumulatedSecondMoment[a].variable,l=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=c.mul(t.beta2).add(s.square().mul(1-t.beta2)),d=l.div(r),h=f.div(i);u.assign(l),c.assign(f);var p=d.div(h.sqrt().add(t.epsilon)).mul(-t.learningRate).add(o);o.assign(p)}})),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&tn(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&tn(this.accumulatedSecondMoment.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),en((function(){n.accBeta1.assign(Ni(n.beta1,n.iterations_+1)),n.accBeta2.assign(Ni(n.beta2,n.iterations_+1))})),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedSecondMoment=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}(yh);mh(Oh);var kh=function(e){function t(t,n,r,i,a){void 0===i&&(i=null),void 0===a&&(a=0);var o=e.call(this)||this;return o.learningRate=t,o.beta1=n,o.beta2=r,o.epsilon=i,o.decay=a,o.accumulatedFirstMoment=[],o.accumulatedWeightedInfNorm=[],en((function(){o.iteration=In(0).variable(),o.accBeta1=In(n).variable()})),null==i&&(o.epsilon=Ue.backend.epsilon()),o}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);en((function(){var r=Di(1,t.accBeta1),i=Fi(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach((function(n,a){var o=Ue.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:n+"/m",variable:Xn(o).variable(!1)}),null==t.accumulatedWeightedInfNorm[a]&&(t.accumulatedWeightedInfNorm[a]={originalName:n+"/v",variable:Xn(o).variable(!1)});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,c=t.accumulatedWeightedInfNorm[a].variable,l=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=c.mul(t.beta2),d=s.abs(),h=f.maximum(d);u.assign(l),c.assign(h);var p=i.div(r).mul(l.div(h.add(t.epsilon))).add(o);o.assign(p)}})),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&tn(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&tn(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(e){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}(yh);mh(kh);var Eh=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=Ue.registeredVariables[n];en((function(){var e=t.c.mul(i).add(a);a.assign(e)}))}})),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=nn(In(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}(yh);mh(Eh);var _h=function(e){function t(t,n,r){void 0===r&&(r=!1);var i=e.call(this,t)||this;return i.learningRate=t,i.momentum=n,i.useNesterov=r,i.accumulations=[],i.m=In(i.momentum),i}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Ue.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:en((function(){return Xn(i).variable(!1)}))});var a=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&en((function(){var e,n=t.m.mul(a).add(o);e=t.useNesterov?t.c.mul(o.add(n.mul(t.m))).add(i):t.c.mul(n).add(i),a.assign(n),i.assign(e)}))})),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&tn(this.accumulations.map((function(e){return e.variable})))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(Eh);mh(_h);var Sh=function(e){function t(t,n,r,i,a){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===i&&(i=null),void 0===a&&(a=!1);var o=e.call(this)||this;if(o.learningRate=t,o.decay=n,o.momentum=r,o.epsilon=i,o.accumulatedMeanSquares=[],o.accumulatedMoments=[],o.accumulatedMeanGrads=[],o.centered=a,null==i&&(o.epsilon=Ue.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return o}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Ue.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:en((function(){return Xn(i).variable(!1)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:en((function(){return Xn(i).variable(!1)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:en((function(){return Xn(i).variable(!1)}))});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;en((function(){var e=o.mul(t.decay).add(a.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,u=n.mul(t.decay).add(a.mul(1-t.decay)),c=s.mul(t.momentum).add(a.mul(t.learningRate).div(e.sub(u.square().add(t.epsilon)).sqrt()));o.assign(e),n.assign(u),s.assign(c);var l=i.sub(c);i.assign(l)}else{var f=o.mul(t.decay).add(a.square().mul(1-t.decay));c=s.mul(t.momentum).add(a.mul(t.learningRate).div(f.add(t.epsilon).sqrt())),o.assign(f),s.assign(c),l=i.sub(c),i.assign(l)}}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&tn(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&tn(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&tn(this.accumulatedMoments.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedMoments=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}))),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}(yh);mh(Sh);var jh=function(){function e(){}return e.sgd=function(e){return new Eh(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new _h(e,t,n)},e.rmsprop=function(e,t,n,r,i){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=!1),new Sh(e,t,n,r,i)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new Oh(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new wh(e,t,n)},e.adamax=function(e,t,n,r,i){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===i&&(i=0),new kh(e,t,n,r,i)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new xh(e,t)},e}(),Ch={sgd:jh.sgd,momentum:jh.momentum,adadelta:jh.adadelta,adagrad:jh.adagrad,rmsprop:jh.rmsprop,adamax:jh.adamax,adam:jh.adam},Ah="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof a?a:function(e){return e()};function Th(){return new Promise((function(e){return Ah((function(){return e()}))}))}ke.prototype.add=function(e){return Ir(this,e)},ke.prototype.broadcastTo=function(e){return Gu(this,e)},ke.prototype.div=function(e){return Fi(this,e)},ke.prototype.divNoNan=function(e){return ec(this,e)},ke.prototype.squaredDifference=function(e){return Oc(this,e)},ke.prototype.tile=function(e){return tc(this,e)},ke.prototype.oneHot=function(e,t,n){return void 0===t&&(t=1),void 0===n&&(n=0),ic(this,e,t,n)},ke.prototype.transpose=function(e){return sa(this,e)},ke.prototype.pad=function(e,t){return ac(this,e,t)},ke.prototype.batchNorm=function(e,t,n,r,i){return Fu(this,e,t,n,r,i)},xe=Wf}).call(this,n(42),n(60),n(34).Buffer,n(353).setImmediate)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){var t,n,i="";if(e)if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(n=r(t))&&(i&&(i+=" "),i+=n);else"boolean"===typeof e||e.call||(i&&(i+=" "),i+=e);return i}t.a=function(){for(var e,t=0,n="";t<arguments.length;)(e=r(arguments[t++]))&&(n&&(n+=" "),n+=e);return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(93);function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(r.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(49);function i(e,t){if(null==e)return{};var n,i,a=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=n.n(a),s=(n(8),n(54)),u=n.n(s),c=n(639),l=n(444),f=n(237),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=t.defaultTheme,s=t.withTheme,d=void 0!==s&&s,h=t.name,p=Object(i.a)(t,["defaultTheme","withTheme","name"]);var m=h,v=Object(c.a)(e,Object(r.a)({defaultTheme:a,Component:n,name:h||n.displayName,classNamePrefix:m},p)),g=o.a.forwardRef((function(e,t){e.classes;var s,u=e.innerRef,c=Object(i.a)(e,["classes","innerRef"]),p=v(Object(r.a)({},n.defaultProps,{},e)),m=c;return("string"===typeof h||d)&&(s=Object(f.a)()||a,h&&(m=Object(l.a)({theme:s,name:h,props:c})),d&&!m.theme&&(m.theme=s)),o.a.createElement(n,Object(r.a)({ref:u||t,classes:p},m))}));return u()(g,n),g}},h=n(74);t.a=function(e,t){return d(e,Object(r.a)({defaultTheme:h.a},t))}},function(e,t,n){e.exports=n(460)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(163);var i=n(225),a=n(93);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){e.exports=n(464)},function(e,t,n){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(45);function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var a=n(168);function o(e){return function(){var t,n=Object(r.a)(e);if(i()){var o=Object(r.a)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return Object(a.a)(this,t)}}},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function i(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb(".concat(n.map((function(e){return parseInt(e,16)})).join(", "),")"):""}function a(e){if(0===e.indexOf("#"))return e;var t=s(e).values;return"#".concat(t.map((function(e){return function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t}(e)})).join(""))}function o(e){var t=(e=s(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),u({type:c,values:l})}function s(e){if(e.type)return e;if("#"===e.charAt(0))return s(i(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(["Material-UI: unsupported `".concat(e,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function u(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function c(e,t){var n=l(e),r=l(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e){var t="hsl"===(e=s(e)).type?s(o(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?h(e,t):p(e,t)}function d(e,t){return e=s(e),t=r(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,u(e)}function h(e,t){if(e=s(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function p(e,t){if(e=s(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return u(e)}n.d(t,"g",(function(){return i})),n.d(t,"k",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"j",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"i",(function(){return p}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(212);var i=n(93),a=n(213);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(38);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(i.a)(e,n),Object(i.a)(t,n)}}),[e,t])}},,function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){var r=n(34),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(237),i=(n(0),n(74));function a(){return Object(r.a)()||i.a}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(457)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),i=n(0),a=n.n(i),o=n(223);function s(e,t){var n=a.a.memo(a.a.forwardRef((function(t,n){return a.a.createElement(o.a,Object(r.a)({ref:n},t),e)})));return n.muiName=o.a.muiName,n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(164);var i=n(216),a=n(132);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.r(t),n.d(t,"AdadeltaOptimizer",(function(){return r.a})),n.d(t,"AdagradOptimizer",(function(){return r.b})),n.d(t,"AdamOptimizer",(function(){return r.c})),n.d(t,"AdamaxOptimizer",(function(){return r.d})),n.d(t,"Add",(function(){return r.e})),n.d(t,"AddN",(function(){return r.f})),n.d(t,"BroadcastTo",(function(){return r.g})),n.d(t,"DataStorage",(function(){return r.h})),n.d(t,"Div",(function(){return r.i})),n.d(t,"ENV",(function(){return r.j})),n.d(t,"Environment",(function(){return r.k})),n.d(t,"FromPixels",(function(){return r.l})),n.d(t,"FusedBatchNorm",(function(){return r.m})),n.d(t,"Identity",(function(){return r.n})),n.d(t,"KernelBackend",(function(){return r.o})),n.d(t,"MaxPoolWithArgmax",(function(){return r.p})),n.d(t,"MomentumOptimizer",(function(){return r.q})),n.d(t,"NonMaxSuppressionV5",(function(){return r.r})),n.d(t,"OneHot",(function(){return r.s})),n.d(t,"Optimizer",(function(){return r.t})),n.d(t,"PadV2",(function(){return r.u})),n.d(t,"RMSPropOptimizer",(function(){return r.v})),n.d(t,"Rank",(function(){return r.w})),n.d(t,"Reduction",(function(){return r.x})),n.d(t,"SGDOptimizer",(function(){return r.y})),n.d(t,"Square",(function(){return r.z})),n.d(t,"SquaredDifference",(function(){return r.A})),n.d(t,"Tensor",(function(){return r.B})),n.d(t,"TensorBuffer",(function(){return r.C})),n.d(t,"Tile",(function(){return r.D})),n.d(t,"Transpose",(function(){return r.E})),n.d(t,"Variable",(function(){return r.F})),n.d(t,"abs",(function(){return r.G})),n.d(t,"acos",(function(){return r.H})),n.d(t,"acosh",(function(){return r.I})),n.d(t,"add",(function(){return r.J})),n.d(t,"addN",(function(){return r.K})),n.d(t,"addStrict",(function(){return r.L})),n.d(t,"all",(function(){return r.M})),n.d(t,"any",(function(){return r.N})),n.d(t,"argMax",(function(){return r.O})),n.d(t,"argMin",(function(){return r.P})),n.d(t,"asin",(function(){return r.Q})),n.d(t,"asinh",(function(){return r.R})),n.d(t,"atan",(function(){return r.S})),n.d(t,"atan2",(function(){return r.T})),n.d(t,"atanh",(function(){return r.U})),n.d(t,"avgPool",(function(){return r.V})),n.d(t,"avgPool3d",(function(){return r.W})),n.d(t,"backend",(function(){return r.X})),n.d(t,"backend_util",(function(){return r.Y})),n.d(t,"basicLSTMCell",(function(){return r.Z})),n.d(t,"batchNorm",(function(){return r.ab})),n.d(t,"batchNorm2d",(function(){return r.bb})),n.d(t,"batchNorm3d",(function(){return r.cb})),n.d(t,"batchNorm4d",(function(){return r.db})),n.d(t,"batchNormalization",(function(){return r.eb})),n.d(t,"batchNormalization2d",(function(){return r.fb})),n.d(t,"batchNormalization3d",(function(){return r.gb})),n.d(t,"batchNormalization4d",(function(){return r.hb})),n.d(t,"batchToSpaceND",(function(){return r.ib})),n.d(t,"booleanMaskAsync",(function(){return r.jb})),n.d(t,"broadcastTo",(function(){return r.kb})),n.d(t,"browser",(function(){return r.lb})),n.d(t,"buffer",(function(){return r.mb})),n.d(t,"cast",(function(){return r.nb})),n.d(t,"ceil",(function(){return r.ob})),n.d(t,"clipByValue",(function(){return r.pb})),n.d(t,"clone",(function(){return r.qb})),n.d(t,"complex",(function(){return r.rb})),n.d(t,"concat",(function(){return r.sb})),n.d(t,"concat1d",(function(){return r.tb})),n.d(t,"concat2d",(function(){return r.ub})),n.d(t,"concat3d",(function(){return r.vb})),n.d(t,"concat4d",(function(){return r.wb})),n.d(t,"conv1d",(function(){return r.xb})),n.d(t,"conv2d",(function(){return r.yb})),n.d(t,"conv2dTranspose",(function(){return r.zb})),n.d(t,"conv3d",(function(){return r.Ab})),n.d(t,"conv3dTranspose",(function(){return r.Bb})),n.d(t,"cos",(function(){return r.Cb})),n.d(t,"cosh",(function(){return r.Db})),n.d(t,"cumsum",(function(){return r.Eb})),n.d(t,"customGrad",(function(){return r.Fb})),n.d(t,"deprecationWarn",(function(){return r.Gb})),n.d(t,"depthToSpace",(function(){return r.Hb})),n.d(t,"depthwiseConv2d",(function(){return r.Ib})),n.d(t,"diag",(function(){return r.Jb})),n.d(t,"disableDeprecationWarnings",(function(){return r.Kb})),n.d(t,"dispose",(function(){return r.Lb})),n.d(t,"disposeVariables",(function(){return r.Mb})),n.d(t,"div",(function(){return r.Nb})),n.d(t,"divNoNan",(function(){return r.Ob})),n.d(t,"divStrict",(function(){return r.Pb})),n.d(t,"dot",(function(){return r.Qb})),n.d(t,"dropout",(function(){return r.Rb})),n.d(t,"elu",(function(){return r.Sb})),n.d(t,"enableDebugMode",(function(){return r.Tb})),n.d(t,"enableProdMode",(function(){return r.Ub})),n.d(t,"engine",(function(){return r.Vb})),n.d(t,"env",(function(){return r.Wb})),n.d(t,"equal",(function(){return r.Xb})),n.d(t,"equalStrict",(function(){return r.Yb})),n.d(t,"erf",(function(){return r.Zb})),n.d(t,"exp",(function(){return r.ac})),n.d(t,"expandDims",(function(){return r.bc})),n.d(t,"expm1",(function(){return r.cc})),n.d(t,"eye",(function(){return r.dc})),n.d(t,"fft",(function(){return r.ec})),n.d(t,"fill",(function(){return r.fc})),n.d(t,"findBackend",(function(){return r.gc})),n.d(t,"findBackendFactory",(function(){return r.hc})),n.d(t,"floor",(function(){return r.ic})),n.d(t,"floorDiv",(function(){return r.jc})),n.d(t,"frame",(function(){return r.kc})),n.d(t,"fused",(function(){return r.lc})),n.d(t,"gather",(function(){return r.mc})),n.d(t,"gatherND",(function(){return r.nc})),n.d(t,"gather_util",(function(){return r.oc})),n.d(t,"getBackend",(function(){return r.pc})),n.d(t,"getGradient",(function(){return r.qc})),n.d(t,"getKernel",(function(){return r.rc})),n.d(t,"getKernelsForBackend",(function(){return r.sc})),n.d(t,"grad",(function(){return r.tc})),n.d(t,"grads",(function(){return r.uc})),n.d(t,"greater",(function(){return r.vc})),n.d(t,"greaterEqual",(function(){return r.wc})),n.d(t,"greaterEqualStrict",(function(){return r.xc})),n.d(t,"greaterStrict",(function(){return r.yc})),n.d(t,"hammingWindow",(function(){return r.zc})),n.d(t,"hannWindow",(function(){return r.Ac})),n.d(t,"ifft",(function(){return r.Bc})),n.d(t,"imag",(function(){return r.Cc})),n.d(t,"image",(function(){return r.Dc})),n.d(t,"inTopKAsync",(function(){return r.Ec})),n.d(t,"io",(function(){return r.Fc})),n.d(t,"irfft",(function(){return r.Gc})),n.d(t,"isFinite",(function(){return r.Hc})),n.d(t,"isInf",(function(){return r.Ic})),n.d(t,"isNaN",(function(){return r.Jc})),n.d(t,"keep",(function(){return r.Kc})),n.d(t,"leakyRelu",(function(){return r.Lc})),n.d(t,"less",(function(){return r.Mc})),n.d(t,"lessEqual",(function(){return r.Nc})),n.d(t,"lessEqualStrict",(function(){return r.Oc})),n.d(t,"lessStrict",(function(){return r.Pc})),n.d(t,"linalg",(function(){return r.Qc})),n.d(t,"linspace",(function(){return r.Rc})),n.d(t,"localResponseNormalization",(function(){return r.Sc})),n.d(t,"log",(function(){return r.Tc})),n.d(t,"log1p",(function(){return r.Uc})),n.d(t,"logSigmoid",(function(){return r.Vc})),n.d(t,"logSoftmax",(function(){return r.Wc})),n.d(t,"logSumExp",(function(){return r.Xc})),n.d(t,"logicalAnd",(function(){return r.Yc})),n.d(t,"logicalNot",(function(){return r.Zc})),n.d(t,"logicalOr",(function(){return r.ad})),n.d(t,"logicalXor",(function(){return r.bd})),n.d(t,"losses",(function(){return r.cd})),n.d(t,"matMul",(function(){return r.dd})),n.d(t,"math",(function(){return r.ed})),n.d(t,"max",(function(){return r.fd})),n.d(t,"maxPool",(function(){return r.gd})),n.d(t,"maxPool3d",(function(){return r.hd})),n.d(t,"maxPoolWithArgmax",(function(){return r.id})),n.d(t,"maximum",(function(){return r.jd})),n.d(t,"maximumStrict",(function(){return r.kd})),n.d(t,"mean",(function(){return r.ld})),n.d(t,"memory",(function(){return r.md})),n.d(t,"min",(function(){return r.nd})),n.d(t,"minimum",(function(){return r.od})),n.d(t,"minimumStrict",(function(){return r.pd})),n.d(t,"mod",(function(){return r.qd})),n.d(t,"modStrict",(function(){return r.rd})),n.d(t,"moments",(function(){return r.sd})),n.d(t,"movingAverage",(function(){return r.td})),n.d(t,"mul",(function(){return r.ud})),n.d(t,"mulStrict",(function(){return r.vd})),n.d(t,"multiRNNCell",(function(){return r.wd})),n.d(t,"multinomial",(function(){return r.xd})),n.d(t,"neg",(function(){return r.yd})),n.d(t,"nextFrame",(function(){return r.zd})),n.d(t,"norm",(function(){return r.Ad})),n.d(t,"notEqual",(function(){return r.Bd})),n.d(t,"notEqualStrict",(function(){return r.Cd})),n.d(t,"oneHot",(function(){return r.Dd})),n.d(t,"ones",(function(){return r.Ed})),n.d(t,"onesLike",(function(){return r.Fd})),n.d(t,"op",(function(){return r.Gd})),n.d(t,"outerProduct",(function(){return r.Hd})),n.d(t,"pad",(function(){return r.Id})),n.d(t,"pad1d",(function(){return r.Jd})),n.d(t,"pad2d",(function(){return r.Kd})),n.d(t,"pad3d",(function(){return r.Ld})),n.d(t,"pad4d",(function(){return r.Md})),n.d(t,"pool",(function(){return r.Nd})),n.d(t,"pow",(function(){return r.Od})),n.d(t,"powStrict",(function(){return r.Pd})),n.d(t,"prelu",(function(){return r.Qd})),n.d(t,"print",(function(){return r.Rd})),n.d(t,"prod",(function(){return r.Sd})),n.d(t,"profile",(function(){return r.Td})),n.d(t,"rand",(function(){return r.Ud})),n.d(t,"randomGamma",(function(){return r.Vd})),n.d(t,"randomNormal",(function(){return r.Wd})),n.d(t,"randomUniform",(function(){return r.Xd})),n.d(t,"range",(function(){return r.Yd})),n.d(t,"ready",(function(){return r.Zd})),n.d(t,"real",(function(){return r.ae})),n.d(t,"reciprocal",(function(){return r.be})),n.d(t,"registerBackend",(function(){return r.ce})),n.d(t,"registerGradient",(function(){return r.de})),n.d(t,"registerKernel",(function(){return r.ee})),n.d(t,"relu",(function(){return r.fe})),n.d(t,"relu6",(function(){return r.ge})),n.d(t,"removeBackend",(function(){return r.he})),n.d(t,"reshape",(function(){return r.ie})),n.d(t,"reverse",(function(){return r.je})),n.d(t,"reverse1d",(function(){return r.ke})),n.d(t,"reverse2d",(function(){return r.le})),n.d(t,"reverse3d",(function(){return r.me})),n.d(t,"reverse4d",(function(){return r.ne})),n.d(t,"rfft",(function(){return r.oe})),n.d(t,"round",(function(){return r.pe})),n.d(t,"rsqrt",(function(){return r.qe})),n.d(t,"scalar",(function(){return r.re})),n.d(t,"scatterND",(function(){return r.se})),n.d(t,"scatter_util",(function(){return r.te})),n.d(t,"selu",(function(){return r.ue})),n.d(t,"separableConv2d",(function(){return r.ve})),n.d(t,"serialization",(function(){return r.we})),n.d(t,"setBackend",(function(){return r.xe})),n.d(t,"setPlatform",(function(){return r.ye})),n.d(t,"setdiff1dAsync",(function(){return r.ze})),n.d(t,"sigmoid",(function(){return r.Ae})),n.d(t,"sign",(function(){return r.Be})),n.d(t,"signal",(function(){return r.Ce})),n.d(t,"sin",(function(){return r.De})),n.d(t,"sinh",(function(){return r.Ee})),n.d(t,"slice",(function(){return r.Fe})),n.d(t,"slice1d",(function(){return r.Ge})),n.d(t,"slice2d",(function(){return r.He})),n.d(t,"slice3d",(function(){return r.Ie})),n.d(t,"slice4d",(function(){return r.Je})),n.d(t,"slice_util",(function(){return r.Ke})),n.d(t,"softmax",(function(){return r.Le})),n.d(t,"softplus",(function(){return r.Me})),n.d(t,"spaceToBatchND",(function(){return r.Ne})),n.d(t,"sparseToDense",(function(){return r.Oe})),n.d(t,"spectral",(function(){return r.Pe})),n.d(t,"split",(function(){return r.Qe})),n.d(t,"sqrt",(function(){return r.Re})),n.d(t,"square",(function(){return r.Se})),n.d(t,"squaredDifference",(function(){return r.Te})),n.d(t,"squaredDifferenceStrict",(function(){return r.Ue})),n.d(t,"squeeze",(function(){return r.Ve})),n.d(t,"stack",(function(){return r.We})),n.d(t,"step",(function(){return r.Xe})),n.d(t,"stft",(function(){return r.Ye})),n.d(t,"stridedSlice",(function(){return r.Ze})),n.d(t,"sub",(function(){return r.af})),n.d(t,"subStrict",(function(){return r.bf})),n.d(t,"sum",(function(){return r.cf})),n.d(t,"sumOutType",(function(){return r.df})),n.d(t,"tan",(function(){return r.ef})),n.d(t,"tanh",(function(){return r.ff})),n.d(t,"tensor",(function(){return r.gf})),n.d(t,"tensor1d",(function(){return r.hf})),n.d(t,"tensor2d",(function(){return r.if})),n.d(t,"tensor3d",(function(){return r.jf})),n.d(t,"tensor4d",(function(){return r.kf})),n.d(t,"tensor5d",(function(){return r.lf})),n.d(t,"tensor6d",(function(){return r.mf})),n.d(t,"tensor_util",(function(){return r.nf})),n.d(t,"test_util",(function(){return r.of})),n.d(t,"tidy",(function(){return r.pf})),n.d(t,"tile",(function(){return r.qf})),n.d(t,"time",(function(){return r.rf})),n.d(t,"topk",(function(){return r.sf})),n.d(t,"train",(function(){return r.tf})),n.d(t,"transpose",(function(){return r.uf})),n.d(t,"truncatedNormal",(function(){return r.vf})),n.d(t,"unregisterGradient",(function(){return r.wf})),n.d(t,"unregisterKernel",(function(){return r.xf})),n.d(t,"unsortedSegmentSum",(function(){return r.yf})),n.d(t,"unstack",(function(){return r.zf})),n.d(t,"util",(function(){return r.Af})),n.d(t,"valueAndGrad",(function(){return r.Bf})),n.d(t,"valueAndGrads",(function(){return r.Cf})),n.d(t,"variable",(function(){return r.Df})),n.d(t,"variableGrads",(function(){return r.Ef})),n.d(t,"version_core",(function(){return r.Ff})),n.d(t,"webgl",(function(){return r.Gf})),n.d(t,"where",(function(){return r.Hf})),n.d(t,"whereAsync",(function(){return r.If})),n.d(t,"zeros",(function(){return r.Jf})),n.d(t,"zerosLike",(function(){return r.Kf})),n.d(t,"constraints",(function(){return V})),n.d(t,"initializers",(function(){return Ke})),n.d(t,"layers",(function(){return $i})),n.d(t,"metrics",(function(){return Ki})),n.d(t,"models",(function(){return Xi})),n.d(t,"regularizers",(function(){return Yi})),n.d(t,"CallbackList",(function(){return wt})),n.d(t,"CustomCallback",(function(){return kt})),n.d(t,"History",(function(){return Ot})),n.d(t,"Callback",(function(){return Zi})),n.d(t,"callbacks",(function(){return ta})),n.d(t,"EarlyStopping",(function(){return ea})),n.d(t,"InputSpec",(function(){return st})),n.d(t,"SymbolicTensor",(function(){return ut})),n.d(t,"LayersModel",(function(){return Rn})),n.d(t,"input",(function(){return zn})),n.d(t,"loadLayersModel",(function(){return Pn})),n.d(t,"model",(function(){return In})),n.d(t,"registerCallbackConstructor",(function(){return Ln})),n.d(t,"sequential",(function(){return Fn})),n.d(t,"RNN",(function(){return ki})),n.d(t,"Sequential",(function(){return Dn})),n.d(t,"LayerVariable",(function(){return it})),n.d(t,"version_layers",(function(){return nn})),n.d(t,"GraphModel",(function(){return na.a})),n.d(t,"loadGraphModel",(function(){return na.c})),n.d(t,"deregisterOp",(function(){return na.b})),n.d(t,"registerOp",(function(){return na.d})),n.d(t,"version_converter",(function(){return na.e})),n.d(t,"data",(function(){return ra})),n.d(t,"version",(function(){return ia}));var r=n(2),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o,s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function u(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function l(){return null==o&&(o=Object(r.X)().epsilon()),o}var f=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return a(t,e),t}(Error),d=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return a(t,e),t}(Error),h=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return a(t,e),t}(Error),p=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return a(t,e),t}(Error),m=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return a(t,e),t}(Error);!function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}a(t,e)}(Error);function v(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}return(n=new Array(t)).fill(e),n}function g(e,t){if(!e)throw new m(t)}function b(e,t){for(var n=0,r=0,i=e;r<i.length;r++)i[r]===t&&n++;return n}function y(e){return 1===e.length?e[0]:e}function w(e){return Array.isArray(e)?e:[e]}function x(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function O(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}var k={};function E(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function _(e,t,n,r,i){var a,o,u;if(void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r="object"),void 0===i&&(i=!1),"string"==typeof e){var c=e,l=void 0;if(c in n)l=n[c];else if(c in k)l=k[c];else if(null==(l=t[c]))throw new h("Unknown "+r+": "+e+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");return l}var f=e;if(null==f.className||null==f.config)throw new h(r+": Improper config format: "+JSON.stringify(f)+".\n'className' and 'config' must set.");var d=f.className,p=void 0,m=void 0;if(d in n?(p=(a=n[d])[0],m=a[1]):d in k?(p=(o=k.className)[0],m=o[1]):d in t&&(p=(u=t[d])[0],m=u[1]),null==p)throw new h("Unknown "+r+": "+d+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");if(null!=m){for(var v={},g=0,b=Object.keys(k);g<b.length;g++)v[_=b[g]]=k[_];for(var y=0,w=Object.keys(n);y<w.length;y++)v[_=w[y]]=n[_];f.config.customObjects=v;for(var x=s({},k),O=0,E=Object.keys(n);O<E.length;O++){var _=E[O];k[_]=n[_]}!function e(t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))t.forEach((function(t){return e(t)}));else for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n],a=t[i];null!=a&&"object"==typeof a&&(Array.isArray(a)||"ndarray"!==a.type||"number"!=typeof a.value?e(a):t[i]=a.value)}}(f.config);var S=m(p,f.config,n,i);return k=s({},x),S}x=s({},k);for(var j=0,C=Object.keys(n);j<C.length;j++)_=C[j],k[_]=n[_];return S=new p(f.config),k=s({},x),S}function S(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function j(e){if(null==e)return e;for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];-1===t.indexOf(i)&&t.push(i)}return t}function C(e){if(null==e)throw new h("Invalid value in obj: "+JSON.stringify(e));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function A(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new h(n+" is not a valid "+t+".  Valid values are "+e+" or null/undefined.")}function T(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=1/0),g(n>=0),g(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((function(e){return typeof e===t}))}function N(e,t){Array.isArray(e)?(r.Af.assert(e.length>0,(function(){return t+" is unexpectedly an empty array."})),e.forEach((function(e,n){return N(e,"element "+(n+1)+" of "+t)}))):r.Af.assert(Number.isInteger(e)&&e>0,(function(){return"Expected "+t+" to be a positive integer, but got "+function e(t){return null===t?"null":Array.isArray(t)?"["+t.map((function(t){return e(t)})).join(",")+"]":"string"==typeof t?'"'+t+'"':""+t}(e)+"."}))}function R(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}function M(e,t){return Object(r.pf)((function(){return Object(r.Re)(Object(r.cf)(Object(r.vd)(e,e),t,!0))}))}var D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getConfig=function(){return{}},t}(r.we.Serializable),I=function(e){function t(t){var n=e.call(this)||this;return n.defaultMaxValue=2,n.defaultAxis=0,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return a(t,e),t.prototype.apply=function(e){var t=this;return Object(r.pf)((function(){var n=M(e,t.axis),i=Object(r.pb)(n,0,t.maxValue);return Object(r.ud)(e,Object(r.Nb)(i,Object(r.J)(l(),n)))}))},t.prototype.getConfig=function(){return{maxValue:this.maxValue,axis:this.axis}},t.className="MaxNorm",t}(D);r.we.registerClass(I);var F=function(e){function t(t){var n=e.call(this)||this;return n.defaultAxis=0,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return a(t,e),t.prototype.apply=function(e){var t=this;return Object(r.pf)((function(){return Object(r.Nb)(e,Object(r.J)(l(),M(e,t.axis)))}))},t.prototype.getConfig=function(){return{axis:this.axis}},t.className="UnitNorm",t}(D);r.we.registerClass(F);var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.fe)(e)},t.className="NonNeg",t}(D);r.we.registerClass(P);var z=function(e){function t(t){var n=e.call(this)||this;return n.defaultMinValue=0,n.defaultMaxValue=1,n.defaultRate=1,n.defaultAxis=0,n.minValue=null!=t.minValue?t.minValue:n.defaultMinValue,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.rate=null!=t.rate?t.rate:n.defaultRate,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return a(t,e),t.prototype.apply=function(e){var t=this;return Object(r.pf)((function(){var n=M(e,t.axis),i=Object(r.J)(Object(r.ud)(t.rate,Object(r.pb)(n,t.minValue,t.maxValue)),Object(r.ud)(1-t.rate,n));return Object(r.ud)(e,Object(r.Nb)(i,Object(r.J)(l(),n)))}))},t.prototype.getConfig=function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}},t.className="MinMaxNorm",t}(D);r.we.registerClass(z);var L={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function B(e){return E(e)}function U(e,t){return void 0===t&&(t={}),_(e,r.we.SerializationMap.getMap().classNameMap,t,"constraint")}function W(e){return null==e?null:"string"==typeof e?U({className:e in L?L[e]:e,config:{}}):e instanceof D?e:U(e)}var V=Object.freeze({maxNorm:function(e){return new I(e)},unitNorm:function(e){return new F(e)},nonNeg:function(){return new P},minMaxNorm:function(e){return new z(e)}}),q=["channelsFirst","channelsLast"],H=["valid","same","causal"],G=["max","avg"],$=["sum","mul","concat","ave"],K=new Map;function X(e){A(q,"DataFormat",e)}function Y(e){A(H,"PaddingMode",e)}function Z(e){A(G,"PoolMode",e)}var J=[];function Q(e,t){J.push(e);try{var n=t();return J.pop(),n}catch(e){throw J.pop(),e}}function ee(e){if(!re(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===J.length?"":J.join("/")+"/")+e}function te(e){if(!re(e))throw new Error("Not a valid tensor name: '"+e+"'");K.has(e)||K.set(e,0);var t=K.get(e);if(K.set(e,K.get(e)+1),t>0){var n=e+"_"+t;return K.set(n,1),n}return e}var ne=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function re(e){return!!e.match(ne)}function ie(e){return e===parseInt(e.toString(),10)}function ae(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,i=t;i<n;++i)r*=e[i];return r}function oe(e){return e=Array.isArray(e)?new Float32Array(e):e,Object(r.hf)(e)}function se(e){return Object(r.nd)(oe(e)).dataSync()[0]}function ue(e){return Object(r.fd)(oe(e)).dataSync()[0]}function ce(e,t){if(t<e)throw new h("end ("+t+") < begin ("+e+") is forbidden.");for(var n=[],r=e;r<t;++r)n.push(r);return n}function le(e,t){return e.asType(t)}function fe(e,t){void 0===t&&(t=-1);var n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),e.reshape(n)}function de(e,t,n){return Object(r.pf)((function(){switch(e.rank){case 1:return Object(r.Ge)(e,t,n);case 2:return Object(r.He)(e,[t,0],[n,e.shape[1]]);case 3:return Object(r.Ie)(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return Object(r.Je)(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return Object(r.Fe)(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return Object(r.Fe)(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new h("sliceAlongFirstAxis() received an unsupported tensor rank: "+e.rank)}}))}function he(e,t,n){return Object(r.pf)((function(){switch(e.rank){case 1:return Object(r.Ge)(e,t,n);case 2:return Object(r.He)(e,[0,t],[e.shape[0],n]);case 3:return Object(r.Ie)(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return Object(r.Je)(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new h("sliceAlongLastAxis() received an unsupported tensor rank: "+e.rank)}}))}function pe(e,t,n,i){return Object(r.pf)((function(){switch(e.rank){case 1:return Object(r.Ge)(e,t,n);case 2:switch(i){case 1:return de(e,t,n);case 2:return he(e,t,n);default:throw new h("The axis is not within the rank of the tensor "+i)}case 3:switch(i){case 1:return de(e,t,n);case 2:return Object(r.Ie)(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return he(e,t,n);default:throw new h("The axis is not within the rank of the tensor "+i)}case 4:switch(i){case 1:return de(e,t,n);case 2:return Object(r.Je)(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return Object(r.Je)(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return he(e,t,n);default:throw new h("The axis is not within the rank of the tensor "+i)}default:throw new h("sliceAlongLastAxis() received an unsupported tensor rank: "+e.rank)}}))}function me(e,t){var n;return void 0===t&&(t=-1),t<0&&(t=0!==(n=e[0].rank)?n:0),t===e[0].rank&&(t=-1),Object(r.sb)(e,t)}function ve(e,t){switch(e.rank){case 1:return Object(r.tb)([e,t]);case 2:return Object(r.ub)([e,t],0);case 3:return Object(r.vb)([e,t],0);case 4:return Object(r.wb)([e,t],0);default:throw new h("concatAlongFirstAxis() received an unsupported tensor rank: "+e.rank)}}function ge(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new h("The length of input n ("+t.length+") does not match the number of dimensions in input x ("+e.rank+")");return Object(r.qf)(e,t)}function be(e,t,n,i,a){return void 0===t&&(t=0),void 0===n&&(n=1),Object(r.Wd)(e,t,n,i,a)}function ye(e,t,n,i){if(e.rank<2||t.rank<2)throw new p("dot requires both inputs to be rank >= 2 but got x shape = "+e.shape+" and y shape = "+t.shape);if(t.rank>=3&&e.shape.slice(-1)[0]!==(f=t.shape.slice(-2)[0]))throw new p("If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = "+e.shape+" and  y shape = "+t.shape);if(2===e.rank&&2===t.rank){var a=!1,o=!1;return r.lc.matMul({a:e,b:t,transposeA:a,transposeB:o,bias:i?Oe(e.rank,i,"channelsLast"):null,activation:n})}var s=e.shape.slice(),u=s.pop();e=e.reshape([-1,u]);var c=t.shape.slice(),l=c.pop(),f=c.pop(),d=c.concat([l]),h=Array.from({length:t.rank},(function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n}));t=t.transpose(h).reshape([f,-1]);var m=s.concat(d);return a=!1,o=!1,r.lc.matMul({a:e,b:t,transposeA:a,transposeB:o,bias:i?Oe(e.rank,i,"channelsLast"):null,activation:n}).reshape(m)}function we(e,t,n){return Object(r.pf)((function(){return t=Array.isArray(t)?Object(r.hf)(t,"int32"):t.toInt(),Object(r.mc)(e,t,n)}))}function xe(e){return Object(r.vd)(e,e)}function Oe(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new h("Unexpected bias dimensions: "+t.rank+"; expected it to be 1 or "+e);if(5===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1,1]):t.reshape([1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,1,r[0]]):t.reshape([1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1]):t.reshape([1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,r[0]]):t.reshape([1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1]):t.reshape([1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,r[0]]):t.reshape([1].concat(r))}else if(e<3)return t;throw new h("Unsupported input rank by biasAdd: "+t.rank)}function ke(e,t,n){return Object(r.pf)((function(){return null==n&&(n="channelsLast"),X(n),e.add(Oe(e.rank,t,n))}))}function Ee(e,t,n,i){return Object(r.pf)((function(){return Object(r.Rb)(e,t,n,i)}))}function _e(e,t,n){return void 0===n&&(n=!1),n?e():t()}var Se=["fanIn","fanOut","fanAvg"],je=["normal","uniform","truncatedNormal"];var Ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.fromConfigUsesCustomObjects=function(){return!1},t.prototype.getConfig=function(){return{}},t}(r.we.Serializable),Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e,t){return Object(r.Jf)(e,t)},t.className="Zeros",t}(Ce);r.we.registerClass(Ae);var Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e,t){return Object(r.Ed)(e,t)},t.className="Ones",t}(Ce);r.we.registerClass(Te);var Ne=function(e){function t(t){var n=e.call(this)||this;if("object"!=typeof t)throw new h("Expected argument of type ConstantConfig but got "+t);if(void 0===t.value)throw new h("config must have value set but got "+t);return n.value=t.value,n}return a(t,e),t.prototype.apply=function(e,t){var n=this;return Object(r.pf)((function(){return Object(r.ud)(Object(r.re)(n.value),Object(r.Ed)(e,t))}))},t.prototype.getConfig=function(){return{value:this.value}},t.className="Constant",t}(Ce);r.we.registerClass(Ne);var Re=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MINVAL=-.05,n.DEFAULT_MAXVAL=.05,n.minval=t.minval||n.DEFAULT_MINVAL,n.maxval=t.maxval||n.DEFAULT_MAXVAL,n.seed=t.seed,n}return a(t,e),t.prototype.apply=function(e,t){return Object(r.Xd)(e,this.minval,this.maxval,t)},t.prototype.getConfig=function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}},t.className="RandomUniform",t}(Ce);r.we.registerClass(Re);var Me=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return a(t,e),t.prototype.apply=function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new p("randomNormal does not support dType "+t+".");return be(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className="RandomNormal",t}(Ce);r.we.registerClass(Me);var De=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return a(t,e),t.prototype.apply=function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new p("truncatedNormal does not support dType "+t+".");return Object(r.vf)(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className="TruncatedNormal",t}(Ce);r.we.registerClass(De);var Ie=function(e){function t(t){var n=e.call(this)||this;return n.gain=null!=t.gain?t.gain:1,n}return a(t,e),t.prototype.apply=function(e,t){var n=this;return Object(r.pf)((function(){if(2!==e.length||e[0]!==e[1])throw new h("Identity matrix initializer can only be used for 2D square matrices.");return Object(r.ud)(n.gain,Object(r.dc)(e[0]))}))},t.prototype.getConfig=function(){return{gain:this.gain}},t.className="Identity",t}(Ce);r.we.registerClass(Ie);var Fe=function(e){function t(t){var n=e.call(this)||this;if(t.scale<0)throw new h("scale must be a positive float. Got: "+t.scale);return n.scale=null==t.scale?1:t.scale,n.mode=null==t.mode?"fanIn":t.mode,function(e){A(Se,"FanMode",e)}(n.mode),n.distribution=null==t.distribution?"normal":t.distribution,function(e){A(je,"Distribution",e)}(n.distribution),n.seed=t.seed,n}return a(t,e),t.prototype.apply=function(e,t){var n=function(e,t){var n,r;if(void 0===t&&(t="channelsLast"),X(t),2===e.length)n=e[0],r=e[1];else if(-1!==[3,4,5].indexOf(e.length))if("channelsFirst"===t){var i=ae(e,2);n=e[1]*i,r=e[0]*i}else"channelsLast"===t&&(i=ae(e,0,e.length-2),n=e[e.length-2]*i,r=e[e.length-1]*i);else{var a=ae(e);n=Math.sqrt(a),r=Math.sqrt(a)}return[n,r]}(e),i=n[0],a=n[1],o=this.scale;if("fanIn"===this.mode?o/=Math.max(1,i):"fanOut"===this.mode?o/=Math.max(1,a):o/=Math.max(1,(i+a)/2),"normal"===this.distribution){var s=Math.sqrt(o);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new p(this.getClassName()+" does not support dType "+t+".");return Object(r.vf)(e,0,s,t,this.seed)}var u=Math.sqrt(3*o);return Object(r.Xd)(e,-u,u,t)},t.prototype.getConfig=function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}},t.className="VarianceScaling",t}(Ce);r.we.registerClass(Fe);var Pe=function(e){function t(t){return e.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==t?null:t.seed})||this}return a(t,e),t.prototype.getClassName=function(){return Fe.className},t.className="GlorotUniform",t}(Fe);r.we.registerClass(Pe);var ze=function(e){function t(t){return e.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==t?null:t.seed})||this}return a(t,e),t.prototype.getClassName=function(){return Fe.className},t.className="GlorotNormal",t}(Fe);r.we.registerClass(ze);var Le=function(e){function t(t){return e.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})||this}return a(t,e),t.prototype.getClassName=function(){return Fe.className},t.className="HeNormal",t}(Fe);r.we.registerClass(Le);var Be=function(e){function t(t){return e.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})||this}return a(t,e),t.prototype.getClassName=function(){return Fe.className},t.className="HeUniform",t}(Fe);r.we.registerClass(Be);var Ue=function(e){function t(t){return e.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})||this}return a(t,e),t.prototype.getClassName=function(){return Fe.className},t.className="LeCunNormal",t}(Fe);r.we.registerClass(Ue);var We=function(e){function t(t){return e.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})||this}return a(t,e),t.prototype.getClassName=function(){return Fe.className},t.className="LeCunNormal",t}(Fe);r.we.registerClass(We);var Ve=function(e){function t(t){var n=e.call(this)||this;if(n.DEFAULT_GAIN=1,n.gain=null==t.gain?n.DEFAULT_GAIN:t.gain,n.seed=t.seed,null!=n.seed)throw new p("Random seed is not implemented for Orthogonal Initializer yet.");return n}return a(t,e),t.prototype.apply=function(e,t){var n=this;return Object(r.pf)((function(){if(2!==e.length)throw new p("The Orthogonal Initializer does not support non-2D shapes yet.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more than 2000 ("+e[0]*e[1]+") elements: Slowness may result.");var t=be(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),i=r.Qc.gramSchmidt(t);return e[0]>e[1]&&(i=i.transpose()),Object(r.ud)(n.gain,i)}))},t.prototype.getConfig=function(){return{gain:this.gain,seed:this.seed}},t.className="Orthogonal",t}(Ce);r.we.registerClass(Ve);var qe={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function He(e,t){return void 0===t&&(t={}),_(e,r.we.SerializationMap.getMap().classNameMap,t,"initializer")}function Ge(e){return E(e)}function $e(e){if("string"==typeof e){var t=e in qe?qe[e]:e;if("GlorotNormal"===t)return new ze;if("GlorotUniform"===t)return new Pe;if("HeNormal"===t)return new Le;if("HeUniform"===t)return new Be;if("LeCunNormal"===t)return new Ue;if("LeCunUniform"===t)return new We;var n={};return n.className=t,n.config={},He(n)}return e instanceof Ce?e:He(e)}var Ke=Object.freeze({zeros:function(){return new Ae},ones:function(){return new Te},constant:function(e){return new Ne(e)},randomUniform:function(e){return new Re(e)},randomNormal:function(e){return new Me(e)},truncatedNormal:function(e){return new De(e)},identity:function(e){return new Ie(e)},varianceScaling:function(e){return new Fe(e)},glorotUniform:function(e){return new Pe(e)},glorotNormal:function(e){return new ze(e)},heNormal:function(e){return new Le(e)},heUniform:function(e){return new Be(e)},leCunNormal:function(e){return new Ue(e)},leCunUniform:function(e){return new We(e)},orthogonal:function(e){return new Ve(e)}}),Xe=0;function Ye(){return Xe++}var Ze={};function Je(e){return void 0===e&&(e=""),e in Ze||(Ze[e]=0),Ze[e]+=1,e+Ze[e].toString()}function Qe(e){return Array.isArray(e)&&Array.isArray(e[0])}function et(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function tt(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new h("Expected Tensor length to be 1; got "+e.length);t=e[0]}else t=e;return t}function nt(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new h("Expected exactly 1 Shape; got "+e.length)}return e}function rt(e){for(var t=0,n=0,r=e;n<r.length;n++){var i=r[n];0===i.shape.length?t+=1:t+=i.shape.reduce((function(e,t){return e*t}))}return t}var it=function(){function e(e,t,n,i,a){void 0===t&&(t="float32"),void 0===n&&(n="Variable"),void 0===i&&(i=!0),void 0===a&&(a=null),this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=Ye(),n=null==n?"Variable":n,this.originalName=ee(n),this.name=te(this.originalName),this.trainable_=i,this.constraint=a,this.val=Object(r.Df)(e,this.trainable_,this.name,this.dtype)}return e.prototype.read=function(){return this.assertNotDisposed(),this.val},e.prototype.write=function(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this},e.prototype.dispose=function(){this.assertNotDisposed(),this.val.dispose()},e.prototype.assertNotDisposed=function(){if(this.val.isDisposed)throw new Error("LayersVariable "+this.name+" is already disposed.")},Object.defineProperty(e.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e},enumerable:!0,configurable:!0}),e}();function at(e){return e.map((function(e){return e.read()}))}function ot(e){e.forEach((function(e){e[0].write(e[1])}))}var st=function(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}},ut=function(e,t,n,r,i,a,o){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=i,this.outputTensorIndex=o,this.id=Ye(),null!=a&&(this.originalName=ee(a),this.name=te(this.originalName)),this.rank=t.length},ct=0,lt=function(){function e(e,t){this.callArgs=t,this.id=ct++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(var n=0,r=e.inboundLayers;n<r.length;n++){var i=r[n];null!=i&&i.outboundNodes.push(this)}e.outboundLayer.inboundNodes.push(this)}return e.prototype.getConfig=function(){for(var e=[],t=0,n=this.inboundLayers;t<n.length;t++){var r=n[t];null!=r?e.push(r.name):e.push(null)}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}},e}(),ft=0,dt=function(e){function t(t){var n=e.call(this)||this;n._callHook=null,n._addedWeightNames=[],n._stateful=!1,n.id=ft++,n.activityRegularizer=null,n.inputSpec=null,n.supportsMasking=!1,n._trainableWeights=[],n._nonTrainableWeights=[],n._losses=[],n._updates=[],n._built=!1,n.inboundNodes=[],n.outboundNodes=[];var r=t.name;if(!r){var i=n.getClassName();r=x(i)+"_"+Je(i)}if(n.name=r,n.trainable_=null==t.trainable||t.trainable,null!=t.inputShape||null!=t.batchInputShape){var a=void 0;if(null!=t.batchInputShape)a=t.batchInputShape;else if(null!=t.inputShape){var o=null;null!=t.batchSize&&(o=t.batchSize),a=[o].concat(t.inputShape)}n.batchInputShape=a;var s=t.dtype;null==s&&(s=t.inputDType),null==s&&(s="float32"),n.dtype=s}return null!=t.weights?n.initialWeights=t.weights:n.initialWeights=null,n._refCount=null,n.fastWeightInitDuringBuild=!1,n}return a(t,e),t.nodeKey=function(e,t){return e.name+"_ib-"+t.toString()},t.prototype.getNodeAtIndex=function(e,t){if(0===this.inboundNodes.length)throw new d("The layer has never been called and thus has no defined "+t+".");if(this.inboundNodes.length<=e)throw new h("Asked to get "+t+" at node "+e+", but the layer has only "+this.inboundNodes.length+" inbound nodes.");return this.inboundNodes[e]},t.prototype.getInputAt=function(e){return y(this.getNodeAtIndex(e,"input").inputTensors)},t.prototype.getOutputAt=function(e){return y(this.getNodeAtIndex(e,"output").outputTensors)},Object.defineProperty(t.prototype,"input",{get:function(){if(this.inboundNodes.length>1)throw new f("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new f("Layer "+this.name+" is not connected, no input to return.");return y(this.getNodeAtIndex(0,"input").inputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){if(0===this.inboundNodes.length)throw new f("Layer "+this.name+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new f("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return y(this.getNodeAtIndex(0,"output").outputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"losses",{get:function(){return this._losses},enumerable:!0,configurable:!0}),t.prototype.calculateLosses=function(){return this.losses.map((function(e){return e()}))},Object.defineProperty(t.prototype,"updates",{get:function(){return this._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"built",{get:function(){return this._built},set:function(e){this._built=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach((function(t){return t.trainable=e})),this.trainable_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.trainable_?this._trainableWeights.filter((function(e){return e.trainable})):[]},set:function(e){this._trainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this._trainableWeights.filter((function(e){return!e.trainable})).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateful",{get:function(){return this._stateful},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")},t.prototype.assertInputCompatibility=function(e){if(e=w(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=w(this.inputSpec);if(e.length!==t.length)throw new h("Layer "+this.name+" expects "+t.length+" inputs, but it received "+e.length+" input tensors. Input received: "+e);for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(null!=i){var a=r.rank;if(null!=i.ndim&&a!==i.ndim)throw new h("Input "+n+" is incompatible with layer "+this.name+": expected ndim="+i.ndim+", found ndim="+a);if(null!=i.maxNDim&&a>i.maxNDim)throw new h("Input "+n+" is incompatible with layer "+this.name+": expected max_ndim="+i.maxNDim+", found ndim="+a);if(null!=i.minNDim&&a<i.minNDim)throw new h("Input "+n+" is incompatible with layer "+this.name+": expected min_ndim="+i.minNDim+", found ndim="+a+".");if(null!=i.dtype&&r.dtype!==i.dtype)throw new h("Input "+n+" is incompatible with layer "+this.name+" : expected dtype="+i.dtype+", found dtype="+r.dtype+".");if(i.axes){var o=r.shape;for(var s in i.axes){var u=Number(s),c=i.axes[s],l=u>=0?o[u]:o[o.length+u];if(null!=c&&-1===[c,null].indexOf(l))throw new h("Input "+n+" is incompatible with layer "+this.name+": expected axis "+u+" of input shape to have value "+c+" but got shape "+o+".")}}if(null!=i.shape)for(var f=0;f<i.shape.length;++f){var d=i.shape[f],p=r.shape[f];if(null!=d&&null!=p&&d!==p)throw new h("Input "+n+" is incompatible with layer "+this.name+": expected shape="+i.shape+", found shape="+r.shape+".")}}}}},t.prototype.call=function(e,t){return e},t.prototype.invokeCallHook=function(e,t){null!=this._callHook&&this._callHook(e,t)},t.prototype.setCallHook=function(e){this._callHook=e},t.prototype.clearCallHook=function(){this._callHook=null},t.prototype.apply=function(e,t){var n=this;t=t||{},this.assertNotDisposed();for(var r=w(e),i=!0,a=0,o=r;a<o.length;a++)if(!(o[a]instanceof ut)){i=!1;break}for(var s=!0,u=0,c=r;u<c.length;u++)if(c[u]instanceof ut){s=!1;break}if(i===s)throw new h("Arguments to apply() must be all SymbolicTensors or all Tensors");return Q(this.name,(function(){if(!n.built){n.assertInputCompatibility(e);for(var i=[],a=0,o=w(e);a<o.length;a++){var u=o[a];i.push(u.shape)}n.build(y(i)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&s&&(n._refCount=1)}if(n.assertInputCompatibility(e),s){for(var c=[],l=0,f=w(v=n.call(e,t));l<f.length;l++){var d=f[l];-1!==r.indexOf(d)&&(d=d.clone()),c.push(d)}if(v=y(c),null!=n.activityRegularizer)throw new p("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return v}var h=function(e){for(var t=[],n=0,r=e=w(e);n<r.length;n++){var i=r[n];t.push(i.shape)}return y(t)}(e),m=n.computeOutputShape(h),v=void 0,g="float32";if(n.warnOnIncompatibleInputShape(Array.isArray(e)?h[0]:h),v=null!=m&&m.length>0&&Array.isArray(m[0])?m.map((function(r,i){return new ut(g,r,n,w(e),t,n.name,i)})):new ut(g,m,n,w(e),t,n.name),n.addInboundNode(e,v,null,null,h,m,t),n._refCount++,null!=n.activityRegularizer)throw new p("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return v}))},t.prototype.warnOnIncompatibleInputShape=function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+JSON.stringify(e)+") does not match that of the batchInputShape ("+JSON.stringify(this.batchInputShape)+") of the layer "+this.name);else{var t=!1;this.batchInputShape.forEach((function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor ("+JSON.stringify(e)+") does not match the expectation of layer "+this.name+": "+JSON.stringify(this.batchInputShape))}},Object.defineProperty(t.prototype,"outputShape",{get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new f("The layer "+this.name+" has never been called and thus has no defined output shape.");for(var e=[],t=0,n=this.inboundNodes;t<n.length;t++){var r=n[t],i=JSON.stringify(r.outputShapes);-1===e.indexOf(i)&&e.push(i)}if(1===e.length){var a=this.inboundNodes[0].outputShapes;return Array.isArray(a)&&Array.isArray(a[0])&&1===a.length?a[0]:a}throw new f("The layer "+this.name+' has multiple inbound nodes with different output shapes. Hence the notion of "outut shape" is ill-defined for the layer.')},enumerable:!0,configurable:!0}),t.prototype.countParams=function(){if(!this.built)throw new d("You tried to call countParams() on "+this.name+", but the layer is not built yet. Build it first by calling build(batchInputShape).");return rt(this.weights)},t.prototype.build=function(e){this.built=!0},t.prototype.getWeights=function(e){return void 0===e&&(e=!1),at(e?this.trainableWeights:this.weights)},t.prototype.setWeights=function(e){var t=this;Object(r.pf)((function(){var n=t.weights;if(n.length!==e.length)throw new h('You called setWeights(weights) on layer "'+t.name+'" with a weight list of length '+e.length+", but the layer was expecting "+n.length+" weights. Provided weights: "+e+"...");if(0!==n.length){for(var i=[],a=at(n),o=0;o<a.length;++o){var s=a[o],u=n[o],c=e[o];if(!r.Af.arraysEqual(s.shape,c.shape))throw new h("Layer weight shape "+s.shape+" not compatible with provided weight shape "+c.shape);i.push([u,c])}ot(i)}}))},t.prototype.addWeight=function(e,t,n,r,i,a,o){if(-1!==this._addedWeightNames.indexOf(e))throw new h("Duplicate weight name "+e+" for layer "+this.name);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=$e("zeros"));var s=r.apply(t,n),u=new it(s,n,e,a,o);return s.dispose(),null!=i&&this.addLoss((function(){return i.apply(u.read())})),null==a&&(a=!0),a?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u},t.prototype.setFastWeightInitDuringBuild=function(e){this.fastWeightInitDuringBuild=e},t.prototype.addLoss=function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=w(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,e))},t.prototype.computeOutputShape=function(e){return e},t.prototype.computeMask=function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer "+this.name+" does not support masking, but was passed an inputMask.");t.forEach((function(e){if(null!=e)throw new TypeError("Layer "+n.name+" does not support masking, but was passed an inputMask.")}))}return null}return t},t.prototype.addInboundNode=function(e,t,n,r,i,a,o){void 0===o&&(o=null);var s=w(e);t=w(t),n=w(n),r=w(r),i=et(i),a=et(a);for(var u=[],c=[],l=[],f=0,d=s;f<d.length;f++){var h=d[f];u.push(h.sourceLayer),c.push(h.nodeIndex),l.push(h.tensorIndex)}new lt({outboundLayer:this,inboundLayers:u,nodeIndices:c,tensorIndices:l,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:i,outputShapes:a},o);for(var p=0;p<t.length;p++)t[p].sourceLayer=this,t[p].nodeIndex=this.inboundNodes.length-1,t[p].tensorIndex=p},t.prototype.getConfig=function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e},t.prototype.disposeWeights=function(){return this.weights.forEach((function(e){return e.dispose()})),this.weights.length},t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Layer '"+this.name+"' is already disposed.")},t.prototype.dispose=function(){if(!this.built)throw new Error("Cannot dispose Layer "+this.name+" because it has not been built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer "+this.name+" because it has not been used yet.");this.assertNotDisposed();var e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}},t}(r.we.Serializable);var ht,pt,mt=function(e){function t(t){var n=e.call(this,{dtype:t.dtype,name:null!=t.name?t.name:Je("input").toString()})||this;if(null==t.batchSize&&(t.batchSize=null),null==t.sparse&&(t.sparse=!1),n.trainable=!1,n.built=!0,n.sparse=t.sparse,null!=t.inputShape&&null!=t.batchInputShape)throw new h("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var r=t.batchInputShape;if(null==r){if(null==t.inputShape)throw new h("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");r=[t.batchSize].concat(t.inputShape)}else if(null!=t.batchSize)throw new h("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var i=t.dtype||"float32";n.batchInputShape=r,n.dtype=i,n.inputSpec=[{shape:r}];var a=new ut(n.dtype,n.batchInputShape,n,[],{},n.name);return a.nodeIndex=0,a.tensorIndex=0,new lt({outboundLayer:n,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]}),n}return a(t,e),t.prototype.apply=function(e,t){throw new h("Cannot pass any input to an InputLayer's apply() method. InputLayer name: "+this.name)},t.prototype.dispose=function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}},t.prototype.getConfig=function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}},t.className="InputLayer",t}(dt);function vt(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new h("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new mt({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}function gt(e){return u(this,void 0,void 0,(function(){var t,n,i,a,o,s,u,l;return c(this,(function(c){switch(c.label){case 0:if(null==e)return[2];for(a in t=[],n=[],i=[],e)"number"!=typeof(o=e[a])&&(s=o,t.push(s.data()),n.push(a),i.push(s));return t.length>0?[4,Promise.all(t)]:[3,2];case 1:for(u=c.sent(),l=0;l<u.length;++l)e[n[l]]=u[l][0];Object(r.Lb)(i),c.label=2;case 2:return[2]}}))}))}function bt(e){if(null!=e)for(var t in e){var n=e[t];"number"!=typeof n&&n.dispose()}}r.we.registerClass(mt),(pt=ht||(ht={}))[pt.SILENT=0]="SILENT",pt[pt.VERBOSE=1]="VERBOSE";var yt=function(){function e(){this.validationData=null}return e.prototype.setParams=function(e){this.params=e},e.prototype.onEpochBegin=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},e.prototype.onEpochEnd=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},e.prototype.onBatchBegin=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},e.prototype.onBatchEnd=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},e.prototype.onTrainBegin=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},e.prototype.onTrainEnd=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},e.prototype.setModel=function(e){},e}(),wt=function(){function e(e,t){void 0===t&&(t=10),null==e&&(e=[]),this.callbacks=e,this.queueLength=t}return e.prototype.append=function(e){this.callbacks.push(e)},e.prototype.setParams=function(e){for(var t=0,n=this.callbacks;t<n.length;t++)n[t].setParams(e)},e.prototype.setModel=function(e){for(var t=0,n=this.callbacks;t<n.length;t++)n[t].setModel(e)},e.prototype.onEpochBegin=function(e,t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochBegin(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.onEpochEnd=function(e,t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochEnd(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.onBatchBegin=function(e,t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchBegin(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.onBatchEnd=function(e,t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchEnd(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.onTrainBegin=function(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainBegin(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.onTrainEnd=function(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainEnd(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e}(),xt=function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.onEpochBegin=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(e){return this.seen=0,this.totals={},[2]}))}))},t.prototype.onBatchEnd=function(e,t){return u(this,void 0,void 0,(function(){var e,n,i,a,o=this;return c(this,(function(s){for(a in null==t&&(t={}),e=null==t.size?0:t.size,this.seen+=e,n=function(n){var a=t[n];if("number"==typeof a)i.totals.hasOwnProperty(n)||(i.totals[n]=0),i.totals[n]=i.totals[n]+a*e;else{var s=void 0;n in i.totals?s=i.totals[n]:i.totals[n]=0;var u=Object(r.pf)((function(){return Object(r.J)(o.totals[n],Object(r.ud)(a,e))}));i.totals[n]=u,null!=s&&s.dispose()}},i=this,t)n(a);return[2]}))}))},t.prototype.onEpochEnd=function(e,t){return u(this,void 0,void 0,(function(){var e,n,i,a,o,s=this;return c(this,(function(u){if(null!=t)for(e=function(e){if(null==n.totals[e])return"continue";"number"==typeof n.totals[e]?t[e]=n.totals[e]/n.seen:Object(r.pf)((function(){var n=Object(r.ud)(Object(r.Nb)(1,s.seen),s.totals[e]);t[e]=n,s.totals[e].dispose(),Object(r.Kc)(t[e])}))},n=this,i=0,a=this.params.metrics;i<a.length;i++)o=a[i],e(o);return[2]}))}))},t}(yt),Ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onTrainBegin=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(e){return this.epoch=[],this.history={},[2]}))}))},t.prototype.onEpochEnd=function(e,t){return u(this,void 0,void 0,(function(){var n;return c(this,(function(r){for(n in null==t&&(t={}),this.epoch.push(e),t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n]);return[2]}))}))},t.prototype.syncData=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,s,u;return c(this,(function(c){switch(c.label){case 0:for(r in e=[],t=[],n=[],this.history)for(i=this.history[r],a=0;a<i.length;++a)"number"!=typeof i[a]&&(o=i[a],e.push(o.data()),t.push(r),n.push(a));return[4,Promise.all(e)];case 1:for(s=c.sent(),u=0;u<s.length;++u)this.history[t[u]][n[u]].dispose(),this.history[t[u]][n[u]]=s[u][0];return[2]}}))}))},t}(yt),kt=function(e){function t(t,n){var i=e.call(this)||this;if(i.currentEpoch=0,i.yieldEvery=n||"auto","auto"===i.yieldEvery&&(i.yieldEvery=125),"never"===i.yieldEvery&&null!=t.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return r.Af.isNumber(i.yieldEvery)&&(i.maybeWait=function(e,t){var n,i=r.Af.now();return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=r.Af.now();return s-i<t?n:(i=s,n=e.apply(void 0,a))}}(i.maybeWait.bind(i),i.yieldEvery)),i.trainBegin=t.onTrainBegin,i.trainEnd=t.onTrainEnd,i.epochBegin=t.onEpochBegin,i.epochEnd=t.onEpochEnd,i.batchBegin=t.onBatchBegin,i.batchEnd=t.onBatchEnd,i.yield=t.onYield,i}return a(t,e),t.prototype.maybeWait=function(e,t,n){return u(this,void 0,void 0,(function(){var i;return c(this,(function(a){switch(a.label){case 0:return i=[],null==this.yield?[3,2]:[4,gt(n)];case 1:a.sent(),i.push(this.yield(e,t,n)),a.label=2;case 2:return i.push(Object(r.zd)()),[4,Promise.all(i)];case 3:return a.sent(),[2]}}))}))},t.prototype.onEpochBegin=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return this.currentEpoch=e,null==this.epochBegin?[3,3]:[4,gt(t)];case 1:return n.sent(),[4,this.epochBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.onEpochEnd=function(e,t){return u(this,void 0,void 0,(function(){var n;return c(this,(function(i){switch(i.label){case 0:return n=[],null==this.epochEnd?[3,2]:[4,gt(t)];case 1:i.sent(),n.push(this.epochEnd(e,t)),i.label=2;case 2:return"epoch"===this.yieldEvery&&n.push(Object(r.zd)()),[4,Promise.all(n)];case 3:return i.sent(),[2]}}))}))},t.prototype.onBatchBegin=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return null==this.batchBegin?[3,3]:[4,gt(t)];case 1:return n.sent(),[4,this.batchBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.onBatchEnd=function(e,t){return u(this,void 0,void 0,(function(){var n;return c(this,(function(i){switch(i.label){case 0:return n=[],null==this.batchEnd?[3,2]:[4,gt(t)];case 1:i.sent(),n.push(this.batchEnd(e,t)),i.label=2;case 2:return"batch"===this.yieldEvery?n.push(Object(r.zd)()):r.Af.isNumber(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),[4,Promise.all(n)];case 3:return i.sent(),[2]}}))}))},t.prototype.onTrainBegin=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return null==this.trainBegin?[3,3]:[4,gt(e)];case 1:return t.sent(),[4,this.trainBegin(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},t.prototype.onTrainEnd=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return null==this.trainEnd?[3,3]:[4,gt(e)];case 1:return t.sent(),[4,this.trainEnd(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},t}(yt);function Et(e,t){return null==e&&(e={}),e instanceof yt?[e]:Array.isArray(e)&&e[0]instanceof yt?e:w(e).map((function(e){return new kt(e,t)}))}var _t=function(){function e(){}return e.registerCallbackConstructor=function(t,n){r.Af.assert(t>=0&&Number.isInteger(t),(function(){return"Verbosity level is expected to be an integer >= 0, but got "+t})),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)},e.checkForDuplicate=function(t){for(var n in e.constructors)e.constructors[+n].forEach((function(e){if(e===t)throw new h("Duplicate callback constructor.")}))},e.clear=function(){e.constructors={}},e.createCallbacks=function(t){var n=[];for(var r in e.constructors){var i=+r;t>=i&&n.push.apply(n,e.constructors[i])}return n.map((function(e){return new e}))},e.constructors={},e}();function St(e,t,n,r,i,a,o,s,u){var c=new Ot,l=[new xt].concat(_t.createCallbacks(t));null!=e&&l.push.apply(l,e),l.push(c);var f=new wt(l);return f.setParams({epochs:n,initialEpoch:r,samples:i,steps:a,batchSize:o,verbose:t,doValidation:s,metrics:u}),{callbackList:f,history:c}}function jt(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=!1),_(e,r.we.SerializationMap.getMap().classNameMap,t,"layer",n)}function Ct(e,t){return Object(r.pf)((function(){"float32"!==e.dtype&&(e=e.asType("float32"));var n=Object(r.cf)(xe(e),t,!0),i=Object(r.fc)(n.shape,l()),a=Object(r.Re)(Object(r.jd)(n,i));return Object(r.Nb)(e,a)}))}function At(e,t){return Object(r.pf)((function(){return Object(r.ld)(xe(Object(r.af)(t,e)),-1)}))}function Tt(e,t){return Object(r.pf)((function(){return Object(r.ld)(Object(r.G)(Object(r.af)(t,e)),-1)}))}function Nt(e,t){return Object(r.pf)((function(){var n=Object(r.af)(e,t),i=Object(r.pb)(Object(r.G)(e),l(),Number.MAX_VALUE),a=Object(r.G)(Object(r.Nb)(n,i));return Object(r.ud)(100,Object(r.ld)(a,-1))}))}function Rt(e,t,n){return void 0===n&&(n=!1),Object(r.pf)((function(){if(n)t=Object(r.Le)(t);else{var i=Object(r.cf)(t,t.shape.length-1,!0);t=Object(r.Nb)(t,i)}return t=Object(r.pb)(t,l(),1-l()),Object(r.yd)(Object(r.cf)(Object(r.ud)(e.toFloat(),Object(r.Tc)(t)),t.shape.length-1))}))}function Mt(e,t){return Object(r.pf)((function(){var n=Object(r.ic)(function(e){var t=[ae(e.shape)];return e.reshape(t)}(e)).toInt(),i=(t=Object(r.pb)(t,l(),1-l())).shape;return Rt(Object(r.Dd)(n,i[i.length-1]).reshape(i),t,!1)}))}function Dt(e,t){return Object(r.pf)((function(){var n;return n=Object(r.pb)(t,l(),1-l()),n=Object(r.Tc)(Object(r.Nb)(n,Object(r.af)(1,n))),Object(r.ld)(function(e,t){if(!r.Af.arraysEqual(e.shape,t.shape))throw new h("logits and labels must have the same shape, but got shapes "+JSON.stringify(e.shape)+" and "+JSON.stringify(t.shape));return Object(r.pf)((function(){var n=t.relu(),r=t.abs().neg();return n.sub(t.mul(e)).add(r.exp().log1p())}))}(e,n),-1)}))}function It(e,t){return Object(r.pf)((function(){var n=Ct(e,-1),i=Ct(t,-1),a=Object(r.ud)(n,i);return Object(r.yd)(Object(r.cf)(a,-1))}))}var Ft={meanSquaredError:At,meanAbsoluteError:Tt,meanAbsolutePercentageError:Nt,meanSquaredLogarithmicError:function(e,t){return Object(r.pf)((function(){var n=Object(r.pb)(t,l(),Number.MAX_VALUE),i=Object(r.Tc)(Object(r.J)(1,n)),a=Object(r.pb)(e,l(),Number.MAX_VALUE),o=Object(r.Tc)(Object(r.J)(1,a));return Object(r.ld)(xe(Object(r.af)(i,o)),-1)}))},squaredHinge:function(e,t){return Object(r.pf)((function(){var n=Object(r.jd)(0,Object(r.af)(1,Object(r.ud)(e,t)));return Object(r.ld)(xe(n),-1)}))},hinge:function(e,t){return Object(r.pf)((function(){var n=Object(r.jd)(0,Object(r.af)(1,Object(r.ud)(e,t)));return Object(r.ld)(n,-1)}))},categoricalHinge:function(e,t){return Object(r.pf)((function(){var n=Object(r.cf)(Object(r.ud)(e,t),-1),i=Object(r.fd)(Object(r.ud)(Object(r.af)(1,e),t),-1);return Object(r.jd)(0,Object(r.J)(1,Object(r.af)(i,n)))}))},logcosh:function(e,t){return Object(r.pf)((function(){var n=Math.log(2),i=Object(r.af)(t,e),a=Object(r.af)(Object(r.J)(i,Object(r.Me)(Object(r.ud)(-2,i))),n);return Object(r.ld)(a,-1)}))},categoricalCrossentropy:Rt,sparseCategoricalCrossentropy:Mt,binaryCrossentropy:Dt,kullbackLeiblerDivergence:function(e,t){return Object(r.pf)((function(){var n=Object(r.pb)(e,l(),1),i=Object(r.pb)(t,l(),1);return Object(r.cf)(Object(r.ud)(e,Object(r.Tc)(Object(r.Nb)(n,i))),-1)}))},poisson:function(e,t){return Object(r.pf)((function(){var n=Object(r.Tc)(Object(r.J)(l(),t));return Object(r.ld)(Object(r.af)(t,Object(r.ud)(e,n)),-1)}))},cosineProximity:It};function Pt(e){if("string"==typeof e){if(e in Ft)return Ft[e];var t="Unknown loss "+e;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss "+e+'. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new h(t)}return e}function zt(e,t){return Object(r.pf)((function(){var n=Object(r.ud)(.5,Object(r.Fd)(t)),i=le(Object(r.vc)(t,n),e.dtype);return Object(r.ld)(Object(r.Xb)(e,i),-1)}))}function Lt(e,t){return Object(r.pf)((function(){return le(Object(r.Xb)(Object(r.O)(e,-1),Object(r.O)(t,-1)),"float32")}))}function Bt(e,t){return Object(r.pf)((function(){return Object(r.Yc)(e.equal(1),t.equal(1)).sum().cast("float32")}))}function Ut(e,t){return Object(r.pf)((function(){var n=Bt(e,t),i=function(e,t){return Object(r.pf)((function(){return Object(r.Yc)(e.equal(0),t.equal(1)).sum().cast("float32")}))}(e,t),a=n.add(i);return Object(r.Hf)(Object(r.vc)(a,0),n.div(a),0).cast("float32")}))}function Wt(e,t){return Object(r.pf)((function(){var n=Bt(e,t),i=function(e,t){return Object(r.pf)((function(){return Object(r.Yc)(e.equal(1),t.equal(0)).sum().cast("float32")}))}(e,t),a=n.add(i);return Object(r.Hf)(Object(r.vc)(a,0),n.div(a),0).cast("float32")}))}function Vt(e,t){return Dt(e,t)}function qt(e,t){return e.rank===t.rank&&(e=e.squeeze([e.rank-1])),(t=t.argMax(-1)).dtype!==e.dtype&&(t=t.asType(e.dtype)),Object(r.Xb)(e,t).asType("float32")}var Ht=Rt,Gt=Mt,$t={binaryAccuracy:zt,categoricalAccuracy:Lt,precision:Ut,categoricalCrossentropy:Ht,sparseCategoricalCrossentropy:Gt,mse:At,MSE:At,mae:Tt,MAE:Tt,mape:Nt,MAPE:Nt,cosine:It};function Kt(e){if(g(null!==e,"Unknown LossOrMetricFn "+e),"string"==typeof e)return e;for(var t=void 0,n=0,r=Object.keys(Ft);n<r.length;n++){var i=r[n];if(Ft[i]===e){t=i;break}}if(void 0!==t)return t;for(var a=0,o=Object.keys($t);a<o.length;a++)if(i=o[a],$t[i]===e){t=i;break}return void 0!==t?t:e.name}function Xt(e,t,n){if(void 0===n&&(n=!1),null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!function e(t){if(null===t)return!0;if("object"==typeof t){if(Object.getPrototypeOf(t)===Object.prototype){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if("string"!=typeof i)return!1;if(!e(t[i]))return!1}return!0}if(Array.isArray(t)){for(var a=0,o=t;a<o.length;a++)if(!e(o[a]))return!1;return!0}return!1}var s=typeof t;return"string"===s||"number"===s||"boolean"===s}(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>1048576&&console.warn('User-defined metadata of model "'+t+'" is too large in size (length='+r.length+" when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.")}}function Yt(e,t,n,r){void 0===r&&(r=console.log);var i,a=function(e){var t=!0,n=[],r=[];for(var i in e.nodesByDepth)n.push(e.nodesByDepth[i]);for(var a=0,o=n;a<o.length;a++){var s=o[a];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,s)}if(t)for(var u=0,c=e.layers;u<c.length;u++){for(var l=!1,f=0,d=c[u].inboundNodes;f<d.length;f++){var h=d[f];if(-1!==r.indexOf(h)){if(l){t=!1;break}l=!0}}if(!t)break}return t}(e),o=["Layer (type)","Output shape","Param #"];if(a?(t=t||65,n=n||[.45,.85,1]):(t=t||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map((function(e){return Math.floor(t*e)}))),!a)for(var s in o.push("Receives inputs"),i=[],e.nodesByDepth)i.push.apply(i,e.nodesByDepth[s]);r("_".repeat(t)),Zt(o,n,r),r("=".repeat(t));for(var u=e.layers,c=0;c<u.length;++c)a?Jt(u[c],n,r):Qt(u[c],n,i,r),r((c===u.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var l=function(e){return null!=e.collectedTrainableWeights?rt(e.collectedTrainableWeights):rt(e.trainableWeights)}(e),f=rt(e.nonTrainableWeights);r("Total params: "+(l+f)),r("Trainable params: "+l),r("Non-trainable params: "+f),r("_".repeat(t))}function Zt(e,t,n){void 0===n&&(n=console.log);for(var r="",i=0;i<e.length;++i)i>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[i]).slice(0,t[i]),r+=" ".repeat(t[i]-r.length);n(r)}function Jt(e,t,n){var r;try{r=JSON.stringify(e.outputShape)}catch(e){r="multiple"}Zt([e.name+" ("+e.getClassName()+")",r,e.countParams().toString()],t,n)}function Qt(e,t,n,r){var i;try{i=JSON.stringify(e.outputShape)}catch(e){i="multiple"}for(var a=[],o=0,s=e.inboundNodes;o<s.length;o++){var u=s[o];if(!(null!=n&&n.length>0&&-1===n.indexOf(u)))for(var c=0;c<u.inboundLayers.length;++c){var l=u.inboundLayers[c].name,f=u.nodeIndices[c],d=u.tensorIndices[c];a.push(l+"["+f+"]["+d+"]")}}var h=e.name,p=e.getClassName(),m=0===a.length?"":a[0];for(Zt([h+" ("+p+")",i,e.countParams().toString(),m],t,r),c=1;c<a.length;++c)Zt(["","","",a[c]],t,r)}function en(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n}function tn(e,t){if(null===e)return null;if("string"==typeof e)return O(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i){var a=e[i];en(t,i,a)?n.push(a):n.push(tn(a,t))}return n}for(var o={},s=0,u=Object.keys(e);s<u.length;s++){var c=u[s],l=e[c];if("name"===c&&"string"==typeof l)o[c]=l;else{var f=O(c);o[f]=tn(l,f)}}return o}var nn="1.7.2";var rn=function(){function e(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;for(var r=0,i=t;r<i.length;r++){var a=i[r];this.add(a.key,a.value)}}}return e.prototype.add=function(e,t,n){if(null!=this.id2Value[e.id])throw new h("Duplicate key: name="+e.name+", id="+e.id);return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return Object(r.nb)(t,e.dtype)}catch(n){throw new h("The dtype of the feed ("+t.dtype+") can not be cast to the dtype of the key '"+e.name+"' ("+e.dtype+").")}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this},e.prototype.addFeed=function(e){this.add(e.key,e.value)},e.prototype.hasKey=function(e){return null!=this.id2Value[e.id]},e.prototype.names=function(){return Object.keys(this.name2Id)},e.prototype.getValue=function(e){if(e instanceof ut){if(null==this.id2Value[e.id])throw new h("Nonexistent key: "+e.name);return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new h("Feed dict has no SymbolicTensor name: "+e);return this.id2Value[t]},e.prototype.getMask=function(e){if(e instanceof ut){if(null==this.id2Value[e.id])throw new h("Nonexistent key: "+e.name);return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new h("Feed dict has no SymbolicTensor name: "+e);return this.id2Mask[t]},e.prototype.disposeMasks=function(){null!=this.id2Mask&&Object(r.Lb)(this.id2Mask)},e}(),an={},on={};function sn(e,t,n,i){for(var a=null!=n&&n.training,o=Array.isArray(e),s=o?e:[e],u=s.map((function(e){return e.name})),c=[],l=t.names(),f=0,d=u;f<d.length;f++){var h=d[f];-1!==l.indexOf(h)?c.push(t.getValue(h)):c.push(null)}null!=i&&(i.maxNumTensors=-1/0,i.minNumTensors=1/0);var p,m,v=u.join(",")+"|"+t.names().join(",");if(null==an[v]){var g=function(e,t){r.Af.assert(null!=e&&e.length>0,(function(){return"Expected at least one fetch, got none"}));var n=[],i={};if(1===e.length){var a=cn(e[0],t);n=a.sorted,i=a.recipientMap}else for(var o=new Set,s=0,u=e;s<u.length;s++){for(var c=cn(u[s],t),l=c.sorted,f=c.recipientMap,d=0,h=l;d<h.length;d++){var p=h[d];o.has(p.name)||(n.push(p),o.add(p.name))}var m=function(e){null==i[e]&&(i[e]=new Set),f[e].forEach((function(t){return i[e].add(t)}))};for(var v in f)m(v)}return{sorted:n,recipientCounts:un(i)}}(s,t);p=g.sorted,m=g.recipientCounts,an[v]=p,on[v]=m}p=an[v],m={},a||Object.assign(m,on[v]);for(var b=new rn(t),y=0;y<p.length;++y){if(null!=i){var x=Object(r.md)().numTensors;x>i.maxNumTensors&&(i.maxNumTensors=x),x<i.minNumTensors&&(i.minNumTensors=x)}var O=p[y],k=O.sourceLayer;if(!(k instanceof mt)){for(var E=[],_=[],S=[],j=!1,C=0,A=O.inputs;C<A.length;C++){var T=A[C],N=b.getValue(T),R=b.getMask(T);E.push(N),_.push(R),null!=R&&(j=!0),a||(m[T.name]--,0!==m[T.name]||t.hasKey(T)||-1!==u.indexOf(T.name)||N.isDisposed||!0===T.sourceLayer.stateful||S.push(N))}j&&((n=n||{}).mask=_[0]);var M=w(k.apply(E,n)),D=null;k.supportsMasking&&(D=k.computeMask(E,_));for(var I=ln(O),F=Array.isArray(I)?I:[I],P=0;P<F.length;++P){b.hasKey(F[P])||b.add(F[P],M[P],Array.isArray(D)?D[0]:D);var z=u.indexOf(F[P].name);-1!==z&&(c[z]=M[P])}a||Object(r.Lb)(S)}}return b.disposeMasks(),o?c:c[0]}function un(e){var t={};for(var n in e)t[n]=e[n].size;return t}function cn(e,t){for(var n=new Set,r=[],i={},a=0,o=t.names();a<o.length;a++){var s=o[a];n.add(s)}var u=[],c=[];for(u.push(e);u.length>0;){var l=u[u.length-1];if(n.has(l.name))u.pop();else{var f=c[c.length-1]===u.length-1;if(0===l.inputs.length||f)u.pop(),r.push(l),n.add(l.name),f&&c.pop();else{c.push(u.length-1);for(var d=0,h=l.inputs;d<h.length;d++){var p=h[d];null==i[p.name]&&(i[p.name]=new Set),i[p.name].add(l.name),n.has(p.name)||u.push(p)}}}}return{sorted:r,recipientMap:i}}function ln(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r)for(var i=0,a=e.sourceLayer.inboundNodes[r].outputTensors;i<a.length;i++)if(a[i].id===e.id){n=r;break}t=e.sourceLayer.getOutputAt(n)}return t}var fn=function(e){function t(n){var r=e.call(this,{})||this;if(r.containerNodes=new Set,r.name=n.name,null==r.name){var i=r.getClassName().toLowerCase();r.name=Je(i)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(n.inputs)?r.inputs=n.inputs.slice():r.inputs=[n.inputs],Array.isArray(n.outputs)?r.outputs=n.outputs.slice():r.outputs=[n.outputs],j(r.inputs).length!==r.inputs.length)throw new h("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+r.inputs.map((function(e){return e.name})));j(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+r.outputs.map((function(e){return e.name}))),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];for(var a=0,o=r.outputs;a<o.length;a++){var s=(N=o[a]).sourceLayer,u=N.nodeIndex,c=N.tensorIndex;r.outputLayers.push(s),r.outputLayersNodeIndices.push(u),r.outputLayersTensorIndices.push(c)}for(var l=0,f=r.inputs;l<f.length;l++)s=(N=f[l]).sourceLayer,u=N.nodeIndex,c=N.tensorIndex,g(0===u,"input layer has >1 nodes"),g(0===c,"input layer has >1 tensors"),r.inputLayers.push(s),r.inputLayersNodeIndices.push(u),r.inputLayersTensorIndices.push(c);r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var p=0;p<r.inputLayers.length;p++){if(!((s=r.inputLayers[p])instanceof mt))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. Received inputs: "+n.inputs+". Input "+p+" (0-based) originates from layer type "+s.getClassName()+".");r.inputNames.push(s.name),r.feedInputShapes.push(s.batchInputShape),r.feedInputNames.push(s.name)}for(var m=0,v=r.outputLayers;m<v.length;m++)s=v[m],r.outputNames.push(s.name);r.internalInputShapes=r.inputs.map((function(e){return e.shape})),r.internalOutputShapes=r.outputs.map((function(e){return e.shape}));for(var b={},y={},w={},x={},O={},k=[],E=function e(n,i,a,o,s,u){null!=o&&null!=s&&null!=u||(o=n.sourceLayer,s=n.nodeIndex,u=n.tensorIndex);var c=o.inboundNodes[s];if(-1!==a.indexOf(c))throw new d("The tensor "+n.name+' at layer "'+o.name+'" is part of a cycle.');if(-1===i.indexOf(c)){r.containerNodes.add(t.nodeKey(o,s)),o.id in O||(O[o.id]=Object.keys(O).length),-1===a.indexOf(c)&&a.push(c);for(var l=c.inboundLayers.length,f=0;f<l;f++){e(c.inputTensors[f],i,a,c.inboundLayers[f],c.nodeIndices[f],c.tensorIndices[f])}for(i.push(c);a.indexOf(c)>=0;)a.splice(a.indexOf(c),1);k.push(c)}},_=[],C=[],A=0,T=r.outputs;A<T.length;A++){var N=T[A];E(N,_,C)}for(var R=0,M=k.slice().reverse();R<M.length;R++){y[(te=M[R]).id]=te,te.id in b||(b[te.id]=0);var D=b[te.id],I=null==w[te.outboundLayer.id]?0:w[te.outboundLayer.id];for(D=Math.max(D,I),w[te.outboundLayer.id]=D,x[te.outboundLayer.id]=te.outboundLayer,b[te.id]=D,p=0;p<te.inboundLayers.length;p++){var F=te.inboundLayers[p],P=(u=te.nodeIndices[p],F.inboundNodes[u]),z=null==b[P.id]?0:b[P.id];b[P.id]=Math.max(D+1,z),y[P.id]=P}}var L={};for(var B in b)(D=b[B])in L||(L[D]=[]),L[D].push(y[B]);var U={};for(var W in w)(D=w[W])in U||(U[D]=[]),U[D].push(x[W]);var V=Object.keys(U).map((function(e){return parseInt(e,10)})).sort(S);r.layers=[];for(var q=0,H=V;q<H.length;q++){var G=U[D=H[q]];G.sort((function(e,t){var n=O[e.id],r=O[t.id];return n<r?-1:n>r?1:0}));for(var $=0,K=G;$<K.length;$++)(s=K[$])instanceof t&&r.internalContainerRefs.push(s),r.layers.push(s)}r.layersByDepth=U,V=Object.keys(L).map((function(e){return parseInt(e,10)})).sort(S);for(var X=r.inputs.slice(),Y=[],Z=0,J=V;Z<J.length;Z++)for(var Q=0,ee=L[D=J[Z]];Q<ee.length;Q++){var te;if(null!=(s=(te=ee[Q]).outboundLayer)){for(var ne=0,re=te.inputTensors;ne<re.length;ne++)if(N=re[ne],-1===X.indexOf(N))throw new d("Graph disconnected: cannot obtain value for tensor "+N+' at layer "'+s.name+'". The following previous layers were accessed without issue: '+Y);for(var ie=0,ae=te.outputTensors;ie<ae.length;ie++)N=ae[ie],X.push(N);Y.push(s.name)}}r.nodesByDepth=L;for(var oe=r.layers.map((function(e){return e.name})),se=function(e){var t=oe.filter((function(t){return t===e})).length;if(1!==t)throw new d('The name "'+e+'" is used '+t+" times in the model. All layer names should be unique. Layer names: "+JSON.stringify(oe))},ue=0,ce=oe;ue<ce.length;ue++)se(ce[ue]);return r.outboundNodes=[],r.inboundNodes=[],new lt({outboundLayer:r,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map((function(e){return null})),outputMasks:r.outputs.map((function(e){return null})),inputShapes:r.inputs.map((function(e){return e.shape})),outputShapes:r.outputs.map((function(e){return e.shape}))}),r.built=!0,r._refCount=1,r}return a(t,e),t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Container '"+this.name+"' is already disposed.")},t.prototype.dispose=function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(var t=0,n=this.layers;t<n.length;t++){var r=n[t];e.numDisposedVariables+=r.dispose().numDisposedVariables}for(var i=0,a=this.internalContainerRefs;i<a.length;i++){var o=a[i];e.numDisposedVariables+=o.dispose().numDisposedVariables}}return e.refCountAfterDispose=this._refCount,e},Object.defineProperty(t.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this.layers.forEach((function(t){t._trainableWeights.forEach((function(t){return t.trainable=e}))})),this.trainable_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){if(this._trainableWeights.length>0)throw new h("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e=e.concat(r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.layers;a<o.length;a++)r=o[a],i.push.apply(i,r.trainableWeights);return i.concat(e)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.loadWeights=function(e,t){void 0===t&&(t=!0);for(var n={},r=0,i=0,a=this.layers;i<a.length;i++)for(var o=0,s=a[i].weights;o<s.length;o++){var u=s[o];if(null!=n[u.originalName])throw new h("Duplicate weight name: "+u.originalName);n[u.originalName]=u,r++}var c=[];for(var l in e){if(null!=n[l])c.push([n[l],e[l]]);else if(t)throw new h("Provided weight data has no target variable: "+l);delete n[l]}if(t){var f=[];for(var d in n)f.push(d);if(f.length>0)throw new h(f.length+" of "+r+" weights are not set: "+f)}ot(c)},t.prototype.updatedConfig=function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers "+nn,t.backend="TensorFlow.js",t},t.prototype.toJSON=function(e,t){void 0===t&&(t=!0);var n=function e(t,n){if(null===t||void 0===t)return null;if("string"==typeof t)return x(t);if("number"==typeof t||"boolean"==typeof t)return t;if(t instanceof Array){for(var r=[],i=t.length,a=0;a<i;++a){var o=t[a];en(n,a,o)?r.push(o):r.push(e(o,n))}return r}for(var s={},u=0,c=Object.keys(t);u<c.length;u++){var l=c[u],f=t[l];s[x(l)]="name"!==l&&"className"!==l||"string"!=typeof f?e(f,l):f}return s}(this.updatedConfig());return t?JSON.stringify(n):n},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){e=w(e);for(var r=new rn,i=0;i<n.inputs.length;++i)r.add(n.inputs[i],e[i]);return sn(n.outputs,r,t)}))},t.prototype.computeMask=function(e,t){var n=this;return Object(r.pf)((function(){var r;return e=w(e),r=null==t?v(null,e.length):w(t),n.runInternalGraph(e,r)[1]}))},t.prototype.computeOutputShape=function(e){var t=et(e);if(t.length!==this.inputLayers.length)throw new h("Invalid inputShape argument "+e+": model has "+this.inputLayers.length+" tensor inputs.");for(var n={},r=0;r<t.length;r++){var i=this.inputLayers[r],a=t[r];n[j=i.name+"_0_0"]=a}var o=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(S);if(o.length>1)for(var s=0,u=o;s<u.length;s++)for(var c=u[s],l=0,f=this.nodesByDepth[c];l<f.length;l++){var d=f[l];if(i=d.outboundLayer,-1===this.inputLayers.map((function(e){return e.id})).indexOf(i.id)){for(var p=[],m=0;m<d.inboundLayers.length;m++){var v=d.inboundLayers[m],b=d.nodeIndices[m],w=d.tensorIndices[m],x=n[j=v.name+"_"+b+"_"+w];p.push(x)}var O=et(i.computeOutputShape(y(p))),k=i.inboundNodes.indexOf(d);for(m=0;m<O.length;m++)n[j=i.name+"_"+k+"_"+m]=O[m]}}var E=[],_=[];for(r=0;r<this.outputLayers.length;r++){i=this.outputLayers[r],k=this.outputLayersNodeIndices[r],w=this.outputLayersTensorIndices[r];var j=i.name+"_"+k+"_"+w;_.push(j)}for(r=0;r<_.length;r++){var C=_[r];g(C in n),E.push(n[C])}return y(E)},t.prototype.runInternalGraph=function(e,t){null==t&&(t=v(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var i=this.inputs[r],a=e[r],o=t[r];n[i.id]=[a,o]}for(var s=0,u=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(S);s<u.length;s++)for(var c=u[s],l=0,f=this.nodesByDepth[c];l<f.length;l++){for(var d=f[l],h=d.outboundLayer,m=d.inputTensors,b=d.outputTensors,y=new Array,x=0,O=m;x<O.length;x++)(i=O[x]).id in n&&y.push(n[i.id]);if(y.length===m.length){var k={},E=void 0,_=void 0,j=void 0,C=void 0;if(null!=d.callArgs&&(k=d.callArgs),1===y.length){var A=y[0],T=A[0],N=A[1];null==k.mask&&(k.mask=N),j=w(h.call(T,k)),C=w(h.computeMask(T,N)),E=[T],_=[N]}else E=y.map((function(e){return e[0]})),_=y.map((function(e){return e[1]})),null==k.mask&&(k.mask=_),j=w(h.call(E,k)),C=w(h.computeMask(E,_));if(h.activityRegularizer)throw new p("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(r=0;r<b.length;++r)i=b[r],a=j[r],o=C[r],n[i.id]=[a,o]}}for(var R=[],M=[],D=[],I=0,F=this.outputs;I<F.length;I++){g((i=F[I]).id in n,"Could not compute output "+i.name+" : "+i.id);var P=n[i.id],z=P[0];o=P[1],D.push(z.shape),R.push(z),M.push(o)}return[R,M,D]},t.prototype.buildNodeConversionMap=function(e){for(var n,r={},i=0,a=this.layers;i<a.length;i++){var o=a[i];n=o instanceof t?1:0;for(var s=0;s<o.inboundNodes.length;s++){var u=t.nodeKey(o,s);this.containerNodes.has(u)&&(r[u]=n,n+=1)}}return r},t.prototype.getLayer=function(e,t){if(null!=t){if(this.layers.length<=t)throw new h("Was asked to retrieve layer at index "+t+", but model only has "+this.layers.length+" layer(s).");return this.layers[t]}if(null==e)throw new h("Provide either a layer name or layer index");for(var n=0,r=this.layers;n<r.length;n++){var i=r[n];if(i.name===e)return i}throw new h("No such layer: "+e)},t.prototype.calculateLosses=function(){var e=this;return Object(r.pf)((function(){for(var n=[],r=0,i=e.layers;r<i.length;r++)for(var a=i[r],o=0;o<a.inboundNodes.length;++o){var s=t.nodeKey(a,o);e.containerNodes.has(s)&&n.push.apply(n,a.calculateLosses())}return n}))},t.prototype.getConfig=function(){for(var e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[],i=0,a=this.layers;i<a.length;i++){for(var o=(w=a[i]).getClassName(),s=w.getConfig(),u=[],c=0;c<w.inboundNodes.length;c++){var l=w.inboundNodes[c],f=t.nodeKey(w,c),d={};if(this.containerNodes.has(f)){if(l.callArgs)try{JSON.stringify(l.callArgs),d=l.callArgs}catch(e){console.warn("Layer "+w.name+" was passed non-serializable keyword arguments: "+l.callArgs+". They will not be included in the serialized model (and thus will be missing at deserialization time)."),d={}}if(l.inboundLayers.length>0){for(var h=[],p=0;p<l.inboundLayers.length;p++){var m=l.inboundLayers[p],v=l.nodeIndices[p],g=l.tensorIndices[p];null==(O=n[t.nodeKey(m,v)])&&(O=0),h.push([m.name,O,g,d])}u.push(h)}}}var b={};b.name=w.name,b.className=o,b.config=s,b.inboundNodes=u,r.push(b)}e.layers=r;var y=[];for(p=0;p<this.inputLayers.length;p++){var w=this.inputLayers[p];v=this.inputLayersNodeIndices[p],f=t.nodeKey(w,v),this.containerNodes.has(f)&&(null!==(O=n[f])&&void 0!==O||(O=0),g=this.inputLayersTensorIndices[p],y.push([w.name,O,g]))}e.inputLayers=y;var x=[];for(p=0;p<this.outputLayers.length;p++){var O;if(w=this.outputLayers[p],v=this.outputLayersNodeIndices[p],f=t.nodeKey(w,v),this.containerNodes.has(f))null!==(O=n[f])&&void 0!==O||(O=0),g=this.outputLayersTensorIndices[p],x.push([w.name,O,g])}return e.outputLayers=x,e},t.fromConfig=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var i={},a={};function o(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function s(e,t){for(var n,r=[],a=0,s=t;a<s.length;a++){var u=s[a],c=u[0],l=u[1],f=u[2];if(n=null==u[3]?{}:u[3],!(c in i))return void o(e,t);var d=i[c];if(d.inboundNodes.length<=l)return void o(e,t);var h=d.inboundNodes[l];r.push(h.outputTensors[f])}r.length>0&&e.apply(y(r),n)}function u(e){var n=e.name,a=jt(e,null!=t.customObjects?t.customObjects:{});a.setFastWeightInitDuringBuild(r),i[n]=a,e.inboundNodes.forEach((function(e){if(!(e instanceof Array))throw new h("Corrupted configuration, expected array for nodeData: "+e);o(a,e)}))}for(var c=t.name,l=t.layers,f=0,d=l;f<d.length;f++)u(v=d[f]);for(;!C(a);)for(var p=0,m=l;p<m.length;p++){var v=m[p];if((M=i[v.name]).name in a){var b=a[M.name];delete a[M.name];for(var w=0,x=b;w<x.length;w++)s(M,x[w])}}for(var O=[],k=[],E=0,_=t.inputLayers;E<_.length;E++){var S=(v=_[E])[0],j=v[1],A=v[2];g(S in i);var T=(M=i[S]).inboundNodes[j].outputTensors;O.push(T[A])}for(var N=0,R=t.outputLayers;N<R.length;N++){var M;S=(v=R[N])[0],j=v[1],A=v[2],g(S in i),T=(M=i[S]).inboundNodes[j].outputTensors,k.push(T[A])}return new e({inputs:O,outputs:k,name:c})},Object.defineProperty(t.prototype,"stateful",{get:function(){if(this._stateful)throw new h("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(var e=0,t=this.layers;e<t.length;e++)if(t[e].stateful)return!0;return!1},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){var e=this;Object(r.pf)((function(){e.layers.forEach((function(e){e.stateful&&e.resetStates()}))}))},t}(dt);function dn(e,t){return function(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return null}));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided "+n+" is an array of "+e.length+" element(s), but the model has "+r+" outputs. Make sure a set of weights is provided for each model output.");return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){var i=[];return t.forEach((function(t){t in e?i.push(e[t]):i.push(null)})),i}throw new Error("The model has multiple ("+r+") outputs, so "+n+" must be either an array with "+r+" elements or an object with "+t+" keys. Provided "+n+" not understood: "+JSON.stringify(e))}(e,t,"classWeight")}function hn(e,t,n,i){return u(this,void 0,void 0,(function(){var a,o,s,u,l;return c(this,(function(c){switch(c.label){case 0:if(null!=t||null!=i)throw new Error("Support sampleWeight is not implemented yet");return null==n?[3,2]:(a=Object(r.pf)((function(){if(1===e.shape.length)return e.clone();if(2===e.shape.length){if(e.shape[1]>1)return e.argMax(1);if(1===e.shape[1])return e.reshape([e.shape[0]]);throw new Error("Encountered unexpected last-dimension size ("+e.shape[1]+") during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor ("+e.rank+") during handling of class weights. The rank is expected to be 1 or 2.")})),u=(s=Array).from,[4,a.data()]);case 1:return o=u.apply(s,[c.sent()]),Object(r.Lb)(a),l=[],o.forEach((function(e){if(null==n[e])throw new Error("classWeight must contain all classes in the training data. The class "+e+" exists in the data but not in classWeight");l.push(n[e])})),[2,Object(r.hf)(l,"float32")];case 2:return[2,null]}}))}))}function pn(e,t){return Object(r.ud)(e,t)}function mn(e,t){var n,i,a=t;n=a.xs,i=a.ys,r.Af.assert(null!=n&&null!=i,(function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+t}));var o=vn("input",e.inputNames,n),s=vn("output",e.outputNames,i),u=o[0].shape[0];r.Af.assert(o.length===e.inputs.length,(function(){return"LayersModel has "+e.inputs.length+" inputs, but the dataset provides "+o.length+" inputs.  (Expected input keys: "+JSON.stringify(e.inputNames)+")"})),r.Af.assert(s.length===e.outputs.length,(function(){return"LayersModel has "+e.outputs.length+" outputs, but the dataset provides "+s.length+" outputs.  (Expected output keys: "+JSON.stringify(e.outputNames)+")"}));for(var c=function(t){r.Af.assert(o[t].shape[0]===u,(function(){return"Batch size mismatch: input "+e.inputNames[t]+" has "+o[t].shape[0]+"; expected  "+u+" based on input "+e.inputNames[0]+"."}))},l=0;l<o.length;l++)c(l);for(var f=function(t){r.Af.assert(s[t].shape[0]===u,(function(){return"Batch size mismatch: output "+e.outputNames[t]+" has "+s[t].shape[0]+"; expected  "+u+" based on input "+e.inputNames[0]+"."}))},d=0;d<s.length;d++)f(d);return{xs:o,ys:s}}function vn(e,t,n){if(n instanceof r.B)return[n];if(Array.isArray(n))return r.Af.assert(n.length===t.length,(function(){return"Received an array of "+n.length+" Tensors, but expected "+t.length+" to match the "+e+" keys "+t+"."})),n;for(var i=[],a=0,o=t;a<o.length;a++){var s=o[a];if(null==n[s])throw new h("The feature data generated by the dataset lacks the required "+e+" key '"+s+"'.");i.push(n[s])}return i}function gn(e,t,n){return u(this,void 0,void 0,(function(){var i,a,o,s,u,l,f,d,h,m,v,g,b,y,x,O,k,E,_,S,j,C,A,T,N,R,M,D,I,F,P,z,L,B;return c(this,(function(c){switch(c.label){case 0:if(i=null!=n.batchesPerEpoch,r.Af.assert(null!=e.optimizer,(function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."})),r.Af.assert(null!=n,(function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."})),r.Af.assert(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(function(){return"For fitDataset(), config.epochs is expected to be a positive integer, but got "+n.epochs})),r.Af.assert(!i||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got "+n.batchesPerEpoch})),r.Af.assert(null==n.validationSplit,(function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."})),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0,c.label=1;case 1:return c.trys.push([1,,26,27]),a=null!=n.validationData,o=void 0,s=void 0,a&&(bn(n.validationData)?r.Af.assert(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got "+n.validationBatches})):(u=function(e){if(3===e.length)throw new p("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData),o=u.xs,s=u.ys)),l=e.makeTrainFunction(),f=e.getDedupedMetricsNames(),void 0,d=a?f.slice().concat(f.map((function(e){return"val_"+e}))):f.slice(),h=Et(n.callbacks,n.yieldEvery),m=null==n.verbose?1:n.verbose,v=St(h,m,n.epochs,null,null,function(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}(t,n),null,a,d),g=v.callbackList,b=v.history,g.setModel(e),e.history=b,[4,g.onTrainBegin()];case 2:return c.sent(),e.stopTraining_=!1,y=null==n.initialEpoch?0:n.initialEpoch,[4,t.iterator()];case 3:x=c.sent(),c.label=4;case 4:return y<n.epochs?(O={},[4,g.onEpochBegin(y)]):[3,23];case 5:return c.sent(),k=0,E=0,i?[3,7]:[4,t.iterator()];case 6:x=c.sent(),c.label=7;case 7:return!i||k<n.batchesPerEpoch?[4,x.next()]:[3,21];case 8:return _=c.sent(),i&&_.done?(console.warn("You provided `batchesPerEpoch` as "+n.batchesPerEpoch+", but your dataset iterator ran out of data after "+k+" batches; interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+n.batchesPerEpoch*n.epochs+" batches). You may need to use the repeat() function when building your dataset."),[3,21]):null==_.value?[3,15]:(S=mn(e,_.value),j=S.xs,C=S.ys,(A={}).batch=E,A.size=j[0].shape[0],[4,g.onBatchBegin(E,A)]);case 9:if(c.sent(),T=[],null==n.classWeight)return[3,13];N=dn(n.classWeight,e.outputNames),B=0,c.label=10;case 10:return B<N.length?(M=(R=T).push,[4,hn(C[B],null,N[B])]):[3,13];case 11:M.apply(R,[c.sent()]),c.label=12;case 12:return++B,[3,10];case 13:for(D=j.concat(C).concat(T),I=l(D),Object(r.Lb)(D),B=0;B<f.length;++B)F=f[B],P=I[B],A[F]=P,Object(r.Kc)(P);return[4,g.onBatchEnd(E,A)];case 14:c.sent(),bt(A),E++,k++,c.label=15;case 15:return(i?k>=n.batchesPerEpoch:_.done)?a?(z=void 0,bn(n.validationData)?(L=w,[4,e.evaluateDataset(n.validationData,{batches:n.validationBatches})]):[3,17]):[3,19]:[3,20];case 16:return z=L.apply(void 0,[c.sent()]),[3,18];case 17:z=w(e.evaluate(o,s,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0})),c.label=18;case 18:for(B=0;B<e.metricsNames.length;++B)O["val_"+e.metricsNames[B]]=z[B];c.label=19;case 19:return[3,21];case 20:return e.stopTraining_?[3,21]:[3,7];case 21:return[4,g.onEpochEnd(y,O)];case 22:return c.sent(),y++,e.stopTraining_?[3,23]:[3,4];case 23:return[4,g.onTrainEnd()];case 24:return c.sent(),[4,e.history.syncData()];case 25:return c.sent(),[2,e.history];case 26:return e.isTraining=!1,[7];case 27:return[2]}}))}))}function bn(e){return"function"==typeof e.iterator}function yn(e,t,n){return u(this,void 0,void 0,(function(){var i,a,o,s,u,l,f,d,h,m;return c(this,(function(v){switch(v.label){case 0:if(i=null!=(n=n||{}).batches,a=e.testFunction,o=[],n.verbose>0)throw new p("Verbose mode is not implemented yet.");return r.Af.assert(!i||n.batches>0&&Number.isInteger(n.batches),(function(){return"Test loop expects `batches` to be a positive integer, but received "+JSON.stringify(n.batches)})),function(e){return"function"==typeof e.next}(t)?(u=t,[3,3]):[3,1];case 1:return[4,t.iterator()];case 2:u=v.sent(),v.label=3;case 3:s=u,l=0,f=0,d=function(){var t;return c(this,(function(u){switch(u.label){case 0:return[4,s.next()];case 1:return t=u.sent(),o=Object(r.pf)((function(){if(t.value){var n=mn(e,t.value),i=n.xs,s=n.ys,u=i.concat(s),c=Object(r.pf)((function(){return a(u)}));if(Object(r.Lb)(u),0===f)for(var d=0;d<c.length;++d)o.push(Object(r.re)(0));var h=u[0].shape[0],p=function(e){var t=c[e],n=o[e];o[e]=Object(r.pf)((function(){return Object(r.J)(o[e],Object(r.ud)(h,t))})),f>0&&Object(r.Lb)(n)};for(d=0;d<c.length;++d)p(d);Object(r.Lb)(c),l+=h,++f}return o})),t.done?(i&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` batches (in this case, "+n.batches+" batches). You may need to use the repeat() function when building your dataset."),[2,"break"]):[2]}}))},v.label=4;case 4:return!i||f<n.batches?[5,d()]:[3,6];case 5:return"break"===v.sent()?[3,6]:[3,4];case 6:for(h=0;h<o.length;++h)m=o[h],o[h]=Object(r.Nb)(o[h],l),Object(r.Lb)(m);return[2,y(o)]}}))}))}function wn(e){r.Af.assert(e>0&&Number.isInteger(e),(function(){return"batchSize is required to be a positive integer, but got "+e}))}function xn(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((function(e){return de(e,t,n-t)})):de(e,t,n-t)}function On(e,t){return Object(r.pf)((function(){return null==e?null:Array.isArray(e)?e.map((function(e){return On(e,t)})):we(e,"int32"===t.dtype?t:t.toInt())}))}function kn(e,t){for(var n=[],r=0,i=null;r<e;)(i=r+t)>=e&&(i=e),n.push([r,i]),r=i;return n}function En(e,t,n,i,a,o,s,l,f,d,m,v,g,b,y){return u(this,void 0,void 0,(function(){var u,w,x,O,k,E,_,S;return c(this,(function(j){switch(j.label){case 0:if(null==a&&(a=32),null==o&&(o=1),null==m&&(m=!0),null==g&&(g=0),u=!1,null!=f&&null!=d&&(u=!0),null!=y&&(u=!0,null==b))throw new h("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");return null!=(w=e.checkNumSamples(n,a,b,"steps_per_epoch"))&&(x=ce(0,w)),null==s&&(s=1),O=St(l,s,o,g,w,b,a,u,v),k=O.callbackList,E=O.history,k.setModel(e),e.history=E,[4,k.onTrainBegin()];case 1:j.sent(),e.stopTraining_=!1,_=function(o){var s,l,h,v,g;return c(this,(function(y){switch(y.label){case 0:return[4,k.onEpochBegin(o)];case 1:if(y.sent(),s={},null==b)return[3,2];throw new p("stepsPerEpoch mode is not implemented yet.");case 2:if("batch"===m)throw new p("batch shuffling is not implemneted yet");m&&r.Af.shuffle(x),l=Object(r.hf)(x),h=kn(w,a),v=function(o){var p;return c(this,(function(c){switch(c.label){case 0:return p={},[4,k.onBatchBegin(o,p)];case 1:return c.sent(),Object(r.pf)((function(){var c=h[o][0],m=h[o][1],v=de(l,c,m-c);p.batch=o,p.size=m-c;for(var g=On(n,v),b=t(g),y=0;y<i.length;++y){var w=i[y],x=b[y];p[w]=x,Object(r.Kc)(x)}if(o===h.length-1&&u){var O=e.testLoop(f,d,a);for(y=0;y<i.length;++y)w=i[y],x=O[y],Object(r.Kc)(x),s["val_"+w]=x}})),[4,k.onBatchEnd(o,p)];case 2:return c.sent(),bt(p),e.stopTraining_?[2,"break"]:[2]}}))},g=0,y.label=3;case 3:return g<h.length?[5,v(g)]:[3,6];case 4:if("break"===y.sent())return[3,6];y.label=5;case 5:return++g,[3,3];case 6:l.dispose(),y.label=7;case 7:return[4,k.onEpochEnd(o,s)];case 8:return y.sent(),e.stopTraining_?[2,"break"]:[2]}}))},S=g,j.label=2;case 2:return S<o?[5,_(S)]:[3,5];case 3:if("break"===j.sent())return[3,5];j.label=4;case 4:return++S,[3,2];case 5:return[4,k.onTrainEnd()];case 6:return j.sent(),[4,e.history.syncData()];case 7:return j.sent(),[2,e.history]}}))}))}function _n(e,t,n,i){return void 0===i&&(i={}),u(this,void 0,void 0,(function(){var a,o,s,u,l,f,d,m,v,g,b,y,w,x,O,k,E,_,S,j;return c(this,(function(c){switch(c.label){case 0:if(e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0,c.label=1;case 1:return c.trys.push([1,,7,8]),wn(m=null==i.batchSize?32:i.batchSize),!1,[4,e.standardizeUserData(t,n,i.sampleWeight,i.classWeight,!1,m)];case 2:if(v=c.sent(),a=v[0],o=v[1],d=v[2],g=!1,b=void 0,!(null!=i.validationData&&i.validationData.length>0))return[3,4];if(g=!0,2!==i.validationData.length)throw 3===i.validationData.length?new p("validationData including sample weights is not supported yet."):new h("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+i.validationData+" is invalid.");return s=i.validationData[0],u=i.validationData[1],!0,[4,e.standardizeUserData(s,u,null,null,!0,m)];case 3:return y=c.sent(),l=y[0],f=y[1],b=l.concat(f),[3,5];case 4:null!=i.validationSplit&&i.validationSplit>0&&i.validationSplit<1?(g=!0,w=Math.floor(a[0].shape[0]*(1-i.validationSplit)),x=a[0].shape[0],l=xn(a,w,x),a=xn(a,0,w),f=xn(o,w,x),o=xn(o,0,w),b=l.concat(f)):null!=i.validationSteps&&(g=!0),c.label=5;case 5:return O=a.concat(o).concat(d),e.checkTrainableWeightsConsistency(),k=e.makeTrainFunction(),E=e.getDedupedMetricsNames(),_=void 0,S=void 0,g?(e.makeTestFunction(),_=e.testFunction,S=E.slice().concat(E.map((function(e){return"val_"+e})))):(_=null,b=[],S=E.slice()),j=Et(i.callbacks,i.yieldEvery),[4,En(e,k,O,E,m,i.epochs,i.verbose,j,_,b,i.shuffle,S,i.initialEpoch,null,null)];case 6:return[2,c.sent()];case 7:return e.isTraining=!1,jn(a,t),jn(o,n),jn(l,s),jn(f,u),null!=d&&Object(r.Lb)(d),[7];case 8:return[2]}}))}))}function Sn(e){var t=[];e instanceof r.B&&(e=[e]);for(var n=0;n<e.length;++n){var i=e[n];if(1===i.rank)t.push(fe(i,1));else{if(0===i.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(i)}}return t}function jn(e,t){if(null!=e){var n=[];if(t instanceof r.B)n.push(t.id);else if(Array.isArray(t))t.forEach((function(e){return n.push(e.id)}));else if(null!=t)for(var i in t){var a=t[i];n.push(a.id)}var o=[];if(e instanceof r.B)-1===n.indexOf(e.id)&&o.push(e);else if(Array.isArray(e))e.forEach((function(e){-1===n.indexOf(e.id)&&o.push(e)}));else if(null!=e)for(var s in e){var u=e[s];-1===n.indexOf(u.id)&&o.push(u)}o.forEach((function(e){e.isDisposed||e.dispose()}))}}function Cn(e){return Array.isArray(e)}function An(e){return!function(e){return e instanceof r.B}(e)&&!Cn(e)}function Tn(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=""),null==t||0===t.length){if(null!=e){var a=!1;if(Cn(e)&&e.length>0)a=!0;else if(An(e)){for(var o in e)if(e.hasOwnProperty(o)){a=!0;break}}else a=!0;if(a)throw new h("Error when checking model "+i+" expected no data, but got "+e)}return[]}if(null==e)return t.map((function(e){return null}));var s;if(An(e)){e=e,s=[];for(var u=0,c=t;u<c.length;u++){var l=c[u];if(null==e[l])throw new h('No data provided for "'+l+'". Need data for each key in: '+t);s.push(e[l])}}else if(Cn(e)){if((e=e).length!==t.length)throw new h("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see "+t.length+" Tensor(s), but instead got the following list of Tensor(s): "+e);s=e}else{if(e=e,t.length>1)throw new h("The model "+i+" expects "+t.length+" Tensor(s), but only received one Tensor. Found: Tensor with shape "+e.shape);s=[e]}if(s=Sn(s),null!=n)for(var f=0;f<t.length;++f)if(null!=n[f]){var d=s[f];if(d.shape.length!==n[f].length)throw new h("Error when checking "+i+": expected "+t[f]+" to have "+n[f].length+" dimension(s). but got array with shape "+d.shape);for(var p=0;p<n[f].length;++p)if(0!==p||r){var m=d.shape[p],v=n[f][p];if(null!=v&&v>=0&&m!==v)throw new h("Error when checking "+i+": expected "+t[f]+" to have shape ["+n[f]+"], but got array with shape ["+d.shape+"].")}}return s}function Nn(e,t,n,r,i){var a;if(void 0===r&&(r=!0),void 0===i&&(i=""),Array.isArray(e)){if(e.length!==t.length)throw new h("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see "+t.length+" Tensor(s), but instead got "+e.length+" Tensors(s).");a=e}else{if(t.length>1)throw new h("The model expects "+t.length+" "+i+" Tensors, but only received one Tensor. Found: array with shape "+JSON.stringify(e.shape)+".");a=[e]}if(null!=n)for(var o=0;o<t.length;++o)if(null!=n[o]){var s=a[o];if(s.shape.length!==n[o].length)throw new h("Error when checking "+i+": expected "+t[o]+" to have "+n[o].length+" dimension(s), but got array with shape "+JSON.stringify(s.shape));for(var u=0;u<n[o].length;++u)if(0!==u||r){var c=s.shape[u],l=n[o][u];if(null!=l&&l!==c)throw new h("Error when checking "+i+": expected "+t[o]+" to have shape "+JSON.stringify(n[o])+" but got array with shape "+JSON.stringify(s.shape)+".")}}}var Rn=function(e){function t(t){var n=e.call(this,t)||this;return n.isTraining=!1,n}return a(t,e),t.prototype.summary=function(e,t,n){if(void 0===n&&(n=console.log),!this.built)throw new h("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Yt(this,e,t,n)},t.prototype.compile=function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function(e){var t={Adagrad:function(){return r.tf.adagrad(.01)},Adadelta:function(){return r.tf.adadelta(1,.95,l())},Adam:function(){return r.tf.adam(.001,.9,.999,l())},Adamax:function(){return r.tf.adamax(.002,.9,.999,l(),0)},RMSProp:function(){return r.tf.rmsprop(.001,.9,0,l())},SGD:function(){return r.tf.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new h("Unknown Optimizer "+e)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof r.t))throw new h("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new h("When passing an Array as loss, it should have one entry per model output. The model has "+this.outputs.length+" output(s), but you passed loss="+e.loss+".");var i=e.loss;n=i.map((function(e){return Pt(e)}))}else{var a=Pt(e.loss);this.outputs.forEach((function(e){n.push(a)}))}else{for(var o in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(o))throw new h('Unknown entry in loss dictionary: "'+o+'". Only expected the following keys: '+this.outputNames);for(var s=0,u=this.outputNames;s<u.length;s++){var c=u[s];null==e.loss[c]&&console.warn('Output "'+c+'" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to '+c+" during training"),n.push(Pt(e.loss[c]))}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var f=0;f<this.outputs.length;++f){var d=this.internalOutputShapes[f],p=this.outputNames[f];this.feedOutputNames.push(p),this.feedOutputShapes.push(d),this.feedLossFns.push(this.lossFunctions[f])}var m=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Q("loss",(function(){for(var e=0;e<t.outputs.length;++e)if(-1===m.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}}));var v=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return[]}));var n;if("string"==typeof e||"function"==typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,function, Array, or Object, found: "+e);n=e}if(Array.isArray(n))return t.map((function(e){return n}));for(var r=[],i=0,a=t;i<a.length;i++){var o=a[i],s=n.hasOwnProperty(o)?n[o]:[];Array.isArray(s)||(s=[s]),r.push(s)}return r}(e.metrics,this.outputNames);Q("metric",(function(){for(var e=function(e){if(-1!==m.indexOf(e))return"continue";!function(n){for(var r,i,a,o=function(n){if("string"==typeof n&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(n)){var o=t.internalOutputShapes[e];1===o[o.length-1]||t.lossFunctions[e]===Dt?-1!==["accuracy","acc"].indexOf(n)?i=zt:-1!==["crossentropy","ce"].indexOf(n)&&(i=Vt):t.lossFunctions[e]===Mt?-1!==["accuracy","acc"].indexOf(n)?i=qt:-1!==["crossentropy","ce"].indexOf(n)&&(i=Gt):-1!==["accuracy","acc"].indexOf(n)?i=Lt:-1!==["crossentropy","ce"].indexOf(n)&&(i=Ht);var s=void 0;-1!==["accuracy","acc"].indexOf(n)?s="acc":-1!==["crossentropy","ce"].indexOf(n)&&(s="ce"),a=i,r=""+s}else{var u=function(e){if("string"==typeof e&&e in $t)return $t[e];if("string"!=typeof e&&null!=e)return e;throw new h("Unknown metric "+e)}(n);a=u,r=""+Kt(n)}var c;Q(r,(function(){c=a})),function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])}(e,r,c)},s=0,u=n;s<u.length;s++)o(u[s])}(v[e])},n=0;n<t.outputs.length;++n)e(n)})),this.collectedTrainableWeights=this.trainableWeights},t.prototype.checkTrainableWeightsConsistency=function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")},t.prototype.evaluate=function(e,t,n){void 0===n&&(n={});var r=null==n.batchSize?32:n.batchSize;wn(r);var i=this.standardizeUserDataXY(e,t,!0,r);try{var a=i[0].concat(i[1]);this.makeTestFunction();var o=this.testFunction;return y(this.testLoop(o,a,r,n.verbose,n.steps))}finally{jn(i[0],e),jn(i[1],t)}},t.prototype.evaluateDataset=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){return this.makeTestFunction(),[2,yn(this,e,t)]}))}))},t.prototype.checkNumSamples=function(e,t,n,r){var i;if(void 0===r&&(r="steps"),null!=n){if(i=null,null!=t)throw new h("If "+r+" is set, batchSize must be null or undefined.Got batchSize = "+t)}else{if(null==e)throw new h("Either the input data should have a defined shape, or "+r+" shoud be specified.");i=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return i},t.prototype.execute=function(e,t){if(Array.isArray(t)&&0===t.length)throw new h("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),i=n?t:[t],a=this.retrieveSymbolicTensors(i),o=new rn;if(e instanceof r.B&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new h("The number of inputs provided ("+e.length+") does not match the number of inputs of this model ("+this.inputs.length+").");for(var s=0;s<this.inputs.length;++s)o.add(this.inputs[s],e[s])}else for(var u=0,c=this.inputs;u<c.length;u++){var l=c[u],f=e[l.name];if(null==f)throw new h("No value is provided for the model's input "+l.name);o.add(l,f)}var d=sn(a,o);return n?d:d[0]},t.prototype.retrieveSymbolicTensors=function(e){for(var t=v(null,e.length),n=e.length,r=0,i=this.layers;r<i.length;r++){for(var a=i[r],o=Array.isArray(a.output)?a.output:[a.output],s=o.map((function(e){return e.name})),u=0;u<e.length;++u){var c=s.indexOf(e[u]);if(-1!==c&&(t[u]=o[c],n--),0===n)break}if(0===n)break}if(n>0){var l=[];throw t.forEach((function(t,n){null==t&&l.push(e[n])})),new h("Cannot find SymbolicTensors for output name(s): "+JSON.stringify(l))}return t},t.prototype.predictLoop=function(e,t,n){var i=this;return void 0===t&&(t=32),void 0===n&&(n=!1),Object(r.pf)((function(){var a=i.checkNumSamples(e);if(n)throw new p("Verbose predictLoop() is not implemented yet.");for(var o=kn(a,t),s=i.outputs.map((function(e){return[]})),u=function(t){Object(r.pf)((function(){var n=o[t][0],r=o[t][1],a=xn(e,n,r),s=[];if(Array.isArray(a))for(var u=0;u<a.length;++u)s.push({key:i.inputs[u],value:a[u]});else s.push({key:i.inputs[0],value:a});var c=new rn(s);return sn(i.outputs,c)})).forEach((function(e,t){return s[t].push(e)}))},c=0;c<o.length;++c)u(c);return y(s.map((function(e){return Object(r.sb)(e,0)})))}))},t.prototype.predict=function(e,t){void 0===t&&(t={});var n=Sn(e);Nn(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return wn(r),this.predictLoop(n,r)}finally{jn(n,e)}},t.prototype.predictOnBatch=function(e){Nn(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)},t.prototype.standardizeUserDataXY=function(e,t,n,i){if(void 0===n&&(n=!0),null==this.optimizer_)throw new d("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var a=[],o=0;o<this.feedOutputShapes.length;++o){var s=this.feedOutputShapes[o];this.feedLossFns[o]===Mt?a.push(s.slice(0,s.length-1).concat([1])):a.push(s)}if(function(e,t,n){var i=j(e.map((function(e){return e.shape[0]})));i.sort();var a=j(t.map((function(e){return e.shape[0]})));if(a.sort(),i.length>1)throw new h("All input Tensors (x) should have the same number of samples. Got array shapes: "+JSON.stringify(e.map((function(e){return e.shape}))));if(a.length>1)throw new h("All target Tensors (y) should have the same number of samples. Got array shapes: "+JSON.stringify(t.map((function(e){return e.shape}))));if(i.length>0&&a.length>0&&!r.Af.arraysEqual(i,a))throw new h("Input Tensors should have the same number of samples as target Tensors. Found "+i[0]+" input sample(s) and "+a[0]+" target sample(s).")}(e=Tn(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=Tn(t,this.feedOutputNames,a,!1,"target")),function(e,t,n){for(var r=[At,Dt,Rt],i=0;i<e.length;++i){var a=e[i],o=t[i],s=n[i];if(null!=o){if(o===Rt&&1===a.shape[a.shape.length-1])throw new h("You are passing a target array of shape "+a.shape+" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(o))for(var u=a.shape.slice(1),c=s.slice(1),l=0;l<u.length;++l){var f=u[l],d=c[l];if(null!=d&&f!==d)throw new h("A target Tensor with shape "+a.shape+" was passed for an output of shape "+s+", while using a loss function that expects targets to have the same shape as the output.")}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=i&&i>0&&e[0].shape[0]%i!=0)throw new h("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+i+". Found: "+e[0].shape[0]+" sample(s).");return[e,t]},t.prototype.standardizeUserData=function(e,t,n,r,i,a){return void 0===i&&(i=!0),u(this,void 0,void 0,(function(){var o,s,u,l,f,d,h,p;return c(this,(function(c){switch(c.label){case 0:if(o=this.standardizeUserDataXY(e,t,i,a),s=o[0],u=o[1],null!=n)throw new Error("sample weight is not supported yet.");if(l=null,null==r)return[3,4];f=dn(r,this.outputNames),l=[],d=0,c.label=1;case 1:return d<f.length?(p=(h=l).push,[4,hn(u[d],null,f[d])]):[3,4];case 2:p.apply(h,[c.sent()]),c.label=3;case 3:return++d,[3,1];case 4:return[2,[s,u,l]]}}))}))},t.prototype.testLoop=function(e,t,n,i,a){var o=this;return void 0===i&&(i=0),Object(r.pf)((function(){var s=o.checkNumSamples(t,n,a,"steps"),u=[];if(i>0)throw new p("Verbose mode is not implemented yet.");if(null!=a)throw new p("steps mode in testLoop() is not implemented yet");for(var c=kn(s,n),l=Object(r.hf)(ce(0,s)),f=0;f<c.length;++f){var d=c[f][0],h=c[f][1],m=de(l,d,h-d),v=On(t,m),g=e(v);if(0===f)for(var b=0;b<g.length;++b)u.push(Object(r.re)(0));for(b=0;b<g.length;++b){var y=g[b];u[b]=Object(r.J)(u[b],Object(r.ud)(h-d,y))}}for(b=0;b<u.length;++b)u[b]=Object(r.Nb)(u[b],s);return u}))},t.prototype.getDedupedMetricsNames=function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],i=r;b(e,r)>1&&(i+="_"+b(e.slice(0,n),r)),t.push(i)}return t},t.prototype.makeTrainFunction=function(){var e=this;return function(t){var n=[],i=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),s=[],u=e.collectedTrainableWeights.map((function(e){return e.read()}));return[e.optimizer_.minimize((function(){for(var t=[],u=0;u<e.inputs.length;++u)t.push({key:e.inputs[u],value:i[u]});var c,l=new rn(t),f=sn(e.outputs,l,{training:!0});for(u=0;u<e.lossFunctions.length;++u){var d=(0,e.lossFunctions[u])(a[u],f[u]);null!=o[u]&&(d=pn(d,o[u]));var h=Object(r.ld)(d);n.push(h),c=0===u?d:Object(r.J)(c,d)}for(u=0;u<e.metricsTensors.length;++u){var p=void 0;if(e.outputs.length>1&&u<e.outputs.length)p=n[u];else{var m=e.metricsTensors[u][0],v=e.metricsTensors[u][1];p=Object(r.ld)(m(a[v],f[v]))}Object(r.Kc)(p),s.push(p)}return c=Object(r.ld)(c),e.calculateLosses().forEach((function(e){c=Object(r.J)(c,e)})),c}),!0,u)].concat(s)}},t.prototype.makeTestFunction=function(){var e=this;this.testFunction=function(t){return Object(r.pf)((function(){for(var n,i=[],a=t.slice(0,e.inputs.length),o=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),s=[],u=0;u<e.inputs.length;++u)s.push({key:e.inputs[u],value:a[u]});var c=new rn(s),l=sn(e.outputs,c);for(u=0;u<e.lossFunctions.length;++u){var f=e.lossFunctions[u],d=Object(r.ld)(f(o[u],l[u]));n=0===u?d:Object(r.J)(n,d),i.push(n)}for(u=0;u<e.metricsTensors.length;++u){var h=e.metricsTensors[u][0],p=e.metricsTensors[u][1],m=Object(r.ld)(h(o[p],l[p]));i.push(m)}return i}))}},t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),u(this,void 0,void 0,(function(){return c(this,(function(r){return[2,_n(this,e,t,n)]}))}))},t.prototype.fitDataset=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){return[2,gn(this,e,t)]}))}))},t.prototype.trainOnBatch=function(e,t){return u(this,void 0,void 0,(function(){var n,i,a,o,s,u,l,f,d;return c(this,(function(c){switch(c.label){case 0:return[4,this.standardizeUserData(e,t)];case 1:n=c.sent(),i=n[0],a=n[1],o=this.makeTrainFunction(),s=o(i.concat(a)),u=[],l=0,f=s,c.label=2;case 2:return l<f.length?[4,f[l].data()]:[3,5];case 3:d=c.sent(),u.push(d[0]),c.label=4;case 4:return l++,[3,2];case 5:return Object(r.Lb)(s),[2,y(u)]}}))}))},t.prototype.getNamedWeights=function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,i=this.getWeights(n),a=0;a<r.length;++a)n&&!r[a].trainable||t.push({name:r[a].originalName,tensor:i[a]});return t},Object.defineProperty(t.prototype,"stopTraining",{get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"optimizer",{get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=e.prototype.dispose.call(this);if(0===t.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var n=Object(r.md)().numTensors;this.optimizer_.dispose(),t.numDisposedVariables+=n-Object(r.md)().numTensors}return t},t.prototype.getLossIdentifiers=function(){var e;if("string"==typeof this.loss)e=x(this.loss);else if(Array.isArray(this.loss)){for(var t=0,n=this.loss;t<n.length;t++)if("string"!=typeof n[t])throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((function(e){return x(e)}))}else{var r=Object.keys(this.loss);e={};for(var i=this.loss,a=0,o=r;a<o.length;a++){var s=o[a];if("string"!=typeof i[s])throw new Error("Serialization of non-string loss is not supported.");e[s]=x(i[s])}}return e},t.prototype.getMetricIdentifiers=function(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[x(Kt(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((function(e){return x(Kt(e))}));var e={};for(var t in this.metrics)e[t]=x(Kt(this.metrics[t]));return e},t.prototype.getTrainingConfig=function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}},t.prototype.loadTrainingConfig=function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=jt(tn(e.optimizer_config));if("string"==typeof e.loss)t=O(e.loss);else if(Array.isArray(e.loss))t=e.loss.map((function(e){return O(e)}));else if(null!=e.loss)for(var i in t={},e.loss)t[i]=O(e.loss[i]);if(Array.isArray(e.metrics))n=e.metrics.map((function(e){return O(e)}));else if(null!=e.metrics)for(var i in n={},e.metrics)n[i]=O(e.metrics[i]);this.compile({loss:t,metrics:n,optimizer:r})},t.prototype.save=function(e,t){return u(this,void 0,void 0,(function(){var n,i,a,o,s,u,l,f,d,p,m;return c(this,(function(c){switch(c.label){case 0:if("string"==typeof e){if(0===(n=r.Fc.getSaveHandlers(e)).length)throw new h("Cannot find any save handlers for URL '"+e+"'");if(n.length>1)throw new h("Found more than one ("+n.length+") save handlers for URL '"+e+"'");e=n[0]}if(null==e.save)throw new h("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[4,r.Fc.encodeWeights(this.getNamedWeights(t))];case 1:return i=c.sent(),!1,null,a=this.toJSON(null,!1),o={modelTopology:a,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v"+nn,convertedBy:null},null!=t&&t.includeOptimizer&&null!=this.optimizer?(o.trainingConfig=this.getTrainingConfig(),s="optimizer",p=(d=r.Fc).encodeWeights,[4,this.optimizer.getWeights()]):[3,4];case 2:return[4,p.apply(d,[c.sent(),s])];case 3:u=c.sent(),l=u.data,f=u.specs,(m=i.specs).push.apply(m,f),i.data=r.Fc.concatenateArrayBuffers([i.data,l]),c.label=4;case 4:return null!=this.userDefinedMetadata&&(!0,Xt(this.userDefinedMetadata,this.name,!0),o.userDefinedMetadata=this.userDefinedMetadata),o.weightData=i.data,o.weightSpecs=i.specs,[2,e.save(o)]}}))}))},t.prototype.setUserDefinedMetadata=function(e){Xt(e,this.name),this.userDefinedMetadata=e},t.prototype.getUserDefinedMetadata=function(){return this.userDefinedMetadata},t.className="Model",t}(fn);function Mn(e,t,n){return u(this,void 0,void 0,(function(){var i,a,o,s,u,l,f,d,p;return c(this,(function(c){switch(c.label){case 0:if(null==n&&(n={}),null==e.load)throw new h("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,e.load()];case 1:if(i=c.sent(),null!=(a=i.modelTopology).model_config&&(a=a.model_config),o=null==n.strict||n.strict,s=null!=i.weightData&&null!=i.weightSpecs&&o,u=jt(tn(a),t,s),null!=(l=i.trainingConfig)&&u.loadTrainingConfig(l),null!=i.userDefinedMetadata&&u.setUserDefinedMetadata(i.userDefinedMetadata),null==i.weightData)return[3,4];if(null==i.weightSpecs)throw new h("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");return f=function(e,t){var n=r.Fc.decodeWeights(e,t),i={},a=[];return t.forEach((function(e){"optimizer"===e.group?a.push({name:e.name,tensor:n[e.name]}):i[e.name]=n[e.name]})),{modelWeights:i,optimizerWeights:a}}(i.weightData,i.weightSpecs),d=f.modelWeights,p=f.optimizerWeights,u.loadWeights(d,o),null!=u.optimizer&&p.length>0?[4,u.optimizer.setWeights(p)]:[3,3];case 2:c.sent(),c.label=3;case 3:Object(r.Lb)(d),Object(r.Lb)(p.map((function(e){return e.tensor}))),c.label=4;case 4:return[2,u]}}))}))}r.we.registerClass(Rn);var Dn=function(e){function t(t){var n=e.call(this,{inputs:[],outputs:[]})||this;if(t=t||{},n.trainable=!0,n.built=!1,n.name=null!=t.name?t.name:Je("sequential_"),null!=t.layers)for(var r=0,i=t.layers;r<i.length;r++){var a=i[r];n.add(a)}return n}return a(t,e),t.prototype.checkShape=function(e){if(e.inboundNodes[0].outputTensors[0].shape.some((function(e){return e<0})))throw new h("Negative dimension size caused by adding layer "+e.name+" with input shape ["+e.inboundNodes[0].inputTensors[0].shape+"]")},t.prototype.add=function(e){var n,r=e instanceof t||e instanceof Rn;if(r){if(1!==(n=e).outputs.length)throw new h("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new h("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new h("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var i=vt({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(i)}if(r)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new h("A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer "+e.name+" which has "+e.inboundNodes.length+" pre-existing inbound connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new h("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=function e(t,n,r){if((null==n||null!=r&&r>0)&&(n=t.sourceLayer,r=t.nodeIndex),0===n.inboundNodes.length)return[t];var i=n.inboundNodes[r];if(0===i.inboundLayers.length)return i.inputTensors;for(var a=[],o=0;o<i.inboundLayers.length;o++)for(var s=0,u=e(i.inputTensors[o],i.inboundLayers[o],i.nodeIndices[o]);s<u.length;s++){var c=u[s];-1===a.indexOf(c)&&a.push(c)}return a}(this.outputs[0])}this.inboundNodes=[],new lt({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:v(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((function(e){return e.shape})),outputShapes:this.outputs[0].shape})}else{var a=e.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1},t.prototype.pop=function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}},t.prototype.call=function(e,t){return null==this.model&&this.build(),this.model.call(e,t)},t.prototype.build=function(e){if(nt(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Rn({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0},t.prototype.countParams=function(){return this.built||this.build(),e.prototype.countParams.call(this)},t.prototype.summary=function(t,n,r){void 0===r&&(r=console.log),this.built||this.build(),e.prototype.summary.call(this,t,n,r)},t.prototype.setWeights=function(e){null==this.model&&this.build(),this.model.setWeights(e)},t.prototype.evaluate=function(e,t,n){if(void 0===n&&(n={}),!this.built)throw new d("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)},t.prototype.evaluateDataset=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){if(!this.built)throw new d("The model needs to be compiled before being used.");return[2,this.model.evaluateDataset(e,t)]}))}))},t.prototype.predict=function(e,t){return void 0===t&&(t={}),null==this.model&&this.build(),this.model.predict(e,t)},t.prototype.predictOnBatch=function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)},t.prototype.compile=function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames},Object.defineProperty(t.prototype,"optimizer",{get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e},enumerable:!0,configurable:!0}),t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),u(this,void 0,void 0,(function(){return c(this,(function(r){if(!this.built)throw new d("The model needs to be compiled before being used.");return[2,this.model.fit(e,t,n)]}))}))},t.prototype.fitDataset=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){if(!this.built)throw new d("The model needs to be compiled before being used.");return[2,this.model.fitDataset(e,t)]}))}))},t.prototype.trainOnBatch=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){return[2,this.model.trainOnBatch(e,t)]}))}))},t.fromConfig=function(e,n,i,a){var o;void 0===i&&(i={}),void 0===a&&(a=!1);var s={};if(n instanceof Array){if(null==n[0].className||"Merge"===n[0].className)throw new h("Legacy serialization format not supported yet.");o=n}else r.Af.assert(null!=n.layers,(function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."})),o=n.layers,delete n.layers,s=n;var u=new e(s);if(!(u instanceof t))throw new p("Sequential.fromConfig called on non-Sequential input: "+u);for(var c=0,l=o;c<l.length;c++){var f=jt(l[c],void 0,a);a&&f.setFastWeightInitDuringBuild(!0),u.add(f)}return u},Object.defineProperty(t.prototype,"stopTraining",{get:function(){if(null==this.model)throw new h("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(e){if(null==this.model)throw new h("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t],i={};i.className=r.getClassName(),i.config=r.getConfig(),e.push(i)}return{name:this.name,layers:e}},t.className="Sequential",t}(Rn);function In(e){return new Rn(e)}function Fn(e){return new Dn(e)}function Pn(e,t){return null==t&&(t={}),function(e,t){return u(this,void 0,void 0,(function(){var n;return c(this,(function(i){if(null==t&&(t={}),"string"==typeof e){if(0===(n=r.Fc.getLoadHandlers(e,t.onProgress)).length)n.push(r.Fc.browserHTTPRequest(e,t));else if(n.length>1)throw new h("Found more than one ("+n.length+") load handlers for URL '"+e+"'");e=n[0]}return[2,Mn(e,void 0,t)]}))}))}(e,t)}function zn(e){return vt(e)}function Ln(e,t){_t.registerCallbackConstructor(e,t)}r.we.registerClass(Dn);var Bn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getConfig=function(){return{}},t}(r.we.Serializable),Un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=1),function(e,t){if(void 0===t&&(t=1),1!==t)throw new p("Support for alpha values other than 1 ("+t+") is not implemented yet.");return Object(r.Sb)(e)}(e,t)},t.className="elu",t}(Bn);r.we.registerClass(Un);var Wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.ue)(e)},t.className="selu",t}(Bn);r.we.registerClass(Wn);var Vn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.fe)(e)},t.className="relu",t}(Bn);r.we.registerClass(Vn);var qn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.pf)((function(){return Object(r.od)(6,Object(r.fe)(e))}))},t.className="relu6",t}(Bn);r.we.registerClass(qn);var Hn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return e},t.className="linear",t}(Bn);r.we.registerClass(Hn);var Gn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.Ae)(e)},t.className="sigmoid",t}(Bn);r.we.registerClass(Gn);var $n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return function(e){return Object(r.pf)((function(){var t=Object(r.J)(.5,Object(r.ud)(.2,e));return Object(r.pb)(t,0,1)}))}(e)},t.className="hardSigmoid",t}(Bn);r.we.registerClass($n);var Kn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.Me)(e)},t.className="softplus",t}(Bn);r.we.registerClass(Kn);var Xn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return function(e){return Object(r.pf)((function(){return Object(r.Nb)(e,Object(r.G)(e).add(1))}))}(e)},t.className="softsign",t}(Bn);r.we.registerClass(Xn);var Yn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.ff)(e)},t.className="tanh",t}(Bn);r.we.registerClass(Yn);var Zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),Object(r.Le)(e,t)},t.className="softmax",t}(Bn);r.we.registerClass(Zn);var Jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),Object(r.Wc)(e,t)},t.className="logSoftmax",t}(Bn);function Qn(e){return e.getClassName()}function er(e,t){return void 0===t&&(t={}),_(e,r.we.SerializationMap.getMap().classNameMap,t,"activation")}function tr(e){var t;return null==e?er(t={className:"linear",config:{}}):"string"==typeof e?((t={}).className=e,t.config={},er(t)):e instanceof Bn?e:er(e)}function nr(e){if(null!=e&&"object"!=typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an object, but received: "+e)}r.we.registerClass(Jn);var rr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(r.we.Serializable),ir=function(e){function t(t){var n=e.call(this)||this;return nr(t),n.l1=null==t||null==t.l1?.01:t.l1,n.l2=null==t||null==t.l2?.01:t.l2,n.hasL1=0!==n.l1,n.hasL2=0!==n.l2,n}return a(t,e),t.prototype.apply=function(e){var t=this;return Object(r.pf)((function(){var n=Object(r.Jf)([1]);return t.hasL1&&(n=Object(r.J)(n,Object(r.cf)(Object(r.ud)(t.l1,Object(r.G)(e))))),t.hasL2&&(n=Object(r.J)(n,Object(r.cf)(Object(r.ud)(t.l2,xe(e))))),n.asScalar()}))},t.prototype.getConfig=function(){return{l1:this.l1,l2:this.l2}},t.fromConfig=function(e,t){return new e({l1:t.l1,l2:t.l2})},t.className="L1L2",t}(rr);r.we.registerClass(ir);var ar={l1l2:"L1L2"};function or(e){return E(e)}function sr(e,t){return void 0===t&&(t={}),_(e,r.we.SerializationMap.getMap().classNameMap,t,"regularizer")}function ur(e){return null==e?null:"string"==typeof e?sr({className:e in ar?ar[e]:e,config:{}}):e instanceof rr?e:sr(e)}var cr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.supportsMasking=!0,null!=t&&(n.maxValue=t.maxValue),n}return a(t,e),t.prototype.call=function(e,t){e=tt(e);var n=Object(r.fe)(e);return null!=this.maxValue&&(n=Object(r.pb)(n,0,this.maxValue)),n},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={maxValue:this.maxValue},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ReLU",t}(dt);r.we.registerClass(cr);var lr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_ALPHA=.3,null==t&&(t={}),n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return a(t,e),t.prototype.call=function(e,t){var n=tt(e);return Object(r.Lc)(n,this.alpha)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LeakyReLU",t}(dt);r.we.registerClass(lr);var fr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA_INITIALIZER="zeros",null==t&&(t={}),n.supportsMasking=!0,n.alphaInitializer=$e(t.alphaInitializer||n.DEFAULT_ALPHA_INITIALIZER),n.alphaRegularizer=ur(t.alphaRegularizer),n.alphaConstraint=W(t.alphaConstraint),null==t.sharedAxes)n.sharedAxes=null;else if(Array.isArray(t.sharedAxes))n.sharedAxes=t.sharedAxes;else{if("number"!=typeof t.sharedAxes)throw new h("Expected sharedAxes to be a number or an array of numbers, but got "+t.sharedAxes);n.sharedAxes=[t.sharedAxes]}return n}return a(t,e),t.prototype.build=function(e){var t=(e=nt(e)).slice(1);if(null!=this.sharedAxes)for(var n=0,r=this.sharedAxes;n<r.length;n++)t[(a=r[n])-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var i={};if(null!=this.sharedAxes)for(var a=1;a<e.length;++a)i[a]=e[a];this.inputSpec=[new st({ndim:e.length,axes:i})],this.built=!0},t.prototype.call=function(e,t){return e=tt(e),Object(r.Qd)(e,this.alpha.read())},t.prototype.getConfig=function(){var t={alphaInitializer:Ge(this.alphaInitializer),alphaRegularizer:or(this.alphaRegularizer),alphaConstraint:B(this.alphaConstraint),sharedAxes:this.sharedAxes},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="PReLU",t}(dt);r.we.registerClass(fr);var dr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA=1,null==t&&(t={}),null!=t.alpha&&t.alpha!==n.DEFAULT_ALPHA)throw new p("Non-default alpha value ("+t.alpha+") is not supported by the ELU layer yet.");return n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return a(t,e),t.prototype.call=function(e,t){var n=tt(e);return Object(r.Sb)(n)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ELU",t}(dt);r.we.registerClass(dr);var hr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_THETA=1,null==t&&(t={}),n.theta=null==t.theta?n.DEFAULT_THETA:t.theta,n}return a(t,e),t.prototype.call=function(e,t){var n=tt(e);return n.mul(le(n.greater(this.theta),"float32"))},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={theta:this.theta},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ThresholdedReLU",t}(dt);r.we.registerClass(hr);var pr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_AXIS=1,null==t&&(t={}),n.softmax=(new Zn).apply,n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n}return a(t,e),t.prototype.call=function(e,t){var n=tt(e);return this.softmax(n,this.axis)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Softmax",t}(dt);function mr(e,t,n){if("number"==typeof e)return v(e,t);if(e.length!==t)throw new h("The "+n+" argument must be an integer or tuple of "+t+" integers. Received: "+e.length+" elements.");for(var r=0;r<t;++r){var i=e[r];if(!ie(i))throw new h("The "+n+" argument must be an integer or tuple of "+t+" integers. Received: "+JSON.stringify(e)+" including a non-integer number "+i)}return e}function vr(e,t,n,r,i){return void 0===i&&(i=1),null==e?e:(a="same"===n?e:e-(t+(t-1)*(i-1))+1,Math.floor((a+r-1)/r));var a}function gr(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+ue([n-t,0]);else{if("same"!==r)throw new h("Unsupport padding mode: "+r+".");e*=t}return e}function br(e,t){return Object(r.pf)((function(){return X(t),"channelsFirst"===t?Object(r.uf)(e,[0,2,3,1]):e}))}function yr(e,t){return Object(r.pf)((function(){return X(t),"channelsFirst"===t?Object(r.uf)(e,[0,2,3,4,1]):e}))}function wr(e,t,n,i,a,o,s,u){return void 0===i&&(i=[1,1]),void 0===a&&(a="valid"),void 0===u&&(u=null),Object(r.pf)((function(){if(null==o&&(o="channelsLast"),X(o),3!==e.rank&&4!==e.rank)throw new h("conv2dWithBiasActivation expects input to be of rank 3 or 4, but received "+e.rank+".");if(3!==t.rank&&4!==t.rank)throw new h("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received "+e.rank+".");var c=br(e,o);if("causal"===a)throw new p("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return c=r.lc.conv2d({x:c,filter:t,strides:i,pad:"same"===a?"same":"valid",dilations:s,dataFormat:"NHWC",bias:n,activation:u}),"channelsFirst"===o&&(c=Object(r.uf)(c,[0,3,1,2])),c}))}r.we.registerClass(pr);var xr=function(e){function t(n,r){var i=e.call(this,r)||this;if(i.bias=null,i.DEFAULT_KERNEL_INITIALIZER="glorotNormal",i.DEFAULT_BIAS_INITIALIZER="zeros",t.verifyArgs(r),i.rank=n,N(i.rank,"rank"),1!==i.rank&&2!==i.rank&&3!==i.rank)throw new p("Convolution layer for rank other than 1, 2, or 3 ("+i.rank+") is not implemented yet.");if(i.kernelSize=mr(r.kernelSize,n,"kernelSize"),i.strides=mr(null==r.strides?1:r.strides,n,"strides"),i.padding=null==r.padding?"valid":r.padding,Y(i.padding),i.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,X(i.dataFormat),i.activation=tr(r.activation),i.useBias=null==r.useBias||r.useBias,i.biasInitializer=$e(r.biasInitializer||i.DEFAULT_BIAS_INITIALIZER),i.biasConstraint=W(r.biasConstraint),i.biasRegularizer=ur(r.biasRegularizer),i.activityRegularizer=ur(r.activityRegularizer),i.dilationRate=mr(null==r.dilationRate?1:r.dilationRate,n,"dilationRate"),1===i.rank&&Array.isArray(i.dilationRate)&&1!==i.dilationRate.length)throw new h("dilationRate must be a number or an array of a single number for 1D convolution, but received "+JSON.stringify(i.dilationRate));if(2===i.rank){if("number"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate];else if(2!==i.dilationRate.length)throw new h("dilationRate must be a number or array of two numbers for 2D convolution, but received "+JSON.stringify(i.dilationRate))}else if(3===i.rank)if("number"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate,i.dilationRate];else if(3!==i.dilationRate.length)throw new h("dilationRate must be a number or array of three numbers for 3D convolution, but received "+JSON.stringify(i.dilationRate));return i}return a(t,e),t.verifyArgs=function(e){if(g("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!T(e.kernelSize,"number",1,3))throw new h("BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received "+JSON.stringify(e.kernelSize)+".")},t.prototype.getConfig=function(){var t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Qn(this.activation),useBias:this.useBias,biasInitializer:Ge(this.biasInitializer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),biasConstraint:B(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(dt),Or=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.kernel=null,t.verifyArgs(r),i.filters=r.filters,N(i.filters,"filters"),i.kernelInitializer=$e(r.kernelInitializer||i.DEFAULT_KERNEL_INITIALIZER),i.kernelConstraint=W(r.kernelConstraint),i.kernelRegularizer=ur(r.kernelRegularizer),i}return a(t,e),t.prototype.build=function(e){var t;e=nt(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new h("The channel dimension of the input should be defined. Found "+e[n]);var r=e[n],i=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(t={},t[n]=r,t)}],this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){var t;e=tt(e);var i=null==n.bias?null:n.bias.read(),a=R(n.activation.getClassName());if(null!=a&&2===n.rank)t=wr(e,n.kernel.read(),i,n.strides,n.padding,n.dataFormat,n.dilationRate,a);else{if(1===n.rank)t=function(e,t,n,i,a,o,s){return void 0===i&&(i=1),void 0===a&&(a="valid"),void 0===s&&(s=1),Object(r.pf)((function(){if(null==o&&(o="channelsLast"),X(o),3!==e.shape.length)throw new h("The input of a conv1dWithBias operation should be 3, but is "+e.shape.length+" instead.");if(3!==t.shape.length)throw new h("The kernel for a conv1dWithBias operation should be 3, but is "+t.shape.length+" instead");if(null!=n&&1!==n.shape.length)throw new h("The bias for a conv1dWithBias operation should be 1, but is "+t.shape.length+" instead");if("channelsFirst"===o&&(e=Object(r.uf)(e,[0,2,1])),"causal"===a)throw new p("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var u=Object(r.xb)(e,t,i,"same"===a?"same":"valid","NWC",s);return null!=n&&(u=ke(u,n)),u}))}(e,n.kernel.read(),i,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=wr(e,n.kernel.read(),i,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new p("convolutions greater than 3D are not implemented yet.");t=function(e,t,n,i,a,o,s){return void 0===i&&(i=[1,1,1]),void 0===a&&(a="valid"),Object(r.pf)((function(){if(null==o&&(o="channelsLast"),X(o),4!==e.rank&&5!==e.rank)throw new h("conv3dWithBias expects input to be of rank 4 or 5, but received "+e.rank+".");if(4!==t.rank&&5!==t.rank)throw new h("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+e.rank+".");var u=yr(e,o);if("causal"===a)throw new p("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return u=Object(r.Ab)(u,t,i,"same"===a?"same":"valid","NDHWC",s),null!=n&&(u=ke(u,n)),"channelsFirst"===o&&(u=Object(r.uf)(u,[0,4,1,2,3])),u}))}(e,n.kernel.read(),i,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t}))},t.prototype.computeOutputShape=function(e){e=nt(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var i=vr(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(i)}var a=[e[0]];return"channelsLast"===this.dataFormat?(a=a.concat(t)).push(this.filters):(a.push(this.filters),a=a.concat(t)),a},t.prototype.getConfig=function(){var t={filters:this.filters,kernelInitializer:Ge(this.kernelInitializer),kernelRegularizer:or(this.kernelRegularizer),kernelConstraint:B(this.kernelConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.verifyArgs=function(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new h("Convolution layer expected config.filters to be a 'number' > 0 but got "+JSON.stringify(e.filters))},t}(xr),kr=function(e){function t(n){var r=e.call(this,2,n)||this;return t.verifyArgs(n),r}return a(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&!T(e.kernelSize,"number",1,2))throw new h("Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv2D",t}(Or);r.we.registerClass(kr);var Er=function(e){function t(n){var r=e.call(this,3,n)||this;return t.verifyArgs(n),r}return a(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new h("Conv3D expects config.kernelSize to be number or [number, number, number], but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv3D",t}(Or);r.we.registerClass(Er);var _r=function(e){function t(t){var n=e.call(this,t)||this;if(n.inputSpec=[new st({ndim:4})],"same"!==n.padding&&"valid"!==n.padding)throw new h("Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode "+n.padding);return n}return a(t,e),t.prototype.build=function(e){var t;if(4!==(e=nt(e)).length)throw new h("Input should have rank 4; Received input shape: "+JSON.stringify(e));var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new h("The channel dimension of the inputs should be defined. Found `None`.");var r=e[n],i=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",i,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new st({ndim:4,axes:(t={},t[n]=r,t)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){var t=tt(e);if(4!==t.shape.length)throw new h("Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-"+t.shape.length);var i,a,o=t.shape,s=o[0];"channelsFirst"===n.dataFormat?(i=2,a=3):(i=1,a=2);var u=o[i],c=o[a],l=n.kernelSize[0],f=n.kernelSize[1],d=n.strides[0],p=n.strides[1],m=[s,gr(u,d,l,n.padding),gr(c,p,f,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=Object(r.uf)(t,[0,2,3,1]));var v=Object(r.zb)(t,n.kernel.read(),m,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(v=Object(r.uf)(v,[0,3,1,2])),null!=n.bias&&(v=ke(v,n.bias.read(),n.dataFormat)),null!=n.activation&&(v=n.activation.apply(v)),v}))},t.prototype.computeOutputShape=function(e){var t,n,r,i=(e=nt(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var a=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],u=this.strides[1];return i[t]=this.filters,i[n]=gr(i[n],s,a,this.padding),i[r]=gr(i[r],u,o,this.padding),i},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.dilationRate,t},t.className="Conv2DTranspose",t}(kr);r.we.registerClass(_r);var Sr=function(e){function t(t){return e.call(this,2,t)||this}return a(t,e),t.className="SeparableConv2D",t}(function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",r.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",r.depthwiseKernel=null,r.pointwiseKernel=null,null==n.filters)throw new h("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new h("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=n.padding&&"same"!==n.padding&&"valid"!==n.padding)throw new h("SeparableConv"+r.rank+"D supports only padding modes: 'same' and 'valid', but received "+JSON.stringify(n.padding));return r.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,r.depthwiseInitializer=$e(n.depthwiseInitializer||r.DEFAULT_DEPTHWISE_INITIALIZER),r.depthwiseRegularizer=ur(n.depthwiseRegularizer),r.depthwiseConstraint=W(n.depthwiseConstraint),r.pointwiseInitializer=$e(n.depthwiseInitializer||r.DEFAULT_POINTWISE_INITIALIZER),r.pointwiseRegularizer=ur(n.pointwiseRegularizer),r.pointwiseConstraint=W(n.pointwiseConstraint),r}return a(t,e),t.prototype.build=function(e){var t;if((e=nt(e)).length<this.rank+2)throw new h("Inputs to SeparableConv"+this.rank+"D should have rank "+(this.rank+2)+", but received input shape: "+JSON.stringify(e));var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n]||e[n]<0)throw new h("The channel dimension of the inputs should be defined, but found "+JSON.stringify(e[n]));for(var r=e[n],i=this.kernelSize.concat([r,this.depthMultiplier]),a=[],o=0;o<this.rank;++o)a.push(1);a.push(r*this.depthMultiplier,this.filters),this.depthwiseKernel=this.addWeight("depthwise_kernel",i,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new st({ndim:this.rank+2,axes:(t={},t[n]=r,t)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){var t;if(e=tt(e),1===n.rank)throw new p("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=Object(r.uf)(e,[0,2,3,1])),t=Object(r.ve)(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=ke(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=Object(r.uf)(t,[0,3,1,2])),t}))},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=Ge(this.depthwiseInitializer),t.pointwiseInitializer=Ge(this.pointwiseInitializer),t.depthwiseRegularizer=or(this.depthwiseRegularizer),t.pointwiseRegularizer=or(this.pointwiseRegularizer),t.depthwiseConstraint=B(this.depthwiseConstraint),t.pointwiseConstraint=B(this.pointwiseConstraint),t},t.className="SeparableConv",t}(Or));r.we.registerClass(Sr);var jr=function(e){function t(n){var r=e.call(this,1,n)||this;return t.verifyArgs(n),r.inputSpec=[{ndim:3}],r}return a(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.dataFormat,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&!T(e.kernelSize,"number",1,1))throw new h("Conv1D expects config.kernelSize to be number or number[] with length 1, but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv1D",t}(Or);r.we.registerClass(jr);var Cr=function(e){function t(t){var n=e.call(this,t)||this;return"number"==typeof t.cropping?n.cropping=[[t.cropping,t.cropping],[t.cropping,t.cropping]]:"number"==typeof t.cropping[0]?n.cropping=[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:n.cropping=t.cropping,n.dataFormat=void 0===t.dataFormat?"channelsLast":t.dataFormat,n.inputSpec=[{ndim:4}],n}return a(t,e),t.prototype.computeOutputShape=function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){return e=tt(e),"channelsLast"===n.dataFormat?pe(pe(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2),n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3):pe(pe(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3),n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)}))},t.prototype.getConfig=function(){var t={cropping:this.cropping,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Cropping2D",t}(dt);r.we.registerClass(Cr);var Ar=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_SIZE=[2,2],n.inputSpec=[{ndim:4}],n.size=null==t.size?n.DEFAULT_SIZE:t.size,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,n}return a(t,e),t.prototype.computeOutputShape=function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}return t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2],[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){var t=tt(e),i=t.shape;if("channelsFirst"===n.dataFormat){t=Object(r.uf)(t,[0,2,3,1]);var a=n.size[0]*i[2],o=n.size[1]*i[3],s=t.resizeNearestNeighbor([a,o]);return Object(r.uf)(s,[0,3,1,2])}return a=n.size[0]*i[1],o=n.size[1]*i[2],t.resizeNearestNeighbor([a,o])}))},t.prototype.getConfig=function(){var t={size:this.size,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="UpSampling2D",t}(dt);r.we.registerClass(Ar);var Tr=function(e){function t(t){var n=e.call(this,2,t)||this;return n.depthwiseKernel=null,n.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,n.depthwiseInitializer=$e(t.depthwiseInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.depthwiseConstraint=W(t.depthwiseConstraint),n.depthwiseRegularizer=ur(t.depthwiseRegularizer),n}return a(t,e),t.prototype.build=function(e){if((e=nt(e)).length<4)throw new h("Inputs to DepthwiseConv2D should have rank 4. Received input shape: "+JSON.stringify(e)+".");var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new h("The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not ("+e[t]+").");var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){var t=function(e,t,n,i,a,o){return void 0===n&&(n=[1,1]),void 0===i&&(i="valid"),Object(r.pf)((function(){null==a&&(a="channelsLast"),X(a);var s=br(e,a);if(4!==e.rank)throw new h("Input for depthwiseConv2d is required to be 4-D, but is instead "+e.rank+"-D");if(4!==t.rank)throw new h("depthwiseKernel is required to be 4-D, but is instead "+t.rank+"-D");return s=Object(r.Ib)(s,t,n,"same"===i?"same":"valid","NHWC",o),"channelsFirst"===a&&(s=Object(r.uf)(s,[0,3,1,2])),s}))}(e=tt(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=ke(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t}))},t.prototype.computeOutputShape=function(e){e=nt(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=vr(t,this.kernelSize[0],this.padding,this.strides[0]),a=vr(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,i,a]:[e[0],i,a,r]},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return t.depthMultiplier=this.depthMultiplier,t.depthwiseInitializer=Ge(this.depthwiseInitializer),t.depthwiseRegularizer=or(this.depthwiseRegularizer),t.depthwiseConstraint=B(this.depthwiseRegularizer),t},t.className="DepthwiseConv2D",t}(xr);r.we.registerClass(Tr);var Nr=function(e){function t(t){var n=e.call(this,t)||this;return n.rate=Math.max(Math.min(t.rate,1),0),n.noiseShape=t.noiseShape,n.seed=t.seed,n.supportsMasking=!0,n}return a(t,e),t.prototype.getNoiseShape=function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){n.invokeCallHook(e,t);var r=tt(e);if(0<n.rate&&n.rate<1){var i=null!=t.training&&t.training,a=n.getNoiseShape(r);return _e((function(){return Ee(r,n.rate,a,n.seed)}),(function(){return r}),i)}return e}))},t.prototype.getConfig=function(){var t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.prototype.dispose=function(){return e.prototype.dispose.call(this)},t.className="Dropout",t}(dt);r.we.registerClass(Nr);var Rr=function(e){function t(t){var n=e.call(this,t)||this;return n.inputSpec=[{ndim:3}],n}return a(t,e),t.prototype.getNoiseShape=function(e){var t=e.shape;return[t[0],1,t[2]]},t.className="SpatialDropout1D",t}(Nr);r.we.registerClass(Rr);var Mr=function(e){function t(t){var n=e.call(this,t)||this;if(n.activation=null,n.useBias=!0,n.kernel=null,n.bias=null,n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_BIAS_INITIALIZER="zeros",null==t.batchInputShape&&null==t.inputShape&&null!=t.inputDim){var r=null;null!=t.batchSize&&(r=t.batchSize),n.batchInputShape=[r,t.inputDim]}return n.units=t.units,N(n.units,"units"),n.activation=tr(t.activation),null!=t.useBias&&(n.useBias=t.useBias),n.kernelInitializer=$e(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.biasInitializer=$e(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelConstraint=W(t.kernelConstraint),n.biasConstraint=W(t.biasConstraint),n.kernelRegularizer=ur(t.kernelRegularizer),n.biasRegularizer=ur(t.biasRegularizer),n.activityRegularizer=ur(t.activityRegularizer),n.supportsMasking=!0,n.inputSpec=[{minNDim:2}],n}return a(t,e),t.prototype.build=function(e){var t,n=(e=nt(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(t={},t[-1]=n,t)}],this.built=!0},t.prototype.computeOutputShape=function(e){var t=(e=nt(e)).slice();return t[t.length-1]=this.units,t},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){n.invokeCallHook(e,t);var r,i=tt(e),a=R(n.activation.getClassName());return null!=a?r=ye(i,n.kernel.read(),a,n.bias?n.bias.read():null):(r=ye(i,n.kernel.read()),null!=n.bias&&(r=ke(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r}))},t.prototype.getConfig=function(){var t={units:this.units,activation:Qn(this.activation),useBias:this.useBias,kernelInitializer:Ge(this.kernelInitializer),biasInitializer:Ge(this.biasInitializer),kernelRegularizer:or(this.kernelRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:B(this.kernelConstraint),biasConstraint:B(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Dense",t}(dt);r.we.registerClass(Mr);var Dr=function(e){function t(t){var n=this;return t=t||{},(n=e.call(this,t)||this).inputSpec=[{minNDim:3}],n.dataFormat=t.dataFormat,n}return a(t,e),t.prototype.computeOutputShape=function(e){for(var t=0,n=(e=nt(e)).slice(1);t<n.length;t++)if(null==n[t])throw new h('The shape of the input to "Flatten" is not fully defined (got '+e.slice(1)+'). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.');return[e[0],ae(e,1)]},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){n.invokeCallHook(e,t);var r=tt(e);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var i=[0],a=2;a<r.rank;++a)i.push(a);i.push(1),r=r.transpose(i)}return function(e){if(e.rank<=1)throw new h("batchFlatten requires a minimum rank of 2. Got rank: "+e.rank+".");var t=[e.shape[0],ae(e.shape,1)];return e.reshape(t)}(r)}))},t.prototype.getConfig=function(){var t={};null!=this.dataFormat&&(t.dataFormat=this.dataFormat);var n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Flatten",t}(dt);r.we.registerClass(Dr);var Ir=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.activation=tr(t.activation),n}return a(t,e),t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){n.invokeCallHook(e,t);var r=tt(e);return n.activation.apply(r)}))},t.prototype.getConfig=function(){var t={activation:Qn(this.activation)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Activation",t}(dt);r.we.registerClass(Ir);var Fr=function(e){function t(t){var n=e.call(this,t)||this;return n.n=t.n,n.inputSpec=[{ndim:2}],n}return a(t,e),t.prototype.computeOutputShape=function(e){return[e[0],this.n,e[1]]},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){return function(e,t){return Object(r.pf)((function(){if(2!==e.shape.length)throw new h("repeat() expects a rank-2 tensor, but received a rank-"+e.shape.length+" tensor.");return ge(fe(e,1),[1,t,1])}))}(e=tt(e),n.n)}))},t.prototype.getConfig=function(){var t={n:this.n},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="RepeatVector",t}(dt);r.we.registerClass(Fr);var Pr=function(e){function t(t){var n=e.call(this,t)||this;n.targetShape=t.targetShape;for(var r=0;r<n.targetShape.length;++r)n.isUnknown(n.targetShape[r])&&(n.targetShape[r]=null);return n}return a(t,e),t.prototype.isUnknown=function(e){return e<0||null==e},t.prototype.fixUnknownDimension=function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),i=1,a=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==a)throw new h("Can only specifiy one unknown dimension.");a=o}else i*=s}var u=ae(e);if(null!==a){if(0===i||u%i!=0)throw new h(n);r[a]=u/i}else if(u!==i)throw new h(n);return r},t.prototype.computeOutputShape=function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){n.invokeCallHook(e,t);var r=tt(e),i=r.shape,a=i.slice(0,1).concat(n.fixUnknownDimension(i.slice(1),n.targetShape));return r.reshape(a)}))},t.prototype.getConfig=function(){var t={targetShape:this.targetShape},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Reshape",t}(dt);r.we.registerClass(Pr);var zr=function(e){function t(t){var n=e.call(this,t)||this;if(null==t.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(t.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+t.dims+" instead.");var i=ce(1,t.dims.length+1);if(!r.Af.arraysEqual(t.dims.slice().sort(),i))throw new Error("Invalid permutation `dims`: "+JSON.stringify(t.dims)+" `dims` must contain consecutive integers starting from 1.");return n.dims=t.dims,n.dimsIncludingBatch=[0].concat(n.dims),n.inputSpec=[new st({ndim:n.dims.length+1})],n}return a(t,e),t.prototype.computeOutputShape=function(e){var t=(e=nt(e)).slice();return this.dims.forEach((function(n,r){t[r+1]=e[n]})),t},t.prototype.call=function(e,t){return Object(r.uf)(tt(e),this.dimsIncludingBatch)},t.prototype.getConfig=function(){var t={dims:this.dims},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Permute",t}(dt);r.we.registerClass(zr);var Lr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.supportsMasking=!0,n.maskValue=null!=t?null==t.maskValue?0:t.maskValue:0,n}return a(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={maskValue:this.maskValue};return Object.assign(n,t),n},t.prototype.computeMask=function(e,t){var n=tt(e);return Object(r.N)(Object(r.Bd)(n,this.maskValue),-1)},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){n.invokeCallHook(e,t);var i=tt(e),a=Object(r.N)(Object(r.Bd)(i,n.maskValue),-1,!0);return i.mul(a.asType(i.dtype))}))},t.className="Masking",t}(dt);r.we.registerClass(Lr);var Br=function(e){function t(t){var n=e.call(this,t)||this;if(n.embeddings=null,n.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==t.batchInputShape&&null==t.inputShape){var r=null;null!=t.batchSize&&(r=t.batchSize),null==t.inputLength?n.batchInputShape=[r,null]:n.batchInputShape=[r].concat(w(t.inputLength))}return n.inputDim=t.inputDim,N(n.inputDim,"inputDim"),n.outputDim=t.outputDim,N(n.outputDim,"outputDim"),n.embeddingsInitializer=$e(t.embeddingsInitializer||n.DEFAULT_EMBEDDINGS_INITIALIZER),n.embeddingsRegularizer=ur(t.embeddingsRegularizer),n.activityRegularizer=ur(t.activityRegularizer),n.embeddingsConstraint=W(t.embeddingsConstraint),n.maskZero=t.maskZero,n.supportsMasking=t.maskZero,n.inputLength=t.inputLength,n}return a(t,e),t.prototype.build=function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0},t.prototype.warnOnIncompatibleInputShape=function(e){},t.prototype.computeMask=function(e,t){var n=this;return Object(r.pf)((function(){return n.maskZero?(e=tt(e),Object(r.Bd)(e,Object(r.Kf)(e))):null}))},t.prototype.computeOutputShape=function(e){if(e=nt(e),null==this.inputLength)return e.concat([this.outputDim]);var t=w(this.inputLength);if(t.length!==e.length-1)throw new h('"inputLength" is '+this.inputLength+", but received input shape has shape "+e);for(var n=0,r=0;r<t.length;++r){var i=t[r],a=e[r+1];if(null!=i&&null!=a&&i!==a)throw new h('"inputLength" is '+this.inputLength+", but received input shape has shape "+e);null==i&&(t[n]=a),n++}return[e[0]].concat(t,[this.outputDim])},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){n.invokeCallHook(e,t);var r=tt(e);return"int32"!==r.dtype&&(r=le(r,"int32")),we(n.embeddings.read(),r.as1D()).reshape(nt(n.computeOutputShape(r.shape)))}))},t.prototype.getConfig=function(){var t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Ge(this.embeddingsInitializer),embeddingsRegularizer:or(this.embeddingsRegularizer),activityRegularizer:or(this.activityRegularizer),embeddingsConstraint:B(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Embedding",t}(dt);r.we.registerClass(Br);var Ur=function(e){function t(t){var n=e.call(this,t||{})||this;return n.supportsMasking=!0,n}return a(t,e),t.prototype.mergeFunction=function(e){throw new p},t.prototype.computeElementwiseOpOutputShape=function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var i=e[e.length-t.length+r],a=t[r];if(null==i||null==a||i<0||a<0)n.push(null);else if(1===i)n.push(a);else if(1===a)n.push(i);else{if(i!==a)throw new h("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(i)}}return n},t.prototype.build=function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[nt(e)]),(e=e).length<2)throw new h("A merge layer should be called on an Array of at least 2 inputs. Got "+e.length+" input(s).");for(var t=[],n=0,r=e;n<r.length;n++)null!=(o=r[n])&&null!==o[0]&&t.push(o[0]);if((t=j(t)).length>1)throw new h("Can not merge tensors with different batch sizes. Got tensors with shapes: "+JSON.stringify(e)+".");for(var i=null==e[0]?null:e[0].slice(1),a=1;a<e.length;++a){var o=null==e[a]?null:e[a].slice(1);i=this.computeElementwiseOpOutputShape(i,o)}var s=e.map((function(e){return e.length}));-1===e.indexOf(null)&&1===j(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){if(e=e,n.reshapeRequired){var t=[],i=e.map((function(e){return e.rank}));if(-1===i.indexOf(null)){for(var a=ue(i),o=0,s=e;o<s.length;o++){for(var u=(h=s[o]).rank,c=0;c<a-u;++c)h=fe(h,1);t.push(h)}return n.mergeFunction(t)}for(var l=!1,f=0,d=e;f<d.length;f++){var h;if(null==(u=(h=d[f]).rank)){var p=h.shape,m=p[0],v=p.slice(1).concat([m]),g=h.reshape([m].concat(ae(p.slice(1))));g=(g=Object(r.uf)(g,[1,0])).reshape(v),t.push(g),l=!0}else if(u>1){var b=ce(1,u).concat([0]);t.push(Object(r.uf)(h,b)),l=!0}else t.push(h)}var y=n.mergeFunction(t),w=y.rank;if(l)if(null==w){var x=y.shape;v=[m=x[x.length-1]].concat(x.slice(0,x.length-1)),y=Object(r.uf)(y.reshape([-1,m]),[1,0]).reshape(v)}else w>1&&(b=[w-1].concat(ce(0,w-1)),y=Object(r.uf)(y,b));return y}return n.mergeFunction(e)}))},t.prototype.computeOutputShape=function(e){var t;t=null==(e=e)[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}for(var i=[],a=0,o=e;a<o.length;a++)null!=(r=o[a])&&null!==r[0]&&i.push(r[0]);return 1===(i=j(i)).length?i.concat(t):[null].concat(t)},t.prototype.computeMask=function(e,t){return Object(r.pf)((function(){if(null==t)return null;if(!Array.isArray(t))throw new h("`mask` should be an Array");if(!Array.isArray(e))throw new h("`inputs` should be an Array");if(t.length!==e.length)throw new h("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths ("+e.length+" vs "+t.length+")");if(t.every((function(e){return null==e})))return null;for(var n=(t=t.map((function(e){return null==e?e:Object(r.bc)(e,0)})))[0],i=1;i<t.length-1;++i)n=Object(r.Yc)(n,t[i]);return n}))},t}(dt),Wr=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.mergeFunction=function(e){return Object(r.pf)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Object(r.J)(t,e[n]);return t}))},t.className="Add",t}(Ur);r.we.registerClass(Wr);var Vr=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.mergeFunction=function(e){return Object(r.pf)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Object(r.ud)(t,e[n]);return t}))},t.className="Multiply",t}(Ur);r.we.registerClass(Vr);var qr=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.mergeFunction=function(e){return Object(r.pf)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Object(r.J)(t,e[n]);return Object(r.ud)(1/e.length,t)}))},t.className="Average",t}(Ur);r.we.registerClass(qr);var Hr=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.mergeFunction=function(e){return Object(r.pf)((function(){for(var t=e[0],n=1;n<e.length;++n)t=Object(r.jd)(t,e[n]);return t}))},t.className="Maximum",t}(Ur);r.we.registerClass(Hr);var Gr=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.mergeFunction=function(e){return Object(r.pf)((function(){for(var t=e[0],n=1;n<e.length;++n)t=Object(r.od)(t,e[n]);return t}))},t.className="Minimum",t}(Ur);r.we.registerClass(Gr);var $r=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_AXIS=-1,null==t&&(t={}),n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n.supportsMasking=!0,n.reshapeRequired=!1,n}return a(t,e),t.prototype.build=function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new h("A `Concatenate` layer should be called on a list of at least 2 inputs");for(var t=!0,n=0,i=e=e;n<i.length;n++)if(null!=(f=i[n])){t=!1;break}if(!t){for(var a=[],o=0;o<e.length;++o){var s=e[o].slice();s.splice(this.axis,1);for(var u=!1,c=0,l=a;c<l.length;c++){var f=l[c];if(r.Af.arraysEqual(f,s)){u=!0;break}}u||a.push(s)}if(a.length>1)throw new h("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}},t.prototype.mergeFunction=function(e){var t=this;return Object(r.pf)((function(){return me(e,t.axis)}))},t.prototype.computeOutputShape=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new h("A `Concatenate` layer should be called on a list of inputs.");for(var t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis,i=0,a=t.slice(1);i<a.length;i++){var o=a[i];if(null==n[r]||null==o[r]){n[r]=null;break}n[r]+=o[r]}return n},t.prototype.computeMask=function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new h("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new h("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new h("Mismatch in the length of mask ("+t.length+") and the legnth of inputs ("+e.length+")");return Object(r.pf)((function(){var i=!0;if(t.forEach((function(e){null==e||(i=!1)})),i)return null;for(var a=[],o=0;o<e.length;++o)null==t[o]?a.push(Object(r.Fd)(e[o]).asType("bool")):t[o].rank<e[o].rank?a.push(Object(r.bc)(t[o],-1)):a.push(t[o]);var s=Object(r.sb)(a,n.axis);return Object(r.M)(s,-1,!1)}))},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Concatenate",t}(Ur);function Kr(e,t){for(;e<0;)e+=t;return e}r.we.registerClass($r);var Xr=function(e){function t(t){var n=e.call(this,t)||this;return n.axes=t.axes,n.normalize=null!=t.normalize&&t.normalize,n.supportsMasking=!0,n.reshapeRequired=!1,n}return a(t,e),t.prototype.build=function(e){r.Af.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new p("Dot layer does not support tensors of 4D or higher rank yet.");var i=this.interpretAxes(t,n);if(t[i[0]]!==n[i[1]])throw new h("Dimension incompatibility: "+t[i[0]]+" !== "+n[i[1]])},t.prototype.mergeFunction=function(e){if(2!==e.length)throw new h("A `Dot` layer must be called on exactly 2 inputs, but received "+e.length+" input(s).");var t,n=e[0],i=e[1];return t=Array.isArray(this.axes)?this.axes.map((function(t,n){return Kr(t,e[n].shape.length)})):[Kr(this.axes,n.shape.length),Kr(this.axes,i.shape.length)],this.normalize&&(n=Ct(n,t[0]),i=Ct(i,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new p("batchDot is not implemented for tensors of 4D or higher rank yet");if(r.Af.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of x to be >= 2, but got "+e.shape.length})),r.Af.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of y to be >= 2, but got "+t.shape.length})),"number"==typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new p("batchDot is not implemented for complex64-type Tensors yet.");var i=e.shape.length,a=t.shape.length;null==n&&(n=[i-1,a-2]);var o=n;return Object(r.pf)((function(){var n,r;if(i>a){n=i-a;for(var s=[],u=0;u<n;++u)s.push(1);t=t.reshape(t.shape.concat(s))}else if(a>i){for(n=a-i,s=[],u=0;u<n;++u)s.push(1);e=e.reshape(e.shape.concat(s))}else n=0;if(2===e.shape.length&&2===t.shape.length)r=o[0]===o[1]?e.mulStrict(t).sum(o[0]):e.transpose([1,0]).mulStrict(t).sum(o[1]);else{var c=o[0]!==e.shape.length-1,l=o[1]===t.shape.length-1;r=e.matMul(t,c,l)}if(n>0){var f,d=[];for(u=f=i>a?i+a-3:i-1;u<f+n;++u)d.push(u);r=r.squeeze(d)}return 1===r.shape.length&&(r=r.expandDims(1)),r}))}(n,i,t)},t.prototype.interpretAxes=function(e,t){return Array.isArray(this.axes)?this.axes:[Kr(this.axes,e.length),Kr(this.axes,t.length)]},t.prototype.computeOutputShape=function(e){r.Af.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new p("Dot layer does not support tensors of 4D or higher rank yet.");var i=this.interpretAxes(t,n);t.splice(i[0],1),n.splice(i[1],1),n.splice(0,1);var a=t.concat(n);return 1===a.length&&a.push(1),a},t.prototype.computeMask=function(e,t){return null},t.prototype.getConfig=function(){var t={axes:this.axes,normalize:this.normalize},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Dot",t}(Ur);r.we.registerClass(Xr);var Yr=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.stddev=t.stddev,n}return a(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={stddev:this.stddev};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){n.invokeCallHook(e,t);var r=tt(e);return _e((function(){return be(r.shape,0,n.stddev).add(r)}),(function(){return r}),t.training||!1)}))},t.className="GaussianNoise",t}(dt);r.we.registerClass(Yr);var Zr=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.rate=t.rate,n}return a(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){n.invokeCallHook(e,t);var r=tt(e);return n.rate>0&&n.rate<1?_e((function(){var e=Math.sqrt(n.rate/(1-n.rate));return r.mul(be(r.shape,1,e))}),(function(){return r}),t.training||!1):r}))},t.className="GaussianDropout",t}(dt);r.we.registerClass(Zr);var Jr=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.rate=t.rate,n.noiseShape=t.noiseShape,n}return a(t,e),t.prototype._getNoiseShape=function(e){return this.noiseShape||tt(e).shape},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){if(n.rate<1&&n.rate>0){var i=n._getNoiseShape(e);return _e((function(){var t=tt(e),a=-1.7580993408473766,o=Object(r.wc)(Object(r.Xd)(i),n.rate);o=le(o,"float32");var s=Math.pow((1-n.rate)*(1+n.rate*Math.pow(a,2)),-.5),u=-s*a*n.rate;return t.mul(o).add(o.add(-1).mul(a)).mul(s).add(u)}),(function(){return tt(e)}),t.training||!1)}return e}))},t.className="AlphaDropout",t}(dt);function Qr(e,t,n,i,a,o){var s;if(void 0===o&&(o=.001),2===e.rank)s=Object(r.bb)(e,t,n,i,a,o);else if(3===e.rank)s=Object(r.cb)(e,t,n,i,a,o);else{if(4!==e.rank)throw new p("batchNormalization is not implemented for array of rank "+e.rank+" yet");s=Object(r.db)(e,t,n,i,a,o)}return s}function ei(e,t,n,i,a){return void 0===a&&(a=.001),r.Af.arraysEqual(i.slice().sort(),ce(0,e.rank-1))?function(e,t,n,i,a){return void 0===a&&(a=.001),Object(r.pf)((function(){var o=Object(r.sd)(e,i),s=o.mean,u=o.variance;return[Qr(e,s,u,n,t,a),s,u]}))}(e,t,n,i,a):function(e,t,n,i,a){return void 0===a&&(a=.001),Object(r.pf)((function(){for(var o=Object(r.sd)(e,i),s=o.mean,u=o.variance,c=[],l=0,f=ce(0,e.rank);l<f.length;l++){var d=f[l];-1!==i.indexOf(d)?c.push(1):c.push(e.shape[d])}var h=s.reshape(c),p=u.reshape(c),m=null==t?null:t.reshape(c),v=null==n?null:n.reshape(c);return[Qr(e,h,p,v,m,a),s,u]}))}(e,t,n,i,a)}r.we.registerClass(Jr);var ti=function(e){function t(t){var n=this;return null==t&&(t={}),(n=e.call(this,t)||this).supportsMasking=!0,n.axis=null==t.axis?-1:t.axis,n.momentum=null==t.momentum?.99:t.momentum,n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=$e(t.betaInitializer||"zeros"),n.gammaInitializer=$e(t.gammaInitializer||"ones"),n.movingMeanInitializer=$e(t.movingMeanInitializer||"zeros"),n.movingVarianceInitializer=$e(t.movingVarianceInitializer||"ones"),n.betaConstraint=W(t.betaConstraint),n.gammaConstraint=W(t.gammaConstraint),n.betaRegularizer=ur(t.betaRegularizer),n.gammaRegularizer=ur(t.gammaRegularizer),n}return a(t,e),t.prototype.build=function(e){var t;e=nt(e);var n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(null==r)throw new h("Axis "+n+" of input tensor should have a defined dimension but the layer received an input with shape "+JSON.stringify(e)+".");this.inputSpec=[new st({ndim:e.length,axes:(t={},t[n]=r,t)})];var i=[r];this.scale&&(this.gamma=this.addWeight("gamma",i,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",i,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",i,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",i,null,this.movingVarianceInitializer,null,!1),this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){var i=null!=t.training&&t.training,a=tt(e),o=a.shape,s=o.length,u=ce(0,s),c=n.axis>=0?n.axis:n.axis+s;u.splice(c,1);var l=v(1,s);l[c]=o[c];var f=u.slice();f.sort();var d=!r.Af.arraysEqual(f,ce(0,s).slice(0,s-1));if(!i)return function(){if(d){var e=n.movingMean.read().reshape(l),t=n.movingVariance.read().reshape(l),r=n.center?n.beta.read().reshape(l):null,i=n.scale?n.gamma.read().reshape(l):null;return Qr(a,e,t,r,i,n.epsilon)}return Qr(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var h=ei(a,n.gamma.read(),n.beta.read(),u,n.epsilon),p=h[0],m=h[1],g=h[2],b=function(e,t,n){Object(r.pf)((function(){var r=1-n,i=e.read(),a=i.sub(t).mul(r);e.write(i.sub(a))}))};return b(n.movingMean,m,n.momentum),b(n.movingVariance,g,n.momentum),p}))},t.prototype.getConfig=function(){var t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Ge(this.betaInitializer),gammaInitializer:Ge(this.gammaInitializer),movingMeanInitializer:Ge(this.movingMeanInitializer),movingVarianceInitializer:Ge(this.movingVarianceInitializer),betaRegularizer:or(this.betaRegularizer),gammaRegularizer:or(this.gammaRegularizer),betaConstraint:B(this.betaConstraint),gammaConstraint:B(this.gammaConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="BatchNormalization",t}(dt);r.we.registerClass(ti);var ni=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).axis=null==t.axis?-1:t.axis,"number"==typeof n.axis){if(!Number.isInteger(n.axis))throw new Error("Expected axis to be an integer, but received "+n.axis)}else{if(!Array.isArray(n.axis))throw new Error("Expected axis to be an integer or an array of integers, but received "+JSON.stringify(n.axis));for(var r=0,i=n.axis;r<i.length;r++){var a=i[r];if(!Number.isInteger(a))throw new Error("Expected axis to be an array of integers, but received "+JSON.stringify(n.axis))}}return n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=$e(t.betaInitializer||"zeros"),n.gammaInitializer=$e(t.gammaInitializer||"ones"),n.betaRegularizer=ur(t.betaRegularizer),n.gammaRegularizer=ur(t.gammaRegularizer),n.supportsMasking=!0,n}return a(t,e),t.prototype.build=function(e){var t=(e=nt(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);for(var r=0,i=this.axis;r<i.length;r++){var a=i[r];if(a<0||a>=t)throw new Error("Invalid axis: "+a)}if(this.axis.length!==j(this.axis).length)throw new Error("Found duplicate axes in: "+this.axis);var o=this.axis.map((function(t){return e[t]}));this.scale?this.gamma=this.addWeight("gamma",o,"float32",this.gammaInitializer,this.gammaRegularizer,!0):this.gamma=null,this.center?this.beta=this.addWeight("beta",o,"float32",this.betaInitializer,this.betaRegularizer,!0):this.beta=null,this.built=!0},t.prototype.call=function(e,t){var n=this,i=tt(e),a=i.shape,o=a.length;return Object(r.pf)((function(){for(var e=Object(r.sd)(i,n.axis,!0),t=e.mean,s=e.variance,u=v(1,o),c=0,l=n.axis;c<l.length;c++){var f=l[c];u[f]=a[f]}for(var d=function(e){return null!=e&&e.shape.length!==o&&n.axis!==[o-1]?e.reshape(u):e},h=d(n.gamma.read()),p=d(n.beta.read()),m=[],g=[],b=0;b<o;++b)-1!==n.axis.indexOf(b)?(m.push(a[b]),g.push(1)):(m.push(1),g.push(a[b]));return t=t.tile(m),s=s.tile(m),h=h.tile(g),p=p.tile(g),Qr(i,t,s,p,h,n.epsilon)}))},t.prototype.getConfig=function(){var t={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Ge(this.betaInitializer),gammaInitializer:Ge(this.gammaInitializer),betaRegularizer:or(this.betaRegularizer),gammaRegularizer:or(this.gammaRegularizer)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LayerNormalization",t}(dt);r.we.registerClass(ni);var ri=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,null==t.padding)n.padding=[[1,1],[1,1]];else if("number"==typeof t.padding)n.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,2!==t.padding.length)throw new h("ZeroPadding2D expects padding to be a length-2 array, but received a length-"+t.padding.length+" array.");var r=void 0,i=void 0;if("number"==typeof t.padding[0])r=[t.padding[0],t.padding[0]],i=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,2!==t.padding[0].length)throw new h("ZeroPadding2D expects height padding to be a length-2 array, but received a length-"+t.padding[0].length+" array.");if(r=t.padding[0],2!==t.padding[1].length)throw new h("ZeroPadding2D expects width padding to be a length-2 array, but received a length-"+t.padding[1].length+" array.");i=t.padding[1]}n.padding=[r,i]}return n.inputSpec=[new st({ndim:4})],n}return a(t,e),t.prototype.computeOutputShape=function(e){var t,n;return e=nt(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){return function(e,t,n){return Object(r.pf)((function(){if(4!==e.rank)throw new h("temporalPadding expects input tensor to be 4-D, but received a "+e.rank+"-D tensor.");if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new h("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new h("Unknown data format: "+n+". Supported data formats are 'channelsLast' and 'channelsFirst.");var i;return i="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],Object(r.Id)(e,i)}))}(tt(e),n.padding,n.dataFormat)}))},t.prototype.getConfig=function(){var t={padding:this.padding,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ZeroPadding2D",t}(dt);function ii(e,t,n,i,a,o){return Object(r.pf)((function(){var s;X(a),Z(o),Y(i),null==n&&(n=[1,1]),null==i&&(i="valid"),null==a&&(a="channelsLast"),null==o&&(o="max"),e=br(e,a);var u="same"===i?"same":"valid";return s="max"===o?Object(r.gd)(e,t,n,u):Object(r.V)(e,t,n,u),"channelsFirst"===a&&(s=Object(r.uf)(s,[0,3,1,2])),s}))}function ai(e,t,n,i,a,o){return Object(r.pf)((function(){var s;X(a),Z(o),Y(i),null==n&&(n=[1,1,1]),null==i&&(i="valid"),null==a&&(a="channelsLast"),null==o&&(o="max"),e=yr(e,a);var u="same"===i?"same":"valid";return s="max"===o?Object(r.hd)(e,t,n,u):Object(r.W)(e,t,n,u),"channelsFirst"===a&&(s=Object(r.uf)(s,[0,4,1,2,3])),s}))}r.we.registerClass(ri);var oi=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=2),n=e.call(this,t)||this,"number"==typeof t.poolSize)n.poolSize=[t.poolSize];else{if(!Array.isArray(t.poolSize)||1!==t.poolSize.length||"number"!=typeof t.poolSize[0])throw new h("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(t.poolSize));n.poolSize=t.poolSize}if(N(n.poolSize,"poolSize"),null==t.strides)n.strides=n.poolSize;else if("number"==typeof t.strides)n.strides=[t.strides];else{if(!Array.isArray(t.strides)||1!==t.strides.length||"number"!=typeof t.strides[0])throw new h("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(t.strides));n.strides=t.strides}return N(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,Y(n.padding),n.inputSpec=[new st({ndim:3})],n}return a(t,e),t.prototype.computeOutputShape=function(e){var t=vr((e=nt(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){n.invokeCallHook(e,t),e=fe(tt(e),2);var i=n.poolingFunction(tt(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return Object(r.Ve)(i,[2])}))},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(dt),si=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return X(i),Y(r),ii(e,t,n,r,i,"max")},t.className="MaxPooling1D",t}(oi);r.we.registerClass(si);var ui=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return X(i),Y(r),ii(e,t,n,r,i,"avg")},t.className="AveragePooling1D",t}(oi);r.we.registerClass(ui);var ci=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=[2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],null==t.strides)n.strides=n.poolSize;else if(Array.isArray(t.strides)){if(2!==t.strides.length)throw new h("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+t.strides.length+".");n.strides=t.strides}else n.strides=[t.strides,t.strides];return N(n.poolSize,"poolSize"),N(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,X(n.dataFormat),Y(n.padding),n.inputSpec=[new st({ndim:4})],n}return a(t,e),t.prototype.computeOutputShape=function(e){e=nt(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=vr(t,this.poolSize[0],this.padding,this.strides[0]),n=vr(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){return n.invokeCallHook(e,t),n.poolingFunction(tt(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(dt),li=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return X(i),Y(r),ii(e,t,n,r,i,"max")},t.className="MaxPooling2D",t}(ci);r.we.registerClass(li);var fi=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return X(i),Y(r),ii(e,t,n,r,i,"avg")},t.className="AveragePooling2D",t}(ci);r.we.registerClass(fi);var di=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=[2,2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],null==t.strides)n.strides=n.poolSize;else if(Array.isArray(t.strides)){if(3!==t.strides.length)throw new h("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+t.strides.length+".");n.strides=t.strides}else n.strides=[t.strides,t.strides,t.strides];return N(n.poolSize,"poolSize"),N(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,X(n.dataFormat),Y(n.padding),n.inputSpec=[new st({ndim:5})],n}return a(t,e),t.prototype.computeOutputShape=function(e){e=nt(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=vr(t,this.poolSize[0],this.padding,this.strides[0]),n=vr(n,this.poolSize[1],this.padding,this.strides[1]),r=vr(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){return n.invokeCallHook(e,t),n.poolingFunction(tt(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(dt),hi=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return X(i),Y(r),ai(e,t,n,r,i,"max")},t.className="MaxPooling3D",t}(di);r.we.registerClass(hi);var pi=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return X(i),Y(r),ai(e,t,n,r,i,"avg")},t.className="AveragePooling3D",t}(di);r.we.registerClass(pi);var mi=function(e){function t(t){var n=e.call(this,t)||this;return n.inputSpec=[new st({ndim:3})],n}return a(t,e),t.prototype.computeOutputShape=function(e){return[e[0],e[2]]},t.prototype.call=function(e,t){throw new p},t}(dt),vi=function(e){function t(t){return e.call(this,t||{})||this}return a(t,e),t.prototype.call=function(e,t){return Object(r.pf)((function(){var t=tt(e);return Object(r.ld)(t,1)}))},t.className="GlobalAveragePooling1D",t}(mi);r.we.registerClass(vi);var gi=function(e){function t(t){return e.call(this,t||{})||this}return a(t,e),t.prototype.call=function(e,t){return Object(r.pf)((function(){var t=tt(e);return Object(r.fd)(t,1)}))},t.className="GlobalMaxPooling1D",t}(mi);r.we.registerClass(gi);var bi=function(e){function t(t){var n=e.call(this,t)||this;return n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,X(n.dataFormat),n.inputSpec=[new st({ndim:4})],n}return a(t,e),t.prototype.computeOutputShape=function(e){return e=e,"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]},t.prototype.call=function(e,t){throw new p},t.prototype.getConfig=function(){var t={dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(dt),yi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){var t=tt(e);return"channelsLast"===n.dataFormat?Object(r.ld)(t,[1,2]):Object(r.ld)(t,[2,3])}))},t.className="GlobalAveragePooling2D",t}(bi);r.we.registerClass(yi);var wi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){var t=tt(e);return"channelsLast"===n.dataFormat?Object(r.fd)(t,[1,2]):Object(r.fd)(t,[2,3])}))},t.className="GlobalMaxPooling2D",t}(bi);function xi(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new h("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function i(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=i(t),constants:n=i(n)}}function Oi(e,t,n,i,a,o,s,u){return void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===u&&(u=!1),Object(r.pf)((function(){var c=t.shape.length;if(c<3)throw new h("Input should be at least 3D, but is "+c+"D.");var l=[1,0].concat(ce(2,c));if(t=Object(r.uf)(t,l),null!=o)throw new p("The rnn() functoin of the deeplearn.js backend does not support constants yet.");s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&((a=a.asType("bool").asType("float32")).rank===c-1&&(a=Object(r.bc)(a,-1)),a=Object(r.uf)(a,l)),i&&(t=Object(r.je)(t,0),null!=a&&(a=Object(r.je)(a,0)));var f,d,m=[],v=n,g=t.shape[0],b=Object(r.zf)(t);null!=a&&(d=Object(r.zf)(a));for(var y,w=function(t){var n=b[t],i=Object(r.pf)((function(){return e(n,v)}));if(null==a)f=i[0],v=i[1];else{var o=Object(r.pf)((function(){var e=d[t],n=Object(r.Fd)(e).sub(e);return{output:i[0].mul(e).addStrict(v[0].mul(n)),newStates:v.map((function(t,r){return i[1][r].mul(e).addStrict(t.mul(n))}))}}));f=o.output,v=o.newStates}u&&m.push(f)},x=0;x<g;++x)w(x);return u&&(y=Object(r.We)(m,1)),[f,y,v]}))}r.we.registerClass(wi);var ki=function(e){function t(t){var n,r=e.call(this,t)||this;if(null==t.cell)throw new h("cell property is missing for the constructor of RNN.");if(null==(n=Array.isArray(t.cell)?new Ni({cells:t.cell}):t.cell).stateSize)throw new h("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=n,r.returnSequences=null!=t.returnSequences&&t.returnSequences,r.returnState=null!=t.returnState&&t.returnState,r.goBackwards=null!=t.goBackwards&&t.goBackwards,r._stateful=null!=t.stateful&&t.stateful,r.unroll=null!=t.unroll&&t.unroll,r.supportsMasking=!0,r.inputSpec=[new st({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return a(t,e),t.prototype.getStates=function(){return null==this.states_?ce(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((function(e){return null})):this.states_},t.prototype.setStates=function(e){this.states_=e},t.prototype.computeOutputShape=function(e){Qe(e)&&(e=e[0]),e=e;var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){for(var i=[],a=0,o=t;a<o.length;a++){var s=o[a];i.push([e[0],s])}return[n].concat(i)}return n},t.prototype.computeMask=function(e,t){var n=this;return Object(r.pf)((function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map((function(e){return null}));return[e].concat(r)}return e}))},Object.defineProperty(t.prototype,"states",{get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e},enumerable:!0,configurable:!0}),t.prototype.build=function(e){if(null!=this.numConstants)throw new p("Constants support is not implemented in RNN yet.");Qe(e)&&(e=e[0]),e=e;var t=this.stateful?e[0]:null,n=e[e.length-1];this.inputSpec[0]=new st({shape:[t,null,n]});var i,a=[e[0]].concat(e.slice(2));if(this.cell.build(a),i=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!r.Af.arraysEqual(this.stateSpec.map((function(e){return e.shape[e.shape.length-1]})),i))throw new h("An initialState was passed that is not compatible with cell.stateSize. Received stateSpec="+this.stateSpec+"; However cell.stateSize is "+this.cell.stateSize)}else this.stateSpec=i.map((function(e){return new st({shape:[null,e]})}));this.stateful&&this.resetStates()},t.prototype.resetStates=function(e,t){var n=this;void 0===t&&(t=!1),Object(r.pf)((function(){if(!n.stateful)throw new f("Cannot call resetStates() on an RNN Layer that is not stateful.");var i=n.inputSpec[0].shape[0];if(null==i)throw new h("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==n.states_)Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map((function(e){return Object(r.Jf)([i,e])})):n.states_=[Object(r.Jf)([i,n.cell.stateSize])];else if(null==e)Object(r.Lb)(n.states_),null!=n.keptStates&&(Object(r.Lb)(n.keptStates),n.keptStates=[]),Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map((function(e){return Object(r.Jf)([i,e])})):n.states_[0]=Object(r.Jf)([i,n.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==n.states_.length)throw new h("Layer "+n.name+" expects "+n.states_.length+" state(s), but it received "+e.length+" state value(s). Input received: "+e);!0===t?n.keptStates.push(n.states_.slice()):Object(r.Lb)(n.states_);for(var a=0;a<n.states_.length;++a){var o=e[a],s=Array.isArray(n.cell.stateSize)?n.cell.stateSize[a]:n.cell.stateSize,u=[i,s];if(!r.Af.arraysEqual(o.shape,u))throw new h("State "+a+" is incompatible with layer "+n.name+": expected shape="+u+", received shape="+o.shape);n.states_[a]=o}}n.states_=n.states_.map((function(e){return Object(r.Kc)(e.clone())}))}))},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var a=xi(t,r,i,this.numConstants);t=a.inputs,r=a.initialState,i=a.constants;var o=[],s=[];if(null!=r){n.initialState=r,o=o.concat(r),this.stateSpec=[];for(var u=0,c=r;u<c.length;u++){var l=c[u];this.stateSpec.push(new st({shape:l.shape}))}s=s.concat(this.stateSpec)}if(null!=i&&(n.constants=i,o=o.concat(i),this.numConstants=i.length),o[0]instanceof ut){var f=[t].concat(o),d=this.inputSpec.concat(s),h=this.inputSpec;this.inputSpec=d;var p=e.prototype.apply.call(this,f,n);return this.inputSpec=h,p}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){var r=null==t?null:t.mask,i=null==t?null:t.training,a=null==t?null:t.initialState;e=tt(e),null==a&&(a=n.stateful?n.states_:n.getInitialState(e));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(a.length!==o)throw new h("RNN Layer has "+o+" state(s) but was passed "+a.length+" initial state(s).");n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:i},u=Oi((function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]}),e,a,n.goBackwards,r,null,n.unroll,n.returnSequences),c=u[0],l=u[1],f=u[2];n.stateful&&n.resetStates(f,i);var d=n.returnSequences?l:c;return n.returnState?[d].concat(f):d}))},t.prototype.getInitialState=function(e){var t=this;return Object(r.pf)((function(){var n=Object(r.Jf)(e.shape);return n=fe(n=Object(r.cf)(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map((function(e){return e>1?ge(n,[1,e]):n})):t.cell.stateSize>1?[ge(n,[1,t.cell.stateSize])]:[n]}))},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.trainable?this.cell.trainableWeights:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var n=this.cell.getConfig();t.cell={className:this.cell.getClassName(),config:n};var r=e.prototype.getConfig.call(this);return Object.assign(t,r),t},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=jt(t.cell,n);return new e(Object.assign(t,{cell:r}))},t.className="RNN",t}(dt);r.we.registerClass(ki);var Ei=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(dt),_i=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,N(n.units,"units"),n.activation=tr(null==t.activation?n.DEFAULT_ACTIVATION:t.activation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=$e(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=$e(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=$e(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=ur(t.kernelRegularizer),n.recurrentRegularizer=ur(t.recurrentRegularizer),n.biasRegularizer=ur(t.biasRegularizer),n.kernelConstraint=W(t.kernelConstraint),n.recurrentConstraint=W(t.recurrentConstraint),n.biasConstraint=W(t.biasConstraint),n.dropout=se([1,ue([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=se([1,ue([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return a(t,e),t.prototype.build=function(e){e=nt(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){if(2!==(e=e).length)throw new h("SimpleRNNCell expects 2 input Tensors, got "+e.length+".");var i=e[1];e=e[0];var a,o=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Ri((function(){return Object(r.Fd)(e)}),n.dropout,o)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Ri((function(){return Object(r.Fd)(i)}),n.recurrentDropout,o));var s=n.dropoutMask,u=n.recurrentDropoutMask;a=ye(null!=s?Object(r.ud)(e,s):e,n.kernel.read()),null!=n.bias&&(a=ke(a,n.bias.read())),null!=u&&(i=Object(r.ud)(i,u));var c=Object(r.J)(a,ye(i,n.recurrentKernel.read()));return null!=n.activation&&(c=n.activation.apply(c)),[c,c]}))},t.prototype.getConfig=function(){var t={units:this.units,activation:Qn(this.activation),useBias:this.useBias,kernelInitializer:Ge(this.kernelInitializer),recurrentInitializer:Ge(this.recurrentInitializer),biasInitializer:Ge(this.biasInitializer),kernelRegularizer:or(this.kernelRegularizer),recurrentRegularizer:or(this.recurrentRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:B(this.kernelConstraint),recurrentConstraint:B(this.recurrentConstraint),biasConstraint:B(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="SimpleRNNCell",t}(Ei);r.we.registerClass(_i);var Si=function(e){function t(t){return t.cell=new _i(t),e.call(this,t)||this}return a(t,e),t.prototype.call=function(t,n){var i=this;return Object(r.pf)((function(){null!=i.cell.dropoutMask&&(Object(r.Lb)(i.cell.dropoutMask),i.cell.dropoutMask=null),null!=i.cell.recurrentDropoutMask&&(Object(r.Lb)(i.cell.recurrentDropoutMask),i.cell.recurrentDropoutMask=null);var a=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return e.prototype.call.call(i,t,{mask:a,training:o,initialState:s})}))},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:Qn(this.activation),useBias:this.useBias,kernelInitializer:Ge(this.kernelInitializer),recurrentInitializer:Ge(this.recurrentInitializer),biasInitializer:Ge(this.biasInitializer),kernelRegularizer:or(this.kernelRegularizer),recurrentRegularizer:or(this.recurrentRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:B(this.kernelConstraint),recurrentConstraint:B(this.recurrentConstraint),biasConstraint:B(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return new e(t)},t.className="SimpleRNN",t}(ki);r.we.registerClass(Si);var ji=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,N(n.units,"units"),n.activation=tr(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=tr(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=$e(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=$e(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=$e(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=ur(t.kernelRegularizer),n.recurrentRegularizer=ur(t.recurrentRegularizer),n.biasRegularizer=ur(t.biasRegularizer),n.kernelConstraint=W(t.kernelConstraint),n.recurrentConstraint=W(t.recurrentConstraint),n.biasConstraint=W(t.biasConstraint),n.dropout=se([1,ue([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=se([1,ue([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return a(t,e),t.prototype.build=function(e){var t=(e=nt(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){if(2!==(e=e).length)throw new h("GRUCell expects 2 input Tensors (inputs, h, c), got "+e.length+".");var i=null!=t.training&&t.training,a=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Ri((function(){return Object(r.Fd)(e)}),n.dropout,i,3)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Ri((function(){return Object(r.Fd)(a)}),n.recurrentDropout,i,3));var o,s,u,c=n.dropoutMask,l=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=Object(r.ud)(e,c[0]));var f=ye(e,n.kernel.read());n.useBias&&(f=ke(f,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(a=Object(r.ud)(a,l[0]));var d=n.recurrentKernel.read(),p=Object(r.Qe)(d,[2*n.units,n.units],d.rank-1),m=p[0],v=p[1],g=ye(a,m),b=Object(r.Qe)(f,3,f.rank-1),y=b[0],w=b[1],x=b[2],O=Object(r.Qe)(g,2,g.rank-1),k=O[0],E=O[1];o=n.recurrentActivation.apply(Object(r.J)(y,k)),s=n.recurrentActivation.apply(Object(r.J)(w,E));var _=ye(Object(r.ud)(s,a),v);u=n.activation.apply(Object(r.J)(x,_));var S=Object(r.J)(Object(r.ud)(o,a),Object(r.ud)(Object(r.J)(1,Object(r.yd)(o)),u));return[S,S]}))},t.prototype.getConfig=function(){var t={units:this.units,activation:Qn(this.activation),recurrentActivation:Qn(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ge(this.kernelInitializer),recurrentInitializer:Ge(this.recurrentInitializer),biasInitializer:Ge(this.biasInitializer),kernelRegularizer:or(this.kernelRegularizer),recurrentRegularizer:or(this.recurrentRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:B(this.kernelConstraint),recurrentConstraint:B(this.recurrentConstraint),biasConstraint:B(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="GRUCell",t}(Ei);r.we.registerClass(ji);var Ci=function(e){function t(t){return 0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new ji(t),e.call(this,t)||this}return a(t,e),t.prototype.call=function(t,n){var i=this;return Object(r.pf)((function(){null!=i.cell.dropoutMask&&(Object(r.Lb)(i.cell.dropoutMask),i.cell.dropoutMask=null),null!=i.cell.recurrentDropoutMask&&(Object(r.Lb)(i.cell.recurrentDropoutMask),i.cell.recurrentDropoutMask=null);var a=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return e.prototype.call.call(i,t,{mask:a,training:o,initialState:s})}))},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:Qn(this.activation),recurrentActivation:Qn(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ge(this.kernelInitializer),recurrentInitializer:Ge(this.recurrentInitializer),biasInitializer:Ge(this.biasInitializer),kernelRegularizer:or(this.kernelRegularizer),recurrentRegularizer:or(this.recurrentRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:B(this.kernelConstraint),recurrentConstraint:B(this.recurrentConstraint),biasConstraint:B(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className="GRU",t}(ki);r.we.registerClass(Ci);var Ai=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,N(n.units,"units"),n.activation=tr(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=tr(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=$e(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=$e(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=$e(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.unitForgetBias=t.unitForgetBias,n.kernelRegularizer=ur(t.kernelRegularizer),n.recurrentRegularizer=ur(t.recurrentRegularizer),n.biasRegularizer=ur(t.biasRegularizer),n.kernelConstraint=W(t.kernelConstraint),n.recurrentConstraint=W(t.recurrentConstraint),n.biasConstraint=W(t.biasConstraint),n.dropout=se([1,ue([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=se([1,ue([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=[n.units,n.units],n.dropoutMask=null,n.recurrentDropoutMask=null,n}return a(t,e),t.prototype.build=function(e){var t,n,r=(e=nt(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var i=this.biasInitializer,o=this.units;n=new((t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e,t){var n=i.apply([o]),r=(new Te).apply([o]),a=i.apply([2*o]);return ve(ve(n,r),a)},t}(Ce)).className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){var i=null!=t.training&&t.training;if(3!==(e=e).length)throw new h("LSTMCell expects 3 input Tensors (inputs, h, c), got "+e.length+".");var a=e[1],o=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Ri((function(){return Object(r.Fd)(e)}),n.dropout,i,4)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Ri((function(){return Object(r.Fd)(a)}),n.recurrentDropout,i,4));var s,u,c,l,f=n.dropoutMask,d=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=Object(r.ud)(e,f[0]));var p=ye(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(a=Object(r.ud)(a,d[0])),p=Object(r.J)(p,ye(a,n.recurrentKernel.read())),n.useBias&&(p=ke(p,n.bias.read()));var m=Object(r.Qe)(p,4,p.rank-1),v=m[0],g=m[1],b=m[2],y=m[3];s=n.recurrentActivation.apply(v),u=n.recurrentActivation.apply(g),c=Object(r.J)(Object(r.ud)(u,o),Object(r.ud)(s,n.activation.apply(b))),l=n.recurrentActivation.apply(y);var w=Object(r.ud)(l,n.activation.apply(c));return[w,w,c]}))},t.prototype.getConfig=function(){var t={units:this.units,activation:Qn(this.activation),recurrentActivation:Qn(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ge(this.kernelInitializer),recurrentInitializer:Ge(this.recurrentInitializer),biasInitializer:Ge(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:or(this.kernelRegularizer),recurrentRegularizer:or(this.recurrentRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:B(this.kernelConstraint),recurrentConstraint:B(this.recurrentConstraint),biasConstraint:B(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LSTMCell",t}(Ei);r.we.registerClass(Ai);var Ti=function(e){function t(t){return 0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new Ai(t),e.call(this,t)||this}return a(t,e),t.prototype.call=function(t,n){var i=this;return Object(r.pf)((function(){null!=i.cell.dropoutMask&&(Object(r.Lb)(i.cell.dropoutMask),i.cell.dropoutMask=null),null!=i.cell.recurrentDropoutMask&&(Object(r.Lb)(i.cell.recurrentDropoutMask),i.cell.recurrentDropoutMask=null);var a=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return e.prototype.call.call(i,t,{mask:a,training:o,initialState:s})}))},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unitForgetBias",{get:function(){return this.cell.unitForgetBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:Qn(this.activation),recurrentActivation:Qn(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ge(this.kernelInitializer),recurrentInitializer:Ge(this.recurrentInitializer),biasInitializer:Ge(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:or(this.kernelRegularizer),recurrentRegularizer:or(this.recurrentRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:B(this.kernelConstraint),recurrentConstraint:B(this.recurrentConstraint),biasConstraint:B(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className="LSTM",t}(ki);r.we.registerClass(Ti);var Ni=function(e){function t(t){var n=e.call(this,t)||this;return n.cells=t.cells,n}return a(t,e),Object.defineProperty(t.prototype,"stateSize",{get:function(){for(var e=[],t=0,n=this.cells.slice().reverse();t<n.length;t++){var r=n[t];Array.isArray(r.stateSize)?e.push.apply(e,r.stateSize):e.push(r.stateSize)}return e},enumerable:!0,configurable:!0}),t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){for(var r=(e=e).slice(1),i=[],a=0,o=n.cells.slice().reverse();a<o.length;a++){var s=o[a];Array.isArray(s.stateSize)?i.push(r.splice(0,s.stateSize.length)):i.push(r.splice(0,1))}i.reverse();for(var u,c=[],l=0;l<n.cells.length;++l)s=n.cells[l],r=i[l],u=0===l?[e[0]].concat(r):[u[0]].concat(r),u=s.call(u,t),c.push(u.slice(1));r=[];for(var f=0,d=c.slice().reverse();f<d.length;f++){var h=d[f];r.push.apply(r,h)}return[u[0]].concat(r)}))},t.prototype.build=function(e){var t;Qe(e)&&(e=e[0]),e=e,this.cells.forEach((function(n,r){Q("RNNCell_"+r,(function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0},t.prototype.getConfig=function(){for(var t=[],n=0,r=this.cells;n<r.length;n++){var i=r[n];t.push({className:i.getClassName(),config:i.getConfig()})}var a={cells:t},o=e.prototype.getConfig.call(this);return Object.assign(a,o),a},t.fromConfig=function(e,t,n){void 0===n&&(n={});for(var r=[],i=0,a=t.cells;i<a.length;i++){var o=a[i];r.push(jt(o,n))}return new e({cells:r})},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){if(!this.trainable)return[];for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.cells;a<o.length;a++)r=o[a],i.push.apply(i,r.trainableWeights);return i.concat(e)}return e},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.weights)}return at(e)},t.prototype.setWeights=function(e){for(var t=[],n=0,r=this.cells;n<r.length;n++)for(var i=r[n],a=i.weights.length,o=e.splice(a),s=0;s<i.weights.length;++s)t.push([i.weights[s],o[s]]);ot(t)},t.className="StackedRNNCells",t}(Ei);function Ri(e,t,n,i){function a(){return Ee(e(),t)}if(void 0===n&&(n=null),void 0===i&&(i=1),i>1){for(var o=[],s=0;s<i;s++)o.push(_e(a,e,n));return o.map((function(e){return Object(r.Kc)(e.clone())}))}return Object(r.Kc)(_e(a,e,n).clone())}r.we.registerClass(Ni);var Mi=function(e){function t(t){var n=e.call(this,t)||this;return n.layer=t.layer,n}return a(t,e),t.prototype.build=function(e){this.built=!0},Object.defineProperty(t.prototype,"trainable",{get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.layer.trainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.layer.nonTrainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updates",{get:function(){return this.layer._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"losses",{get:function(){return this.layer.losses},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.layer.getWeights()},t.prototype.setWeights=function(e){this.layer.setWeights(e)},t.prototype.getConfig=function(){var t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(t)},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=jt(t.layer,n);delete t.layer;var i={layer:r};return Object.assign(i,t),new e(i)},t}(dt),Di=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n}return a(t,e),t.prototype.build=function(t){if((t=nt(t)).length<3)throw new h("TimeDistributed layer expects an input shape >= 3D, but received input shape "+JSON.stringify(t));this.inputSpec=[{shape:t}];var n=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),e.prototype.build.call(this,t)},t.prototype.computeOutputShape=function(e){var t=[(e=nt(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){return Oi((function(e,r){return[tt(n.layer.call(e,t)),[]]}),e=tt(e),[],!1,null,null,!1,!0)[1]}))},t.className="TimeDistributed",t}(Mi);r.we.registerClass(Di);var Ii=function(e){function t(t){var n=e.call(this,t)||this,r=t.layer.getConfig(),i={};i.className=t.layer.getClassName(),i.config=r,n.forwardLayer=jt(i),r.goBackwards=!0!==r.goBackwards;var a={};if(a.className=t.layer.getClassName(),a.config=r,n.backwardLayer=jt(a),n.forwardLayer.name="forward_"+n.forwardLayer.name,n.backwardLayer.name="backward_"+n.backwardLayer.name,n.mergeMode=void 0===t.mergeMode?"concat":t.mergeMode,function(e){A($,"BidirectionalMergeMode",e)}(n.mergeMode),t.weights)throw new p("weights support is not implemented for Bidirectional layer yet.");return n._stateful=t.layer.stateful,n.returnSequences=t.layer.returnSequences,n.returnState=t.layer.returnState,n.supportsMasking=!0,n._trainable=!0,n.inputSpec=t.layer.inputSpec,n.numConstants=null,n}return a(t,e),Object.defineProperty(t.prototype,"trainable",{get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())},t.prototype.setWeights=function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))},t.prototype.computeOutputShape=function(e){var t,n,r,i=this.forwardLayer.computeOutputShape(e);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),i=i,this.returnState?(r=i.slice(1),t=i[0]):t=i[0],t=t,"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):y(n)},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var a=xi(t,r,i,this.numConstants);if(t=a.inputs,r=a.initialState,i=a.constants,Array.isArray(t)&&(r=t.slice(1),t=t[0]),(null==r||0===r.length)&&null==i)return e.prototype.apply.call(this,t,n);var o=[],s=[];if(null!=r){var u=r.length;if(u%2>0)throw new h("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,o.push.apply(o,r);var c=r.map((function(e){return new st({shape:e.shape})}));this.forwardLayer.stateSpec=c.slice(0,u/2),this.backwardLayer.stateSpec=c.slice(u/2),s.push.apply(s,c)}if(null!=i)throw new p("Support for constants in Bidirectional layers is not implemented yet.");for(var l=o[0]instanceof ut,f=0,d=o;f<d.length;f++)if(d[f]instanceof ut!==l)throw new h("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){var m=[t].concat(o),v=this.inputSpec.concat(s),g=this.inputSpec;this.inputSpec=v;var b=e.prototype.apply.call(this,m,n);return this.inputSpec=g,b}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return Object(r.pf)((function(){var i,a,o,s,u=t.initialState;if(null==u)i=n.forwardLayer.call(e,t),a=n.backwardLayer.call(e,t);else{var c=u.slice(0,u.length/2),l=u.slice(u.length/2);i=n.forwardLayer.call(e,Object.assign(t,{initialState:c})),a=n.backwardLayer.call(e,Object.assign(t,{initialState:l}))}return n.returnState&&(Array.isArray(i)&&(o=i.slice(1).concat(a.slice(1))),i=i[0],a=a[0]),n.returnSequences&&(a=Object(r.je)(a,1)),"concat"===n.mergeMode?s=me([i,a]):"sum"===n.mergeMode?s=Object(r.J)(i,a):"ave"===n.mergeMode?s=Object(r.ud)(.5,Object(r.J)(i,a)):"mul"===n.mergeMode?s=Object(r.ud)(i,a):null==n.mergeMode&&(s=[i,a]),n.returnState?null==n.mergeMode?s.concat(o):[s].concat(o):s}))},t.prototype.resetStates=function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()},t.prototype.build=function(e){var t=this;Q(this.forwardLayer.name,(function(){t.forwardLayer.build(e)})),Q(this.backwardLayer.name,(function(){t.backwardLayer.build(e)})),this.built=!0},t.prototype.computeMask=function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map((function(e){return null}));return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(t),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={mergeMode:this.mergeMode},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.fromConfig=function(e,t){var n=jt(t.layer);if(delete t.layer,null!=t.numConstants)throw new p("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)},t.className="Bidirectional",t}(Mi);function Fi(e){return new ui(e)}function Pi(e){return new fi(e)}function zi(e){return new pi(e)}function Li(e){return new gi(e)}function Bi(e){return new wi(e)}function Ui(e){return new si(e)}function Wi(e){return new li(e)}r.we.registerClass(Ii);var Vi=Li,qi=Bi,Hi=Ui,Gi=Wi;var $i=Object.freeze({inputLayer:function(e){return new mt(e)},elu:function(e){return new dr(e)},reLU:function(e){return new cr(e)},leakyReLU:function(e){return new lr(e)},prelu:function(e){return new fr(e)},softmax:function(e){return new pr(e)},thresholdedReLU:function(e){return new hr(e)},conv1d:function(e){return new jr(e)},conv2d:function(e){return new kr(e)},conv2dTranspose:function(e){return new _r(e)},conv3d:function(e){return new Er(e)},separableConv2d:function(e){return new Sr(e)},cropping2D:function(e){return new Cr(e)},upSampling2d:function(e){return new Ar(e)},depthwiseConv2d:function(e){return new Tr(e)},activation:function(e){return new Ir(e)},dense:function(e){return new Mr(e)},dropout:function(e){return new Nr(e)},spatialDropout1d:function(e){return new Rr(e)},flatten:function(e){return new Dr(e)},repeatVector:function(e){return new Fr(e)},reshape:function(e){return new Pr(e)},permute:function(e){return new zr(e)},embedding:function(e){return new Br(e)},add:function(e){return new Wr(e)},average:function(e){return new qr(e)},concatenate:function(e){return new $r(e)},maximum:function(e){return new Hr(e)},minimum:function(e){return new Gr(e)},multiply:function(e){return new Vr(e)},dot:function(e){return new Xr(e)},batchNormalization:function(e){return new ti(e)},layerNormalization:function(e){return new ni(e)},zeroPadding2d:function(e){return new ri(e)},averagePooling1d:Fi,avgPool1d:function(e){return Fi(e)},avgPooling1d:function(e){return Fi(e)},averagePooling2d:Pi,avgPool2d:function(e){return Pi(e)},avgPooling2d:function(e){return Pi(e)},averagePooling3d:zi,avgPool3d:function(e){return zi(e)},avgPooling3d:function(e){return zi(e)},globalAveragePooling1d:function(e){return new vi(e)},globalAveragePooling2d:function(e){return new yi(e)},globalMaxPooling1d:Li,globalMaxPooling2d:Bi,maxPooling1d:Ui,maxPooling2d:Wi,maxPooling3d:function(e){return new hi(e)},gru:function(e){return new Ci(e)},gruCell:function(e){return new ji(e)},lstm:function(e){return new Ti(e)},lstmCell:function(e){return new Ai(e)},simpleRNN:function(e){return new Si(e)},simpleRNNCell:function(e){return new _i(e)},rnn:function(e){return new ki(e)},stackedRNNCells:function(e){return new Ni(e)},bidirectional:function(e){return new Ii(e)},timeDistributed:function(e){return new Di(e)},globalMaxPool1d:Vi,globalMaxPool2d:qi,maxPool1d:Hi,maxPool2d:Gi,Layer:dt,RNN:ki,RNNCell:Ei,input:zn,gaussianNoise:function(e){return new Yr(e)},gaussianDropout:function(e){return new Zr(e)},alphaDropout:function(e){return new Jr(e)},masking:function(e){return new Lr(e)}});var Ki=Object.freeze({binaryAccuracy:function(e,t){return zt(e,t)},binaryCrossentropy:function(e,t){return Vt(e,t)},sparseCategoricalAccuracy:function(e,t){return qt(e,t)},categoricalAccuracy:function(e,t){return Lt(e,t)},categoricalCrossentropy:function(e,t){return Ht(e,t)},precision:function(e,t){return Ut(e,t)},recall:function(e,t){return Wt(e,t)},cosineProximity:function(e,t){return It(e,t)},meanAbsoluteError:function(e,t){return Tt(e,t)},meanAbsolutePercentageError:function(e,t){return Nt(e,t)},MAPE:function(e,t){return Nt(e,t)},mape:function(e,t){return Nt(e,t)},meanSquaredError:function(e,t){return At(e,t)},MSE:function(e,t){return At(e,t)},mse:function(e,t){return At(e,t)}}),Xi=Object.freeze({modelFromJSON:function(e,t){return u(this,void 0,void 0,(function(){var n,i,a,o,s,u,l,f;return c(this,(function(c){switch(c.label){case 0:return"modelTopology"in e||(e={modelTopology:e}),null!=(n=(e=e).modelTopology).model_config&&(n=n.model_config),i=tn(n),a=jt(i,t),null==e.weightsManifest?[3,2]:[4,r.Fc.loadWeights(e.weightsManifest,e.pathPrefix,a.weights.map((function(e){return e.originalName})))];case 1:for(o=c.sent(),s={},u=0,l=a.weights;u<l.length;u++)f=l[u],s[f.originalName]=o[f.originalName];a.loadWeights(s),Object(r.Lb)(o),c.label=2;case 2:return[2,a]}}))}))}});var Yi=Object.freeze({l1l2:function(e){return new ir(e)},l1:function(e){return function(e){return nr(e),new ir({l1:null!=e?e.l1:null,l2:0})}(e)},l2:function(e){return function(e){return nr(e),new ir({l2:null!=e?e.l2:null,l1:0})}(e)}}),Zi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.model=null,t}return a(t,e),t.prototype.setModel=function(e){if(!(e instanceof Rn))throw new Error("model must be a LayersModel, not some other Container");this.model=e},t}(yt);function Ji(e,t){return e<t}function Qi(e,t){return e>t}var ea=function(e){function t(t){var n=e.call(this)||this;if(null==t&&(t={}),t.restoreBestWeights)throw new p("restoreBestWeights = True is not implemented in EarlyStopping yet.");return n.monitor=t.monitor||"val_loss",n.minDelta=Math.abs(t.minDelta||0),n.patience=t.patience||0,n.verbose=t.verbose||0,n.mode=t.mode||"auto",n.baseline=t.baseline,-1===["auto","min","max"].indexOf(n.mode)&&(console.warn("EarlyStopping mode '"+n.mode+"' is invalid. Falling back to mode 'auto'."),n.mode="auto"),"min"===n.mode?n.monitorFunc=Ji:"max"===n.mode||-1!==n.monitor.indexOf("acc")?n.monitorFunc=Qi:n.monitorFunc=Ji,n.monitorFunc===Ji&&(n.minDelta*=-1),n}return a(t,e),t.prototype.onTrainBegin=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(e){return this.wait=0,this.stoppedEpoch=0,null!=this.baseline?this.best=this.baseline:this.best=this.monitorFunc===Ji?1/0:-1/0,[2]}))}))},t.prototype.onEpochEnd=function(e,t){return u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return[4,gt(t)];case 1:return r.sent(),null==(n=this.getMonitorValue(t))||(this.monitorFunc(n-this.minDelta,this.best)?(this.best=n,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=e,this.model.stopTraining=!0))),[2]}}))}))},t.prototype.onTrainEnd=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(e){return this.stoppedEpoch>0&&this.verbose&&console.log("Epoch "+this.stoppedEpoch+": early stopping."),[2]}))}))},t.prototype.getMonitorValue=function(e){null==e&&(e={});var t=e[this.monitor];return null==t&&console.warn("Metric for EarlyStopping "+this.monitor+" is not available. Available metrics are: "+Object.keys(e)),t},t}(Zi);var ta={earlyStopping:function(e){return new ea(e)}},na=n(206),ra=n(126),ia={"tfjs-core":r.Ff,"tfjs-data":ra.version_data,"tfjs-layers":nn,"tfjs-converter":na.e,tfjs:"1.7.2"}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(6),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function o(e){return"".concat(Math.round(e),"ms")}t.a={easing:i,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?a.standard:n,u=t.easing,c=void 0===u?i.easeInOut:u,l=t.delay,f=void 0===l?0:l;Object(r.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:o(s)," ").concat(c," ").concat("string"===typeof f?f:o(f))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var r=n(467),i=n(468),a=n(469);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):d(e,t);if("Buffer"===t.type&&a(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return j(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var f=!0,d=0;d<u;d++)if(c(e,a+d)!==c(t,d)){f=!1;break}if(f)return a}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return W(B(t,e.length-n),e,n,r)}function x(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return x(e,t,n,r)}function k(e,t,n,r){return W(U(t),e,n,r)}function E(e,t,n,r){return W(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(l=u);break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){a=c[f],o=l[f];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return O(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=L(e[a]);return i}function T(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function I(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,a){return a||I(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function P(e,t,n,r,a){return a||I(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return P(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return P(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=u.isBuffer(e)?e:B(new u(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(42))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r=function(e){return e.scrollTop};function i(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function a(e,t,n){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var o;"object"===typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{o=n(579).Buffer}catch(E){}function s(e,t,n){for(var r=0,i=Math.min(e.length,n),a=t;a<i;a++){var o=e.charCodeAt(a)-48;r<<=4,r|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return r}function u(e,t,n,r){for(var i=0,a=Math.min(e.length,n),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}a.isBN=function(e){return e instanceof a||null!==e&&"object"===typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},a.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},a.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,a=0;for(n=e.length-6,r=0;n>=t;n-=6)i=s(e,n,n+6),this.words[r]|=i<<a&67108863,this.words[r+1]|=i>>>26-a&4194303,(a+=24)>=26&&(a-=26,r++);n+6!==t&&(i=s(e,t,n+6),this.words[r]|=i<<a&67108863,this.words[r+1]|=i>>>26-a&4194303),this.strip()},a.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var a=e.length-n,o=a%r,s=Math.min(a,a-o)+n,c=0,l=n;l<s;l+=r)c=u(e,l,l+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=u(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var l=u>>>26,f=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var p=c-h|0;l+=(o=(i=0|e.words[p])*(a=0|t.words[h])+f)/67108864|0,f=67108863&o}n.words[c]=0|f,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}a.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);n=0!==(a=s>>>24-i&16777215)||o!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,o--)}for(0!==a&&(n=a.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var d=l[e],h=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?m+n:c[d-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r("undefined"!==typeof o),this.toArrayLike(o,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===t,c=new e(a),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[s]=o;for(;s<a;s++)c[s]=0}else{for(s=0;s<a-i;s++)c[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[a-s-1]=o}return c},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},a.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,a=0;a<r.length;a++)t=(0|n.words[a])+(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<n.length;a++)t=(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var a=0,o=0;o<r.length;o++)a=(t=(0|n.words[o])-(0|r.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<n.length;o++)a=(t=(0|n.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,n){var r,i,a,o=e.words,s=t.words,u=n.words,c=0,l=0|o[0],f=8191&l,d=l>>>13,h=0|o[1],p=8191&h,m=h>>>13,v=0|o[2],g=8191&v,b=v>>>13,y=0|o[3],w=8191&y,x=y>>>13,O=0|o[4],k=8191&O,E=O>>>13,_=0|o[5],S=8191&_,j=_>>>13,C=0|o[6],A=8191&C,T=C>>>13,N=0|o[7],R=8191&N,M=N>>>13,D=0|o[8],I=8191&D,F=D>>>13,P=0|o[9],z=8191&P,L=P>>>13,B=0|s[0],U=8191&B,W=B>>>13,V=0|s[1],q=8191&V,H=V>>>13,G=0|s[2],$=8191&G,K=G>>>13,X=0|s[3],Y=8191&X,Z=X>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ve=(c+(r=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,W))+Math.imul(d,U)|0))<<13)|0;c=((a=Math.imul(d,W))+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(p,U),i=(i=Math.imul(p,W))+Math.imul(m,U)|0,a=Math.imul(m,W);var ge=(c+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,H)|0)+Math.imul(d,q)|0))<<13)|0;c=((a=a+Math.imul(d,H)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(g,U),i=(i=Math.imul(g,W))+Math.imul(b,U)|0,a=Math.imul(b,W),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,q)|0,a=a+Math.imul(m,H)|0;var be=(c+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(d,$)|0))<<13)|0;c=((a=a+Math.imul(d,K)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,U),i=(i=Math.imul(w,W))+Math.imul(x,U)|0,a=Math.imul(x,W),r=r+Math.imul(g,q)|0,i=(i=i+Math.imul(g,H)|0)+Math.imul(b,q)|0,a=a+Math.imul(b,H)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,$)|0,a=a+Math.imul(m,K)|0;var ye=(c+(r=r+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(d,Y)|0))<<13)|0;c=((a=a+Math.imul(d,Z)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(k,U),i=(i=Math.imul(k,W))+Math.imul(E,U)|0,a=Math.imul(E,W),r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(x,q)|0,a=a+Math.imul(x,H)|0,r=r+Math.imul(g,$)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(b,$)|0,a=a+Math.imul(b,K)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,Z)|0;var we=(c+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((a=a+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(S,U),i=(i=Math.imul(S,W))+Math.imul(j,U)|0,a=Math.imul(j,W),r=r+Math.imul(k,q)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(E,q)|0,a=a+Math.imul(E,H)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(x,$)|0,a=a+Math.imul(x,K)|0,r=r+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,Y)|0,a=a+Math.imul(b,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,a=a+Math.imul(m,ee)|0;var xe=(c+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(d,ne)|0))<<13)|0;c=((a=a+Math.imul(d,re)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(A,U),i=(i=Math.imul(A,W))+Math.imul(T,U)|0,a=Math.imul(T,W),r=r+Math.imul(S,q)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(j,q)|0,a=a+Math.imul(j,H)|0,r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(E,$)|0,a=a+Math.imul(E,K)|0,r=r+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(x,Y)|0,a=a+Math.imul(x,Z)|0,r=r+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(b,Q)|0,a=a+Math.imul(b,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,a=a+Math.imul(m,re)|0;var Oe=(c+(r=r+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(d,ae)|0))<<13)|0;c=((a=a+Math.imul(d,oe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(R,U),i=(i=Math.imul(R,W))+Math.imul(M,U)|0,a=Math.imul(M,W),r=r+Math.imul(A,q)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(T,q)|0,a=a+Math.imul(T,H)|0,r=r+Math.imul(S,$)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(j,$)|0,a=a+Math.imul(j,K)|0,r=r+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(E,Y)|0,a=a+Math.imul(E,Z)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(x,Q)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(g,ne)|0,i=(i=i+Math.imul(g,re)|0)+Math.imul(b,ne)|0,a=a+Math.imul(b,re)|0,r=r+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,oe)|0;var ke=(c+(r=r+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((a=a+Math.imul(d,ce)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(I,U),i=(i=Math.imul(I,W))+Math.imul(F,U)|0,a=Math.imul(F,W),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(M,q)|0,a=a+Math.imul(M,H)|0,r=r+Math.imul(A,$)|0,i=(i=i+Math.imul(A,K)|0)+Math.imul(T,$)|0,a=a+Math.imul(T,K)|0,r=r+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(j,Y)|0,a=a+Math.imul(j,Z)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(E,Q)|0,a=a+Math.imul(E,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(x,ne)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(b,ae)|0,a=a+Math.imul(b,oe)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,ce)|0;var Ee=(c+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;c=((a=a+Math.imul(d,de)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(z,U),i=(i=Math.imul(z,W))+Math.imul(L,U)|0,a=Math.imul(L,W),r=r+Math.imul(I,q)|0,i=(i=i+Math.imul(I,H)|0)+Math.imul(F,q)|0,a=a+Math.imul(F,H)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(M,$)|0,a=a+Math.imul(M,K)|0,r=r+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(T,Y)|0,a=a+Math.imul(T,Z)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(j,Q)|0,a=a+Math.imul(j,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(E,ne)|0,a=a+Math.imul(E,re)|0,r=r+Math.imul(w,ae)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,oe)|0,r=r+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(b,ue)|0,a=a+Math.imul(b,ce)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(m,fe)|0,a=a+Math.imul(m,de)|0;var _e=(c+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,me)|0)+Math.imul(d,pe)|0))<<13)|0;c=((a=a+Math.imul(d,me)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(z,q),i=(i=Math.imul(z,H))+Math.imul(L,q)|0,a=Math.imul(L,H),r=r+Math.imul(I,$)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(F,$)|0,a=a+Math.imul(F,K)|0,r=r+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(M,Y)|0,a=a+Math.imul(M,Z)|0,r=r+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(T,Q)|0,a=a+Math.imul(T,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(j,ne)|0,a=a+Math.imul(j,re)|0,r=r+Math.imul(k,ae)|0,i=(i=i+Math.imul(k,oe)|0)+Math.imul(E,ae)|0,a=a+Math.imul(E,oe)|0,r=r+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(x,ue)|0,a=a+Math.imul(x,ce)|0,r=r+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(b,fe)|0,a=a+Math.imul(b,de)|0;var Se=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((a=a+Math.imul(m,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(z,$),i=(i=Math.imul(z,K))+Math.imul(L,$)|0,a=Math.imul(L,K),r=r+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(F,Y)|0,a=a+Math.imul(F,Z)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(M,Q)|0,a=a+Math.imul(M,ee)|0,r=r+Math.imul(A,ne)|0,i=(i=i+Math.imul(A,re)|0)+Math.imul(T,ne)|0,a=a+Math.imul(T,re)|0,r=r+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(j,ae)|0,a=a+Math.imul(j,oe)|0,r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(E,ue)|0,a=a+Math.imul(E,ce)|0,r=r+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(x,fe)|0,a=a+Math.imul(x,de)|0;var je=(c+(r=r+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((a=a+Math.imul(b,me)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,r=Math.imul(z,Y),i=(i=Math.imul(z,Z))+Math.imul(L,Y)|0,a=Math.imul(L,Z),r=r+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(F,Q)|0,a=a+Math.imul(F,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(M,ne)|0,a=a+Math.imul(M,re)|0,r=r+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(T,ae)|0,a=a+Math.imul(T,oe)|0,r=r+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(j,ue)|0,a=a+Math.imul(j,ce)|0,r=r+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(E,fe)|0,a=a+Math.imul(E,de)|0;var Ce=(c+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(x,pe)|0))<<13)|0;c=((a=a+Math.imul(x,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(z,Q),i=(i=Math.imul(z,ee))+Math.imul(L,Q)|0,a=Math.imul(L,ee),r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(F,ne)|0,a=a+Math.imul(F,re)|0,r=r+Math.imul(R,ae)|0,i=(i=i+Math.imul(R,oe)|0)+Math.imul(M,ae)|0,a=a+Math.imul(M,oe)|0,r=r+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(T,ue)|0,a=a+Math.imul(T,ce)|0,r=r+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(j,fe)|0,a=a+Math.imul(j,de)|0;var Ae=(c+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((a=a+Math.imul(E,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(z,ne),i=(i=Math.imul(z,re))+Math.imul(L,ne)|0,a=Math.imul(L,re),r=r+Math.imul(I,ae)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(F,ae)|0,a=a+Math.imul(F,oe)|0,r=r+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(M,ue)|0,a=a+Math.imul(M,ce)|0,r=r+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(T,fe)|0,a=a+Math.imul(T,de)|0;var Te=(c+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(j,pe)|0))<<13)|0;c=((a=a+Math.imul(j,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(z,ae),i=(i=Math.imul(z,oe))+Math.imul(L,ae)|0,a=Math.imul(L,oe),r=r+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(F,ue)|0,a=a+Math.imul(F,ce)|0,r=r+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,de)|0)+Math.imul(M,fe)|0,a=a+Math.imul(M,de)|0;var Ne=(c+(r=r+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,me)|0)+Math.imul(T,pe)|0))<<13)|0;c=((a=a+Math.imul(T,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(z,ue),i=(i=Math.imul(z,ce))+Math.imul(L,ue)|0,a=Math.imul(L,ce),r=r+Math.imul(I,fe)|0,i=(i=i+Math.imul(I,de)|0)+Math.imul(F,fe)|0,a=a+Math.imul(F,de)|0;var Re=(c+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,me)|0)+Math.imul(M,pe)|0))<<13)|0;c=((a=a+Math.imul(M,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(z,fe),i=(i=Math.imul(z,de))+Math.imul(L,fe)|0,a=Math.imul(L,de);var Me=(c+(r=r+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(F,pe)|0))<<13)|0;c=((a=a+Math.imul(F,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863;var De=(c+(r=Math.imul(z,pe))|0)+((8191&(i=(i=Math.imul(z,me))+Math.imul(L,pe)|0))<<13)|0;return c=((a=Math.imul(L,me))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=ve,u[1]=ge,u[2]=be,u[3]=ye,u[4]=we,u[5]=xe,u[6]=Oe,u[7]=ke,u[8]=Ee,u[9]=_e,u[10]=Se,u[11]=je,u[12]=Ce,u[13]=Ae,u[14]=Te,u[15]=Ne,u[16]=Re,u[17]=Me,u[18]=De,0!==c&&(u[19]=c,n.length++),n};function p(e,t,n){return(new m).mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(h=d),a.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,a=0;a<n.length-1;a++){var o=i;i=0;for(var s=67108863&r,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,f=(0|e.words[l])*(0|t.words[c]),d=67108863&f;s=67108863&(d=d+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[a]=s,r=o,o=i}return 0!==r?n.words[a]=r:n.length--,n.strip()}(this,e,t):p(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,i,a){for(var o=0;o<a;o++)r[o]=t[e[o]],i[o]=n[e[o]]},m.prototype.transform=function(e,t,n,r,i,a){this.permute(a,e,t,n,r,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,d=c,h=0;h<o;h++){var p=n[l+h],m=r[l+h],v=n[l+h+o],g=r[l+h+o],b=f*v-d*g;g=f*g+d*v,v=b,n[l+h]=p+v,r[l+h]=m+g,n[l+h+o]=p-v,r[l+h+o]=m-g,h!==s&&(b=u*f-c*d,d=u*d+c*f,f=b)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,n,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],n[2*o]=8191&a,a>>>=13,n[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===a),r(0===(-8192&a))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),a=this.stub(r),o=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),l=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,o,r),this.convert13b(t.words,t.length,c,r),this.transform(o,a,s,u,r,i),this.transform(c,a,l,f,r,i);for(var h=0;h<r;h++){var p=s[h]*l[h]-u[h]*f[h];u[h]=s[h]*f[h]+u[h]*l[h],s[h]=p}return this.conjugate(s,u,r),this.transform(s,u,d,a,r,i),this.conjugate(d,a,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),p(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[n]=67108863&a}return 0!==t&&(this.words[n]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new a(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},a.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<n;this.words[t]=u|o,o=s>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=n;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-a|f>>>a,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},a.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,n){var i,a,o=e.length+n;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)s=(a=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&a;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new a(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=r.clone()._ishlnsubmul(i,1,u);0===l.negative&&(r=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var d=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(d=Math.min(d/o|0,67108863),r._ishlnsubmul(i,d,f);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},a.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,s},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),a=n.cmp(r);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new a(1),o=new a(0),s=new a(0),u=new a(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),o.isub(u)):(n.isub(t),s.isub(i),u.isub(o))}return{a:s,b:u,gcd:n.iushln(c)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new a(1),s=new a(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0===(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,d=1;0===(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s)):(n.isub(t),s.isub(o))}return(i=0===t.cmpn(1)?o:s).cmpn(0)<0&&i.iadd(e),i},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var a=t;t=n,n=a}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0===(1&this.words[0])},a.prototype.isOdd=function(){return 1===(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,o=n;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new O(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function O(e){if("string"===typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){O.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},i(b,g),b.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(4194303&a)<<4|i>>>22,i=a}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(y,g),i(w,g),i(x,g),x.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new y;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return v[e]=t,t},O.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},O.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},O.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},O.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},O.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},O.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},O.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},O.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},O.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},O.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},O.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},O.prototype.isqr=function(e){return this.imul(e,e.clone())},O.prototype.sqr=function(e){return this.mul(e,e)},O.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new a(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var s=new a(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new a(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=o;0!==h.cmp(s);){for(var m=h,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(f,new a(1).iushln(p-v-1));d=d.redMul(g),f=g.redSqr(),h=h.redMul(f),p=v}return d},O.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},O.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new a(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],o=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],l=u-1;l>=0;l--){var f=c>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==o?(o<<=1,o|=f,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[o]),s=0,o=0)):s=0}u=26}return i},O.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},O.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new k(e)},i(k,O),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(187)(e))},function(e,t,n){"use strict";var r=n(232),i="object"==typeof self&&self&&self.Object===Object&&self,a=r.a||i||Function("return this")();t.a=a},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t);var r=n(165);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){"use strict";n.d(t,"f",(function(){return me})),n.d(t,"c",(function(){return ve})),n.d(t,"e",(function(){return pe})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return Y})),n.d(t,"a",(function(){return $}));var r=n(3),i=n(112),a=(n(40),n(76)),o=n(44),s=n(96),u=n(49),c={}.constructor;function l(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(l);if(e.constructor!==c)return e;var t={};for(var n in e)t[n]=l(e[n]);return t}function f(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=l(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var d=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n};function h(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=d(e[r]," ");else n=d(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n}function p(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function m(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;if(e&&a++,o)if(Array.isArray(o))for(var s=0;s<o.length;s++){var u=o[s];for(var c in u){var l=u[c];null!=l&&(r&&(r+="\n"),r+=""+p(c+": "+h(l)+";",a))}}else for(var f in o){var d=o[f];null!=d&&(r&&(r+="\n"),r+=""+p(f+": "+h(d)+";",a))}for(var m in t){var v=t[m];null!=v&&"fallbacks"!==m&&(r&&(r+="\n"),r+=""+p(m+": "+h(v)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),p(e+" {"+r,--a)+p("}",a)):r}var v=/([[\].#*$><+~=|^:(),"'`\s])/g,g="undefined"!==typeof CSS&&CSS.escape,b=function(e){return g?g(e):e.replace(v,"\\$1")},y=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),w=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var a=r.selector,o=r.scoped,u=r.sheet,c=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=c(Object(s.a)(Object(s.a)(i)),u),i.selectorText="."+b(i.id)),i}Object(o.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=h(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return m(this.selectorText,this.style,n)},Object(a.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(y),x={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new w(e,t,n)}},O={indent:1,children:!0},k=/@([\w-]+)/,E=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.query=n.name;var i=e.match(k);for(var a in this.at=i?i[1]:"unknown",this.options=n,this.rules=new $(Object(r.a)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=O),null==e.indent&&(e.indent=O.indent),null==e.children&&(e.children=O.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),_=/@media|@supports\s+/,S={onCreateRule:function(e,t,n){return _.test(e)?new E(e,t,n):null}},j={indent:1,children:!0},C=/@keyframes\s+([\w-]+)/,A=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=e.match(C);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;for(var u in this.id=!1===a?this.name:b(s(this,o)),this.rules=new $(Object(r.a)({},n,{parent:this})),t)this.rules.add(u,t[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=j),null==e.indent&&(e.indent=j.indent),null==e.children&&(e.children=j.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),T=/@keyframes\s+/,N=/\$([\w-]+)/g,R=function(e,t){return"string"===typeof e?e.replace(N,(function(e,n){return n in t?t[n]:e})):e},M=function(e,t,n){var r=e[t],i=R(r,n);i!==r&&(e[t]=i)},D={onCreateRule:function(e,t,n){return"string"===typeof e&&T.test(e)?new A(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&M(e,"animation-name",n.keyframes),"animation"in e&&M(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return R(e,r.keyframes);default:return e}}},I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(o.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return m(this.key,this.style,n)},t}(y),F={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new I(e,t,n):null}},P=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=m(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return m(this.at,this.style,e)},e}(),z=/@font-face/,L={onCreateRule:function(e,t,n){return z.test(e)?new P(e,t,n):null}},B=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return m(this.key,this.style,e)},e}(),U={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new B(e,t,n):null}},W=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),V={"@charset":!0,"@import":!0,"@namespace":!0},q=[x,S,D,F,L,U,{onCreateRule:function(e,t,n){return e in V?new W(e,t,n):null}}],H={process:!0},G={force:!0,process:!0},$=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,a=i.parent,o=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,d=Object(r.a)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:u,generateId:c,scoped:l,name:e},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(d.selector="."+b(this.classes[h]));var p=f(h,t,d);if(!p)return null;this.register(p);var m=void 0===d.index?this.index.length:d.index;return this.index.splice(m,0,p),p},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof w?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof A&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof w?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof A&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=H);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t,u=s.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==s.style){for(var c in a.onProcessStyle(s.style,s,o),s.style){var l=s.style[c];l!==u[c]&&s.prop(c,l,G)}for(var f in u){var d=s.style[f],h=u[f];null==d&&d!==h&&s.prop(f,null,G)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var a=this.index[i].toString(e);(a||r)&&(t&&(t+="\n"),t+=a)}return t},e}(),K=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new $(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!!t&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),X=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Y=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(u.a)(t,["attached"]),i="",a=0;a<this.registry.length;a++){var o=this.registry[a];null!=n&&o.attached!==n||(i&&(i+="\n"),i+=o.toString(r))}return i},Object(a.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Z=new Y,J="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),Q="2f1acc6c3a606b082e5eef5e54414ffb";null==J[Q]&&(J[Q]=0);var ee=J[Q]++,te=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ee+i+t:a+n.key+"-"+ee+(i?"-"+i:"")+"-"+t}},ne=function(e){var t;return function(){return t||(t=e()),t}};function re(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}}function ie(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=h(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0}function ae(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}}function oe(e,t){return e.selectorText=t,e.selectorText===t}var se=ne((function(){return document.querySelector("head")}));function ue(e){var t=Z.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=se(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var ce=ne((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),le=function(e,t,n){var r=e.cssRules.length;(void 0===n||n>r)&&(n=r);try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(i){return!1}return e.cssRules[n]},fe=function(){function e(e){this.getPropertyValue=re,this.setProperty=ie,this.removeProperty=ae,this.setSelector=oe,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,e&&Z.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=ce();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=ue(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else se().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;return("conditional"!==e.type&&"keyframes"!==e.type||!1!==(i=le(n,r.toString({children:!1}),t)))&&(this.insertRules(r.rules,i),i)}if(e.renderable&&e.renderable.parentStyleSheet===this.element.sheet)return e.renderable;var a=e.toString();if(!a)return!1;var o=le(n,a,t);return!1!==o&&(this.hasInsertedRules=!0,e.renderable=o,o)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)},t.indexOf=function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),de=0,he=function(){function e(e){this.id=de++,this.version="10.1.1",this.plugins=new X,this.options={id:{minify:!1},createGenerateId:te,Renderer:i.a?fe:null,plugins:[]},this.generateId=te({minify:!1});for(var t=0;t<q.length;t++)this.plugins.use(q[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===Z.index?0:Z.index+1);var i=new K(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),Z.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var a=f(e,t,i);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();function pe(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=pe(r);a&&(t||(t={}),t[n]=a)}}return t}var me="undefined"!==typeof CSS&&CSS&&"number"in CSS,ve=function(e){return new he(e)};ve()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(114);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,s=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(78);function a(){return r.useContext(i.a)}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),o=a[0],s=a[1];return[i?t:o,r.useCallback((function(e){i||s(e)}),[])]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(218);var i=n(132),a=n(219);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var r=n(58),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),m=u(n),v=0;v<o.length;++v){var g=o[v];if(!a[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var b=d(n,g);try{c(t,g,b)}catch(y){}}}}return t}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=function(e,t){if(!e)throw new Error("Invariant failed")}},function(e,t,n){"use strict";e.exports=n(462)},function(e,t,n){"use strict";var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=a.default.memo(a.default.forwardRef((function(t,n){return a.default.createElement(o.default,(0,i.default)({ref:n},t),e)})));0;return n.muiName=o.default.muiName,n};var i=r(n(463)),a=r(n(0)),o=r(n(120))},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},function(e,t,n){"use strict";var r=t,i=n(36),a=n(61),o=n(405);r.assert=a,r.toArray=o.toArray,r.zero2=o.zero2,r.toHex=o.toHex,r.encode=o.encode,r.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var i=1<<t+1,a=e.clone(),o=0;o<r.length;o++){var s,u=a.andln(i-1);a.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,a.isubn(s)):s=0,r[o]=s,a.iushrn(1)}return r},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r=0,i=0;e.cmpn(-r)>0||t.cmpn(-i)>0;){var a,o,s,u=e.andln(3)+r&3,c=t.andln(3)+i&3;if(3===u&&(u=-1),3===c&&(c=-1),0===(1&u))a=0;else a=3!==(s=e.andln(7)+r&7)&&5!==s||2!==c?u:-u;if(n[0].push(a),0===(1&c))o=0;else o=3!==(s=t.andln(7)+i&7)&&5!==s||2!==u?c:-c;n[1].push(o),2*r===a+1&&(r=1-r),2*i===o+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i(e,"hex","le")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},function(e,t,n){"use strict";function r(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(0),i=r.createContext({});t.a=i},function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return g}));var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(235),u=n(631),c=n(7),l=n(629),f=n(165),d=n(14),h=n(32),p=n(25),m={left:"right",right:"left",top:"down",bottom:"up"};function v(e){return-1!==["left","right"].indexOf(e)}function g(e,t){return"rtl"===e.direction&&v(t)?m[t]:t}var b={enter:h.b.enteringScreen,exit:h.b.leavingScreen},y=a.forwardRef((function(e,t){var n=e.anchor,c=void 0===n?"left":n,h=e.BackdropProps,v=e.children,y=e.classes,w=e.className,x=e.elevation,O=void 0===x?16:x,k=e.ModalProps,E=(k=void 0===k?{}:k).BackdropProps,_=Object(i.a)(k,["BackdropProps"]),S=e.onClose,j=e.open,C=void 0!==j&&j,A=e.PaperProps,T=void 0===A?{}:A,N=e.SlideProps,R=e.transitionDuration,M=void 0===R?b:R,D=e.variant,I=void 0===D?"temporary":D,F=Object(i.a)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","transitionDuration","variant"]),P=Object(p.a)(),z=a.useRef(!1);a.useEffect((function(){z.current=!0}),[]);var L=g(P,c),B=a.createElement(f.a,Object(r.a)({elevation:"temporary"===I?O:0,square:!0},T,{className:Object(o.a)(y.paper,y["paperAnchor".concat(Object(d.a)(L))],T.className,"temporary"!==I&&y["paperAnchorDocked".concat(Object(d.a)(L))])}),v);if("permanent"===I)return a.createElement("div",Object(r.a)({className:Object(o.a)(y.root,y.docked,w),ref:t},F),B);var U=a.createElement(l.a,Object(r.a)({in:C,direction:m[L],timeout:M,appear:z.current},N),B);return"persistent"===I?a.createElement("div",Object(r.a)({className:Object(o.a)(y.root,y.docked,w),ref:t},F),U):a.createElement(s.a,Object(r.a)({BackdropProps:Object(r.a)({},h,{},E,{transitionDuration:M}),BackdropComponent:u.a,className:Object(o.a)(y.root,y.modal,w),open:C,onClose:S,ref:t},F,_),U)}));t.a=Object(c.a)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(y)},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return p}));var r=n(3);function i(e){return"/"===e.charAt(0)}function a(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var o=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var l=o[o.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,d=o.length;d>=0;d--){var h=o[d];"."===h?a(o,d):".."===h?(a(o,d),f++):f&&(a(o,d),f--)}if(!c)for(;f--;f)o.unshift("..");!c||""===o[0]||o[0]&&i(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(57);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(a=Object(r.a)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}function w(){try{return window.history.state||{}}catch(e){return{}}}function x(e){void 0===e&&(e={}),b||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,s=void 0!==o&&o,u=a.getUserConfirmation,f=void 0===u?y:u,v=a.keyLength,x=void 0===v?6:v,O=e.basename?h(l(e.basename)):"";function k(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return O&&(a=d(a,O)),m(a,r,n)}function E(){return Math.random().toString(36).substr(2,x)}var _=g();function S(e){Object(r.a)(z,e),z.length=t.length,_.notifyListeners(z.location,z.action)}function j(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||T(k(e.state))}function C(){T(k(w()))}var A=!1;function T(e){if(A)A=!1,S();else{_.confirmTransitionTo(e,"POP",f,(function(t){t?S({action:"POP",location:e}):function(e){var t=z.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,D(i))}(e)}))}}var N=k(w()),R=[N.key];function M(e){return O+p(e)}function D(e){t.go(e)}var I=0;function F(e){1===(I+=e)&&1===e?(window.addEventListener("popstate",j),i&&window.addEventListener("hashchange",C)):0===I&&(window.removeEventListener("popstate",j),i&&window.removeEventListener("hashchange",C))}var P=!1;var z={length:t.length,action:"POP",location:N,createHref:M,push:function(e,r){var i=m(e,r,E(),z.location);_.confirmTransitionTo(i,"PUSH",f,(function(e){if(e){var r=M(i),a=i.key,o=i.state;if(n)if(t.pushState({key:a,state:o},null,r),s)window.location.href=r;else{var u=R.indexOf(z.location.key),c=R.slice(0,u+1);c.push(i.key),R=c,S({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(e,r){var i=m(e,r,E(),z.location);_.confirmTransitionTo(i,"REPLACE",f,(function(e){if(e){var r=M(i),a=i.key,o=i.state;if(n)if(t.replaceState({key:a,state:o},null,r),s)window.location.replace(r);else{var u=R.indexOf(z.location.key);-1!==u&&(R[u]=i.key),S({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return P||(F(1),P=!0),function(){return P&&(P=!1,F(-1)),t()}},listen:function(e){var t=_.appendListener(e);return F(1),function(){F(-1),t()}}};return z}var O={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function k(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function E(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function _(e){window.location.replace(k(window.location.href)+"#"+e)}function S(e){void 0===e&&(e={}),b||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,a=void 0===i?y:i,o=n.hashType,s=void 0===o?"slash":o,u=e.basename?h(l(e.basename)):"",f=O[s],v=f.encodePath,w=f.decodePath;function x(){var e=w(E());return u&&(e=d(e,u)),m(e)}var S=g();function j(e){Object(r.a)(L,e),L.length=t.length,S.notifyListeners(L.location,L.action)}var C=!1,A=null;function T(){var e,t,n=E(),r=v(n);if(n!==r)_(r);else{var i=x(),o=L.location;if(!C&&(t=i,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(A===p(i))return;A=null,function(e){if(C)C=!1,j();else{S.confirmTransitionTo(e,"POP",a,(function(t){t?j({action:"POP",location:e}):function(e){var t=L.location,n=D.lastIndexOf(p(t));-1===n&&(n=0);var r=D.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(C=!0,I(i))}(e)}))}}(i)}}var N=E(),R=v(N);N!==R&&_(R);var M=x(),D=[p(M)];function I(e){t.go(e)}var F=0;function P(e){1===(F+=e)&&1===e?window.addEventListener("hashchange",T):0===F&&window.removeEventListener("hashchange",T)}var z=!1;var L={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=k(window.location.href)),n+"#"+v(u+p(e))},push:function(e,t){var n=m(e,void 0,void 0,L.location);S.confirmTransitionTo(n,"PUSH",a,(function(e){if(e){var t=p(n),r=v(u+t);if(E()!==r){A=t,function(e){window.location.hash=e}(r);var i=D.lastIndexOf(p(L.location)),a=D.slice(0,i+1);a.push(t),D=a,j({action:"PUSH",location:n})}else j()}}))},replace:function(e,t){var n=m(e,void 0,void 0,L.location);S.confirmTransitionTo(n,"REPLACE",a,(function(e){if(e){var t=p(n),r=v(u+t);E()!==r&&(A=t,_(r));var i=D.indexOf(p(L.location));-1!==i&&(D[i]=t),j({action:"REPLACE",location:n})}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return z||(P(1),z=!0),function(){return z&&(z=!1,P(-1)),t()}},listen:function(e){var t=S.appendListener(e);return P(1),function(){P(-1),t()}}};return L}function j(e,t,n){return Math.min(Math.max(e,t),n)}function C(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,s=void 0===o?0:o,u=t.keyLength,c=void 0===u?6:u,l=g();function f(e){Object(r.a)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function d(){return Math.random().toString(36).substr(2,c)}var h=j(s,0,a.length-1),v=a.map((function(e){return m(e,void 0,"string"===typeof e?d():e.key||d())})),b=p;function y(e){var t=j(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var w={length:v.length,action:"POP",location:v[h],index:h,entries:v,createHref:b,push:function(e,t){var r=m(e,t,d(),w.location);l.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=m(e,t,d(),w.location);l.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(w.entries[w.index]=r,f({action:"REPLACE",location:r}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},function(e,t,n){"use strict";var r=n(13),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(361),o=n(362);t.getDrawArea=function(e){if(e instanceof HTMLElement)return e;if(a.isSurface(e))return e.drawArea;if(a.isSurfaceInfo(e))return o.visor().surface({name:e.name,tab:e.tab,styles:e.styles}).drawArea;throw new Error("Not a drawable")},t.shallowEquals=function(e,t){var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(e[a]!==t[a])return!1}return!0},t.nextFrame=function(){return i(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return requestAnimationFrame(e)}));case 2:case"end":return e.stop()}}),e)})))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(3),i=n(6),a=["xs","sm","md","lg","xl"];function o(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,o=e.unit,s=void 0===o?"px":o,u=e.step,c=void 0===u?5:u,l=Object(i.a)(e,["values","unit","step"]);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function d(e,t){var r=a.indexOf(t);return r===a.length-1?f(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[a[r+1]]?n[a[r+1]]:t)-c/100).concat(s,")")}return Object(r.a)({keys:a,values:n,up:f,down:function(e){var t=a.indexOf(e)+1,r=n[a[t]];return t===a.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(s,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},l)}},function(e,t,n){"use strict";var r=n(61),i=n(23);function a(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?n[r++]=o:o<2048?(n[r++]=o>>6|192,n[r++]=63&o|128):a(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),n[r++]=o>>18|240,n[r++]=o>>12&63|128,n[r++]=o>>6&63|128,n[r++]=63&o|128):(n[r++]=o>>12|224,n[r++]=o>>6&63|128,n[r++]=63&o|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},t.htonl=o,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=o(i)),n+=u(i.toString(16))}return n},t.zero2=s,t.zero8=u,t.join32=function(e,t,n,i){var a=n-t;r(a%4===0);for(var o=new Array(a/4),s=0,u=t;s<o.length;s++,u+=4){var c;c="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],o[s]=c>>>0}return o},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var a=e[r];"big"===t?(n[i]=a>>>24,n[i+1]=a>>>16&255,n[i+2]=a>>>8&255,n[i+3]=255&a):(n[i+3]=a>>>24,n[i+2]=a>>>16&255,n[i+1]=a>>>8&255,n[i]=255&a)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],a=r+e[t+1]>>>0,o=(a<r?1:0)+n+i;e[t]=o>>>0,e[t+1]=a},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,a,o,s){var u=0,c=t;return u+=(c=c+r>>>0)<t?1:0,u+=(c=c+a>>>0)<a?1:0,e+n+i+o+(u+=(c=c+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,a,o,s){return t+r+a+s>>>0},t.sum64_5_hi=function(e,t,n,r,i,a,o,s,u,c){var l=0,f=t;return l+=(f=f+r>>>0)<t?1:0,l+=(f=f+a>>>0)<a?1:0,l+=(f=f+s>>>0)<s?1:0,e+n+i+o+u+(l+=(f=f+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,a,o,s,u,c){return t+r+a+s+c>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},function(e,t,n){"use strict";n.r(t),n.d(t,"hexToRgb",(function(){return r.g})),n.d(t,"rgbToHex",(function(){return r.k})),n.d(t,"hslToRgb",(function(){return r.h})),n.d(t,"decomposeColor",(function(){return r.b})),n.d(t,"recomposeColor",(function(){return r.j})),n.d(t,"getContrastRatio",(function(){return r.e})),n.d(t,"getLuminance",(function(){return r.f})),n.d(t,"emphasize",(function(){return r.c})),n.d(t,"fade",(function(){return r.d})),n.d(t,"darken",(function(){return r.a})),n.d(t,"lighten",(function(){return r.i})),n.d(t,"createMuiTheme",(function(){return i.a})),n.d(t,"createStyles",(function(){return a})),n.d(t,"makeStyles",(function(){return o.a})),n.d(t,"responsiveFontSizes",(function(){return m})),n.d(t,"styled",(function(){return v.a})),n.d(t,"easing",(function(){return g.c})),n.d(t,"duration",(function(){return g.b})),n.d(t,"useTheme",(function(){return b.a})),n.d(t,"withStyles",(function(){return y.a})),n.d(t,"withTheme",(function(){return j})),n.d(t,"createGenerateClassName",(function(){return C.a})),n.d(t,"jssPreset",(function(){return A.a})),n.d(t,"ServerStyleSheets",(function(){return D})),n.d(t,"StylesProvider",(function(){return M.b})),n.d(t,"MuiThemeProvider",(function(){return I.a})),n.d(t,"ThemeProvider",(function(){return I.a}));var r=n(17),i=n(209);function a(e){return e}var o=n(349),s=n(3),u=n(19);function c(e){return String(parseFloat(e)).length===String(e).length}function l(e){return parseFloat(e)}function f(e){return function(t,n){var r=String(t).match(/[\d.\-+]*\s*(.*)/)[1]||"";if(r===n)return t;var i=l(t);if("px"!==r)if("em"===r)i=l(t)*l(e);else if("rem"===r)return i=l(t)*l(e),t;var a=i;if("px"!==n)if("em"===n)a=i/l(e);else{if("rem"!==n)return t;a=i/l(e)}return parseFloat(a.toFixed(5))+n}}function d(e){var t=e.size,n=e.grid,r=t-t%n,i=r+n;return t-r<i-t?r:i}function h(e){var t=e.lineHeight;return e.pixels/(t*e.htmlFontSize)}function p(e){var t=e.cssProperty,n=e.min,r=e.max,i=e.unit,a=void 0===i?"rem":i,o=e.breakpoints,s=void 0===o?[600,960,1280]:o,c=e.transform,l=void 0===c?null:c,f=Object(u.a)({},t,"".concat(n).concat(a)),d=(r-n)/s[s.length-1];return s.forEach((function(e){var r=n+d*e;null!==l&&(r=l(r)),f["@media (min-width:".concat(e,"px)")]=Object(u.a)({},t,"".concat(Math.round(1e4*r)/1e4).concat(a))})),f}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.breakpoints,r=void 0===n?["sm","md","lg"]:n,i=t.disableAlign,a=void 0!==i&&i,o=t.factor,u=void 0===o?2:o,l=t.variants,m=void 0===l?["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]:l,v=Object(s.a)({},e);v.typography=Object(s.a)({},v.typography);var g=v.typography,b=f(g.htmlFontSize),y=r.map((function(e){return v.breakpoints.values[e]}));return m.forEach((function(e){var t=g[e],n=parseFloat(b(t.fontSize,"rem"));if(!(n<=1)){var r=n,i=1+(r-1)/u,o=t.lineHeight;if(!c(o)&&!a)throw new Error(["Material-UI: unsupported non-unitless line height with grid alignment.","Use unitless line heights instead."].join("\n"));c(o)||(o=parseFloat(b(o,"rem"))/parseFloat(n));var l=null;a||(l=function(e){return d({size:e,grid:h({pixels:4,lineHeight:o,htmlFontSize:g.htmlFontSize})})}),g[e]=Object(s.a)({},t,{},p({cssProperty:"fontSize",min:i,max:r,unit:"rem",breakpoints:y,transform:l}))}})),v}var v=n(210),g=n(32),b=n(25),y=n(7),w=n(6),x=n(0),O=n.n(x),k=(n(8),n(54)),E=n.n(k),_=n(237);function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=function(e){var n=O.a.forwardRef((function(n,r){var i=n.innerRef,a=Object(w.a)(n,["innerRef"]),o=Object(_.a)()||t;return O.a.createElement(e,Object(s.a)({theme:o,ref:i||r},a))}));return E()(n,e),n};return n}S();var j=S({defaultTheme:n(74).a}),C=n(625),A=n(446),T=n(140),N=n(76),R=n(41),M=n(652),D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(T.a)(this,e),this.options=t}return Object(N.a)(e,[{key:"collect",value:function(e){var t=new Map;this.sheetsRegistry=new R.b;var n=Object(C.a)();return O.a.createElement(M.b,Object(s.a)({sheetsManager:t,serverGenerateClassName:n,sheetsRegistry:this.sheetsRegistry},this.options),e)}},{key:"toString",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():""}},{key:"getStyleElement",value:function(e){return O.a.createElement("style",Object(s.a)({id:"jss-server-side",key:"jss-server-side",dangerouslySetInnerHTML:{__html:this.toString()}},e))}}]),e}(),I=n(657)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),i=n(26),a=!0,o=!1,s=null,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function l(){a=!1}function f(){"hidden"===this.visibilityState&&o&&(a=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||("TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable)}(t)}function h(){o=!0,window.clearTimeout(s),s=window.setTimeout((function(){o=!1}),100)}function p(){return{isFocusVisible:d,onBlurVisible:h,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",f,!0))}),[])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(33);function i(e){return Object(r.a)(e).defaultView||window}},function(e,t,n){"use strict";var r=n(209),i=Object(r.a)();t.a=i},function(e,t,n){"use strict";var r=n(0),i=r.createContext();t.a=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var r=n(109);t.a=function(e){return(e=Object(r.a)(Math.abs(e)))?e[1]:NaN}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(0),i=r.createContext();function a(){return r.useContext(i)}t.a=i},function(e,t,n){"use strict";n.d(t,"c",(function(){return K})),n.d(t,"a",(function(){return X}));var r=n(128),i=n(203),a=n(204),o=function(e){return new Array(e.length)};function s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}s.prototype={constructor:s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function u(e,t,n,r,i,a){for(var o,u=0,c=t.length,l=a.length;u<l;++u)(o=t[u])?(o.__data__=a[u],r[u]=o):n[u]=new s(e,a[u]);for(;u<c;++u)(o=t[u])&&(i[u]=o)}function c(e,t,n,r,i,a,o){var u,c,l,f={},d=t.length,h=a.length,p=new Array(d);for(u=0;u<d;++u)(c=t[u])&&(p[u]=l="$"+o.call(c,c.__data__,u,t),l in f?i[u]=c:f[l]=c);for(u=0;u<h;++u)(c=f[l="$"+o.call(e,a[u],u,a)])?(r[u]=c,c.__data__=a[u],f[l]=null):n[u]=new s(e,a[u]);for(u=0;u<d;++u)(c=t[u])&&f[p[u]]===c&&(i[u]=c)}function l(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var f=n(129);function d(e){return function(){this.removeAttribute(e)}}function h(e){return function(){this.removeAttributeNS(e.space,e.local)}}function p(e,t){return function(){this.setAttribute(e,t)}}function m(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function v(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function g(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var b=n(205);function y(e){return function(){delete this[e]}}function w(e,t){return function(){this[e]=t}}function x(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function O(e){return e.trim().split(/^|\s+/)}function k(e){return e.classList||new E(e)}function E(e){this._node=e,this._names=O(e.getAttribute("class")||"")}function _(e,t){for(var n=k(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function S(e,t){for(var n=k(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function j(e){return function(){_(this,e)}}function C(e){return function(){S(this,e)}}function A(e,t){return function(){(t.apply(this,arguments)?_:S)(this,e)}}E.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function T(){this.textContent=""}function N(e){return function(){this.textContent=e}}function R(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function M(){this.innerHTML=""}function D(e){return function(){this.innerHTML=e}}function I(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function F(){this.nextSibling&&this.parentNode.appendChild(this)}function P(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var z=n(92);function L(){return null}function B(){var e=this.parentNode;e&&e.removeChild(this)}function U(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function W(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}var V=n(107),q=n(130);function H(e,t,n){var r=Object(q.a)(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function G(e,t){return function(){return H(this,e,t)}}function $(e,t){return function(){return H(this,e,t.apply(this,arguments))}}var K=[null];function X(e,t){this._groups=e,this._parents=t}function Y(){return new X([[document.documentElement]],K)}X.prototype=Y.prototype={constructor:X,select:function(e){"function"!==typeof e&&(e=Object(r.a)(e));for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a)for(var o,s,u=t[a],c=u.length,l=i[a]=new Array(c),f=0;f<c;++f)(o=u[f])&&(s=e.call(o,o.__data__,f,u))&&("__data__"in o&&(s.__data__=o.__data__),l[f]=s);return new X(i,this._parents)},selectAll:function(e){"function"!==typeof e&&(e=Object(i.a)(e));for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var s,u=t[o],c=u.length,l=0;l<c;++l)(s=u[l])&&(r.push(e.call(s,s.__data__,l,u)),a.push(s));return new X(r,a)},filter:function(e){"function"!==typeof e&&(e=Object(a.a)(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],u=s.length,c=r[i]=[],l=0;l<u;++l)(o=s[l])&&e.call(o,o.__data__,l,s)&&c.push(o);return new X(r,this._parents)},data:function(e,t){if(!e)return v=new Array(this.size()),d=-1,this.each((function(e){v[++d]=e})),v;var n,r=t?c:u,i=this._parents,a=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var o=a.length,s=new Array(o),l=new Array(o),f=new Array(o),d=0;d<o;++d){var h=i[d],p=a[d],m=p.length,v=e.call(h,h&&h.__data__,d,i),g=v.length,b=l[d]=new Array(g),y=s[d]=new Array(g);r(h,p,b,y,f[d]=new Array(m),v,t);for(var w,x,O=0,k=0;O<g;++O)if(w=b[O]){for(O>=k&&(k=O+1);!(x=y[k])&&++k<g;);w._next=x||null}}return(s=new X(s,i))._enter=l,s._exit=f,s},enter:function(){return new X(this._enter||this._groups.map(o),this._parents)},exit:function(){return new X(this._exit||this._groups.map(o),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return r="function"===typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,c=t[s],l=n[s],f=c.length,d=o[s]=new Array(f),h=0;h<f;++h)(u=c[h]||l[h])&&(d[h]=u);for(;s<r;++s)o[s]=t[s];return new X(o,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=l);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,c=i[a]=new Array(u),f=0;f<u;++f)(o=s[f])&&(c[f]=o);c.sort(t)}return new X(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=Object(f.a)(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?h:d:"function"===typeof t?n.local?g:v:n.local?m:p)(n,t))},style:b.a,property:function(e,t){return arguments.length>1?this.each((null==t?y:"function"===typeof t?x:w)(e,t)):this.node()[e]},classed:function(e,t){var n=O(e+"");if(arguments.length<2){for(var r=k(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?A:t?j:C)(n,t))},text:function(e){return arguments.length?this.each(null==e?T:("function"===typeof e?R:N)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?M:("function"===typeof e?I:D)(e)):this.node().innerHTML},raise:function(){return this.each(F)},lower:function(){return this.each(P)},append:function(e){var t="function"===typeof e?e:Object(z.a)(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:Object(z.a)(e),i=null==t?L:"function"===typeof t?t:Object(r.a)(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(B)},clone:function(e){return this.select(e?W:U)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:V.b,dispatch:function(e,t){return this.each(("function"===typeof t?$:G)(e,t))}};t.b=Y},function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===i}(e)}(e)};var i="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return a(e,n)}))}function s(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||o,n.isMergeableObject=n.isMergeableObject||r;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=a(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=s(e[i],t[i],n):r[i]=a(t[i],n)})),r}(e,t,n):a(t,n)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return s(e,n,t)}),{})};var u=s;t.a=u},function(e,t,n){"use strict";n.r(t);var r=n(284);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(376);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var r=n(232),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.a.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();t.a=s}).call(this,n(267)(e))},function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,a=Object.prototype.hasOwnProperty,o="undefined"!==typeof Element;e.exports=function(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var s,u,c,l=r(t),f=r(n);if(l&&f){if((u=t.length)!=n.length)return!1;for(s=u;0!==s--;)if(!e(t[s],n[s]))return!1;return!0}if(l!=f)return!1;var d=t instanceof Date,h=n instanceof Date;if(d!=h)return!1;if(d&&h)return t.getTime()==n.getTime();var p=t instanceof RegExp,m=n instanceof RegExp;if(p!=m)return!1;if(p&&m)return t.toString()==n.toString();var v=i(t);if((u=v.length)!==i(n).length)return!1;for(s=u;0!==s--;)if(!a.call(n,v[s]))return!1;if(o&&t instanceof Element&&n instanceof Element)return t===n;for(s=u;0!==s--;)if(("_owner"!==(c=v[s])||!t.$$typeof)&&!e(t[c],n[c]))return!1;return!0}return t!==t&&n!==n}(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(147),i=n(68),a={prepend:!1};t.subSurface=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.getDrawArea(e),s=r.css({"& canvas":{display:"block"},marginTop:".5rem",marginBottom:".5rem"}),u=r.css({backgroundColor:"white",display:"inline-block",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",padding:"0 10px 0 10px",marginBottom:"20px",fontWeight:"600",textAlign:"left"}),c=Object.assign({},a,n),l=o.querySelector("div[data-name=".concat(t,"]"));if(!l){if((l=document.createElement("div")).setAttribute("class","".concat(s)),l.dataset.name=t,c.title){var f=document.createElement("div");f.setAttribute("class","subsurface-title ".concat(u)),f.innerText=c.title,l.appendChild(f)}c.prepend?o.insertBefore(l,o.firstChild):o.appendChild(l)}return l},t.getDefaultWidth=function(e){for(var t=0,n=e;n&&0===n.clientWidth;)n=n.parentElement,t=50;return n.clientWidth-t},t.getDefaultHeight=function(e){return 0===e.clientHeight?200:e.clientHeight}},function(e,t,n){"use strict";n.r(t);var r=n(286);n.d(t,"default",(function(){return r.a}));var i=n(48);n.d(t,"useFormControl",(function(){return i.a}))},function(e,t,n){"use strict";n.r(t);var r=n(375);n.d(t,"default",(function(){return r.a}))},function(e,t,n){var r=n(24).Buffer,i=n(269).Transform,a=n(273).StringDecoder;function o(e){i.call(this),this.hashMode="string"===typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(23)(o,i),o.prototype.update=function(e,t,n){"string"===typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){r=i}finally{n(r)}},o.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(n){t=n}e(t)},o.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},o.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new a(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a.a})),n.d(t,"d",(function(){return o.a})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s.a})),n.d(t,"g",(function(){return u.a})),n.d(t,"h",(function(){return c.a})),n.d(t,"i",(function(){return l.a})),n.d(t,"j",(function(){return f.a})),n.d(t,"l",(function(){return d.a})),n.d(t,"m",(function(){return h.a})),n.d(t,"n",(function(){return p.a})),n.d(t,"o",(function(){return m.a})),n.d(t,"k",(function(){return v.a})),n.d(t,"p",(function(){return g.a}));var r=n(14);function i(e,t){return function(){return null}}var a=n(29),o=n(47),s=n(63),u=n(33),c=n(73),l=n(266),f=n(38),d=n(151),h=n(50),p=n(27),m=n(21),v=n(131),g=n(72)},function(e,t,n){"use strict";var r=n(129),i=n(95);function a(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===i.b&&t.documentElement.namespaceURI===i.b?t.createElement(e):t.createElementNS(n,e)}}function o(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}t.a=function(e){var t=Object(r.a)(e);return(t.local?o:a)(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(163);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";var r=n(443);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var r="http://www.w3.org/1999/xhtml";t.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return z}));var r=n(44),i=n(0),a=n.n(i),o=n(8),s=n.n(o),u=n(67),c=n(291),l=n.n(c),f=n(425),d=n.n(f);function h(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var p=a.a.createContext||function(e,t){var n,r,a="__create-react-context-"+d()()+"__",o=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=h(t.props.value),t}l()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?n=0:(n="function"===typeof t?t(r,i):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var a,o},r.render=function(){return this.props.children},n}(i.Component);o.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}l()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return u.contextTypes=((r={})[a]=s.a.object,r),{Provider:o,Consumer:u}},m=n(57),v=n(3),g=n(292),b=n.n(g),y=(n(58),n(49)),w=(n(54),function(e){var t=p();return t.displayName=e,t}("Router")),x=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return a.a.createElement(w.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(a.a.Component);a.a.Component;var O=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(a.a.Component);var k={},E=0;function _(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(k[e])return k[e];var t=b.a.compile(e);return E<1e4&&(k[e]=t,E++),t}(e)(t,{pretty:!0})}function S(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return a.a.createElement(w.Consumer,null,(function(e){e||Object(m.a)(!1);var r=e.history,o=e.staticContext,s=i?r.push:r.replace,c=Object(u.c)(t?"string"===typeof n?_(n,t.params):Object(v.a)({},n,{pathname:_(n.pathname,t.params)}):n);return o?(s(c),null):a.a.createElement(O,{onMount:function(){s(c)},onUpdate:function(e,t){var n=Object(u.c)(t.to);Object(u.f)(n,Object(v.a)({},c,{key:n.key}))||s(c)},to:n})}))}var j={},C=0;function A(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=j[n]||(j[n]={});if(r[e])return r[e];var i=[],a={regexp:b()(e,i,t),keys:i};return C<1e4&&(r[e]=a,C++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),d=e===l;return a&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var T=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(w.Consumer,null,(function(t){t||Object(m.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?A(n.pathname,e.props):t.match,i=Object(v.a)({},t,{location:n,match:r}),o=e.props,s=o.children,u=o.component,c=o.render;return Array.isArray(s)&&0===s.length&&(s=null),a.a.createElement(w.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?a.a.createElement(u,i):c?c(i):null:"function"===typeof s?s(i):null)}))},t}(a.a.Component);function N(e){return"/"===e.charAt(0)?e:"/"+e}function R(e,t){if(!e)return t;var n=N(e);return 0!==t.pathname.indexOf(n)?t:Object(v.a)({},t,{pathname:t.pathname.substr(n.length)})}function M(e){return"string"===typeof e?e:Object(u.e)(e)}function D(e){return function(){Object(m.a)(!1)}}function I(){}a.a.Component;var F=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(w.Consumer,null,(function(t){t||Object(m.a)(!1);var n,r,i=e.props.location||t.location;return a.a.Children.forEach(e.props.children,(function(e){if(null==r&&a.a.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?A(i.pathname,Object(v.a)({},e.props,{path:o})):t.match}})),r?a.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(a.a.Component);var P=a.a.useContext;function z(){return P(w).history}},,function(e,t,n){"use strict";n.r(t);var r=n(180);n.d(t,"formatDefaultLocale",(function(){return r.a})),n.d(t,"format",(function(){return r.b})),n.d(t,"formatPrefix",(function(){return r.c}));var i=n(208);n.d(t,"formatLocale",(function(){return i.a}));var a=n(127);n.d(t,"formatSpecifier",(function(){return a.b})),n.d(t,"FormatSpecifier",(function(){return a.a}));var o=n(356);n.d(t,"precisionFixed",(function(){return o.a}));var s=n(354);n.d(t,"precisionPrefix",(function(){return s.a}));var u=n(355);n.d(t,"precisionRound",(function(){return u.a}))},function(e,t,n){"use strict";n.r(t);var r=n(420);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(377);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(228);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(290);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(227);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(379);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(197),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var a=Object.create(n(157));a.inherits=n(23);var o=n(383),s=n(272);a.inherits(f,o);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l}));var r={},i=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(r={mouseenter:"mouseover",mouseleave:"mouseout"}));function a(e,t,n){return e=o(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function o(e,t,n){return function(r){var a=i;i=r;try{e.call(this,this.__data__,t,n)}finally{i=a}}}function s(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function u(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function c(e,t,n){var i=r.hasOwnProperty(e.type)?a:o;return function(r,a,o){var s,u=this.__on,c=i(t,a,o);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function l(e,t,n,r){var a=i;e.sourceEvent=i,i=e;try{return t.apply(n,r)}finally{i=a}}t.b=function(e,t,n){var r,i,a=s(e+""),o=a.length;if(!(arguments.length<2)){for(l=t?c:u,null==n&&(n=!1),r=0;r<o;++r)this.each(l(a[r],t,n));return this}var l=this.node().__on;if(l)for(var f,d=0,h=l.length;d<h;++d)for(r=0,f=l[d];r<o;++r)if((i=a[r]).type===f.type&&i.name===f.name)return f.value}},function(e,t,n){"use strict";t.a={black:"#000",white:"#fff"}},function(e,t,n){"use strict";t.a=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}},function(e,t,n){"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function a(e){return e.startAdornment}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){return r.call(e).endsWith("Array]")}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="object"===("undefined"===typeof window?"undefined":r(window))&&"object"===("undefined"===typeof document?"undefined":r(document))&&9===document.nodeType;t.a=i},function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(14),c={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},l=a.forwardRef((function(e,t){var n=e.align,s=void 0===n?"inherit":n,l=e.classes,f=e.className,d=e.color,h=void 0===d?"initial":d,p=e.component,m=e.display,v=void 0===m?"initial":m,g=e.gutterBottom,b=void 0!==g&&g,y=e.noWrap,w=void 0!==y&&y,x=e.paragraph,O=void 0!==x&&x,k=e.variant,E=void 0===k?"body1":k,_=e.variantMapping,S=void 0===_?c:_,j=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),C=p||(O?"p":S[E]||c[E])||"span";return a.createElement(C,Object(r.a)({className:Object(o.a)(l.root,f,"inherit"!==E&&l[E],"initial"!==h&&l["color".concat(Object(u.a)(h))],w&&l.noWrap,b&&l.gutterBottom,O&&l.paragraph,"inherit"!==s&&l["align".concat(Object(u.a)(s))],"initial"!==v&&l["display".concat(Object(u.a)(v))]),ref:t},j))}));t.a=Object(s.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(477),i=n(513),a=n(514),o=n(265),s=n(366),u=n(521),c=n(185),l=n(522),f=n(524),d=n(525),h=n(526),p=n(184),m=n(527);t.version_vis=m.version;var v={barchart:r.barchart,table:c.table,histogram:o.histogram,linechart:s.linechart,scatterplot:u.scatterplot,confusionMatrix:i.confusionMatrix,heatmap:a.heatmap};t.render=v;var g={accuracy:p.accuracy,perClassAccuracy:p.perClassAccuracy,confusionMatrix:p.confusionMatrix};t.metrics=g;var b={history:l.history,fitCallbacks:l.fitCallbacks,perClassAccuracy:d.showPerClassAccuracy,valuesDistribution:h.valuesDistribution,layer:f.layer,modelSummary:f.modelSummary};t.show=b;var y=n(362);t.visor=y.visor,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(361))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(10);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},a={key:r,value:e[r]};return n(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,o;if(Array.isArray(t)){for(o="[",n=0;n<t.length;n++)n&&(o+=","),o+=e(t[n])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=a.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(o="",n=0;n<u.length;n++){var c=u[n],l=e(t[c]);l&&(o&&(o+=","),o+=JSON.stringify(c)+":"+l)}return a.splice(s,1),"{"+o+"}"}}(e)}},,,function(e,t,n){"use strict";n.r(t);var r=n(223);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(352);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(162);n.d(t,"a",(function(){return r.b}))},function(e,t,n){"use strict";(function(t,r){var i=n(24).Buffer,a=t.crypto||t.msCrypto;a&&a.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var n=i.allocUnsafe(e);if(e>0)if(e>65536)for(var o=0;o<e;o+=65536)a.getRandomValues(n.slice(o,o+65536));else a.getRandomValues(n);if("function"===typeof t)return r.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(42),n(60))},function(e,t,n){var r=n(24).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,a=e.length,o=this._len,s=0;s<a;){for(var u=o%i,c=Math.min(a-s,i-u),l=0;l<c;l++)n[u+l]=e[s+l];s+=c,(o+=c)%i===0&&this._update(n)}return this._len+=a,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},function(e,t,n){"use strict";n.r(t),n.d(t,"vega",(function(){return kH})),n.d(t,"vegaLite",(function(){return EH})),n.d(t,"guessMode",(function(){return MH})),n.d(t,"default",(function(){return IH}));var r={};n.r(r),n.d(r,"aggregate",(function(){return Ii})),n.d(r,"bin",(function(){return Pi})),n.d(r,"collect",(function(){return Bi})),n.d(r,"compare",(function(){return Ui})),n.d(r,"countpattern",(function(){return Vi})),n.d(r,"cross",(function(){return Hi})),n.d(r,"density",(function(){return $i})),n.d(r,"dotbin",(function(){return Ji})),n.d(r,"expression",(function(){return Qi})),n.d(r,"extent",(function(){return ta})),n.d(r,"facet",(function(){return ia})),n.d(r,"field",(function(){return oa})),n.d(r,"filter",(function(){return ua})),n.d(r,"flatten",(function(){return ca})),n.d(r,"fold",(function(){return la})),n.d(r,"formula",(function(){return fa})),n.d(r,"generate",(function(){return da})),n.d(r,"impute",(function(){return ma})),n.d(r,"joinaggregate",(function(){return va})),n.d(r,"kde",(function(){return ba})),n.d(r,"key",(function(){return ya})),n.d(r,"load",(function(){return xa})),n.d(r,"lookup",(function(){return ka})),n.d(r,"multiextent",(function(){return Ea})),n.d(r,"multivalues",(function(){return Sa})),n.d(r,"params",(function(){return Ca})),n.d(r,"pivot",(function(){return Aa})),n.d(r,"prefacet",(function(){return Na})),n.d(r,"project",(function(){return Ra})),n.d(r,"proxy",(function(){return Ma})),n.d(r,"quantile",(function(){return Ia})),n.d(r,"relay",(function(){return Pa})),n.d(r,"sample",(function(){return za})),n.d(r,"sequence",(function(){return La})),n.d(r,"sieve",(function(){return Ba})),n.d(r,"subflow",(function(){return na})),n.d(r,"timeunit",(function(){return hs})),n.d(r,"tupleindex",(function(){return vs})),n.d(r,"values",(function(){return gs})),n.d(r,"window",(function(){return Os}));var i={};n.r(i),n.d(i,"bound",(function(){return Kd})),n.d(i,"identifier",(function(){return Yd})),n.d(i,"mark",(function(){return Zd})),n.d(i,"overlap",(function(){return Jd})),n.d(i,"render",(function(){return oh})),n.d(i,"viewlayout",(function(){return Ah}));var a={};n.r(a),n.d(a,"interpolate",(function(){return Yp})),n.d(a,"interpolateArray",(function(){return Wp})),n.d(a,"interpolateBasis",(function(){return Ap})),n.d(a,"interpolateBasisClosed",(function(){return Tp})),n.d(a,"interpolateDate",(function(){return qp})),n.d(a,"interpolateDiscrete",(function(){return Xm})),n.d(a,"interpolateHue",(function(){return Ym})),n.d(a,"interpolateNumber",(function(){return Hp})),n.d(a,"interpolateNumberArray",(function(){return Bp})),n.d(a,"interpolateObject",(function(){return Gp})),n.d(a,"interpolateRound",(function(){return Zp})),n.d(a,"interpolateString",(function(){return Xp})),n.d(a,"interpolateTransformCss",(function(){return tv})),n.d(a,"interpolateTransformSvg",(function(){return nv})),n.d(a,"interpolateZoom",(function(){return av})),n.d(a,"interpolateRgb",(function(){return Fp})),n.d(a,"interpolateRgbBasis",(function(){return zp})),n.d(a,"interpolateRgbBasisClosed",(function(){return Lp})),n.d(a,"interpolateHsl",(function(){return sv})),n.d(a,"interpolateHslLong",(function(){return uv})),n.d(a,"interpolateLab",(function(){return Ov})),n.d(a,"interpolateHcl",(function(){return Ev})),n.d(a,"interpolateHclLong",(function(){return _v})),n.d(a,"interpolateCubehelix",(function(){return Dv})),n.d(a,"interpolateCubehelixLong",(function(){return Iv})),n.d(a,"piecewise",(function(){return Nm})),n.d(a,"quantize",(function(){return Fv}));var o={};n.r(o),n.d(o,"axisticks",(function(){return Jv})),n.d(o,"datajoin",(function(){return Qv})),n.d(o,"encode",(function(){return ng})),n.d(o,"legendentries",(function(){return fg})),n.d(o,"linkpath",(function(){return gg})),n.d(o,"pie",(function(){return Og})),n.d(o,"scale",(function(){return _g})),n.d(o,"sortitems",(function(){return Ag})),n.d(o,"stack",(function(){return Ng})),n.d(o,"validTicks",(function(){return Xv}));var s={};n.r(s),n.d(s,"contour",(function(){return Qg})),n.d(s,"geojson",(function(){return eb})),n.d(s,"geopath",(function(){return px})),n.d(s,"geopoint",(function(){return mx})),n.d(s,"geoshape",(function(){return vx})),n.d(s,"graticule",(function(){return wx})),n.d(s,"heatmap",(function(){return xx})),n.d(s,"isocontour",(function(){return Wg})),n.d(s,"kde2d",(function(){return Xg})),n.d(s,"projection",(function(){return kx}));var u={};n.r(u),n.d(u,"force",(function(){return vO}));var c={};n.r(c),n.d(c,"nest",(function(){return AO})),n.d(c,"pack",(function(){return rk})),n.d(c,"partition",(function(){return uk})),n.d(c,"stratify",(function(){return mk})),n.d(c,"tree",(function(){return jk})),n.d(c,"treelinks",(function(){return Ak})),n.d(c,"treemap",(function(){return Pk}));var l={};n.r(l),n.d(l,"loess",(function(){return Bk})),n.d(l,"regression",(function(){return Wk}));var f={};n.r(f),n.d(f,"voronoi",(function(){return pE}));var d={};n.r(d),n.d(d,"wordcloud",(function(){return CE}));var h={};n.r(h),n.d(h,"crossfilter",(function(){return IE})),n.d(h,"resolvefilter",(function(){return PE}));var p={};n.r(p),n.d(p,"version",(function(){return zE.a})),n.d(p,"bandwidthNRD",(function(){return Br})),n.d(p,"bin",(function(){return Ur})),n.d(p,"bootstrapCI",(function(){return qr})),n.d(p,"dotbin",(function(){return Hr})),n.d(p,"quantiles",(function(){return Pr})),n.d(p,"quartiles",(function(){return zr})),n.d(p,"random",(function(){return Wr})),n.d(p,"setRandom",(function(){return Vr})),n.d(p,"randomLCG",(function(){return Gr})),n.d(p,"randomInteger",(function(){return $r})),n.d(p,"randomKDE",(function(){return ni})),n.d(p,"randomLogNormal",(function(){return si})),n.d(p,"sampleLogNormal",(function(){return ri})),n.d(p,"densityLogNormal",(function(){return ii})),n.d(p,"cumulativeLogNormal",(function(){return ai})),n.d(p,"quantileLogNormal",(function(){return oi})),n.d(p,"randomMixture",(function(){return ui})),n.d(p,"randomNormal",(function(){return ti})),n.d(p,"sampleNormal",(function(){return Zr})),n.d(p,"densityNormal",(function(){return Jr})),n.d(p,"cumulativeNormal",(function(){return Qr})),n.d(p,"quantileNormal",(function(){return ei})),n.d(p,"randomUniform",(function(){return hi})),n.d(p,"sampleUniform",(function(){return ci})),n.d(p,"densityUniform",(function(){return li})),n.d(p,"cumulativeUniform",(function(){return fi})),n.d(p,"quantileUniform",(function(){return di})),n.d(p,"regressionLinear",(function(){return bi})),n.d(p,"regressionLog",(function(){return yi})),n.d(p,"regressionExp",(function(){return xi})),n.d(p,"regressionPow",(function(){return Oi})),n.d(p,"regressionQuad",(function(){return ki})),n.d(p,"regressionPoly",(function(){return Ei})),n.d(p,"regressionLoess",(function(){return ji})),n.d(p,"sampleCurve",(function(){return Ni})),n.d(p,"timeUnits",(function(){return Ja})),n.d(p,"timeFloor",(function(){return lo})),n.d(p,"utcFloor",(function(){return vo})),n.d(p,"timeUnitSpecifier",(function(){return $o})),n.d(p,"timeFormat",(function(){return Ko})),n.d(p,"utcFormat",(function(){return Xo})),n.d(p,"timeInterval",(function(){return zo})),n.d(p,"timeOffset",(function(){return Uo})),n.d(p,"timeSequence",(function(){return qo})),n.d(p,"utcInterval",(function(){return Lo})),n.d(p,"utcOffset",(function(){return Wo})),n.d(p,"utcSequence",(function(){return Ho})),n.d(p,"timeBin",(function(){return ds})),n.d(p,"accessor",(function(){return A.f})),n.d(p,"accessorName",(function(){return A.h})),n.d(p,"accessorFields",(function(){return A.g})),n.d(p,"id",(function(){return A.w})),n.d(p,"identity",(function(){return A.x})),n.d(p,"zero",(function(){return A.kb})),n.d(p,"one",(function(){return A.O})),n.d(p,"truthy",(function(){return A.gb})),n.d(p,"falsy",(function(){return A.r})),n.d(p,"logger",(function(){return A.K})),n.d(p,"None",(function(){return A.d})),n.d(p,"Error",(function(){return A.b})),n.d(p,"Warn",(function(){return A.e})),n.d(p,"Info",(function(){return A.c})),n.d(p,"Debug",(function(){return A.a})),n.d(p,"mergeConfig",(function(){return A.N})),n.d(p,"writeConfig",(function(){return A.jb})),n.d(p,"panLinear",(function(){return A.Q})),n.d(p,"panLog",(function(){return A.R})),n.d(p,"panPow",(function(){return A.S})),n.d(p,"panSymlog",(function(){return A.T})),n.d(p,"zoomLinear",(function(){return A.lb})),n.d(p,"zoomLog",(function(){return A.mb})),n.d(p,"zoomPow",(function(){return A.nb})),n.d(p,"zoomSymlog",(function(){return A.ob})),n.d(p,"quarter",(function(){return A.V})),n.d(p,"utcquarter",(function(){return A.hb})),n.d(p,"array",(function(){return A.i})),n.d(p,"clampRange",(function(){return A.j})),n.d(p,"compare",(function(){return A.k})),n.d(p,"constant",(function(){return A.l})),n.d(p,"debounce",(function(){return A.m})),n.d(p,"error",(function(){return A.n})),n.d(p,"extend",(function(){return A.o})),n.d(p,"extent",(function(){return A.p})),n.d(p,"extentIndex",(function(){return A.q})),n.d(p,"fastmap",(function(){return A.s})),n.d(p,"field",(function(){return A.t})),n.d(p,"flush",(function(){return A.u})),n.d(p,"hasOwnProperty",(function(){return A.v})),n.d(p,"inherits",(function(){return A.y})),n.d(p,"inrange",(function(){return A.z})),n.d(p,"isArray",(function(){return A.A})),n.d(p,"isBoolean",(function(){return A.B})),n.d(p,"isDate",(function(){return A.C})),n.d(p,"isFunction",(function(){return A.D})),n.d(p,"isNumber",(function(){return A.E})),n.d(p,"isObject",(function(){return A.F})),n.d(p,"isRegExp",(function(){return A.G})),n.d(p,"isString",(function(){return A.H})),n.d(p,"key",(function(){return A.I})),n.d(p,"lerp",(function(){return A.J})),n.d(p,"lruCache",(function(){return A.L})),n.d(p,"merge",(function(){return A.M})),n.d(p,"pad",(function(){return A.P})),n.d(p,"peek",(function(){return A.U})),n.d(p,"repeat",(function(){return A.W})),n.d(p,"span",(function(){return A.X})),n.d(p,"splitAccessPath",(function(){return A.Y})),n.d(p,"stringValue",(function(){return A.Z})),n.d(p,"toBoolean",(function(){return A.ab})),n.d(p,"toDate",(function(){return A.bb})),n.d(p,"toNumber",(function(){return A.cb})),n.d(p,"toString",(function(){return A.eb})),n.d(p,"toSet",(function(){return A.db})),n.d(p,"truncate",(function(){return A.fb})),n.d(p,"visitArray",(function(){return A.ib})),n.d(p,"loader",(function(){return Wn})),n.d(p,"read",(function(){return Un})),n.d(p,"inferType",(function(){return we})),n.d(p,"inferTypes",(function(){return xe})),n.d(p,"typeParsers",(function(){return ge})),n.d(p,"format",(function(){return qe})),n.d(p,"formats",(function(){return He})),n.d(p,"responseType",(function(){return Ge})),n.d(p,"Bounds",(function(){return Rs})),n.d(p,"Gradient",(function(){return zs})),n.d(p,"GroupItem",(function(){return Bs})),n.d(p,"ResourceLoader",(function(){return Vs})),n.d(p,"Item",(function(){return Ls})),n.d(p,"Scenegraph",(function(){return zf})),n.d(p,"Handler",(function(){return $f})),n.d(p,"Renderer",(function(){return Yf})),n.d(p,"CanvasHandler",(function(){return Jf})),n.d(p,"CanvasRenderer",(function(){return rd})),n.d(p,"SVGHandler",(function(){return ud})),n.d(p,"SVGRenderer",(function(){return gd})),n.d(p,"SVGStringRenderer",(function(){return Td})),n.d(p,"RenderType",(function(){return Pd})),n.d(p,"renderModule",(function(){return Ld})),n.d(p,"intersect",(function(){return Bd})),n.d(p,"Marks",(function(){return Nf})),n.d(p,"boundClip",(function(){return Hd})),n.d(p,"boundContext",(function(){return Qc})),n.d(p,"boundStroke",(function(){return Kc})),n.d(p,"boundItem",(function(){return Rf})),n.d(p,"boundMark",(function(){return Df})),n.d(p,"pathCurves",(function(){return Bu})),n.d(p,"pathSymbols",(function(){return ic})),n.d(p,"pathRectangle",(function(){return yc})),n.d(p,"pathTrail",(function(){return wc})),n.d(p,"pathParse",(function(){return Vu})),n.d(p,"pathRender",(function(){return ec})),n.d(p,"point",(function(){return Gf})),n.d(p,"domCreate",(function(){return Uf})),n.d(p,"domFind",(function(){return Wf})),n.d(p,"domChild",(function(){return Vf})),n.d(p,"domClear",(function(){return qf})),n.d(p,"openTag",(function(){return fd})),n.d(p,"closeTag",(function(){return dd})),n.d(p,"font",(function(){return _f})),n.d(p,"fontFamily",(function(){return Ef})),n.d(p,"fontSize",(function(){return yf})),n.d(p,"lineHeight",(function(){return wf})),n.d(p,"multiLineOffset",(function(){return Of})),n.d(p,"textMetrics",(function(){return hf})),n.d(p,"resetSVGClipId",(function(){return Wl})),n.d(p,"sceneEqual",(function(){return Gd})),n.d(p,"pathEqual",(function(){return $d})),n.d(p,"sceneToJSON",(function(){return Ff})),n.d(p,"sceneFromJSON",(function(){return Pf})),n.d(p,"intersectPath",(function(){return ll})),n.d(p,"intersectPoint",(function(){return fl})),n.d(p,"intersectRule",(function(){return hl})),n.d(p,"intersectBoxLine",(function(){return pl})),n.d(p,"sceneZOrder",(function(){return kl})),n.d(p,"sceneVisit",(function(){return El})),n.d(p,"scenePickVisit",(function(){return _l})),n.d(p,"Dataflow",(function(){return lr})),n.d(p,"EventStream",(function(){return te})),n.d(p,"Parameters",(function(){return $})),n.d(p,"Pulse",(function(){return Zn})),n.d(p,"MultiPulse",(function(){return nr})),n.d(p,"Operator",(function(){return Z})),n.d(p,"Transform",(function(){return hr})),n.d(p,"changeset",(function(){return H})),n.d(p,"ingest",(function(){return L})),n.d(p,"isTuple",(function(){return F})),n.d(p,"definition",(function(){return vr})),n.d(p,"transform",(function(){return gr})),n.d(p,"transforms",(function(){return mr})),n.d(p,"tupleid",(function(){return P})),n.d(p,"scale",(function(){return Fm})),n.d(p,"scheme",(function(){return Gv})),n.d(p,"interpolate",(function(){return Wv})),n.d(p,"interpolateColors",(function(){return Lv})),n.d(p,"interpolateRange",(function(){return zv})),n.d(p,"quantizeInterpolator",(function(){return Bv})),n.d(p,"projection",(function(){return lx})),n.d(p,"View",(function(){return AC})),n.d(p,"expressionFunction",(function(){return iC})),n.d(p,"formatLocale",(function(){return Hh.a})),n.d(p,"timeFormatLocale",(function(){return Bn})),n.d(p,"parse",(function(){return BN})),n.d(p,"runtime",(function(){return vC})),n.d(p,"runtimeContext",(function(){return bC}));var m={};n.r(m),n.d(m,"invalidSpec",(function(){return BM})),n.d(m,"FIT_NON_SINGLE",(function(){return UM})),n.d(m,"containerSizeNonSingle",(function(){return WM})),n.d(m,"containerSizeNotCompatibleWithAutosize",(function(){return VM})),n.d(m,"droppingFit",(function(){return qM})),n.d(m,"cannotProjectOnChannelWithoutField",(function(){return HM})),n.d(m,"cannotProjectAggregate",(function(){return GM})),n.d(m,"nearestNotSupportForContinuous",(function(){return $M})),n.d(m,"selectionNotSupported",(function(){return KM})),n.d(m,"selectionNotFound",(function(){return XM})),n.d(m,"SCALE_BINDINGS_CONTINUOUS",(function(){return YM})),n.d(m,"LEGEND_BINDINGS_PROJECT_LENGTH",(function(){return ZM})),n.d(m,"noSameUnitLookup",(function(){return JM})),n.d(m,"noSuchRepeatedValue",(function(){return QM})),n.d(m,"columnsNotSupportByRowCol",(function(){return eD})),n.d(m,"CONCAT_CANNOT_SHARE_AXIS",(function(){return tD})),n.d(m,"REPEAT_CANNOT_SHARE_AXIS",(function(){return nD})),n.d(m,"unrecognizedParse",(function(){return rD})),n.d(m,"differentParse",(function(){return iD})),n.d(m,"invalidTransformIgnored",(function(){return aD})),n.d(m,"NO_FIELDS_NEEDS_AS",(function(){return oD})),n.d(m,"encodingOverridden",(function(){return sD})),n.d(m,"projectionOverridden",(function(){return uD})),n.d(m,"primitiveChannelDef",(function(){return cD})),n.d(m,"invalidFieldType",(function(){return lD})),n.d(m,"nonZeroScaleUsedWithLengthMark",(function(){return fD})),n.d(m,"invalidFieldTypeForCountAggregate",(function(){return dD})),n.d(m,"invalidAggregate",(function(){return hD})),n.d(m,"missingFieldType",(function(){return pD})),n.d(m,"droppingColor",(function(){return mD})),n.d(m,"emptyFieldDef",(function(){return vD})),n.d(m,"latLongDeprecated",(function(){return gD})),n.d(m,"LINE_WITH_VARYING_SIZE",(function(){return bD})),n.d(m,"incompatibleChannel",(function(){return yD})),n.d(m,"invalidEncodingChannel",(function(){return wD})),n.d(m,"facetChannelShouldBeDiscrete",(function(){return xD})),n.d(m,"facetChannelDropped",(function(){return OD})),n.d(m,"discreteChannelCannotEncode",(function(){return kD})),n.d(m,"lineWithRange",(function(){return ED})),n.d(m,"orientOverridden",(function(){return _D})),n.d(m,"CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN",(function(){return SD})),n.d(m,"RANGE_STEP_DEPRECATED",(function(){return jD})),n.d(m,"cannotUseScalePropertyWithNonColor",(function(){return CD})),n.d(m,"unaggregateDomainHasNoEffectForRawField",(function(){return AD})),n.d(m,"unaggregateDomainWithNonSharedDomainOp",(function(){return TD})),n.d(m,"unaggregatedDomainWithLogScale",(function(){return ND})),n.d(m,"cannotApplySizeToNonOrientedMark",(function(){return RD})),n.d(m,"scaleTypeNotWorkWithChannel",(function(){return MD})),n.d(m,"scaleTypeNotWorkWithFieldDef",(function(){return DD})),n.d(m,"scalePropertyNotWorkWithScaleType",(function(){return ID})),n.d(m,"scaleTypeNotWorkWithMark",(function(){return FD})),n.d(m,"stepDropped",(function(){return PD})),n.d(m,"mergeConflictingProperty",(function(){return zD})),n.d(m,"mergeConflictingDomainProperty",(function(){return LD})),n.d(m,"independentScaleMeansIndependentGuide",(function(){return BD})),n.d(m,"domainSortDropped",(function(){return UD})),n.d(m,"UNABLE_TO_MERGE_DOMAINS",(function(){return WD})),n.d(m,"MORE_THAN_ONE_SORT",(function(){return VD})),n.d(m,"INVALID_CHANNEL_FOR_AXIS",(function(){return qD})),n.d(m,"cannotStackRangedMark",(function(){return HD})),n.d(m,"cannotStackNonLinearScale",(function(){return GD})),n.d(m,"stackNonSummativeAggregate",(function(){return $D})),n.d(m,"invalidTimeUnit",(function(){return KD})),n.d(m,"dayReplacedWithDate",(function(){return XD})),n.d(m,"droppedDay",(function(){return YD})),n.d(m,"errorBarCenterAndExtentAreNotNeeded",(function(){return ZD})),n.d(m,"errorBarCenterIsUsedWithWrongExtent",(function(){return JD})),n.d(m,"errorBarContinuousAxisHasCustomizedAggregate",(function(){return QD})),n.d(m,"errorBarCenterIsNotNeeded",(function(){return eI})),n.d(m,"errorBand1DNotSupport",(function(){return tI})),n.d(m,"channelRequiredForBinned",(function(){return nI})),n.d(m,"domainRequiredForThresholdScale",(function(){return rI}));var v={};n.r(v),n.d(v,"symbols",(function(){return eW})),n.d(v,"gradient",(function(){return tW})),n.d(v,"labels",(function(){return nW})),n.d(v,"entries",(function(){return rW})),n.d(v,"getFirstConditionValue",(function(){return aW}));var g={};n.r(g),n.d(g,"compile",(function(){return $q})),n.d(g,"extractTransforms",(function(){return Zq})),n.d(g,"normalize",(function(){return Xz})),n.d(g,"version",(function(){return Jq}));var b={};n.r(b),n.d(b,"dark",(function(){return nH})),n.d(b,"excel",(function(){return rH})),n.d(b,"fivethirtyeight",(function(){return iH})),n.d(b,"ggplot2",(function(){return aH})),n.d(b,"latimes",(function(){return uH})),n.d(b,"quartz",(function(){return cH})),n.d(b,"vox",(function(){return lH})),n.d(b,"urbaninstitute",(function(){return dH})),n.d(b,"googlecharts",(function(){return hH})),n.d(b,"version",(function(){return pH}));var y=n(13),w=n.n(y);function x(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function O(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}var k=n(202),E=n(107),_=n(80),S=n(236),j=n.n(S),C=n(293),A=n(1);function T(e){var t=e||A.x,n=[],r={};return n.add=function(e){var i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=function(e){var i,a=t(e);return r[a]&&(r[a]=0,(i=n.indexOf(e))>=0&&n.splice(i,1)),n},n}var N=n(20),R=function(e,t){return M.apply(this,arguments)};function M(){return(M=Object(N.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var D=Symbol("vega_id"),I=1;function F(e){return!(!e||!P(e))}function P(e){return e[D]}function z(e,t){return e[D]=t,e}function L(e){var t=e===Object(e)?e:{data:e};return P(t)?t:z(t,I++)}function B(e){return U(e,L({}))}function U(e,t){for(var n in e)t[n]=e[n];return t}function W(e,t){return z(t,P(e))}function V(e,t){return e?t?function(n,r){return e(n,r)||P(t(n))-P(t(r))}:function(t,n){return e(t,n)||P(t)-P(n)}:null}function q(e){return e&&e.constructor===H}function H(){var e=[],t=[],n=[],r=[],i=[],a=!1;return{constructor:H,insert:function(t){for(var n=Object(A.i)(t),r=0,i=n.length;r<i;++r)e.push(n[r]);return this},remove:function(e){for(var n=Object(A.D)(e)?r:t,i=Object(A.i)(e),a=0,o=i.length;a<o;++a)n.push(i[a]);return this},modify:function(e,t,r){var a={field:t,value:Object(A.l)(r)};return Object(A.D)(e)?(a.filter=e,i.push(a)):(a.tuple=e,n.push(a)),this},encode:function(e,t){return Object(A.D)(e)?i.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},reflow:function(){return a=!0,this},pulse:function(o,s){var u,c,l,f,d,h,p={},m={};for(u=0,c=s.length;u<c;++u)p[P(s[u])]=1;for(u=0,c=t.length;u<c;++u)p[P(d=t[u])]=-1;for(u=0,c=r.length;u<c;++u)f=r[u],s.forEach((function(e){f(e)&&(p[P(e)]=-1)}));for(u=0,c=e.length;u<c;++u)h=P(d=e[u]),p[h]?p[h]=1:o.add.push(L(e[u]));for(u=0,c=s.length;u<c;++u)d=s[u],p[P(d)]<0&&o.rem.push(d);function v(e,t,n){n?e[t]=n(e):o.encode=t,a||(m[P(e)]=e)}for(u=0,c=n.length;u<c;++u)d=(l=n[u]).tuple,f=l.field,(h=p[P(d)])>0&&(v(d,f,l.value),o.modifies(f));for(u=0,c=i.length;u<c;++u)l=i[u],f=l.filter,s.forEach((function(e){f(e)&&p[P(e)]>0&&v(e,l.field,l.value)})),o.modifies(l.field);if(a)o.mod=t.length||r.length?s.filter((function(e){return p[P(e)]>0})):s.slice();else for(h in m)o.mod.push(m[h]);return o}}}var G="_:mod:_";function $(){Object.defineProperty(this,G,{writable:!0,value:{}})}var K=$.prototype;K.set=function(e,t,n,r){var i=this,a=i[e],o=i[G];return null!=t&&t>=0?(a[t]!==n||r)&&(a[t]=n,o[t+":"+e]=-1,o[e]=-1):(a!==n||r)&&(i[e]=n,o[e]=Object(A.A)(n)?1+n.length:-1),i},K.modified=function(e,t){var n,r=this[G];if(!arguments.length){for(n in r)if(r[n])return!0;return!1}if(Object(A.A)(e)){for(n=0;n<e.length;++n)if(r[e[n]])return!0;return!1}return null!=t&&t>=0?t+1<r[e]||!!r[t+":"+e]:!!r[e]},K.clear=function(){return this[G]={},this};var X=0,Y=new $;function Z(e,t,n,r){this.id=++X,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}var J=Z.prototype;function Q(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}J.targets=function(){return this._targets||(this._targets=T(A.w))},J.set=function(e){return this.value!==e?(this.value=e,1):0},J.skip=Q(1),J.modified=Q(2),J.parameters=function(e,t,n){t=!1!==t;var r,i,a,o,s=this,u=s._argval=s._argval||new $,c=s._argops=s._argops||[],l=[];function f(e,n,r){r instanceof Z?(r!==s&&(t&&r.targets().add(s),l.push(r)),c.push({op:r,name:e,index:n})):u.set(e,n,r)}for(r in e)if(i=e[r],"pulse"===r)Object(A.i)(i).forEach((function(e){e instanceof Z?e!==s&&(e.targets().add(s),l.push(e)):Object(A.n)("Pulse parameters must be operator instances.")})),s.source=i;else if(Object(A.A)(i))for(u.set(r,-1,Array(a=i.length)),o=0;o<a;++o)f(r,o,i[o]);else f(r,-1,i);return this.marshall().clear(),n&&(c.initonly=!0),l},J.marshall=function(e){var t,n,r,i,a,o=this._argval||Y,s=this._argops;if(s){for(n=0,r=s.length;n<r;++n)a=(i=(t=s[n]).op).modified()&&i.stamp===e,o.set(t.name,t.index,i.value,a);if(s.initonly){for(n=0;n<r;++n)(t=s[n]).op.targets().remove(this);this._argops=null,this._update=null}}return o},J.evaluate=function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},J.run=function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t};var ee=0;function te(e,t,n){this.id=++ee,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function ne(e,t,n){return new te(e,t,n)}var re=te.prototype;re._filter=A.gb,re._apply=A.x,re.targets=function(){return this._targets||(this._targets=T(A.w))},re.consume=function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},re.receive=function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},re.filter=function(e){var t=ne(e);return this.targets().add(t),t},re.apply=function(e){var t=ne(null,e);return this.targets().add(t),t},re.merge=function(){var e=ne();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},re.throttle=function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},re.debounce=function(e){var t=ne();return this.targets().add(ne(null,null,Object(A.m)(e,(function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},re.between=function(e,t){var n=!1;return e.targets().add(ne(null,null,(function(){n=!0}))),t.targets().add(ne(null,null,(function(){n=!1}))),this.filter((function(){return n}))};var ie=/^([A-Za-z]+:)?\/\//,ae=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,oe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;function se(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(N.a)(w.a.mark((function e(t,n){var r,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return r=e.sent,i=r.href,e.abrupt("return",r.localFile?this.file(i):this.http(i,n));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ce(e,t){return le.apply(this,arguments)}function le(){return(le=Object(N.a)(w.a.mark((function e(t,n){var r,i,a,o,s,u,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(A.o)({},this.options,n),r=this.fileAccess,i={href:null},u=ae.test(t.replace(oe,"")),null!=t&&"string"===typeof t&&u||Object(A.n)("Sanitize failure, invalid URI: "+Object(A.Z)(t)),c=ie.test(t),(s=n.baseURL)&&!c&&(t.startsWith("/")||"/"===s[s.length-1]||(t="/"+t),t=s+t),o=(a=t.startsWith("file://"))||"file"===n.mode||"http"!==n.mode&&!c&&r,a?t=t.slice("file://".length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),o=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(i,"localFile",{value:!!o}),i.href=t,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin+""),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function fe(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:de}function de(){return he.apply(this,arguments)}function he(){return(he=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(A.n)("No file system access.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return e?function(){var t=Object(N.a)(w.a.mark((function t(n,r){var i,a,o;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(A.o)({},this.options.http,r),a=r&&r.response,t.next=4,e(n,i);case 4:return o=t.sent,t.abrupt("return",o.ok?Object(A.D)(o[a])?o[a]():o.text():Object(A.n)(o.status+""+o.statusText));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}():me}function me(){return ve.apply(this,arguments)}function ve(){return(ve=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(A.n)("No HTTP fetch method available.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ge={boolean:A.ab,integer:A.cb,number:A.cb,date:A.bb,string:A.eb,unknown:A.x},be=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return Oe(e)&&Number.isInteger(+e)},Oe,function(e){return!Number.isNaN(Date.parse(e))}],ye=["boolean","integer","number","date"];function we(e,t){if(!e||!e.length)return"unknown";var n,r,i,a,o=0,s=e.length,u=be.length,c=be.map((function(e,t){return t+1}));for(r=0,s=e.length;r<s;++r)for(n=t?e[r][t]:e[r],i=0;i<u;++i)if(c[i]&&(null!=(a=n)&&a===a)&&!be[i](n)&&(c[i]=0,++o===be.length))return"string";return o=c.reduce((function(e,t){return 0===e?t:e}),0)-1,ye[o]}function xe(e,t){return t.reduce((function(t,n){return t[n]=we(e,n),t}),{})}function Oe(e){return!Number.isNaN(+e)&&!(e instanceof Date)}var ke={},Ee={};function _e(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function Se(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function je(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Ce(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+je(-t,6):t>9999?"+"+je(t,6):je(t,4))+"-"+je(e.getUTCMonth()+1,2)+"-"+je(e.getUTCDate(),2)+(a?"T"+je(n,2)+":"+je(r,2)+":"+je(i,2)+"."+je(a,3)+"Z":i?"T"+je(n,2)+":"+je(r,2)+":"+je(i,2)+"Z":r||n?"T"+je(n,2)+":"+je(r,2)+"Z":"")}var Ae=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],a=e.length,o=0,s=0,u=a<=0,c=!1;function l(){if(u)return Ee;if(c)return c=!1,ke;var t,r,i=o;if(34===e.charCodeAt(i)){for(;o++<a&&34!==e.charCodeAt(o)||34===e.charCodeAt(++o););return(t=o)>=a?u=!0:10===(r=e.charCodeAt(o++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(o)&&++o),e.slice(i+1,t-1).replace(/""/g,'"')}for(;o<a;){if(10===(r=e.charCodeAt(t=o++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(o)&&++o;else if(r!==n)continue;return e.slice(i,t)}return u=!0,e.slice(i,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(r=l())!==Ee;){for(var f=[];r!==ke&&r!==Ee;)f.push(r),r=l();t&&null==(f=t(f,s++))||i.push(f)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return o(t[e])})).join(e)}))}function a(t){return t.map(o).join(e)}function o(e){return null==e?"":e instanceof Date?Ce(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,a=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=_e(e);return function(r,i){return t(n(r),i,e)}}(e,t):_e(e)}));return a.columns=i||[],a},parseRows:r,format:function(t,n){return null==n&&(n=Se(t)),[n.map(o).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=Se(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:o}};function Te(e){var t=function(t,n){var r={delimiter:e};return Ne(t,n?Object(A.o)(n,r):r)};return t.responseType="text",t}function Ne(e,t){return t.header&&(e=t.header.map(A.Z).join(t.delimiter)+"\n"+e),Ae(t.delimiter).parse(e+"")}Ne.responseType="text";var Re=n(224),Me=function(e){return e},De=function(e){if(null==e)return Me;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(e,s){s||(t=n=0);var u=2,c=e.length,l=new Array(c);for(l[0]=(t+=e[0])*r+a,l[1]=(n+=e[1])*i+o;u<c;)l[u]=e[u],++u;return l}},Ie=function(e,t){return"string"===typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return Fe(e,t)}))}:Fe(e,t)};function Fe(e,t){var n=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,a=Pe(e,t);return null==n&&null==r?{type:"Feature",properties:i,geometry:a}:null==r?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function Pe(e,t){var n=De(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var i=r[e<0?~e:e],a=0,o=i.length;a<o;++a)t.push(n(i[a],a));e<0&&function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}(t,o)}function a(e){return n(e)}function o(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=o(e);t.length<4;)t.push(t[0]);return t}function u(e){return e.map(s)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=a(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(a);break;case"LineString":n=o(t.arcs);break;case"MultiLineString":n=t.arcs.map(o);break;case"Polygon":n=u(t.arcs);break;case"MultiPolygon":n=t.arcs.map(u);break;default:return null}return{type:r,coordinates:n}}(t)}var ze=function(e,t){var n={},r={},i={},a=[],o=-1;function s(e,t){for(var r in e){var i=e[r];delete t[i.start],delete i.start,delete i.end,i.forEach((function(e){n[e<0?~e:e]=1})),a.push(i)}}return t.forEach((function(n,r){var i,a=e.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=t[++o],t[o]=n,t[r]=i)})),t.forEach((function(t){var n,a,o=function(t){var n,r=e.arcs[t<0?~t:t],i=r[0];e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1];return t<0?[n,i]:[i,n]}(t),s=o[0],u=o[1];if(n=i[s])if(delete i[n.end],n.push(t),n.end=u,a=r[u]){delete r[a.start];var c=a===n?n:n.concat(a);r[c.start=n.start]=i[c.end=a.end]=c}else r[n.start]=i[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(t),n.start=s,a=i[s]){delete i[a.end];var l=a===n?n:a.concat(n);r[l.start=a.start]=i[l.end=n.end]=l}else r[n.start]=i[n.end]=n;else r[(n=[t]).start=s]=i[n.end=u]=n})),s(i,r),s(r,i),t.forEach((function(e){n[e<0?~e:e]||a.push([e])})),a},Le=function(e){return Pe(e,Be.apply(this,arguments))};function Be(e,t,n){var r,i,a;if(arguments.length>1)r=Ue(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:ze(e,r)}}function Ue(e,t,n){var r,i=[],a=[];function o(e){var t=e<0?~e:e;(a[t]||(a[t]=[])).push({i:e,g:r})}function s(e){e.forEach(o)}function u(e){e.forEach(s)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":s(t.arcs);break;case"MultiLineString":case"Polygon":u(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(u)}(t.arcs)}}(t),a.forEach(null==n?function(e){i.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&i.push(e[0].i)}),i}var We={interior:function(e,t){return e!==t},exterior:function(e,t){return e===t}};function Ve(e,t){var n,r,i,a;return e=Object(Re.a)(e,t),t&&t.feature?(n=Ie,i=t.feature):t&&t.mesh?(n=Le,i=t.mesh,a=We[t.filter]):Object(A.n)("Missing TopoJSON feature or mesh parameter."),(r=(r=e.objects[i])?n(e,r,a):Object(A.n)("Invalid TopoJSON object: "+i))&&r.features||[r]}Ve.responseType="json";var qe={dsv:Ne,csv:Te(","),tsv:Te("\t"),json:Re.a,topojson:Ve};function He(e,t){return arguments.length>1?(qe[e]=t,this):Object(A.v)(qe,e)?qe[e]:null}function Ge(e){var t=He(e);return t&&t.responseType||"text"}var $e=new Date,Ke=new Date;function Xe(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return s;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return s},i.filter=function(n){return Xe((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return $e.setTime(+t),Ke.setTime(+r),e($e),e(Ke),Math.floor(n($e,Ke))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}function Ye(e){return Xe((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var Ze=Ye(0),Je=Ye(1),Qe=Ye(2),et=Ye(3),tt=Ye(4),nt=Ye(5),rt=Ye(6),it=(Ze.range,Je.range,Qe.range,et.range,tt.range,nt.range,rt.range,Xe((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),at=it;it.range;function ot(e){return Xe((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var st=ot(0),ut=ot(1),ct=ot(2),lt=ot(3),ft=ot(4),dt=ot(5),ht=ot(6),pt=(st.range,ut.range,ct.range,lt.range,ft.range,dt.range,ht.range,Xe((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1}))),mt=pt,vt=(pt.range,Xe((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));vt.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Xe((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var gt=vt,bt=(vt.range,Xe((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));bt.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Xe((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var yt=bt;bt.range;function wt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ot(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var kt,Et,_t,St,jt,Ct={"-":"",_:" ",0:"0"},At=/^\s*\d+/,Tt=/^%/,Nt=/[\\^$*+?|[\]().{}]/g;function Rt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Mt(e){return e.replace(Nt,"\\$&")}function Dt(e){return new RegExp("^(?:"+e.map(Mt).join("|")+")","i")}function It(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Ft(e,t,n){var r=At.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Pt(e,t,n){var r=At.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function zt(e,t,n){var r=At.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Lt(e,t,n){var r=At.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Bt(e,t,n){var r=At.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ut(e,t,n){var r=At.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Wt(e,t,n){var r=At.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Vt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qt(e,t,n){var r=At.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Ht(e,t,n){var r=At.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Gt(e,t,n){var r=At.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function $t(e,t,n){var r=At.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Kt(e,t,n){var r=At.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Xt(e,t,n){var r=At.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Yt(e,t,n){var r=At.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Zt(e,t,n){var r=At.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Jt(e,t,n){var r=At.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Qt(e,t,n){var r=Tt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function en(e,t,n){var r=At.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function tn(e,t,n){var r=At.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function nn(e,t){return Rt(e.getDate(),t,2)}function rn(e,t){return Rt(e.getHours(),t,2)}function an(e,t){return Rt(e.getHours()%12||12,t,2)}function on(e,t){return Rt(1+mt.count(gt(e),e),t,3)}function sn(e,t){return Rt(e.getMilliseconds(),t,3)}function un(e,t){return sn(e,t)+"000"}function cn(e,t){return Rt(e.getMonth()+1,t,2)}function ln(e,t){return Rt(e.getMinutes(),t,2)}function fn(e,t){return Rt(e.getSeconds(),t,2)}function dn(e){var t=e.getDay();return 0===t?7:t}function hn(e,t){return Rt(st.count(gt(e)-1,e),t,2)}function pn(e,t){var n=e.getDay();return e=n>=4||0===n?ft(e):ft.ceil(e),Rt(ft.count(gt(e),e)+(4===gt(e).getDay()),t,2)}function mn(e){return e.getDay()}function vn(e,t){return Rt(ut.count(gt(e)-1,e),t,2)}function gn(e,t){return Rt(e.getFullYear()%100,t,2)}function bn(e,t){return Rt(e.getFullYear()%1e4,t,4)}function yn(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Rt(t/60|0,"0",2)+Rt(t%60,"0",2)}function wn(e,t){return Rt(e.getUTCDate(),t,2)}function xn(e,t){return Rt(e.getUTCHours(),t,2)}function On(e,t){return Rt(e.getUTCHours()%12||12,t,2)}function kn(e,t){return Rt(1+at.count(yt(e),e),t,3)}function En(e,t){return Rt(e.getUTCMilliseconds(),t,3)}function _n(e,t){return En(e,t)+"000"}function Sn(e,t){return Rt(e.getUTCMonth()+1,t,2)}function jn(e,t){return Rt(e.getUTCMinutes(),t,2)}function Cn(e,t){return Rt(e.getUTCSeconds(),t,2)}function An(e){var t=e.getUTCDay();return 0===t?7:t}function Tn(e,t){return Rt(Ze.count(yt(e)-1,e),t,2)}function Nn(e,t){var n=e.getUTCDay();return e=n>=4||0===n?tt(e):tt.ceil(e),Rt(tt.count(yt(e),e)+(4===yt(e).getUTCDay()),t,2)}function Rn(e){return e.getUTCDay()}function Mn(e,t){return Rt(Je.count(yt(e)-1,e),t,2)}function Dn(e,t){return Rt(e.getUTCFullYear()%100,t,2)}function In(e,t){return Rt(e.getUTCFullYear()%1e4,t,4)}function Fn(){return"+0000"}function Pn(){return"%"}function zn(e){return+e}function Ln(e){return Math.floor(+e/1e3)}function Bn(e){return kt=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,u=e.shortMonths,c=Dt(i),l=It(i),f=Dt(a),d=It(a),h=Dt(o),p=It(o),m=Dt(s),v=It(s),g=Dt(u),b=It(u),y={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:nn,e:nn,f:un,H:rn,I:an,j:on,L:sn,m:cn,M:ln,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:zn,s:Ln,S:fn,u:dn,U:hn,V:pn,w:mn,W:vn,x:null,X:null,y:gn,Y:bn,Z:yn,"%":Pn},w={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:wn,e:wn,f:_n,H:xn,I:On,j:kn,L:En,m:Sn,M:jn,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:zn,s:Ln,S:Cn,u:An,U:Tn,V:Nn,w:Rn,W:Mn,x:null,X:null,y:Dn,Y:In,Z:Fn,"%":Pn},x={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=b[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:Gt,e:Gt,f:Jt,H:Kt,I:Kt,j:$t,L:Zt,m:Ht,M:Xt,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=l[r[0].toLowerCase()],n+r[0].length):-1},q:qt,Q:en,s:tn,S:Yt,u:Pt,U:zt,V:Lt,w:Ft,W:Bt,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:Wt,Y:Ut,Z:Vt,"%":Qt};function O(e,t){return function(n){var r,i,a,o=[],s=-1,u=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(u,s)),null!=(i=Ct[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),u=s+1);return o.push(e.slice(u,s)),o.join("")}}function k(e,t){return function(n){var r,i,a=Ot(1900,void 0,1);if(E(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=xt(Ot(a.y,0,1))).getUTCDay(),r=i>4||0===i?Je.ceil(r):Je(r),r=at.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=wt(Ot(a.y,0,1))).getDay(),r=i>4||0===i?ut.ceil(r):ut(r),r=mt.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?xt(Ot(a.y,0,1)).getUTCDay():wt(Ot(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,xt(a)):wt(a)}}function E(e,t,n,r){for(var i,a,o=0,s=t.length,u=n.length;o<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=x[i in Ct?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=O(n,y),y.X=O(r,y),y.c=O(t,y),w.x=O(n,w),w.X=O(r,w),w.c=O(t,w),{format:function(e){var t=O(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=O(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),Et=kt.format,_t=kt.parse,St=kt.utcFormat,jt=kt.utcParse,kt}Bn({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Un=function(e,t,n){var r=He((t=t||{}).type||"json");return r||Object(A.n)("Unknown data format type: "+t.type),e=r(e,t),t.parse&&function(e,t,n){if(!e.length)return;n=n||_t;var r,i,a,o,s,u,c,l=e.columns||Object.keys(e[0]);"auto"===t&&(t=xe(e,l));for(l=Object.keys(t),r=l.map((function(e){var r,i,a=t[e];if(a&&(a.startsWith("date:")||a.startsWith("utc:")))return("'"===(i=(r=a.split(/:(.+)?/,2))[1])[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),"utc"===r[0]?jt(i):n(i);if(!ge[a])throw Error("Illegal format pattern: "+e+":"+a);return ge[a]})),o=0,u=e.length,c=l.length;o<u;++o)for(i=e[o],s=0;s<c;++s)a=l[s],i[a]=r[s](i[a])}(e,t.parse,n),Object(A.v)(e,"columns")&&delete e.columns,e};var Wn=function(e,t){return function(n){return{options:n||{},sanitize:ce,load:se,fileAccess:!!t,file:fe(t),http:pe(e)}}}("undefined"!==typeof fetch&&fetch,null),Vn=Un;function qn(){return(qn=Object(N.a)(w.a.mark((function e(t,n){var r,i,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=0,e.prev=2,e.next=5,r.loader().load(t,{context:"dataflow",response:Ge(n&&n.type)});case 5:a=e.sent;try{a=Vn(a,n)}catch(o){i=-2,r.warn("Data ingestion failed",t,o)}e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),i=-1,r.warn("Loading failed",t,e.t0);case 13:return e.abrupt("return",{data:a,status:i});case 14:case"end":return e.stop()}}),e,this,[[2,9]])})))).apply(this,arguments)}function Hn(){return(Hn=Object(N.a)(w.a.mark((function e(t,n,r){var i,a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=(i=this)._pending||Gn(i)).requests+=1,e.next=4,i.request(n,r);case 4:return o=e.sent,i.pulse(t,i.changeset().remove(A.gb).insert(o.data||[])),a.done(),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Gn(e){var t,n=new Promise((function(e){t=e}));return n.requests=0,n.done=function(){0===--n.requests&&(e._pending=null,t(e))},e._pending=n}var $n={skip:!0};function Kn(e,t,n,r,i,a){var o,s,u=Object(A.o)({},a,$n);Object(A.D)(n)||(n=Object(A.l)(n)),void 0===r?o=function(t){return e.touch(n(t))}:Object(A.D)(r)?(s=new Z(null,r,i,!1),o=function(t){s.evaluate(t);var r=n(t),i=s.value;q(i)?e.pulse(r,i,a):e.update(r,i,u)}):o=function(t){return e.update(n(t),r,u)},t.apply(o)}function Xn(e,t,n,r,i,a){if(void 0===r)t.targets().add(n);else{var o=a||{},s=new Z(null,function(e,t){return t=Object(A.D)(t)?t:Object(A.l)(t),e?function(n,r){var i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(n,r),i,!1);s.modified(o.force),s.rank=t.rank,t.targets().add(s),n&&(s.skip(!0),s.value=n.value,s.targets().add(n),e.connect(n,[s]))}}var Yn={};function Zn(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}var Jn=Zn.prototype;function Qn(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function er(e,t){var n=[];return Object(A.ib)(e,t,(function(e){n.push(e)})),n}function tr(e,t){var n={};return e.visit(t,(function(e){n[P(e)]=1})),function(e){return n[P(e)]?null:e}}function nr(e,t,n,r){var i,a,o,s,u,c=this,l=0;for(this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n,o=0,s=n.length;o<s;++o)if((i=n[o]).stamp===t){if(i.fields)for(u in a=c.fields||(c.fields={}),i.fields)a[u]=1;i.changed(c.ADD)&&(l|=c.ADD),i.changed(c.REM)&&(l|=c.REM),i.changed(c.MOD)&&(l|=c.MOD)}this.changes=l}Jn.StopPropagation=Yn,Jn.ADD=1,Jn.REM=2,Jn.MOD=4,Jn.ADD_REM=3,Jn.ADD_MOD=5,Jn.ALL=7,Jn.REFLOW=8,Jn.SOURCE=16,Jn.NO_SOURCE=32,Jn.NO_FIELDS=64,Jn.fork=function(e){return new Zn(this.dataflow).init(this,e)},Jn.clone=function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},Jn.addAll=function(){var e=this;return this.source&&this.source.length!==this.add.length?((e=new Zn(this.dataflow).init(this)).add=e.source,e):e},Jn.init=function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source),n},Jn.runAfter=function(e){this.dataflow.runAfter(e)},Jn.changed=function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},Jn.reflow=function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,tr(this,1))),this},Jn.modifies=function(e){var t=this.fields||(this.fields={});return Object(A.A)(e)?e.forEach((function(e){return t[e]=!0})):t[e]=!0,this},Jn.modified=function(e,t){var n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?Object(A.A)(e)?e.some((function(e){return n[e]})):n[e]:!!n)},Jn.filter=function(e,t){var n=this;return 1&e&&(n.addF=Qn(n.addF,t)),2&e&&(n.remF=Qn(n.remF,t)),4&e&&(n.modF=Qn(n.modF,t)),16&e&&(n.srcF=Qn(n.srcF,t)),n},Jn.materialize=function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=er(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=er(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=er(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},Jn.visit=function(e,t){var n,r,i=this,a=t;return 16&e?(Object(A.ib)(i.source,i.srcF,a),i):(1&e&&Object(A.ib)(i.add,i.addF,a),2&e&&Object(A.ib)(i.rem,i.remF,a),4&e&&Object(A.ib)(i.mod,i.modF,a),8&e&&(n=i.source)&&((r=i.add.length+i.mod.length)===n.length||(r?Object(A.ib)(n,tr(i,5),a):Object(A.ib)(n,i.srcF,a))),i)};var rr=Object(A.y)(nr,Zn);function ir(){return(ir=Object(N.a)(w.a.mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,h,p;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(i=this).logLevel(),o=[],!i._pulse){e.next=3;break}return e.abrupt("return",or(i));case 3:if(!i._pending){e.next=6;break}return e.next=6,i._pending;case 6:if(!n){e.next=9;break}return e.next=9,R(i,n);case 9:if(i._touched.length){e.next=12;break}return i.info("Dataflow invoked, but nothing to do."),e.abrupt("return",i);case 12:s=++i._clock,u=0,i._pulse=new Zn(i,s,t),a>=A.c&&(f=Date.now(),i.debug("-- START PROPAGATION ("+s+") -----")),i._touched.forEach((function(e){return i._enqueue(e,!0)})),i._touched=T(A.w),e.prev=17;case 18:if(!(i._heap.size()>0)){e.next=36;break}if((c=i._heap.pop()).rank===c.qrank){e.next=23;break}return i._enqueue(c,!0),e.abrupt("continue",18);case 23:if(!(l=c.run(i._getPulse(c,t))).then){e.next=30;break}return e.next=27,l;case 27:l=e.sent,e.next=31;break;case 30:l.async&&(o.push(l.async),l=Yn);case 31:a>=A.a&&i.debug(c.id,l===Yn?"STOP":l,c),l!==Yn&&c._targets&&c._targets.forEach((function(e){return i._enqueue(e)})),++u,e.next=18;break;case 36:e.next=42;break;case 38:e.prev=38,e.t0=e.catch(17),i._heap.clear(),d=e.t0;case 42:if(i._input={},i._pulse=null,a>=A.c&&(f=Date.now()-f,i.info("> Pulse "+s+": "+u+" operators; "+f+"ms")),d&&(i._postrun=[],i.error(d)),!i._postrun.length){e.next=56;break}h=i._postrun.sort((function(e,t){return t.priority-e.priority})),i._postrun=[],p=0;case 50:if(!(p<h.length)){e.next=56;break}return e.next=53,R(i,h[p].callback);case 53:++p,e.next=50;break;case 56:if(!r){e.next=59;break}return e.next=59,R(i,r);case 59:return o.length&&Promise.all(o).then((function(e){return i.runAsync(null,(function(){e.forEach((function(e){try{e(i)}catch(t){i.error(t)}}))}))})),e.abrupt("return",i);case 61:case"end":return e.stop()}}),e,this,[[17,38]])})))).apply(this,arguments)}function ar(){return(ar=Object(N.a)(w.a.mark((function e(t,n,r){var i,a=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._running){e.next=5;break}return e.next=3,this._running;case 3:e.next=0;break;case 5:return i=function(){return a._running=null},(this._running=this.evaluate(t,n,r)).then(i,i),e.abrupt("return",this._running);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function or(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}rr.fork=function(e){var t=new Zn(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},rr.changed=function(e){return this.changes&e},rr.modified=function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?Object(A.A)(e)?e.some((function(e){return n[e]})):n[e]:0},rr.filter=function(){Object(A.n)("MultiPulse does not support filtering.")},rr.materialize=function(){Object(A.n)("MultiPulse does not support materialization.")},rr.visit=function(e,t){var n=this,r=n.pulses,i=r.length,a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n};var sr={skip:!1,force:!1};function ur(e){var t=[];return{clear:function(){return t=[]},size:function(){return t.length},peek:function(){return t[0]},push:function(n){return t.push(n),cr(t,0,t.length-1,e)},pop:function(){var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){var r,i=t,a=e.length,o=e[t],s=1+(t<<1);for(;s<a;)(r=s+1)<a&&n(e[s],e[r])>=0&&(s=r),e[t]=e[s],s=1+((t=s)<<1);e[t]=o,cr(e,i,t,n)}(t,0,e)):n=r,n}}}function cr(e,t,n,r){var i,a,o;for(i=e[n];n>t&&r(i,a=e[o=n-1>>1])<0;)e[n]=a,n=o;return e[n]=i}function lr(){this.logger(Object(A.K)()),this.logLevel(A.b),this._clock=0,this._rank=0;try{this._loader=Wn()}catch(e){}this._touched=T(A.w),this._input={},this._pulse=null,this._heap=ur((function(e,t){return e.qrank-t.qrank})),this._postrun=[]}var fr=lr.prototype;function dr(e){return function(){return this._log[e].apply(this,arguments)}}function hr(e,t){Z.call(this,e,null,t)}fr.stamp=function(){return this._clock},fr.loader=function(e){return arguments.length?(this._loader=e,this):this._loader},fr.cleanThreshold=1e4,fr.add=function(e,t,n,r){var i,a=1;return e instanceof Z?i=e:e&&e.prototype instanceof Z?i=new e:Object(A.D)(e)?i=new Z(null,e):(a=0,i=new Z(e,t)),this.rank(i),a&&(r=n,n=t),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},fr.connect=function(e,t){var n,r,i=e.rank;for(n=0,r=t.length;n<r;++n)if(i<t[n].rank)return void this.rerank(e)},fr.rank=function(e){e.rank=++this._rank},fr.rerank=function(e){for(var t,n,r,i=[e];i.length;)if(this.rank(t=i.pop()),n=t._targets)for(r=n.length;--r>=0;)i.push(t=n[r]),t===e&&Object(A.n)("Cycle detected in dataflow graph.")},fr.pulse=function(e,t,n){this.touch(e,n||sr);var r=new Zn(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this},fr.touch=function(e,t){var n=t||sr;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},fr.update=function(e,t,n){var r=n||sr;return(e.set(t)||r.force)&&this.touch(e,r),this},fr.changeset=H,fr.ingest=function(e,t,n){return this.pulse(e,this.changeset().insert(Vn(t,n)))},fr.parse=Vn,fr.preload=function(e,t,n){return Hn.apply(this,arguments)},fr.request=function(e,t){return qn.apply(this,arguments)},fr.events=function(e,t,n,r){for(var i,a=this,o=ne(n,r),s=function(e){e.dataflow=a;try{o.receive(e)}catch(t){a.error(t)}finally{a.run()}},u=0,c=(i="string"===typeof e&&"undefined"!==typeof document?document.querySelectorAll(e):Object(A.i)(e)).length;u<c;++u)i[u].addEventListener(t,s);return o},fr.on=function(e,t,n,r,i){return(e instanceof Z?Xn:Kn)(this,e,t,n,r,i),this},fr.evaluate=function(e,t,n){return ir.apply(this,arguments)},fr.run=function(e,t,n){return this._pulse?or(this):(this.evaluate(e,t,n),this)},fr.runAsync=function(e,t,n){return ar.apply(this,arguments)},fr.runAfter=function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}},fr._enqueue=function(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},fr._getPulse=function(e,t){var n=e.source,r=this._clock;return n&&Object(A.A)(n)?new nr(this,r,n.map((function(e){return e.pulse})),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==Yn&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)},fr.logger=function(e){return arguments.length?(this._log=e,this):this._log},fr.error=dr("error"),fr.warn=dr("warn"),fr.info=dr("info"),fr.debug=dr("debug"),fr.logLevel=dr("level");var pr=Object(A.y)(hr,Z);pr.run=function(e){var t,n=this;return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then((function(e){return n.pulse=e})):t!==e.StopPropagation&&(this.pulse=t),t)},pr.evaluate=function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},pr.transform=function(){};var mr={};function vr(e){var t=gr(e);return t&&t.Definition||null}function gr(e){return e=e&&e.toLowerCase(),Object(A.v)(mr,e)?mr[e]:null}function br(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,r=1,i=String(t[0](e));r<n;++r)i+="|"+t[r](e);return i}):function(){return""};var t}function yr(e,t,n){return n||e+(t?"_"+t:"")}var wr={values:kr({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:kr({name:"count",set:"cell.num"}),__count__:kr({name:"count",set:"this.missing + this.valid"}),missing:kr({name:"missing",set:"this.missing"}),valid:kr({name:"valid",set:"this.valid"}),sum:kr({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),product:kr({name:"product",init:"this.product = 1;",add:"this.product *= v;",rem:"this.product /= v;",set:"this.valid ? this.product : undefined"}),mean:kr({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:kr({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:kr({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:kr({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:kr({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:kr({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:kr({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:kr({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:kr({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:kr({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:kr({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:kr({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:kr({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:kr({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:kr({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:kr({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (Number.isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:kr({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (Number.isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},xr=Object.keys(wr);function Or(e,t){return wr[e](t)}function kr(e){return function(t){var n=Object(A.o)({init:"",add:"",rem:"",idx:0},e);return n.out=t||e.name,n}}function Er(e,t){return e.idx-t.idx}function _r(e,t){var n=t||A.x,r=function(e,t){var n,r=e.reduce((function e(n,r){function i(t){n[t]||e(n,n[t]=wr[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),n}),e.reduce((function(e,t){return e[t.name]=t,e}),{})),i=[];for(n in r)i.push(r[n]);return i.sort(Er)}(e,!0),i="var cell = this.cell; this.valid = 0; this.missing = 0;",a="this.cell = cell; this.init();",o="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",s="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",u="var cell = this.cell;";return r.forEach((function(e){i+=e.init,o+=e.add,s+=e.rem})),e.slice().sort(Er).forEach((function(e){u+="t["+Object(A.Z)(e.out)+"]="+e.set+";"})),u+="return t;",(a=Function("cell",a)).prototype.init=Function(i),a.prototype.add=Function("v","t",o),a.prototype.rem=Function("v","t",s),a.prototype.set=Function("t",u),a.prototype.get=n,a.fields=e.map((function(e){return e.out})),a}var Sr=n(5),jr=w.a.mark(Cr);function Cr(e,t){var n,r,i,a,o,s,u;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0!==t){c.next=21;break}n=Object(Sr.a)(e),c.prev=2,n.s();case 4:if((r=n.n()).done){c.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){c.next=9;break}return c.next=9,i;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=40;break;case 21:a=-1,o=Object(Sr.a)(e),c.prev=23,o.s();case 25:if((s=o.n()).done){c.next=32;break}if(u=s.value,!(null!=(u=t(u,++a,e))&&(u=+u)>=u)){c.next=30;break}return c.next=30,u;case 30:c.next=25;break;case 32:c.next=37;break;case 34:c.prev=34,c.t1=c.catch(23),o.e(c.t1);case 37:return c.prev=37,o.f(),c.finish(37);case 40:case"end":return c.stop()}}),jr,null,[[2,13,16,19],[23,34,37,40]])}var Ar=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};function Tr(e,t){var n;if(void 0===t){var r,i=Object(Sr.a)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(l){i.e(l)}finally{i.f()}}else{var o,s=-1,u=Object(Sr.a)(e);try{for(u.s();!(o=u.n()).done;){var c=o.value;null!=(c=t(c,++s,e))&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(l){u.e(l)}finally{u.f()}}return n}function Nr(e,t){var n;if(void 0===t){var r,i=Object(Sr.a)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n>a||void 0===n&&a>=a)&&(n=a)}}catch(l){i.e(l)}finally{i.f()}}else{var o,s=-1,u=Object(Sr.a)(e);try{for(u.s();!(o=u.n()).done;){var c=o.value;null!=(c=t(c,++s,e))&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(l){u.e(l)}finally{u.f()}}return n}function Rr(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}var Mr=w.a.mark(Ir),Dr=function(e){return null===e?NaN:+e};function Ir(e,t){var n,r,i,a,o,s,u;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0!==t){c.next=21;break}n=Object(Sr.a)(e),c.prev=2,n.s();case 4:if((r=n.n()).done){c.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){c.next=9;break}return c.next=9,i;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=40;break;case 21:a=-1,o=Object(Sr.a)(e),c.prev=23,o.s();case 25:if((s=o.n()).done){c.next=32;break}if(u=s.value,!(null!=(u=t(u,++a,e))&&(u=+u)>=u)){c.next=30;break}return c.next=30,u;case 30:c.next=25;break;case 32:c.next=37;break;case 34:c.prev=34,c.t1=c.catch(23),o.e(c.t1);case 37:return c.prev=37,o.f(),c.finish(37);case 40:case"end":return c.stop()}}),Mr,null,[[2,13,16,19],[23,34,37,40]])}function Fr(e,t,n){if(r=(e=Float64Array.from(Ir(e,n))).length){if((t=+t)<=0||r<2)return Nr(e);if(t>=1)return Tr(e);var r,i=(r-1)*t,a=Math.floor(i),o=Tr(function e(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ar;i>r;){if(i-r>600){var o=i-r+1,s=n-r+1,u=Math.log(o),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(o-c)/o)*(s-o/2<0?-1:1),f=Math.max(r,Math.floor(n-s*c/o+l)),d=Math.min(i,Math.floor(n+(o-s)*c/o+l));e(t,n,f,d,a)}var h=t[n],p=r,m=i;for(Rr(t,r,n),a(t[i],h)>0&&Rr(t,r,i);p<m;){for(Rr(t,p,m),++p,--m;a(t[p],h)<0;)++p;for(;a(t[m],h)>0;)--m}0===a(t[r],h)?Rr(t,r,m):Rr(t,++m,i),m<=n&&(r=m+1),n<=m&&(i=m-1)}return t}(e,a).subarray(0,a+1));return o+(Nr(e.subarray(a+1))-o)*(i-a)}}var Pr=function(e,t,n){var r=Float64Array.from(Cr(e,n));return r.sort(Ar),t.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dr;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}(r,e)}))},zr=function(e,t){return Pr(e,[.25,.5,.75],t)};function Lr(e,t){var n=function(e,t){var n,r=0,i=0,a=0;if(void 0===t){var o,s=Object(Sr.a)(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;null!=u&&(u=+u)>=u&&(a+=(n=u-i)*(u-(i+=n/++r)))}}catch(h){s.e(h)}finally{s.f()}}else{var c,l=-1,f=Object(Sr.a)(e);try{for(f.s();!(c=f.n()).done;){var d=c.value;null!=(d=t(d,++l,e))&&(d=+d)>=d&&(a+=(n=d-i)*(d-(i+=n/++r)))}}catch(h){f.e(h)}finally{f.f()}}if(r>1)return a/(r-1)}(e,t);return n?Math.sqrt(n):n}var Br=function(e,t){var n=e.length,r=Lr(e,t),i=zr(e,t),a=(i[2]-i[0])/1.34;return 1.06*(r=Math.min(r,a)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)},Ur=function(e){var t,n,r,i,a,o,s,u,c=e.maxbins||20,l=e.base||10,f=Math.log(l),d=e.divide||[5,2],h=e.extent[0],p=e.extent[1],m=e.span||p-h||Math.abs(h)||1;if(e.step)t=e.step;else if(e.steps){for(a=m/c,o=0,s=e.steps.length;o<s&&e.steps[o]<a;++o);t=e.steps[Math.max(0,o-1)]}else{for(n=Math.ceil(Math.log(c)/f),r=e.minstep||0,t=Math.max(r,Math.pow(l,Math.round(Math.log(m)/f)-n));Math.ceil(m/t)>c;)t*=l;for(o=0,s=d.length;o<s;++o)(a=t/d[o])>=r&&m/a<=c&&(t=a)}return i=(a=Math.log(t))>=0?0:1+~~(-a/f),u=Math.pow(l,-i-1),(e.nice||void 0===e.nice)&&(h=h<(a=Math.floor(h/t+u)*t)?a-t:a,p=Math.ceil(p/t)*t),{start:h,stop:p===h?h+t:p,step:t}},Wr=Math.random;function Vr(e){Wr=e}var qr=function(e,t,n,r){if(!e.length)return[void 0,void 0];var i,a,o,s,u=Float64Array.from(Cr(e,r)),c=u.length,l=t;for(o=0,s=Array(l);o<l;++o){for(i=0,a=0;a<c;++a)i+=u[~~(Wr()*c)];s[o]=i/c}return s.sort(Ar),[Fr(s,n/2),Fr(s,1-n/2)]},Hr=function(e,t,n,r){r=r||function(e){return e};for(var i,a=0,o=1,s=e.length,u=new Float64Array(s),c=r(e[0]),l=c,f=c+t;o<s;++o){if((i=r(e[o]))>=f){for(l=(c+l)/2;a<o;++a)u[a]=l;f=i+t,c=i}l=i}for(l=(c+l)/2;a<o;++a)u[a]=l;return n?function(e,t){var n,r,i=e.length,a=0,o=1;for(;e[a]===e[o];)++o;for(;o<i;){for(n=o+1;e[o]===e[n];)++n;if(e[o]-e[o-1]<t){for(r=o+(a+n-o-o>>1);r<o;)e[r++]=e[o];for(;r>o;)e[r--]=e[a]}a=o,o=n}return e}(u,t+t/4):u};var Gr=function(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}},$r=function(e,t){null==t&&(t=e,e=0);var n,r,i,a={};return a.min=function(e){return arguments.length?(i=r-(n=e||0),a):n},a.max=function(e){return arguments.length?(i=(r=e||0)-n,a):r},a.sample=function(){return n+Math.floor(i*Wr())},a.pdf=function(e){return e===Math.floor(e)&&e>=n&&e<r?1/i:0},a.cdf=function(e){var t=Math.floor(e);return t<n?0:t>=r?1:(t-n+1)/i},a.icdf=function(e){return e>=0&&e<=1?n-1+Math.floor(e*i):NaN},a.min(e).max(t)},Kr=Math.sqrt(2*Math.PI),Xr=Math.SQRT2,Yr=NaN;function Zr(e,t){e=e||0,t=null==t?1:t;var n,r,i=0,a=0;if(Yr===Yr)i=Yr,Yr=NaN;else{do{n=(i=2*Wr()-1)*i+(a=2*Wr()-1)*a}while(0===n||n>1);i*=r=Math.sqrt(-2*Math.log(n)/n),Yr=a*r}return e+i*t}function Jr(e,t,n){var r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*Kr)}function Qr(e,t,n){var r,i=(e-(t=t||0))/(n=null==n?1:n),a=Math.abs(i);if(a>37)r=0;else{var o=Math.exp(-a*a/2);a<7.07106781186547?(r=o*((((((.0352624965998911*a+.700383064443688)*a+6.37396220353165)*a+33.912866078383)*a+112.079291497871)*a+221.213596169931)*a+220.206867912376),r/=((((((.0883883476483184*a+1.75566716318264)*a+16.064177579207)*a+86.7807322029461)*a+296.564248779674)*a+637.333633378831)*a+793.826512519948)*a+440.413735824752):r=o/(a+1/(a+2/(a+3/(a+4/(a+.65)))))/2.506628274631}return i>0?1-r:r}function ei(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*Xr*function(e){var t,n=-Math.log((1-e)*(1+e));n<6.25?t=1.6536545626831027+(t=.24015818242558962+(t=(t=(t=.00018673420803405714+(t=(t=(t=4.2347877827932404e-7+(t=(t=(t=1.0512122733215323e-9+(t=(t=(t=26335093153082323e-28+(t=(t=(t=6637638134358324e-30+(t=20972767875968562e-33+(t=(t=11157877678025181e-33+(t=128584807152564e-32+(t=(t=-364441206401782e-35)*(n-=3.125)-16850591381820166e-35)*n)*n)*n-1333171662854621e-31)*n)*n)*n-4054566272975207e-29)*n-8151934197605472e-29)*n)*n-12975133253453532e-27)*n-5415412054294628e-26)*n)*n-4.112633980346984e-9)*n-2.9070369957882005e-8)*n)*n-13654692000834679e-22)*n-13882523362786469e-21)*n)*n-.000740702534166267)*n-.006033670871430149)*n)*n:n<16?(n=Math.sqrt(n)-3.25,t=3.0838856104922208+(t=1.0052589676941592+(t=.005370914553590064+(t=(t=.002491442096107851+(t=(t=.0009532893797373805+(t=(t=24031110387097894e-21+(t=6828485145957318e-20+(t=(t=12475304481671779e-21+(t=29234449089955446e-22+(t=(t=15027403968909828e-22+(t=1.8239629214389228e-8+(t=(t=9.075656193888539e-8+(t=2.2137376921775787e-9)*n)*n-2.7517406297064545e-7)*n)*n)*n-4013867526981546e-21)*n)*n)*n-47318229009055734e-21)*n)*n)*n-.0003550375203628475)*n)*n-.0016882755560235047)*n)*n-.003751208507569241)*n)*n)*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,t=4.849906401408584+(t=1.0103004648645344+(t=(t=(t=7599527703001776e-20+(t=(t=4526062597223154e-21+(t=(t=2.2900482228026655e-7+(t=(t=2.914795345090108e-8+(t=(t=7.61570120807834e-9+(t=(t=1.5076572693500548e-9+(t=(t=-27109920616438573e-27)*n-2.555641816996525e-10)*n)*n-3.789465440126737e-9)*n)*n-1.496002662714924e-8)*n)*n-6.771199775845234e-8)*n)*n-9.9298272942317e-7)*n)*n-1968177810553167e-20)*n)*n-.00021503011930044477)*n-.00013871931833623122)*n)*n):t=1/0;return t*e}(2*e-1)}var ti=function(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return Zr(n,r)},pdf:function(e){return Jr(e,n,r)},cdf:function(e){return Qr(e,n,r)},icdf:function(e){return ei(e,n,r)}};return i.mean(e).stdev(t)},ni=function(e,t){var n=ti(),r={},i=0;return r.data=function(n){return arguments.length?(e=n,i=n?n.length:0,r.bandwidth(t)):e},r.bandwidth=function(n){return arguments.length?(!(t=n)&&e&&(t=Br(e)),r):t},r.sample=function(){return e[~~(Wr()*i)]+t*n.sample()},r.pdf=function(r){for(var a=0,o=0;o<i;++o)a+=n.pdf((r-e[o])/t);return a/t/i},r.cdf=function(r){for(var a=0,o=0;o<i;++o)a+=n.cdf((r-e[o])/t);return a/i},r.icdf=function(){throw Error("KDE icdf not supported.")},r.data(e)};function ri(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+Zr()*t)}function ii(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;var r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*Kr*e)}function ai(e,t,n){return Qr(Math.log(e),t,n)}function oi(e,t,n){return Math.exp(ei(e,t,n))}var si=function(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return ri(n,r)},pdf:function(e){return ii(e,n,r)},cdf:function(e){return ai(e,n,r)},icdf:function(e){return oi(e,n,r)}};return i.mean(e).stdev(t)},ui=function(e,t){var n,r={},i=0;function a(e){var t,n=[],r=0;for(t=0;t<i;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<i;++t)n[t]/=r;return n}return r.weights=function(e){return arguments.length?(n=a(t=e||[]),r):t},r.distributions=function(n){return arguments.length?(n?(i=n.length,e=n):(i=0,e=[]),r.weights(t)):e},r.sample=function(){for(var t=Wr(),r=e[i-1],a=n[0],o=0;o<i-1;a+=n[++o])if(t<a){r=e[o];break}return r.sample()},r.pdf=function(t){for(var r=0,a=0;a<i;++a)r+=n[a]*e[a].pdf(t);return r},r.cdf=function(t){for(var r=0,a=0;a<i;++a)r+=n[a]*e[a].cdf(t);return r},r.icdf=function(){throw Error("Mixture icdf not supported.")},r.distributions(e).weights(t)};function ci(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*Wr()}function li(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function fi(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function di(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}var hi=function(e,t){var n,r,i={min:function(e){return arguments.length?(n=e||0,i):n},max:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return ci(n,r)},pdf:function(e){return li(e,n,r)},cdf:function(e){return fi(e,n,r)},icdf:function(e){return di(e,n,r)}};return null==t&&(t=null==e?1:e,e=0),i.min(e).max(t)},pi=function(e,t,n,r){var i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]};function mi(e,t,n,r){e=e.filter((function(e){var r=t(e),i=n(e);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&e.sort((function(e,n){return t(e)-t(n)}));var i,a,o,s,u=e.length,c=new Float64Array(u),l=new Float64Array(u),f=0,d=0,h=0,p=Object(Sr.a)(e);try{for(p.s();!(s=p.n()).done;)o=s.value,c[f]=i=+t(o),l[f]=a=+n(o),d+=(i-d)/++f,h+=(a-h)/f}catch(m){p.e(m)}finally{p.f()}for(f=0;f<u;++f)c[f]-=d,l[f]-=h;return[c,l,d,h]}function vi(e,t,n,r){var i,a,o,s=-1,u=Object(Sr.a)(e);try{for(u.s();!(o=u.n()).done;){var c=o.value;i=t(c),a=n(c),null!=i&&(i=+i)>=i&&null!=a&&(a=+a)>=a&&r(i,a,++s)}}catch(l){u.e(l)}finally{u.f()}}var gi=function(e,t,n,r,i){var a=0,o=0;return vi(e,t,n,(function(e,t){var n=t-i(e),s=t-r;a+=n*n,o+=s*s})),1-a/o},bi=function(e,t,n){var r=0,i=0,a=0,o=0,s=0;vi(e,t,n,(function(e,t){++s,r+=(e-r)/s,i+=(t-i)/s,a+=(e*t-a)/s,o+=(e*e-o)/s}));var u=pi(r,i,a,o),c=function(e){return u[0]+u[1]*e};return{coef:u,predict:c,rSquared:gi(e,t,n,i,c)}},yi=function(e,t,n){var r=0,i=0,a=0,o=0,s=0;vi(e,t,n,(function(e,t){++s,e=Math.log(e),r+=(e-r)/s,i+=(t-i)/s,a+=(e*t-a)/s,o+=(e*e-o)/s}));var u=pi(r,i,a,o),c=function(e){return u[0]+u[1]*Math.log(e)};return{coef:u,predict:c,rSquared:gi(e,t,n,i,c)}},wi=n(18),xi=function(e,t,n){var r,i,a,o=mi(e,t,n),s=Object(wi.a)(o,4),u=s[0],c=(s[1],s[2]),l=s[3],f=0,d=0,h=0,p=0,m=0;vi(e,t,n,(function(e,t){r=u[m++],i=Math.log(t),f+=(t*i-f)/m,d+=((a=r*t)-d)/m,h+=(a*i-h)/m,p+=(r*a-p)/m}));var v=pi(d/l,f/l,h/l,p/l),g=Object(wi.a)(v,2),b=g[0],y=g[1],w=function(e){return Math.exp(b+y*(e-c))};return{coef:[Math.exp(b-y*c),y],predict:w,rSquared:gi(e,t,n,l,w)}},Oi=function(e,t,n){var r=0,i=0,a=0,o=0,s=0,u=0;vi(e,t,n,(function(e,t){var n=Math.log(e),c=Math.log(t);++u,r+=(n-r)/u,i+=(c-i)/u,a+=(n*c-a)/u,o+=(n*n-o)/u,s+=(t-s)/u}));var c=pi(r,i,a,o),l=function(e){return c[0]*Math.pow(e,c[1])};return c[0]=Math.exp(c[0]),{coef:c,predict:l,rSquared:gi(e,t,n,s,l)}},ki=function(e,t,n){var r,i,a,o,s=mi(e,t,n),u=Object(wi.a)(s,4),c=u[0],l=u[1],f=u[2],d=u[3],h=c.length,p=0,m=0,v=0,g=0,b=0;for(r=0;r<h;)i=c[r],a=l[r++],p+=((o=i*i)-p)/r,m+=(o*i-m)/r,v+=(o*o-v)/r,g+=(i*a-g)/r,b+=(o*a-b)/r;var y=v-p*p,w=p*y-m*m,x=(b*p-g*m)/w,O=(g*y-b*m)/w,k=-x*p,E=function(e){return x*(e-=f)*e+O*e+k+d};return{coef:[k-O*f+x*f*f+d,O-2*x*f,x],predict:E,rSquared:gi(e,t,n,d,E)}},Ei=function(e,t,n,r){if(1===r)return bi(e,t,n);if(2===r)return ki(e,t,n);var i,a,o,s,u,c=mi(e,t,n),l=Object(wi.a)(c,4),f=l[0],d=l[1],h=l[2],p=l[3],m=f.length,v=[],g=[],b=r+1;for(i=0;i<b;++i){for(o=0,s=0;o<m;++o)s+=Math.pow(f[o],i)*d[o];for(v.push(s),u=new Float64Array(b),a=0;a<b;++a){for(o=0,s=0;o<m;++o)s+=Math.pow(f[o],i+a);u[a]=s}g.push(u)}g.push(v);var y=function(e){var t,n,r,i,a,o=e.length-1,s=[];for(t=0;t<o;++t){for(i=t,n=t+1;n<o;++n)Math.abs(e[t][n])>Math.abs(e[t][i])&&(i=n);for(r=t;r<o+1;++r)a=e[r][t],e[r][t]=e[r][i],e[r][i]=a;for(n=t+1;n<o;++n)for(r=o;r>=t;r--)e[r][n]-=e[r][t]*e[t][n]/e[t][t]}for(n=o-1;n>=0;--n){for(a=0,r=n+1;r<o;++r)a+=e[r][n]*s[r];s[n]=(e[o][n]-a)/e[n][n]}return s}(g),w=function(e){e-=h;var t=p+y[0]+y[1]*e+y[2]*e*e;for(i=3;i<b;++i)t+=y[i]*Math.pow(e,i);return t};return{coef:_i(b,y,-h,p),predict:w,rSquared:gi(e,t,n,p,w)}};function _i(e,t,n,r){var i,a,o,s,u=Array(e);for(i=0;i<e;++i)u[i]=0;for(i=e-1;i>=0;--i)for(o=t[i],s=1,u[i]+=o,a=1;a<=i;++a)s*=(i+1-a)/a,u[i-a]+=o*Math.pow(n,a)*s;return u[0]+=r,u}var Si=function(e,t){return Fr(e,.5,t)},ji=function(e,t,n,r){for(var i=mi(e,t,n,!0),a=Object(wi.a)(i,4),o=a[0],s=a[1],u=a[2],c=a[3],l=o.length,f=Math.max(2,~~(r*l)),d=new Float64Array(l),h=new Float64Array(l),p=new Float64Array(l).fill(1),m=-1;++m<=2;){for(var v=[0,f-1],g=0;g<l;++g){for(var b=o[g],y=v[0],w=v[1],x=b-o[y]>o[w]-b?y:w,O=0,k=0,E=0,_=0,S=0,j=1/Math.abs(o[x]-b||1),C=y;C<=w;++C){var A=o[C],T=s[C],N=Ci(Math.abs(b-A)*j)*p[C],R=A*N;O+=N,k+=R,E+=T*N,_+=T*R,S+=A*R}var M=pi(k/O,E/O,_/O,S/O),D=Object(wi.a)(M,2),I=D[0],F=D[1];d[g]=I+F*b,h[g]=Math.abs(s[g]-d[g]),Ai(o,g+1,v)}if(2===m)break;var P=Si(h);if(Math.abs(P)<1e-12)break;for(var z,L,B=0;B<l;++B)z=h[B]/(6*P),p[B]=z>=1?1e-12:(L=1-z*z)*L}return function(e,t,n,r){for(var i,a=e.length,o=[],s=0,u=0,c=[];s<a;++s)i=e[s]+n,c[0]===i?c[1]+=(t[s]-c[1])/++u:(u=0,c[1]+=r,c=[i,t[s]],o.push(c));return c[1]+=r,o}(o,d,u,c)};function Ci(e){return(e=1-e*e*e)*e*e}function Ai(e,t,n){var r=e[t],i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}var Ti=.1*Math.PI/180,Ni=function(e,t,n,r){n=n||25,r=Math.max(n,r||200);var i=function(t){return[t,e(t)]},a=t[0],o=t[1],s=o-a,u=s/r,c=[i(a)],l=[];if(n===r){for(var f=1;f<r;++f)c.push(i(a+f/n*s));return c.push(i(o)),c}l.push(i(o));for(var d=n;--d>0;)l.push(i(a+d/n*s));for(var h=c[0],p=l[l.length-1];p;){var m=i((h[0]+p[0])/2);m[0]-h[0]>=u&&Ri(h,m,p)>Ti?l.push(m):(h=p,c.push(p),l.pop()),p=l[l.length-1]}return c};function Ri(e,t,n){var r=Math.atan2(n[1]-e[1],n[0]-e[0]),i=Math.atan2(t[1]-e[1],t[0]-e[0]);return Math.abs(r-i)}function Mi(e){this._key=e?Object(A.t)(e):P,this.reset()}var Di=Mi.prototype;function Ii(e){hr.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Di.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},Di.add=function(e){this._add.push(e)},Di.rem=function(e){this._rem.push(e)},Di.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,a=this._key,o=r.length,s=i.length,u=Array(o-s),c={};for(e=0;e<s;++e)c[a(i[e])]=1;for(e=0,t=0;e<o;++e)c[a(n=r[e])]?c[a(n)]=0:u[t++]=n;return this._rem=[],this._add=u},Di.distinct=function(e){for(var t,n=this.values(),r=n.length,i={},a=0;--r>=0;)t=e(n[r])+"",Object(A.v)(i,t)||(i[t]=1,++a);return a},Di.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Object(A.q)(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},Di.argmin=function(e){return this.extent(e)[0]||{}},Di.argmax=function(e){return this.extent(e)[1]||{}},Di.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},Di.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},Di.quartile=function(e){return this._get===e&&this._q||(this._q=zr(this.values(),e),this._get=e),this._q},Di.q1=function(e){return this.quartile(e)[0]},Di.q2=function(e){return this.quartile(e)[1]},Di.q3=function(e){return this.quartile(e)[2]},Di.ci=function(e){return this._get===e&&this._ci||(this._ci=qr(this.values(),1e3,.05,e),this._get=e),this._ci},Di.ci0=function(e){return this.ci(e)[0]},Di.ci1=function(e){return this.ci(e)[1]},Ii.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:xr},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var Fi=Object(A.y)(Ii,hr);Fi.transform=function(e,t){var n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):{},t.visit(t.SOURCE,(function(e){return n.add(e)}))):(n.value=n.value||n.init(e),t.visit(t.REM,(function(e){return n.rem(e)})),t.visit(t.ADD,(function(e){return n.add(e)}))),r.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),n.changes(r)},Fi.cross=function(){var e=this,t=e.value,n=e._dnames,r=n.map((function(){return{}})),i=n.length;function a(e){var t,a,o,s;for(t in e)for(o=e[t].tuple,a=0;a<i;++a)r[a][s=o[n[a]]]=s}a(e._prev),a(t),function a(o,s,u){var c,l,f=n[u],d=r[u++];for(c in d)s[f]=d[c],l=o?o+"|"+c:c,u<i?a(l,s,u):t[l]||e.cell(l,s)}("",{},0)},Fi.init=function(e){var t=this._inputs=[],n=this._outputs=[],r={};function i(e){for(var n,i=Object(A.i)(Object(A.g)(e)),a=0,o=i.length;a<o;++a)r[n=i[a]]||(r[n]=1,t.push(n))}this._dims=Object(A.i)(e.groupby),this._dnames=this._dims.map((function(e){var t=Object(A.h)(e);return i(e),n.push(t),t})),this.cellkey=e.key?e.key:br(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var a,o,s,u,c,l,f=e.fields||[null],d=e.ops||["count"],h=e.as||[],p=f.length,m={};for(p!==d.length&&Object(A.n)("Unmatched number of fields and aggregate ops."),l=0;l<p;++l)a=f[l],o=d[l],null==a&&"count"!==o&&Object(A.n)("Null aggregate field specified."),c=yr(o,u=Object(A.h)(a),h[l]),n.push(c),"count"!==o?((s=m[u])||(i(a),(s=m[u]=[]).field=a,this._measures.push(s)),"count"!==o&&(this._countOnly=!1),s.push(Or(o,c))):this._counts.push(c);return this._measures=this._measures.map((function(e){return _r(e,e.field)})),{}},Fi.cellkey=br(),Fi.cell=function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},Fi.newcell=function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,a=i.length;for(n.agg=Array(a),r=0;r<a;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new Mi),n},Fi.newtuple=function(e,t){var n,r,i=this._dnames,a=this._dims,o={};for(n=0,r=a.length;n<r;++n)o[i[n]]=a[n](e);return t?W(t.tuple,o):L(o)},Fi.add=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num+=1,!this._countOnly)for(a.store&&a.data.add(e),n=0,r=(t=a.agg).length;n<r;++n)t[n].add(t[n].get(e),e)},Fi.rem=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num-=1,!this._countOnly)for(a.store&&a.data.rem(e),n=0,r=(t=a.agg).length;n<r;++n)t[n].rem(t[n].get(e),e)},Fi.celltuple=function(e){var t,n,r,i=e.tuple,a=this._counts;for(e.store&&e.data.values(),n=0,r=a.length;n<r;++n)i[a[n]]=e.num;if(!this._countOnly)for(n=0,r=(t=e.agg).length;n<r;++n)t[n].set(i);return i},Fi.changes=function(e){var t,n,r,i,a=this._adds,o=this._mods,s=this._prev,u=this._drop,c=e.add,l=e.rem,f=e.mod;if(s)for(n in s)t=s[n],u&&!t.num||l.push(t.tuple);for(r=0,i=this._alen;r<i;++r)c.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(t=o[r]).num&&u?l:f).push(this.celltuple(t)),o[r]=null;return this._alen=this._mlen=0,this._prev=null,e};function Pi(e){hr.call(this,null,e)}Pi.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var zi=Object(A.y)(Pi,hr);zi.transform=function(e,t){var n,r=!1!==e.interval,i=this._bins(e),a=i.start,o=i.step,s=e.as||["bin0","bin1"],u=s[0],c=s[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(A.g)(e.field))?t.ADD_MOD:t.ADD,t.visit(n,r?function(e){var t=i(e);e[u]=t,e[c]=null==t?null:a+o*(1+(t-a)/o)}:function(e){e[u]=i(e)}),t.modifies(r?s:u)},zi._bins=function(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.field,i=Ur(e),a=i.step,o=i.start,s=o+Math.ceil((i.stop-o)/a)*a;null!=(t=e.anchor)&&(n=t-(o+a*Math.floor((t-o)/a)),o+=n,s+=n);var u=function(e){var t=r(e);return null==t?null:t<o?-1/0:t>s?1/0:(t=Math.max(o,Math.min(+t,s-a)),o+a*Math.floor(1e-14+(t-o)/a))};return u.start=o,u.stop=i.stop,u.step=a,this.value=Object(A.f)(u,Object(A.g)(r),e.name||"bin_"+Object(A.h)(r))};var Li=function(e,t,n){var r=e,i=t||[],a=n||[],o={},s=0;return{add:function(e){a.push(e)},remove:function(e){o[r(e)]=++s},size:function(){return i.length},data:function(e,t){return s&&(i=i.filter((function(e){return!o[r(e)]})),o={},s=0),t&&e&&i.sort(e),a.length&&(i=e?Object(A.M)(e,i,a.sort(e)):i.concat(a),a=[]),i}}};function Bi(e){hr.call(this,[],e)}function Ui(e){Z.call(this,null,Wi,e)}function Wi(e){return this.value&&!e.modified()?this.value:Object(A.k)(e.fields,e.orders)}function Vi(e){hr.call(this,null,e)}Bi.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(A.y)(Bi,hr).transform=function(e,t){var n=t.fork(t.ALL),r=Li(P,this.value,n.materialize(n.ADD).add),i=e.sort,a=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(V(i),a),t.source&&t.source.root&&(this.value.root=t.source.root),n},Object(A.y)(Ui,Z),Vi.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var qi=Object(A.y)(Vi,hr);function Hi(e){hr.call(this,null,e)}qi.transform=function(e,t){function n(t){return function(n){for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(s(n),e.case,a)||[],u=0,c=i.length;u<c;++u)o.test(r=i[u])||t(r)}}var r=this._parameterCheck(e,t),i=this._counts,a=this._match,o=this._stop,s=e.field,u=e.as||["text","count"],c=n((function(e){i[e]=1+(i[e]||0)})),l=n((function(e){i[e]-=1}));return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,l)),this._finish(t,u)},qi._parameterCheck=function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},qi._finish=function(e,t){var n,r,i,a=this._counts,o=this._tuples||(this._tuples={}),s=t[0],u=t[1],c=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in a)r=o[n],i=a[n]||0,!r&&i?(o[n]=r=L({}),r[s]=n,r[u]=i,c.add.push(r)):0===i?(r&&c.rem.push(r),a[n]=null,o[n]=null):r[u]!==i&&(r[u]=i,c.mod.push(r));return c.modifies(t)},Hi.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(A.y)(Hi,hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=this.value,i=e.as||["a","b"],a=i[0],o=i[1];return!r||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter")?(r&&(n.rem=r),r=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,r){for(var i,a,o=[],s={},u=e.length,c=0;c<u;++c)for(s[t]=a=e[c],i=0;i<u;++i)s[n]=e[i],r(s)&&(o.push(L(s)),(s={})[t]=a);return o}(r,a,o,e.filter||A.gb)):n.mod=r,n.source=this.value,n.modifies(i)};var Gi={kde:ni,mixture:ui,normal:ti,lognormal:si,uniform:hi};function $i(e){hr.call(this,null,e)}var Ki=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Xi={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Ki},{name:"weights",type:"number",array:!0}]};function Yi(e,t){return e?e.map((function(e,n){return t[n]||Object(A.h)(e)})):null}function Zi(e,t,n){var r,i,a,o,s,u,c=[],l=function(e){return e(o)};if(null==t)c.push(e.map(n));else for(r={},i=0,a=e.length;i<a;++i)o=e[i],(u=r[s=t.map(l)])||(r[s]=u=[],u.dims=s,c.push(u)),u.push(n(o));return c}$i.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Ki.concat(Xi)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(A.y)($i,hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=function e(t,n){var r=t.function;Object(A.v)(Gi,r)||Object(A.n)("Unknown distribution function: "+r);var i=Gi[r]();for(var a in t)"field"===a?i.data((t.from||n()).map(t[a])):"distributions"===a?i[a](t[a].map((function(t){return e(t,n)}))):"function"===typeof i[a]&&i[a](t[a]);return i}(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),i=e.steps||e.minsteps||25,a=e.steps||e.maxsteps||200,o=e.method||"pdf";"pdf"!==o&&"cdf"!==o&&Object(A.n)("Invalid density method: "+o),e.extent||r.data||Object(A.n)("Missing density extent parameter."),o=r[o];var s=e.as||["value","density"],u=e.extent||Object(A.p)(r.data()),c=Ni(o,u,i,a).map((function(e){var t={};return t[s[0]]=e[0],t[s[1]]=e[1],L(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n};function Ji(e){hr.call(this,null,e)}function Qi(e){Z.call(this,null,ea,e),this.modified(!0)}function ea(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:Object(A.f)((function(n){return t(n,e)}),Object(A.g)(t),Object(A.h)(t))}function ta(e){hr.call(this,[void 0,void 0],e)}function na(e,t){Z.call(this,e),this.parent=t}Ji.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},Object(A.y)(Ji,hr).transform=function(e,t){if(this.value&&!e.modified()&&!t.changed())return t;for(var n,r=t.materialize(t.SOURCE).source,i=Zi(t.source,e.groupby,A.x),a=e.smooth||!1,o=e.field,s=e.step||function(e,t){return Object(A.X)(Object(A.p)(e,t))/30}(r,o),u=V((function(e,t){return o(e)-o(t)})),c=e.as||"bin",l=i.length,f=1/0,d=-1/0,h=0;h<l;++h){var p=i[h].sort(u);n=-1;var m,v=Object(Sr.a)(Hr(p,s,a,o));try{for(v.s();!(m=v.n()).done;){var g=m.value;g<f&&(f=g),g>d&&(d=g),p[++n][c]=g}}catch(b){v.e(b)}finally{v.f()}}return this.value={start:f,stop:d,step:s},t.reflow(!0).modifies(c)},Object(A.y)(Qi,Z),ta.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(A.y)(ta,hr).transform=function(e,t){var n,r=this.value,i=e.field,a=r[0],o=r[1];if(((n=t.changed()||t.modified(i.fields)||e.modified("field"))||null==a)&&(a=1/0,o=-1/0),t.visit(n?t.SOURCE:t.ADD,(function(e){var t=i(e);null!=t&&((t=+t)<a&&(a=t),t>o&&(o=t))})),!Number.isFinite(a)||!Number.isFinite(o)){var s=Object(A.h)(i);s&&(s=' for field "'.concat(s,'"')),t.dataflow.warn("Infinite extent".concat(s,": [").concat(a,", ").concat(o,"]")),a=o=void 0}this.value=[a,o]};var ra=Object(A.y)(na,Z);function ia(e){hr.call(this,{},e),this._keys=Object(A.s)();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}ra.connect=function(e){return this.targets().add(e),e.source=this},ra.add=function(e){this.value.add.push(e)},ra.rem=function(e){this.value.rem.push(e)},ra.mod=function(e){this.value.mod.push(e)},ra.init=function(e){this.value.init(e,e.NO_SOURCE)},ra.evaluate=function(){return this.value};var aa=Object(A.y)(ia,hr);function oa(e){Z.call(this,null,sa,e)}function sa(e){return this.value&&!e.modified()?this.value:Object(A.A)(e.name)?Object(A.i)(e.name).map((function(e){return Object(A.t)(e)})):Object(A.t)(e.name,e.as)}function ua(e){hr.call(this,Object(A.s)(),e)}function ca(e){hr.call(this,[],e)}function la(e){hr.call(this,[],e)}function fa(e){hr.call(this,null,e)}function da(e){hr.call(this,[],e)}aa.activate=function(e){this._targets[this._targets.active++]=e},aa.subflow=function(e,t,n,r){var i,a,o=this.value,s=Object(A.v)(o,e)&&o[e];return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(a=r||(a=this._group[e])&&a.tuple,s=(i=n.dataflow).add(new na(n.fork(n.NO_SOURCE),this)).connect(t(i,e,a)),o[e]=s,this.activate(s)),s},aa.transform=function(e,t){var n=t.dataflow,r=this,i=e.key,a=e.subflow,o=this._keys,s=e.modified("key");function u(e){return r.subflow(e,a,t)}return this._group=e.group||{},this._targets.active=0,t.visit(t.REM,(function(e){var t=P(e),n=o.get(t);void 0!==n&&(o.delete(t),u(n).rem(e))})),t.visit(t.ADD,(function(e){var t=i(e);o.set(P(e),t),u(t).add(e)})),s||t.modified(i.fields)?t.visit(t.MOD,(function(e){var t=P(e),n=o.get(t),r=i(e);n===r?u(r).mod(e):(o.set(t,r),u(n).rem(e),u(r).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(e){u(o.get(P(e))).mod(e)})),s&&t.visit(t.REFLOW,(function(e){var t=P(e),n=o.get(t),r=i(e);n!==r&&(o.set(t,r),u(n).rem(e),u(r).add(e))})),o.empty>n.cleanThreshold&&n.runAfter(o.clean),t},Object(A.y)(oa,Z),ua.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(A.y)(ua,hr).transform=function(e,t){var n=t.dataflow,r=this.value,i=t.fork(),a=i.add,o=i.rem,s=i.mod,u=e.expr,c=!0;function l(t){var n=P(t),i=u(t,e),l=r.get(n);i&&l?(r.delete(n),a.push(t)):i||l?c&&i&&!l&&s.push(t):(r.set(n,1),o.push(t))}return t.visit(t.REM,(function(e){var t=P(e);r.has(t)?r.delete(t):o.push(e)})),t.visit(t.ADD,(function(t){u(t,e)?a.push(t):r.set(P(t),1)})),t.visit(t.MOD,l),e.modified()&&(c=!1,t.visit(t.REFLOW,l)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i},ca.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Object(A.y)(ca,hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=Yi(r,e.as||[]),a=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,s,u,c=r.map((function(t){return t(e)})),l=c.reduce((function(e,t){return Math.max(e,t.length)}),0),f=0;f<l;++f){for(s=B(e),t=0;t<o;++t)s[i[t]]=null==(u=c[t][f])?null:u;a&&(s[a]=f),n.add.push(s)}})),this.value=n.source=n.add,a&&n.modifies(a),n.modifies(i)},la.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(A.y)(la,hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(A.h),a=e.as||["key","value"],o=a[0],s=a[1],u=r.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,a=0;a<u;++a)(t=B(e))[o]=i[a],t[s]=r[a](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(a)},fa.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(A.y)(fa,hr).transform=function(e,t){var n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,(function(t){return t[r]=n(t,e)}))},Object(A.y)(da,hr).transform=function(e,t){var n,r,i,a=this.value,o=t.fork(t.ALL),s=e.size-a.length,u=e.generator;if(s>0){for(n=[];--s>=0;)n.push(i=L(u(e))),a.push(i);o.add=o.add.length?o.materialize(o.ADD).add.concat(n):n}else r=a.slice(0,-s),o.rem=o.rem.length?o.materialize(o.REM).rem.concat(r):r,a=a.slice(-s);return o.source=this.value=a,o};var ha={value:"value",median:Si,mean:function(e,t){var n=0,r=0;if(void 0===t){var i,a=Object(Sr.a)(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(o=+o)>=o&&(++n,r+=o)}}catch(f){a.e(f)}finally{a.f()}}else{var s,u=-1,c=Object(Sr.a)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;null!=(l=t(l,++u,e))&&(l=+l)>=l&&(++n,r+=l)}}catch(f){c.e(f)}finally{c.f()}}if(n)return r/n},min:Nr,max:Tr},pa=[];function ma(e){hr.call(this,[],e)}function va(e){Ii.call(this,e)}ma.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(A.y)(ma,hr).transform=function(e,t){var n,r,i,a,o,s,u,c,l,f,d=t.fork(t.ALL),h=function(e){var t,n=e.method||ha.value;if(null!=ha[n])return n===ha.value?(t=void 0!==e.value?e.value:0,function(){return t}):ha[n];Object(A.n)("Unrecognized imputation method: "+n)}(e),p=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),m=Object(A.h)(e.field),v=Object(A.h)(e.key),g=(e.groupby||[]).map(A.h),b=function(e,t,n,r){var i,a,o,s,u,c,l,f,d=function(e){return e(f)},h=[],p=r?r.slice():[],m={},v={};for(p.forEach((function(e,t){m[e]=t+1})),s=0,l=e.length;s<l;++s)f=e[s],c=n(f),u=m[c]||(m[c]=p.push(c)),a=(i=t?t.map(d):pa)+"",(o=v[a])||(o=v[a]=[],h.push(o),o.values=i),o[u-1]=f;return h.domain=p,h}(t.source,e.groupby,e.key,e.keyvals),y=[],w=this.value,x=b.domain.length;for(o=0,c=b.length;o<c;++o)for(i=(n=b[o]).values,r=NaN,u=0;u<x;++u)if(null==n[u]){for(a=b.domain[u],f={_impute:!0},s=0,l=i.length;s<l;++s)f[g[s]]=i[s];f[v]=a,f[m]=Number.isNaN(r)?r=h(n,p):r,y.push(L(f))}return y.length&&(d.add=d.materialize(d.ADD).add.concat(y)),w.length&&(d.rem=d.materialize(d.REM).rem.concat(w)),this.value=y,d},va.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:xr},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var ga=Object(A.y)(va,Ii);function ba(e){hr.call(this,null,e)}function ya(e){Z.call(this,null,wa,e)}function wa(e){return this.value&&!e.modified()?this.value:Object(A.I)(e.fields,e.flat)}function xa(e){hr.call(this,[],e),this._pending=null}function Oa(e,t,n){n.forEach(L);var r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r}function ka(e){hr.call(this,{},e)}function Ea(e){Z.call(this,null,_a,e)}function _a(e){if(this.value&&!e.modified())return this.value;var t,n,r,i=1/0,a=-1/0,o=e.extents;for(t=0,n=o.length;t<n;++t)(r=o[t])[0]<i&&(i=r[0]),r[1]>a&&(a=r[1]);return[i,a]}function Sa(e){Z.call(this,null,ja,e)}function ja(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}function Ca(e){hr.call(this,null,e)}function Aa(e){Ii.call(this,e)}ga.transform=function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs,!0))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,(function(e){r.add(e)}))):(n=r.value=r.value||this.init(e),t.visit(t.REM,(function(e){r.rem(e)})),t.visit(t.ADD,(function(e){r.add(e)}))),r.changes(),t.visit(t.SOURCE,(function(e){Object(A.o)(e,n[r.cellkey(e)].tuple)})),t.reflow(i).modifies(this._outputs)},ga.changes=function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0},ba.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(A.y)(ba,hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=Zi(r,e.groupby,e.field),a=(e.groupby||[]).map(A.h),o=e.bandwidth,s=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],c=[],l=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;"pdf"!==s&&"cdf"!==s&&Object(A.n)("Invalid density method: "+s),"shared"===e.resolve&&(l||(l=Object(A.p)(r,e.field)),f=d=e.steps||d),i.forEach((function(t){var n=ni(t,o)[s],r=e.counts?t.length:1,i=l||Object(A.p)(t);Ni(n,i,f,d).forEach((function(e){for(var n={},i=0;i<a.length;++i)n[a[i]]=t.dims[i];n[u[0]]=e[0],n[u[1]]=e[1]*r,c.push(L(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n},Object(A.y)(ya,Z),Object(A.y)(xa,hr).transform=function(e,t){var n=this,r=t.dataflow;return this._pending?Oa(this,t,this._pending):function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?t.StopPropagation:e.values?Oa(this,t,r.parse(e.values,e.format)):e.async?{async:r.request(e.url,e.format).then((function(e){return n._pending=Object(A.i)(e.data),function(e){return e.touch(n)}}))}:r.request(e.url,e.format).then((function(e){return Oa(n,t,Object(A.i)(e.data))}))},ka.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(A.y)(ka,hr).transform=function(e,t){var n,r,i=t,a=e.as,o=e.fields,s=e.index,u=e.values,c=null==e.default?null:e.default,l=e.modified(),f=l?t.SOURCE:t.ADD,d=o.length;return u?(r=u.length,d>1&&!a&&Object(A.n)('Multi-field lookup requires explicit "as" parameter.'),a&&a.length!==d*r&&Object(A.n)('The "as" parameter has too few output field names.'),a=a||u.map(A.h),n=function(e){for(var t,n,i=0,l=0;i<d;++i)if(null==(n=s.get(o[i](e))))for(t=0;t<r;++t,++l)e[a[l]]=c;else for(t=0;t<r;++t,++l)e[a[l]]=u[t](n)}):(a||Object(A.n)("Missing output field names."),n=function(e){for(var t,n=0;n<d;++n)t=s.get(o[n](e)),e[a[n]]=null==t?c:t}),l?i=t.reflow(!0):f|=o.some((function(e){return t.modified(e.fields)}))?t.MOD:0,t.visit(f,n),i.modifies(a)},Object(A.y)(Ea,Z),Object(A.y)(Sa,Z),Object(A.y)(Ca,hr),Ca.prototype.transform=function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)},Aa.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:xr,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var Ta=Object(A.y)(Aa,Ii);function Na(e){ia.call(this,e)}function Ra(e){hr.call(this,null,e)}function Ma(e){hr.call(this,null,e)}Ta._transform=Ta.transform,Ta.transform=function(e,t){return this._transform(function(e,t){var n=e.field,r=e.value,i=("count"===e.op?"__count__":e.op)||"sum",a=Object(A.g)(n).concat(Object(A.g)(r)),o=function(e,t,n){var r={},i=[];return n.visit(n.SOURCE,(function(t){var n=e(t);r[n]||(r[n]=1,i.push(n))})),i.sort((function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)})),t?i.slice(0,t):i}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:o.map((function(){return i})),fields:o.map((function(e){return function(e,t,n,r){return Object(A.f)((function(r){return t(r)===e?n(r):NaN}),r,e+"")}(e,n,r,a)})),as:o.map((function(e){return e+""})),modified:e.modified.bind(e)}}(e,t),t)},Object(A.y)(Na,ia).transform=function(e,t){var n=this,r=e.subflow,i=e.field;return(e.modified("field")||i&&t.modified(Object(A.g)(i)))&&Object(A.n)("PreFacet does not support field modification."),this._targets.active=0,t.visit(t.MOD,(function(e){var a=n.subflow(P(e),r,t,e);i?i(e).forEach((function(e){a.mod(e)})):a.mod(e)})),t.visit(t.ADD,(function(e){var a=n.subflow(P(e),r,t,e);i?i(e).forEach((function(e){a.add(L(e))})):a.add(e)})),t.visit(t.REM,(function(e){var a=n.subflow(P(e),r,t,e);i?i(e).forEach((function(e){a.rem(e)})):a.rem(e)})),t},Ra.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(A.y)(Ra,hr).transform=function(e,t){var n,r,i=e.fields,a=Yi(e.fields,e.as||[]),o=i?function(e,t){return function(e,t,n,r){for(var i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}(e,t,i,a)}:U;return this.value?r=this.value:(t=t.addAll(),r=this.value={}),n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=P(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(e){var t=o(e,L({}));r[P(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){n.mod.push(o(e,r[P(e)]))})),n},Object(A.y)(Ma,hr).transform=function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var Da=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a};function Ia(e){hr.call(this,null,e)}Ia.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};var Fa=Object(A.y)(Ia,hr);function Pa(e){hr.call(this,null,e)}function za(e){hr.call(this,[],e),this.count=0}function La(e){hr.call(this,null,e)}function Ba(e){hr.call(this,null,e),this.modified(!0)}Fa.transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;var i=Zi(t.materialize(t.SOURCE).source,e.groupby,e.field),a=(e.groupby||[]).map(A.h),o=[],s=e.step||.01,u=e.probs||Da(s/2,1-1e-14,s),c=u.length;return i.forEach((function(e){for(var t=Pr(e,u),n=0;n<c;++n){for(var i={},s=0;s<a.length;++s)i[a[s]]=e.dims[s];i[r[0]]=u[n],i[r[1]]=t[n],o.push(L(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=o,n},Object(A.y)(Pa,hr).transform=function(e,t){var n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=P(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(e){var t=B(e);r[P(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){var t,i=r[P(e)];for(t in e)i[t]=e[t],n.modifies(t);n.mod.push(i)}))),n},za.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(A.y)(za,hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,a=this.value,o=this.count,s=0,u=a.reduce((function(e,t){return e[P(t)]=1,e}),{});function c(e){var t,r;a.length<i?a.push(e):(r=~~((o+1)*Wr()))<a.length&&r>=s&&(t=a[r],u[P(t)]&&n.rem.push(t),a[r]=e),++o}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=P(e);u[t]&&(u[t]=-1,n.rem.push(e)),--o})),a=a.filter((function(e){return-1!==u[P(e)]}))),(t.rem.length||r)&&a.length<i&&t.source&&(s=o=a.length,t.visit(t.SOURCE,(function(e){u[P(e)]||c(e)})),s=-1),r&&a.length>i){for(var l=0,f=a.length-i;l<f;++l)u[P(a[l])]=-1,n.rem.push(a[l]);a=a.slice(f)}return t.mod.length&&t.visit(t.MOD,(function(e){u[P(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,c),(t.add.length||s<0)&&(n.add=a.filter((function(e){return!u[P(e)]}))),this.count=o,this.value=n.source=a,n},La.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(A.y)(La,hr).transform=function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Da(e.start,e.stop,e.step||1).map((function(e){var t={};return t[r]=e,L(t)})),n.add=t.add.concat(this.value),n}},Object(A.y)(Ba,hr).transform=function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var Ua="year",Wa="quarter",Va="month",qa="week",Ha="date",Ga="day",$a="hours",Ka="minutes",Xa="seconds",Ya="milliseconds",Za=[Ua,Wa,Va,qa,Ha,Ga,$a,Ka,Xa,Ya].reduce((function(e,t,n){return e[t]=1+n,e}),{});function Ja(e){var t=Object(A.i)(e).slice(),n={};return t.length||Object(A.n)("Missing time unit."),t.forEach((function(e){Object(A.v)(Za,e)?n[e]=1:Object(A.n)("Invalid time unit: ".concat(e,"."))})),(n[qa]||n[Ga])&&(n[Wa]||n[Va]||n[Ha])&&Object(A.n)("Incompatible time units: ".concat(e)),t.sort((function(e,t){return Za[e]-Za[t]})),t}var Qa,eo,to=n(10),no=new Date;function ro(e,t,n,r){var i=t||1,a=Object(A.U)(e),o=function(e,t,r){return function(e,t,n){return t<=1?e:n?function(r,i){return n+t*Math.floor((e(r,i)-n)/t)}:function(n,r){return t*Math.floor(e(n,r)/t)}}(n[r||e],e===a&&i,t)},s=new Date,u=Object(A.db)(e),c=u[Ua]?o(Ua):Object(A.l)(2012),l=u[Va]?o(Va):u[Wa]?o(Wa):A.kb,f=u[qa]&&u[Ga]?o(Ga,1,qa+Ga):u[qa]?o(qa,1):u[Ga]?o(Ga,1):u[Ha]?o(Ha,1):A.O,d=u[$a]?o($a):A.kb,h=u[Ka]?o(Ka):A.kb,p=u[Xa]?o(Xa):A.kb,m=u[Ya]?o(Ya):A.kb;return function(e){s.setTime(+e);var t=c(s);return r(t,l(s),f(s,t),d(s),h(s),p(s),m(s))}}function io(e,t,n){return t+7*e-(n+6)%7}var ao=(Qa={},Object(to.a)(Qa,Ua,(function(e){return e.getFullYear()})),Object(to.a)(Qa,Wa,(function(e){return 3*~~(e.getMonth()/3)})),Object(to.a)(Qa,Va,(function(e){return e.getMonth()})),Object(to.a)(Qa,Ha,(function(e){return e.getDate()})),Object(to.a)(Qa,$a,(function(e){return e.getHours()})),Object(to.a)(Qa,Ka,(function(e){return e.getMinutes()})),Object(to.a)(Qa,Xa,(function(e){return e.getSeconds()})),Object(to.a)(Qa,Ya,(function(e){return e.getMilliseconds()})),Object(to.a)(Qa,Ga,(function(e,t){return io(1,e.getDay(),uo(t))})),Object(to.a)(Qa,qa,(function(e,t){return io(so(e),0,uo(t))})),Object(to.a)(Qa,qa+Ga,(function(e,t){return io(so(e),e.getDay(),uo(t))})),Qa);function oo(e){return no.setFullYear(e),no.setMonth(0),no.setDate(1),no.setHours(0,0,0,0),no}function so(e){return st.count(oo(e.getFullYear())-1,e)}function uo(e){return oo(e).getDay()}function co(e,t,n,r,i,a,o){if(0<=e&&e<100){var s=new Date(-1,t,n,r,i,a,o);return s.setFullYear(e),s}return new Date(e,t,n,r,i,a,o)}function lo(e,t){return ro(e,t||1,ao,co)}var fo=(eo={},Object(to.a)(eo,Ua,(function(e){return e.getUTCFullYear()})),Object(to.a)(eo,Wa,(function(e){return 3*~~(e.getUTCMonth()/3)})),Object(to.a)(eo,Va,(function(e){return e.getUTCMonth()})),Object(to.a)(eo,Ha,(function(e){return e.getUTCDate()})),Object(to.a)(eo,$a,(function(e){return e.getUTCHours()})),Object(to.a)(eo,Ka,(function(e){return e.getUTCMinutes()})),Object(to.a)(eo,Xa,(function(e){return e.getUTCSeconds()})),Object(to.a)(eo,Ya,(function(e){return e.getUTCMilliseconds()})),Object(to.a)(eo,Ga,(function(e,t){return io(1,e.getUTCDay(),po(t))})),Object(to.a)(eo,qa,(function(e,t){return io(ho(e),0,po(t))})),Object(to.a)(eo,qa+Ga,(function(e,t){return io(ho(e),e.getUTCDay(),po(t))})),eo);function ho(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return Ze.count(t-1,e)}function po(e){return no.setTime(Date.UTC(e,0,1)),no.getUTCDay()}function mo(e,t,n,r,i,a,o){if(0<=e&&e<100){var s=new Date(Date.UTC(-1,t,n,r,i,a,o));return s.setUTCFullYear(n.y),s}return new Date(Date.UTC(e,t,n,r,i,a,o))}function vo(e,t){return ro(e,t||1,fo,mo)}var go=Xe((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),bo=go,yo=(go.range,Xe((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()}))),wo=yo,xo=(yo.range,Xe((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()}))),Oo=xo,ko=(xo.range,Xe((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),Eo=ko,_o=(ko.range,Xe((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));_o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Xe((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):_o:null};var So,jo,Co,Ao=_o,To=(_o.range,Xe((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),No=To,Ro=(To.range,Xe((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),Mo=Ro,Do=(Ro.range,Xe((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()}))),Io=Do,Fo=(Do.range,So={},Object(to.a)(So,Ua,gt),Object(to.a)(So,Wa,bo.every(3)),Object(to.a)(So,Va,bo),Object(to.a)(So,qa,st),Object(to.a)(So,Ha,mt),Object(to.a)(So,Ga,mt),Object(to.a)(So,$a,wo),Object(to.a)(So,Ka,Oo),Object(to.a)(So,Xa,Eo),Object(to.a)(So,Ya,Ao),So),Po=(jo={},Object(to.a)(jo,Ua,yt),Object(to.a)(jo,Wa,No.every(3)),Object(to.a)(jo,Va,No),Object(to.a)(jo,qa,Ze),Object(to.a)(jo,Ha,at),Object(to.a)(jo,Ga,at),Object(to.a)(jo,$a,Mo),Object(to.a)(jo,Ka,Io),Object(to.a)(jo,Xa,Eo),Object(to.a)(jo,Ya,Ao),jo);function zo(e){return Fo[e]}function Lo(e){return Po[e]}function Bo(e,t,n){return e?e.offset(t,n):void 0}function Uo(e,t,n){return Bo(zo(e),t,n)}function Wo(e,t,n){return Bo(Lo(e),t,n)}function Vo(e,t,n,r){return e?e.range(t,n,r):void 0}function qo(e,t,n,r){return Vo(zo(e),t,n,r)}function Ho(e,t,n,r){return Vo(Lo(e),t,n,r)}var Go=(Co={},Object(to.a)(Co,Ua,"%Y "),Object(to.a)(Co,Wa,"Q%q "),Object(to.a)(Co,Va,"%b "),Object(to.a)(Co,Ha,"%d "),Object(to.a)(Co,qa,"W%U "),Object(to.a)(Co,Ga,"%a "),Object(to.a)(Co,$a,"%H:00"),Object(to.a)(Co,Ka,"00:%M"),Object(to.a)(Co,Xa,":%S"),Object(to.a)(Co,Ya,".%L"),Object(to.a)(Co,"".concat(Ua,"-").concat(Va),"%Y-%m "),Object(to.a)(Co,"".concat(Ua,"-").concat(Va,"-").concat(Ha),"%Y-%m-%d "),Object(to.a)(Co,"".concat($a,"-").concat(Ka),"%H:%M"),Co);function $o(e,t){var n,r,i=Object(A.o)({},Go,t),a=Ja(e),o=a.length,s="",u=0;for(u=0;u<o;)for(n=a.length;n>u;--n)if(null!=i[r=a.slice(u,n).join("-")]){s+=i[r],u=n;break}return s.trim()}function Ko(e){return Yo(Et,zo,e)}function Xo(e){return Yo(St,Lo,e)}function Yo(e,t,n){return Object(A.H)(n)?e(n):function(e,t,n){n=n||{},Object(A.F)(n)||Object(A.n)("Invalid time multi-format specifier: ".concat(n));var r=t(Xa),i=t(Ka),a=t($a),o=t(Ha),s=t(qa),u=t(Va),c=t(Wa),l=t(Ua),f=e(n[Ya]||".%L"),d=e(n[Xa]||":%S"),h=e(n[Ka]||"%I:%M"),p=e(n[$a]||"%I %p"),m=e(n[Ha]||n[Ga]||"%a %d"),v=e(n[qa]||"%b %d"),g=e(n[Va]||"%B"),b=e(n[Wa]||"%B"),y=e(n[Ua]||"%Y");return function(e){return(r(e)<e?f:i(e)<e?d:a(e)<e?h:o(e)<e?p:u(e)<e?s(e)<e?m:v:l(e)<e?c(e)<e?g:b:y)(e)}}(e,t,n)}var Zo=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Ar(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}};var Jo=Math.sqrt(50),Qo=Math.sqrt(10),es=Math.sqrt(2),ts=function(e,t,n){var r,i,a,o,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=ns(e,t,n))||!isFinite(o))return[];if(o>0)for(e=Math.ceil(e/o),t=Math.floor(t/o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(e+s)*o;else for(e=Math.floor(e*o),t=Math.ceil(t*o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(e-s)/o;return r&&a.reverse(),a};function ns(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Jo?10:a>=Qo?5:a>=es?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Jo?10:a>=Qo?5:a>=es?2:1)}function rs(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Jo?i*=10:a>=Qo?i*=5:a>=es&&(i*=2),t<e?-i:i}var is=[Ua,Va,Ha,$a,Ka,Xa,Ya],as=is.slice(0,-1),os=as.slice(0,-1),ss=os.slice(0,-1),us=ss.slice(0,-1),cs=[Ua,Va],ls=[Ua],fs=[[as,1,1e3],[as,5,5e3],[as,15,15e3],[as,30,3e4],[os,1,6e4],[os,5,3e5],[os,15,9e5],[os,30,18e5],[ss,1,36e5],[ss,3,108e5],[ss,6,216e5],[ss,12,432e5],[us,1,864e5],[[Ua,qa],1,6048e5],[cs,1,2592e6],[cs,3,7776e6],[ls,1,31536e6]],ds=function(e){var t,n,r=e.extent,i=e.maxbins||40,a=Math.abs(Object(A.X)(r))/i,o=Zo((function(e){return e[2]})).right(fs,a);return o===fs.length?(t=ls,n=rs(r[0]/31536e6,r[1]/31536e6,i)):o?(t=(o=fs[a/fs[o-1][2]<fs[o][2]/a?o-1:o])[0],n=o[1]):(t=is,n=Math.max(rs(r[0],r[1],i),1)),{units:t,step:n}};function hs(e){hr.call(this,null,e)}var ps=["unit0","unit1"];hs.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"string",array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:ps}]};var ms=Object(A.y)(hs,hr);function vs(e){hr.call(this,Object(A.s)(),e)}function gs(e){hr.call(this,null,e)}ms.transform=function(e,t){var n=e.field,r=!1!==e.interval,i="utc"===e.timezone,a=this._floor(e,t),o=(i?Lo:zo)(a.unit).offset,s=e.as||ps,u=s[0],c=s[1],l=a.start||1/0,f=a.stop||-1/0,d=a.step,h=t.ADD;return(e.modified()||t.modified(Object(A.g)(n)))&&(h=(t=t.reflow(!0)).SOURCE,l=1/0,f=-1/0),t.visit(h,(function(e){var t,i,s=n(e);null==s?(e[u]=null,r&&(e[c]=null)):(e[u]=t=i=a(s),r&&(e[c]=i=o(t,d)),t<l&&(l=t),i>f&&(f=i))})),a.start=l,a.stop=f,t.modifies(r?s:u)},ms._floor=function(e,t){var n="utc"===e.timezone,r=e.units?{units:e.units,step:e.step||1}:ds({extent:e.extent||Object(A.p)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),i=r.units,a=r.step;i=Ja(i);var o=this.value||{},s=(n?vo:lo)(i,a);return s.unit=Object(A.U)(i),s.units=i,s.step=a,s.start=o.start,s.stop=o.stop,this.value=s},Object(A.y)(vs,hr).transform=function(e,t){var n=t.dataflow,r=e.field,i=this.value,a=!0;function o(e){i.set(r(e),e)}return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,(function(e){i.delete(r(e))})),t.visit(t.ADD,o)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()},Object(A.y)(gs,hr).transform=function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(V(e.sort)):t.source).map(e.field))};var bs={row_number:function(){return{next:function(e){return e.index+1}}},rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){var e=bs.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){return e=0},next:function(t){var n=t.index,r=t.data,i=t.compare;if(e<n){for(;n+1<r.length&&!i(r[n],r[n+1]);)++n;e=n}return(1+e)/r.length}}},ntile:function(e,t){(t=+t)>0||Object(A.n)("ntile num must be greater than zero.");var n=bs.cume_dist(),r=n.next;return{init:n.init,next:function(e){return Math.ceil(t*r(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return(t=+t)>0||Object(A.n)("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){var t;return{init:function(){return t=null},next:function(n){var r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){var t,n;return{init:function(){return t=null,n=-1},next:function(r){var i=r.data;return r.index<=n?t:(n=function(e,t,n){for(var r=t.length;n<r;++n){if(null!=e(t[n]))return n}return-1}(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};var ys=Object.keys(bs);function ws(e){var t=Object(A.i)(e.ops),n=Object(A.i)(e.fields),r=Object(A.i)(e.params),i=Object(A.i)(e.as),a=this.outputs=[],o=this.windows=[],s={},u={},c=!0,l=[],f=[];function d(e){Object(A.i)(Object(A.g)(e)).forEach((function(e){return s[e]=1}))}d(e.sort),t.forEach((function(e,t){var s=n[t],h=Object(A.h)(s),p=yr(e,h,i[t]);if(d(s),a.push(p),Object(A.v)(bs,e))o.push(function(e,t,n,r){var i=bs[e](t,n);return{init:i.init||A.kb,update:function(e,t){t[r]=i.next(e)}}}(e,n[t],r[t],p));else{if(null==s&&"count"!==e&&Object(A.n)("Null aggregate field specified."),"count"===e)return void l.push(p);c=!1;var m=u[h];m||((m=u[h]=[]).field=s,f.push(m)),m.push(Or(e,p))}})),(l.length||f.length)&&(this.cell=function(e,t,n){e=e.map((function(e){return _r(e,e.field)}));var r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,a=r.agg=Array(i),o=0;o<i;++o)a[o]=new e[o](r);if(r.store)var s=r.data=new Mi;return r.add=function(e){if(r.num+=1,!n){s&&s.add(e);for(var t=0;t<i;++t)a[t].add(a[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){s&&s.rem(e);for(var t=0;t<i;++t)a[t].rem(a[t].get(e),e)}},r.set=function(e){var i,o;for(s&&s.values(),i=0,o=t.length;i<o;++i)e[t[i]]=r.num;if(!n)for(i=0,o=a.length;i<o;++i)a[i].set(e)},r.init=function(){r.num=0,s&&s.reset();for(var e=0;e<i;++e)a[e].init()},r}(f,l,c)),this.inputs=Object.keys(s)}var xs=ws.prototype;function Os(e){hr.call(this,{},e),this._mlen=0,this._mods=[]}xs.init=function(){this.windows.forEach((function(e){return e.init()})),this.cell&&this.cell.init()},xs.update=function(e,t){var n,r=this.cell,i=this.windows,a=e.data,o=i&&i.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(a[n]);for(n=e.p1;n<e.i1;++n)r.add(a[n]);r.set(t)}for(n=0;n<o;++n)i[n].update(e,t)},Os.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ys.concat(xr)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var ks=Object(A.y)(Os,hr);function Es(e,t,n,r){var i=r.sort,a=i&&!r.ignorePeers,o=r.frame||[null,0],s=e.data(n),u=s.length,c=0,l=a?Zo(i):null,f={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:i||Object(A.l)(-1)};for(t.init();c<u;++c)_s(f,o,c,u),a&&Ss(f,l),t.update(f,s[c])}function _s(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Ss(e,t){var n=e.i0,r=e.i1-1,i=e.compare,a=e.data,o=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<o&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}ks.transform=function(e,t){var n,r,i=this,a=i.state,o=e.modified(),s=V(e.sort);this.stamp=t.stamp,a&&!o||(a=i.state=new ws(e));var u=br(e.groupby);function c(e){return i.group(u(e))}for(o||t.modified(a.inputs)?(i.value={},t.visit(t.SOURCE,(function(e){c(e).add(e)}))):(t.visit(t.REM,(function(e){c(e).remove(e)})),t.visit(t.ADD,(function(e){c(e).add(e)}))),n=0,r=i._mlen;n<r;++n)Es(i._mods[n],a,s,e);return i._mlen=0,i._mods=[],t.reflow(o).modifies(a.outputs)},ks.group=function(e){var t=this.value[e];return t||((t=this.value[e]=Li(P)).stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t};var js="top",Cs="left",As="right",Ts="end",Ns="row";function Rs(e){this.clear(),e&&this.union(e)}var Ms=Rs.prototype;Ms.clone=function(){return new Rs(this)},Ms.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},Ms.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},Ms.equals=function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},Ms.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},Ms.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},Ms.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},Ms.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},Ms.scale=function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},Ms.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},Ms.rotate=function(e,t,n){var r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},Ms.rotatedPoints=function(e,t,n){var r=this.x1,i=this.y1,a=this.x2,o=this.y2,s=Math.cos(e),u=Math.sin(e),c=t-t*s+n*u,l=n-t*u-n*s;return[s*r-u*i+c,u*r+s*i+l,s*r-u*o+c,u*r+s*o+l,s*a-u*i+c,u*a+s*i+l,s*a-u*o+c,u*a+s*o+l]},Ms.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},Ms.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},Ms.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},Ms.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},Ms.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},Ms.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},Ms.width=function(){return this.x2-this.x1},Ms.height=function(){return this.y2-this.y1};var Ds=0;function Is(e){return e&&e.gradient}function Fs(e,t,n){var r=e.id,i=e.gradient,a="radial"===i?"p_":"";return r||(r=e.id="gradient_"+Ds++,"radial"===i?(e.x1=Ps(e.x1,.5),e.y1=Ps(e.y1,.5),e.r1=Ps(e.r1,0),e.x2=Ps(e.x2,.5),e.y2=Ps(e.y2,.5),e.r2=Ps(e.r2,.5),a="p_"):(e.x1=Ps(e.x1,0),e.y1=Ps(e.y1,0),e.x2=Ps(e.x2,1),e.y2=Ps(e.y2,0))),t[r]=e,"url("+(n||"")+"#"+a+r+")"}function Ps(e,t){return null!=e?e:t}var zs=function(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}};function Ls(e){this.mark=e,this.bounds=this.bounds||new Rs}function Bs(e){Ls.call(this,e),this.items=this.items||[]}function Us(e,t){if("undefined"!==typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}function Ws(){return"undefined"!==typeof Image?Image:null}function Vs(e){this._pending=0,this._loader=e||Wn()}Object(A.y)(Bs,Ls);var qs=Vs.prototype;function Hs(e){e._pending+=1}function Gs(e){e._pending-=1}function $s(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ks(e){this._context=e}qs.pending=function(){return this._pending},qs.sanitizeURL=function(e){var t=this;return Hs(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return Gs(t),e})).catch((function(){return Gs(t),null}))},qs.loadImage=function(e){var t=this,n=Ws();return Hs(t),t._loader.sanitize(e,{context:"image"}).then((function(e){var r=e.href;if(!r||!n)throw{url:r};var i=new n,a=Object(A.v)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=a&&(i.crossOrigin=a),i.onload=function(){return Gs(t)},i.onerror=function(){return Gs(t)},i.src=r,i})).catch((function(e){return Gs(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},qs.ready=function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))},Ks.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$s(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$s(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Xs=function(){};function Ys(e){this._context=e}Ys.prototype={areaStart:Xs,areaEnd:Xs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$s(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zs(e){this._context=e}Zs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$s(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Js(e,t){this._basis=new Ks(e),this._beta=t}Js.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,s=t[n]-a,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*o),this._beta*t[u]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Qs=function e(t){function n(e){return 1===t?new Ks(e):new Js(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function eu(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function tu(e,t){this._context=e,this._k=(1-t)/6}tu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:eu(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:eu(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var nu=function e(t){function n(e){return new tu(e,t)}return n.tension=function(t){return e(+t)},n}(0);function ru(e,t){this._context=e,this._k=(1-t)/6}ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:eu(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var iu=function e(t){function n(e){return new ru(e,t)}return n.tension=function(t){return e(+t)},n}(0);function au(e,t){this._context=e,this._k=(1-t)/6}au.prototype={areaStart:Xs,areaEnd:Xs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:eu(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ou=function e(t){function n(e){return new au(e,t)}return n.tension=function(t){return e(+t)},n}(0),su=Math.abs,uu=Math.atan2,cu=Math.cos,lu=Math.max,fu=Math.min,du=Math.sin,hu=Math.sqrt,pu=Math.PI,mu=pu/2,vu=2*pu;function gu(e){return e>1?0:e<-1?pu:Math.acos(e)}function bu(e){return e>=1?mu:e<=-1?-mu:Math.asin(e)}function yu(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>1e-12){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>1e-12){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/l,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function wu(e,t){this._context=e,this._alpha=t}wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:yu(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var xu=function e(t){function n(e){return t?new wu(e,t):new tu(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ou(e,t){this._context=e,this._alpha=t}Ou.prototype={areaStart:Xs,areaEnd:Xs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:yu(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ku=function e(t){function n(e){return t?new Ou(e,t):new au(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Eu(e,t){this._context=e,this._alpha=t}Eu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yu(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var _u=function e(t){function n(e){return t?new Eu(e,t):new ru(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Su(e){this._context=e}Su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var ju=function(e){return new Su(e)};function Cu(e){this._context=e}Cu.prototype={areaStart:Xs,areaEnd:Xs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Au(e){return e<0?-1:1}function Tu(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Au(a)+Au(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Nu(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ru(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function Mu(e){this._context=e}function Du(e){this._context=new Iu(e)}function Iu(e){this._context=e}function Fu(e){this._context=e}function Pu(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}Mu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ru(this,this._t0,Nu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ru(this,Nu(this,n=Tu(this,e,t)),n);break;default:Ru(this,this._t0,n=Tu(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Du.prototype=Object.create(Mu.prototype)).point=function(e,t){Mu.prototype.point.call(this,t,e)},Iu.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},Fu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Pu(e),i=Pu(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zu(e,t){this._context=e,this._t=t}zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Lu={basis:{curve:function(e){return new Ks(e)}},"basis-closed":{curve:function(e){return new Ys(e)}},"basis-open":{curve:function(e){return new Zs(e)}},bundle:{curve:Qs,tension:"beta",value:.85},cardinal:{curve:nu,tension:"tension",value:0},"cardinal-open":{curve:iu,tension:"tension",value:0},"cardinal-closed":{curve:ou,tension:"tension",value:0},"catmull-rom":{curve:xu,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ku,tension:"alpha",value:.5},"catmull-rom-open":{curve:_u,tension:"alpha",value:.5},linear:{curve:ju},"linear-closed":{curve:function(e){return new Cu(e)}},monotone:{horizontal:function(e){return new Du(e)},vertical:function(e){return new Mu(e)}},natural:{curve:function(e){return new Fu(e)}},step:{curve:function(e){return new zu(e,.5)}},"step-after":{curve:function(e){return new zu(e,1)}},"step-before":{curve:function(e){return new zu(e,0)}}};function Bu(e,t,n){var r=Object(A.v)(Lu,e)&&Lu[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}var Uu={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Wu=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],Vu=function(e){var t,n,r,i,a,o,s,u,c,l,f,d=[];for(u=0,l=(t=e.slice().replace(Wu[0],"###$1").split(Wu[1]).slice(1)).length;u<l;++u){for(r=(n=t[u]).slice(1).trim().replace(Wu[2],"$1###$2").split(Wu[3]),i=[o=n.charAt(0)],c=0,f=r.length;c<f;++c)(a=+r[c])===a&&i.push(a);if(s=Uu[o.toLowerCase()],i.length-1>s)for(c=1,f=i.length;c<f;c+=s)d.push([o].concat(i.slice(c,c+s)));else d.push(i)}return d},qu=Math.PI/180,Hu=Math.PI/2,Gu=2*Math.PI,$u=Math.sqrt(3)/2,Ku={},Xu={},Yu=[].join;function Zu(e){var t=Yu.call(e);if(Xu[t])return Xu[t];var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=c*o,f=-u*s,d=u*o,h=c*s,p=Math.cos(i),m=Math.sin(i),v=Math.cos(a),g=Math.sin(a),b=.5*(a-i),y=Math.sin(.5*b),w=8/3*y*y/Math.sin(b),x=n+p-w*m,O=r+m+w*p,k=n+v,E=r+g,_=k+w*g,S=E-w*v;return Xu[t]=[l*x+f*O,d*x+h*O,l*_+f*S,d*_+h*S,l*k+f*E,d*k+h*E]}var Ju=["l",0,0,0,0,0,0,0];function Qu(e,t,n){var r=Ju[0]=e[0];if("a"===r||"A"===r)Ju[1]=t*e[1],Ju[2]=n*e[2],Ju[3]=e[3],Ju[4]=e[4],Ju[5]=e[5],Ju[6]=t*e[6],Ju[7]=n*e[7];else if("h"===r||"H"===r)Ju[1]=t*e[1];else if("v"===r||"V"===r)Ju[1]=n*e[1];else for(var i=1,a=e.length;i<a;++i)Ju[i]=(i%2==1?t:n)*e[i];return Ju}var ec=function(e,t,n,r,i,a){var o,s,u,c,l,f=null,d=0,h=0,p=0,m=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==a&&(a=i),e.beginPath&&e.beginPath();for(var v=0,g=t.length;v<g;++v){switch(o=t[v],1===i&&1===a||(o=Qu(o,i,a)),o[0]){case"l":d+=o[1],h+=o[2],e.lineTo(d+n,h+r);break;case"L":d=o[1],h=o[2],e.lineTo(d+n,h+r);break;case"h":d+=o[1],e.lineTo(d+n,h+r);break;case"H":d=o[1],e.lineTo(d+n,h+r);break;case"v":h+=o[1],e.lineTo(d+n,h+r);break;case"V":h=o[1],e.lineTo(d+n,h+r);break;case"m":d+=o[1],h+=o[2],e.moveTo(d+n,h+r);break;case"M":d=o[1],h=o[2],e.moveTo(d+n,h+r);break;case"c":s=d+o[5],u=h+o[6],p=d+o[3],m=h+o[4],e.bezierCurveTo(d+o[1]+n,h+o[2]+r,p+n,m+r,s+n,u+r),d=s,h=u;break;case"C":d=o[5],h=o[6],p=o[3],m=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,p+n,m+r,d+n,h+r);break;case"s":s=d+o[3],u=h+o[4],p=2*d-p,m=2*h-m,e.bezierCurveTo(p+n,m+r,d+o[1]+n,h+o[2]+r,s+n,u+r),p=d+o[1],m=h+o[2],d=s,h=u;break;case"S":s=o[3],u=o[4],p=2*d-p,m=2*h-m,e.bezierCurveTo(p+n,m+r,o[1]+n,o[2]+r,s+n,u+r),d=s,h=u,p=o[1],m=o[2];break;case"q":s=d+o[3],u=h+o[4],p=d+o[1],m=h+o[2],e.quadraticCurveTo(p+n,m+r,s+n,u+r),d=s,h=u;break;case"Q":s=o[3],u=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,s+n,u+r),d=s,h=u,p=o[1],m=o[2];break;case"t":s=d+o[1],u=h+o[2],null===f[0].match(/[QqTt]/)?(p=d,m=h):"t"===f[0]?(p=2*d-c,m=2*h-l):"q"===f[0]&&(p=2*d-p,m=2*h-m),c=p,l=m,e.quadraticCurveTo(p+n,m+r,s+n,u+r),h=u,p=(d=s)+o[1],m=h+o[2];break;case"T":s=o[1],u=o[2],p=2*d-p,m=2*h-m,e.quadraticCurveTo(p+n,m+r,s+n,u+r),d=s,h=u;break;case"a":tc(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+d+n,o[7]+h+r]),d+=o[6],h+=o[7];break;case"A":tc(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),d=o[6],h=o[7];break;case"z":case"Z":e.closePath()}f=o}};function tc(e,t,n,r){for(var i=function(e,t,n,r,i,a,o,s,u){var c=Yu.call(arguments);if(Ku[c])return Ku[c];var l=o*qu,f=Math.sin(l),d=Math.cos(l),h=d*(s-e)*.5+f*(u-t)*.5,p=d*(u-t)*.5-f*(s-e)*.5,m=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);m>1&&(n*=m=Math.sqrt(m),r*=m);var v=d/n,g=f/n,b=-f/r,y=d/r,w=v*s+g*u,x=b*s+y*u,O=v*e+g*t,k=b*e+y*t,E=(O-w)*(O-w)+(k-x)*(k-x),_=1/E-.25;_<0&&(_=0);var S=Math.sqrt(_);a==i&&(S=-S);var j=.5*(w+O)-S*(k-x),C=.5*(x+k)+S*(O-w),A=Math.atan2(x-C,w-j),T=Math.atan2(k-C,O-j),N=T-A;N<0&&1===a?N+=Gu:N>0&&0===a&&(N-=Gu);for(var R=Math.ceil(Math.abs(N/(Hu+.001))),M=[],D=0;D<R;++D){var I=A+D*N/R,F=A+(D+1)*N/R;M[D]=[j,C,I,F,n,r,f,d]}return Ku[c]=M}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),a=0;a<i.length;++a){var o=Zu(i[a]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}var nc=.5773502691896257,rc={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Gu)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=$u*n,i=r-n*nc,a=n/4;e.moveTo(0,-r-i),e.lineTo(-a,r-i),e.lineTo(a,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=$u*n,i=r-n*nc;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=$u*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=$u*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=$u*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=$u*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function ic(e){return Object(A.v)(rc,e)?rc[e]:function(e){if(!Object(A.v)(ac,e)){var t=Vu(e);ac[e]={draw:function(e,n){ec(e,t,0,0,Math.sqrt(n)/2)}}}return ac[e]}(e)}var ac={};var oc=Math.PI,sc=2*oc,uc=sc-1e-6;function cc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function lc(){return new cc}cc.prototype=lc.prototype={constructor:cc,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-e,u=r-t,c=a-e,l=o-t,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>1e-6)if(Math.abs(l*s-u*c)>1e-6&&i){var d=n-a,h=r-o,p=s*s+u*u,m=d*d+h*h,v=Math.sqrt(p),g=Math.sqrt(f),b=i*Math.tan((oc-Math.acos((p+f-m)/(2*v*g)))/2),y=b/g,w=b/v;Math.abs(y-1)>1e-6&&(this._+="L"+(e+y*c)+","+(t+y*l)),this._+="A"+i+","+i+",0,0,"+ +(l*d>c*h)+","+(this._x1=e+w*s)+","+(this._y1=t+w*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,a){e=+e,t=+t,a=!!a;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=e+o,c=t+s,l=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%sc+sc),f>uc?this._+="A"+n+","+n+",0,1,"+l+","+(e-o)+","+(t-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=oc)+","+l+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var fc=lc,dc=.448084975506;function hc(e){return e.x}function pc(e){return e.y}function mc(e){return e.width}function vc(e){return e.height}function gc(e){return"function"===typeof e?e:function(){return+e}}function bc(e,t,n){return Math.max(t,Math.min(e,n))}var yc=function(){var e=hc,t=pc,n=mc,r=vc,i=gc(0),a=i,o=i,s=i,u=null;function c(c,l,f){var d,h=null!=l?l:+e.call(this,c),p=null!=f?f:+t.call(this,c),m=+n.call(this,c),v=+r.call(this,c),g=Math.min(m,v)/2,b=bc(+i.call(this,c),0,g),y=bc(+a.call(this,c),0,g),w=bc(+o.call(this,c),0,g),x=bc(+s.call(this,c),0,g);if(u||(u=d=fc()),b<=0&&y<=0&&w<=0&&x<=0)u.rect(h,p,m,v);else{var O=h+m,k=p+v;u.moveTo(h+b,p),u.lineTo(O-y,p),u.bezierCurveTo(O-dc*y,p,O,p+dc*y,O,p+y),u.lineTo(O,k-x),u.bezierCurveTo(O,k-dc*x,O-dc*x,k,O-x,k),u.lineTo(h+w,k),u.bezierCurveTo(h+dc*w,k,h,k-dc*w,h,k-w),u.lineTo(h,p+b),u.bezierCurveTo(h,p+dc*b,h+dc*b,p,h+b,p),u.closePath()}if(d)return u=null,d+""||null}return c.x=function(t){return arguments.length?(e=gc(t),c):e},c.y=function(e){return arguments.length?(t=gc(e),c):t},c.width=function(e){return arguments.length?(n=gc(e),c):n},c.height=function(e){return arguments.length?(r=gc(e),c):r},c.cornerRadius=function(e,t,n,r){return arguments.length?(i=gc(e),a=null!=t?gc(t):i,s=null!=n?gc(n):i,o=null!=r?gc(r):a,c):i},c.context=function(e){return arguments.length?(u=null==e?null:e,c):u},c},wc=function(){var e,t,n,r,i,a,o,s,u=null;function c(e,t,n){var r=n/2;if(i){var c=o-t,l=e-a;if(c||l){var f=Math.sqrt(c*c+l*l),d=(c/=f)*s,h=(l/=f)*s,p=Math.atan2(l,c);u.moveTo(a-d,o-h),u.lineTo(e-c*r,t-l*r),u.arc(e,t,r,p-Math.PI,p),u.lineTo(a+d,o+h),u.arc(a,o,s,p,p+Math.PI)}else u.arc(e,t,r,0,Gu);u.closePath()}else i=1;a=e,o=t,s=r}function l(a){var o,s,l,f=a.length,d=!1;for(null==u&&(u=l=fc()),o=0;o<=f;++o)!(o<f&&r(s=a[o],o,a))===d&&(d=!d)&&(i=0),d&&c(+e(s,o,a),+t(s,o,a),+n(s,o,a));if(l)return u=null,l+""||null}return l.x=function(t){return arguments.length?(e=t,l):e},l.y=function(e){return arguments.length?(t=e,l):t},l.size=function(e){return arguments.length?(n=e,l):n},l.defined=function(e){return arguments.length?(r=e,l):r},l.context=function(e){return arguments.length?(u=null==e?null:e,l):u},l},xc=function(e){return function(){return e}};function Oc(e){return e.innerRadius}function kc(e){return e.outerRadius}function Ec(e){return e.startAngle}function _c(e){return e.endAngle}function Sc(e){return e&&e.padAngle}function jc(e,t,n,r,i,a,o,s){var u=n-e,c=r-t,l=o-i,f=s-a,d=f*u-l*c;if(!(d*d<1e-12))return[e+(d=(l*(t-a)-f*(e-i))/d)*u,t+d*c]}function Cc(e,t,n,r,i,a,o){var s=e-n,u=t-r,c=(o?a:-a)/hu(s*s+u*u),l=c*u,f=-c*s,d=e+l,h=t+f,p=n+l,m=r+f,v=(d+p)/2,g=(h+m)/2,b=p-d,y=m-h,w=b*b+y*y,x=i-a,O=d*m-p*h,k=(y<0?-1:1)*hu(lu(0,x*x*w-O*O)),E=(O*y-b*k)/w,_=(-O*b-y*k)/w,S=(O*y+b*k)/w,j=(-O*b+y*k)/w,C=E-v,A=_-g,T=S-v,N=j-g;return C*C+A*A>T*T+N*N&&(E=S,_=j),{cx:E,cy:_,x01:-l,y01:-f,x11:E*(i/x-1),y11:_*(i/x-1)}}function Ac(e){return e[0]}function Tc(e){return e[1]}var Nc=function(){var e=Ac,t=Tc,n=xc(!0),r=null,i=ju,a=null;function o(o){var s,u,c,l=o.length,f=!1;for(null==r&&(a=i(c=fc())),s=0;s<=l;++s)!(s<l&&n(u=o[s],s,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(u,s,o),+t(u,s,o));if(c)return a=null,c+""||null}return o.x=function(t){return arguments.length?(e="function"===typeof t?t:xc(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:xc(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:xc(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o},Rc=function(){var e=Ac,t=null,n=xc(0),r=Tc,i=xc(!0),a=null,o=ju,s=null;function u(u){var c,l,f,d,h,p=u.length,m=!1,v=new Array(p),g=new Array(p);for(null==a&&(s=o(h=fc())),c=0;c<=p;++c){if(!(c<p&&i(d=u[c],c,u))===m)if(m=!m)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=l;--f)s.point(v[f],g[f]);s.lineEnd(),s.areaEnd()}m&&(v[c]=+e(d,c,u),g[c]=+n(d,c,u),s.point(t?+t(d,c,u):v[c],r?+r(d,c,u):g[c]))}if(h)return s=null,h+""||null}function c(){return Nc().defined(i).curve(o).context(a)}return u.x=function(n){return arguments.length?(e="function"===typeof n?n:xc(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:xc(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:xc(+e),u):t},u.y=function(e){return arguments.length?(n="function"===typeof e?e:xc(+e),r=null,u):n},u.y0=function(e){return arguments.length?(n="function"===typeof e?e:xc(+e),u):n},u.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:xc(+e),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(n)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(t).y(n)},u.defined=function(e){return arguments.length?(i="function"===typeof e?e:xc(!!e),u):i},u.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),u):o},u.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),u):a},u},Mc={draw:function(e,t){var n=Math.sqrt(t/pu);e.moveTo(n,0),e.arc(0,0,n,0,vu)}},Dc=(Math.sqrt(1/3),Math.sin(pu/10)/Math.sin(7*pu/10));Math.sin(vu/10),Math.cos(vu/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);function Ic(e,t){return null!=e?e:t}var Fc=function(e){return e.x||0},Pc=function(e){return e.y||0},zc=function(e){return!(!1===e.defined)},Lc=function(){var e=Oc,t=kc,n=xc(0),r=null,i=Ec,a=_c,o=Sc,s=null;function u(){var u,c,l=+e.apply(this,arguments),f=+t.apply(this,arguments),d=i.apply(this,arguments)-mu,h=a.apply(this,arguments)-mu,p=su(h-d),m=h>d;if(s||(s=u=fc()),f<l&&(c=f,f=l,l=c),f>1e-12)if(p>vu-1e-12)s.moveTo(f*cu(d),f*du(d)),s.arc(0,0,f,d,h,!m),l>1e-12&&(s.moveTo(l*cu(h),l*du(h)),s.arc(0,0,l,h,d,m));else{var v,g,b=d,y=h,w=d,x=h,O=p,k=p,E=o.apply(this,arguments)/2,_=E>1e-12&&(r?+r.apply(this,arguments):hu(l*l+f*f)),S=fu(su(f-l)/2,+n.apply(this,arguments)),j=S,C=S;if(_>1e-12){var A=bu(_/l*du(E)),T=bu(_/f*du(E));(O-=2*A)>1e-12?(w+=A*=m?1:-1,x-=A):(O=0,w=x=(d+h)/2),(k-=2*T)>1e-12?(b+=T*=m?1:-1,y-=T):(k=0,b=y=(d+h)/2)}var N=f*cu(b),R=f*du(b),M=l*cu(x),D=l*du(x);if(S>1e-12){var I,F=f*cu(y),P=f*du(y),z=l*cu(w),L=l*du(w);if(p<pu&&(I=jc(N,R,z,L,F,P,M,D))){var B=N-I[0],U=R-I[1],W=F-I[0],V=P-I[1],q=1/du(gu((B*W+U*V)/(hu(B*B+U*U)*hu(W*W+V*V)))/2),H=hu(I[0]*I[0]+I[1]*I[1]);j=fu(S,(l-H)/(q-1)),C=fu(S,(f-H)/(q+1))}}k>1e-12?C>1e-12?(v=Cc(z,L,N,R,f,C,m),g=Cc(F,P,M,D,f,C,m),s.moveTo(v.cx+v.x01,v.cy+v.y01),C<S?s.arc(v.cx,v.cy,C,uu(v.y01,v.x01),uu(g.y01,g.x01),!m):(s.arc(v.cx,v.cy,C,uu(v.y01,v.x01),uu(v.y11,v.x11),!m),s.arc(0,0,f,uu(v.cy+v.y11,v.cx+v.x11),uu(g.cy+g.y11,g.cx+g.x11),!m),s.arc(g.cx,g.cy,C,uu(g.y11,g.x11),uu(g.y01,g.x01),!m))):(s.moveTo(N,R),s.arc(0,0,f,b,y,!m)):s.moveTo(N,R),l>1e-12&&O>1e-12?j>1e-12?(v=Cc(M,D,F,P,l,-j,m),g=Cc(N,R,z,L,l,-j,m),s.lineTo(v.cx+v.x01,v.cy+v.y01),j<S?s.arc(v.cx,v.cy,j,uu(v.y01,v.x01),uu(g.y01,g.x01),!m):(s.arc(v.cx,v.cy,j,uu(v.y01,v.x01),uu(v.y11,v.x11),!m),s.arc(0,0,l,uu(v.cy+v.y11,v.cx+v.x11),uu(g.cy+g.y11,g.cx+g.x11),m),s.arc(g.cx,g.cy,j,uu(g.y11,g.x11),uu(g.y01,g.x01),!m))):s.arc(0,0,l,x,w,m):s.lineTo(M,D)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-pu/2;return[cu(r)*n,du(r)*n]},u.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:xc(+t),u):e},u.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:xc(+e),u):t},u.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:xc(+e),u):n},u.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:xc(+e),u):r},u.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:xc(+e),u):i},u.endAngle=function(e){return arguments.length?(a="function"===typeof e?e:xc(+e),u):a},u.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:xc(+e),u):o},u.context=function(e){return arguments.length?(s=null==e?null:e,u):s},u}().startAngle((function(e){return e.startAngle||0})).endAngle((function(e){return e.endAngle||0})).padAngle((function(e){return e.padAngle||0})).innerRadius((function(e){return e.innerRadius||0})).outerRadius((function(e){return e.outerRadius||0})).cornerRadius((function(e){return e.cornerRadius||0})),Bc=Rc().x(Fc).y1(Pc).y0((function(e){return(e.y||0)+(e.height||0)})).defined(zc),Uc=Rc().y(Pc).x1(Fc).x0((function(e){return(e.x||0)+(e.width||0)})).defined(zc),Wc=Nc().x(Fc).y(Pc).defined(zc),Vc=yc().x(Fc).y(Pc).width((function(e){return e.width||0})).height((function(e){return e.height||0})).cornerRadius((function(e){return Ic(e.cornerRadiusTopLeft,e.cornerRadius)||0}),(function(e){return Ic(e.cornerRadiusTopRight,e.cornerRadius)||0}),(function(e){return Ic(e.cornerRadiusBottomRight,e.cornerRadius)||0}),(function(e){return Ic(e.cornerRadiusBottomLeft,e.cornerRadius)||0})),qc=function(){var e=xc(Mc),t=xc(64),n=null;function r(){var r;if(n||(n=r=fc()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"===typeof t?t:xc(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:xc(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type((function(e){return ic(e.shape||"circle")})).size((function(e){return Ic(e.size,64)})),Hc=wc().x(Fc).y(Pc).defined(zc).size((function(e){return e.size||1}));function Gc(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function $c(e,t,n,r){return Vc.context(e)(t,n,r)}var Kc=function(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){var r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e};var Xc,Yc,Zc,Jc=Gu-1e-8;function Qc(e){return Xc=e,Qc}function el(){}function tl(e,t){Xc.add(e,t)}function nl(e,t){tl(Yc=e,Zc=t)}function rl(e){tl(e,Xc.y1)}function il(e){tl(Xc.x1,e)}function al(e,t,n,r){var i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function ol(e,t,n,r,i){var a,o=r-e+3*t-3*n,s=e+n-2*t,u=e-t,c=0,l=0;Math.abs(o)>1e-14?(a=s*s+u*o)>=0&&(c=(-s+(a=Math.sqrt(a)))/o,l=(-s-a)/o):c=.5*u/s,0<c&&c<1&&i(sl(c,e,t,n,r)),0<l&&l<1&&i(sl(l,e,t,n,r))}function sl(e,t,n,r,i){var a=1-e,o=a*a,s=e*e;return o*a*t+3*o*e*n+3*a*s*r+s*e*i}Qc.beginPath=el,Qc.closePath=el,Qc.moveTo=nl,Qc.lineTo=nl,Qc.rect=function(e,t,n,r){tl(e+n,t+r),nl(e,t)},Qc.quadraticCurveTo=function(e,t,n,r){al(Yc,e,n,rl),al(Zc,t,r,il),nl(n,r)},Qc.bezierCurveTo=function(e,t,n,r,i,a){ol(Yc,e,n,i,rl),ol(Zc,t,r,a,il),nl(i,a)},Qc.arc=function(e,t,n,r,i,a){if(Yc=n*Math.cos(i)+e,Zc=n*Math.sin(i)+t,Math.abs(i-r)>Jc)tl(e-n,t-n),tl(e+n,t+n);else{var o,s,u=function(r){return tl(n*Math.cos(r)+e,n*Math.sin(r)+t)};if(u(r),u(i),i!==r)if((r%=Gu)<0&&(r+=Gu),(i%=Gu)<0&&(i+=Gu),i<r&&(a=!a,o=r,r=i,i=o),a)for(i-=Gu,o=r-r%Hu,s=0;s<4&&o>i;++s,o-=Hu)u(o);else for(o=r-r%Hu+Hu,s=0;s<4&&o<i;++s,o+=Hu)u(o)}};var ul=(ul=Us(1,1))?ul.getContext("2d"):null,cl=new Rs;function ll(e){return function(t,n){if(!ul)return!0;e(ul,t),cl.clear().union(t.bounds).intersect(n).round();for(var r=cl.x1,i=cl.y1,a=cl.x2,o=cl.y2,s=i;s<=o;++s)for(var u=r;u<=a;++u)if(ul.isPointInPath(u,s))return!0;return!1}}function fl(e,t){return t.contains(e.x||0,e.y||0)}function dl(e,t){var n=e.x||0,r=e.y||0,i=e.width||0,a=e.height||0;return t.intersects(cl.set(n,r,n+i,r+a))}function hl(e,t){var n=e.x||0,r=e.y||0;return pl(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function pl(e,t,n,r,i){var a,o,s,u,c=e.x1,l=e.y1,f=e.x2,d=e.y2,h=r-t,p=i-n,m=0,v=1;for(u=0;u<4;++u){if(0===u&&(a=-h,o=-(c-t)),1===u&&(a=h,o=f-t),2===u&&(a=-p,o=-(l-n)),3===u&&(a=p,o=d-n),Math.abs(a)<1e-10&&o<0)return!1;if(s=o/a,a<0){if(s>v)return!1;s>m&&(m=s)}else if(a>0){if(s<m)return!1;s<v&&(v=s)}}return!0}var ml=function(e,t){e.globalCompositeOperation=t.blend||"source-over"};function vl(e,t){return null==e?t:e}function gl(e,t){for(var n=t.length,r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}var bl=function(e,t,n){return Is(n)?function(e,t,n){var r,i=n.width(),a=n.height();if("radial"===t.gradient)r=e.createRadialGradient(n.x1+vl(t.x1,.5)*i,n.y1+vl(t.y1,.5)*a,Math.max(i,a)*vl(t.r1,0),n.x1+vl(t.x2,.5)*i,n.y1+vl(t.y2,.5)*a,Math.max(i,a)*vl(t.r2,.5));else{var o=vl(t.x1,0),s=vl(t.y1,0),u=vl(t.x2,1),c=vl(t.y2,0);if(o!==u&&s!==c&&i!==a){var l=Us(Math.ceil(i),Math.ceil(a)),f=l.getContext("2d");return f.scale(i,a),f.fillStyle=gl(f.createLinearGradient(o,s,u,c),t.stops),f.fillRect(0,0,i,a),e.createPattern(l,"no-repeat")}r=e.createLinearGradient(n.x1+o*i,n.y1+s*a,n.x1+u*i,n.y1+c*a)}return gl(r,t.stops)}(e,n,t.bounds):n},yl=function(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=bl(e,t,t.fill),!0)},wl=[],xl=function(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=bl(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||wl),e.lineDashOffset=t.strokeDashOffset||0),!0))};function Ol(e,t){return e.zindex-t.zindex||e.index-t.index}function kl(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,a=[];for(n=0,r=i.length;n<r;++n)(t=i[n]).index=n,t.zindex&&a.push(t);return e.zdirty=!1,e.zitems=a.sort(Ol)}function El(e,t){var n,r,i=e.items;if(i&&i.length){var a=kl(e);if(a&&a.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=a}for(n=0,r=i.length;n<r;++n)t(i[n])}}function _l(e,t){var n,r,i=e.items;if(!i||!i.length)return null;var a=kl(e);for(a&&a.length&&(i=a),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===a)for(r=(i=e.items).length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function Sl(e){return function(t,n,r){El(n,(function(n){r&&!r.intersects(n.bounds)||Cl(e,t,n,n)}))}}function jl(e){return function(t,n,r){!n.items.length||r&&!r.intersects(n.bounds)||Cl(e,t,n.items[0],n.items)}}function Cl(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||(ml(t,n),n.fill&&yl(t,n,i)&&t.fill(),n.stroke&&xl(t,n,i)&&t.stroke()))}function Al(e){return e=e||A.gb,function(t,n,r,i,a,o){return r*=t.pixelRatio,i*=t.pixelRatio,_l(n,(function(n){var s=n.bounds;if((!s||s.contains(a,o))&&s)return e(t,n,r,i,a,o)?n:void 0}))}}function Tl(e,t){return function(n,r,i,a){var o,s,u=Array.isArray(r)?r[0]:r,c=null==t?u.fill:t,l=u.stroke&&n.isPointInStroke;return l&&(o=u.strokeWidth,s=u.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=s?s:"butt"),!e(n,r)&&(c&&n.isPointInPath(i,a)||l&&n.isPointInStroke(i,a))}}function Nl(e){return Al(Tl(e))}function Rl(e,t){return"translate("+e+","+t+")"}function Ml(e){return"rotate("+e+")"}function Dl(e){return Rl(e.x||0,e.y||0)}function Il(e){return Rl(e.x||0,e.y||0)+(e.angle?" "+Ml(e.angle):"")+(e.scaleX||e.scaleY?" "+(t=e.scaleX||1,n=e.scaleY||1,"scale("+t+","+n+")"):"");var t,n}var Fl=function(e,t,n){function r(e,n){var r=n.x||0,i=n.y||0,a=n.angle||0;e.translate(r,i),a&&e.rotate(a*=qu),e.beginPath(),t(e,n),a&&e.rotate(-a),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",Il(n)),e("d",t(null,n))},bound:function(e,n){var r=n.x||0,i=n.y||0;return t(Qc(e),n),Kc(e,n).translate(r,i),n.angle&&e.rotate(n.angle*qu,r,i),e},draw:Sl(r),pick:Nl(r),isect:n||ll(r)}},Pl=Fl("arc",(function(e,t){return Lc.context(e)(t)}));var zl=function(e,t,n){function r(e,n){e.beginPath(),t(e,n)}var i=Tl(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(Qc(e),r),Kc(e,r[0]))},draw:jl(r),pick:function(e,t,n,r,a,o){var s=t.items,u=t.bounds;return!s||!s.length||u&&!u.contains(a,o)?null:(n*=e.pixelRatio,r*=e.pixelRatio,i(e,s,n,r)?s[0]:null)},isect:fl,tip:n}},Ll=zl("area",(function(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?Uc:Bc).curve(Bu(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],a="horizontal"===e[0].orient?"y":"x",o=e.length,s=1/0;--o>=0;)!1!==e[o].defined&&(r=Math.abs(e[o][a]-i))<s&&(s=r,n=e[o]);return n}));function Bl(e,t){e.beginPath(),Gc(t)?$c(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}var Ul=1;function Wl(){Ul=1}var Vl=function(e,t,n){var r=t.clip,i=e._defs,a=t.clip_id||(t.clip_id="clip"+Ul++),o=i.clipping[a]||(i.clipping[a]={id:a});return Object(A.D)(r)?o.path=r(null):Gc(n)?o.path=$c(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+a+")"};function ql(e){var t=null!=(t=e.strokeWidth)?t:1;return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Hl(e,t){var n=ql(t);e("d",$c(null,t,n,n))}function Gl(e,t,n,r){var i=ql(t);e.beginPath(),$c(e,t,(n||0)+i,(r||0)+i)}var $l=Tl(Gl),Kl=Tl(Gl,!1);var Xl={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",Dl(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=0,i=n.length;r<i;++r)e.union(n[r].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Kc(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;El(t,(function(t){var i=t.x||0,a=t.y||0,o=t.strokeForeground,s=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&s&&(Gl(e,t,i,a),ml(e,t),t.fill&&yl(e,t,s)&&e.fill(),t.stroke&&!o&&xl(e,t,s)&&e.stroke()),e.save(),e.translate(i,a),t.clip&&Bl(e,t),n&&n.translate(-i,-a),El(t,(function(t){r.draw(e,t,n)})),n&&n.translate(i,a),e.restore(),o&&t.stroke&&s&&(Gl(e,t,i,a),ml(e,t),xl(e,t,s)&&e.stroke())}))},pick:function(e,t,n,r,i,a){if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;var o=this,s=n*e.pixelRatio,u=r*e.pixelRatio;return _l(t,(function(c){var l,f,d,h,p,m,v,g,b;if((!(g=c.bounds)||g.contains(i,a))&&(h=c.x||0,p=c.y||0,m=h+(c.width||0),v=p+(c.height||0),!(b=c.clip)||!(i<h||i>m||a<h||a>v)))return e.save(),e.translate(h,p),h=i-h,p=a-p,b&&Gc(c)&&!$l(e,c,s,u)?(e.restore(),null):(f=c.strokeForeground,(d=!1!==t.interactive)&&f&&c.stroke&&Kl(e,c,s,u)?(e.restore(),c):(!(l=_l(c,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,h,p)?o.pick(e,n,r,h,p):null})))&&d&&(c.fill||!f&&c.stroke)&&$l(e,c,s,u)&&(l=c),e.restore(),l||null))}))},isect:dl,content:function(e,t,n){e("clip-path",t.clip?Vl(n,t,t):null)},background:function(e,t){e("class","background"),Hl(e,t)},foreground:function(e,t){e("class","foreground"),t.strokeForeground?Hl(e,t):e("d","")}};function Yl(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((function(t){e.image=t,e.image.url=e.url}))),n}function Zl(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function Jl(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function Ql(e,t){return"center"===e?t/2:"right"===e?t:0}function ef(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var tf={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=Yl(t,n),i=t.x||0,a=t.y||0,o=Zl(t,r),s=Jl(t,r),u=!1===t.aspect?"none":"xMidYMid";i-=Ql(t.align,o),a-=ef(t.baseline,s),!r.src&&r.toDataURL?e("href",r.toDataURL(),"http://www.w3.org/1999/xlink","xlink:href"):e("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),e("transform",Rl(i,a)),e("width",o),e("height",s),e("preserveAspectRatio",u)},bound:function(e,t){var n=t.image,r=t.x||0,i=t.y||0,a=Zl(t,n),o=Jl(t,n);return r-=Ql(t.align,a),i-=ef(t.baseline,o),e.set(r,i,r+a,i+o)},draw:function(e,t,n){var r=this;El(t,(function(t){if(!n||n.intersects(t.bounds)){var i,a,o,s,u=Yl(t,r),c=t.x||0,l=t.y||0,f=Zl(t,u),d=Jl(t,u);c-=Ql(t.align,f),l-=ef(t.baseline,d),!1!==t.aspect&&(a=u.width/u.height,o=t.width/t.height,a===a&&o===o&&a!==o&&(o<a?(l+=(d-(s=f/a))/2,d=s):(c+=(f-(s=d*a))/2,f=s))),(u.complete||u.toDataURL)&&(ml(e,t),e.globalAlpha=null!=(i=t.opacity)?i:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(u,c,l,f,d))}}))},pick:Al(),isect:A.gb,get:Yl,xOffset:Ql,yOffset:ef},nf=zl("line",(function(e,t){var n=t[0],r=n.interpolate||"linear";return Wc.curve(Bu(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(r=e[a].y-t[1])*r<i)return e[a];return null}));function rf(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,i=t.y||0,a=t.scaleX||1,o=t.scaleY||1,s=(t.angle||0)*qu,u=t.pathCache;u&&u.path===n||((t.pathCache=u=Vu(n)).path=n),s&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(s),ec(e,u,0,0,a,o),e.rotate(-s),e.translate(-r,-i)):ec(e,u,r,i,a,o)}var af={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",Il(t)),e("d",t.path)},bound:function(e,t){return rf(Qc(e),t)?e.set(0,0,0,0):Kc(e,t,!0),t.angle&&e.rotate(t.angle*qu,t.x||0,t.y||0),e},draw:Sl(rf),pick:Nl(rf),isect:ll(rf)};function of(e,t){e.beginPath(),$c(e,t)}var sf={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",$c(null,t))},bound:function(e,t){var n,r;return Kc(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:Sl(of),pick:Nl(of),isect:dl};function uf(e,t,n){var r,i,a,o;return!(!t.stroke||!xl(e,t,n))&&(r=t.x||0,i=t.y||0,a=null!=t.x2?t.x2:r,o=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,o),!0)}var cf={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",Dl(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return Kc(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){El(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&uf(e,t,r)&&(ml(e,t),e.stroke())}}))},pick:Al((function(e,t,n,r){return!!e.isPointInStroke&&(uf(e,t,1)&&e.isPointInStroke(n,r))})),isect:hl},lf=Fl("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),ff=Fl("symbol",(function(e,t){return qc.context(e)(t)}),fl),df=Object(A.L)(),hf={height:yf,measureWidth:gf,estimateWidth:mf,width:mf,canvas:pf};function pf(e){hf.width=e&&ul?gf:mf}function mf(e,t){return vf(kf(e,t),yf(e))}function vf(e,t){return~~(.8*e.length*t)}function gf(e,t){return yf(e)<=0||!(t=kf(e,t))?0:bf(t,_f(e))}function bf(e,t){var n="(".concat(t,") ").concat(e),r=df.get(n);return void 0===r&&(ul.font=t,r=ul.measureText(e).width,df.set(n,r)),r}function yf(e){return null!=e.fontSize?+e.fontSize||0:11}function wf(e){return null!=e.lineHeight?e.lineHeight:yf(e)+2}function xf(e){return t=e.lineBreak&&e.text&&!Object(A.A)(e.text)?e.text.split(e.lineBreak):e.text,Object(A.A)(t)?t.length>1?t:t[0]:t;var t}function Of(e){var t=xf(e);return(Object(A.A)(t)?t.length-1:0)*wf(e)}function kf(e,t){var n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(hf.width===gf){var t=_f(e);return function(e){return bf(e,t)}}var n=yf(e);return function(e){return vf(e,n)}}(e);if(r(t)<n)return t;var i,a=e.ellipsis||"\u2026",o="rtl"===e.dir,s=0,u=t.length;if(n-=r(a),o){for(;s<u;)i=s+u>>>1,r(t.slice(i))>n?s=i+1:u=i;return a+t.slice(s)}for(;s<u;)i=1+(s+u>>>1),r(t.slice(0,i))<n?s=i:u=i-1;return t.slice(0,s)+a}(e,n):n}function Ef(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function _f(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+yf(e)+"px "+Ef(e,t)}function Sf(e){var t=e.baseline,n=yf(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*wf(e):"line-bottom"===t?.29*n-.5*wf(e):0)}pf(!0);var jf={left:"start",center:"middle",right:"end"},Cf=new Rs;function Af(e){var t,n=e.x||0,r=e.y||0,i=e.radius||0;return i&&(t=(e.theta||0)-Hu,n+=i*Math.cos(t),r+=i*Math.sin(t)),Cf.x1=n,Cf.y1=r,Cf}function Tf(e,t,n){var r,i=hf.height(t),a=t.align,o=Af(t),s=o.x1,u=o.y1,c=t.dx||0,l=(t.dy||0)+Sf(t)-Math.round(.8*i),f=xf(t);if(Object(A.A)(f)?(i+=wf(t)*(f.length-1),r=f.reduce((function(e,n){return Math.max(e,hf.width(t,n))}),0)):r=hf.width(t,f),"center"===a?c-=r/2:"right"===a&&(c-=r),e.set(c+=s,l+=u,c+r,l+i),t.angle&&!n)e.rotate(t.angle*qu,s,u);else if(2===n)return e.rotatedPoints(t.angle*qu,s,u);return e}var Nf={arc:Pl,area:Ll,group:Xl,image:tf,line:nf,path:af,rect:sf,rule:cf,shape:lf,symbol:ff,text:{type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+Sf(t),a=Af(t),o=a.x1,s=a.y1,u=t.angle||0;e("text-anchor",jf[t.align]||"start"),u?(n=Rl(o,s)+" "+Ml(u),(r||i)&&(n+=" "+Rl(r,i))):n=Rl(o+r,s+i),e("transform",n)},bound:Tf,draw:function(e,t,n){El(t,(function(t){var r,i,a,o,s,u,c,l=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===l||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=_f(t),e.textAlign=t.align||"left",i=(r=Af(t)).x1,a=r.y1,t.angle&&(e.save(),e.translate(i,a),e.rotate(t.angle*qu),i=a=0),i+=t.dx||0,a+=(t.dy||0)+Sf(t),u=xf(t),ml(e,t),Object(A.A)(u))for(s=wf(t),o=0;o<u.length;++o)c=kf(t,u[o]),t.fill&&yl(e,t,l)&&e.fillText(c,i,a),t.stroke&&xl(e,t,l)&&e.strokeText(c,i,a),a+=s;else c=kf(t,u),t.fill&&yl(e,t,l)&&e.fillText(c,i,a),t.stroke&&xl(e,t,l)&&e.strokeText(c,i,a);t.angle&&e.restore()}}))},pick:Al((function(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=Af(t),s=o.x1,u=o.y1,c=Tf(Cf,t,1),l=-t.angle*qu,f=Math.cos(l),d=Math.sin(l),h=f*i-d*a+(s-f*s+d*u),p=d*i+f*a+(u-d*s-f*u);return c.contains(h,p)})),isect:function(e,t){var n=Tf(Cf,e,2);return pl(t,n[0],n[1],n[2],n[3])||pl(t,n[0],n[1],n[4],n[5])||pl(t,n[4],n[5],n[6],n[7])||pl(t,n[2],n[3],n[6],n[7])}},trail:zl("trail",(function(e,t){return Hc.context(e)(t)}),(function(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null}))},Rf=function(e,t,n){var r=Nf[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Rs),e,n)},Mf={mark:null},Df=function(e,t,n){var r,i,a,o,s=Nf[e.marktype],u=s.bound,c=e.items,l=c&&c.length;if(s.nested)return l?a=c[0]:(Mf.mark=e,a=Mf),o=Rf(a,u,n),t=t&&t.union(o)||o;if(t=t||e.bounds&&e.bounds.clear()||new Rs,l)for(r=0,i=c.length;r<i;++r)t.union(Rf(c[r],u,n));return e.bounds=t},If=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant"];function Ff(e,t){return JSON.stringify(e,If,t)}function Pf(e){return function e(t){var n,r,i,a=t.marktype,o=t.items;if(o)for(r=0,i=o.length;r<i;++r)n=a?"mark":"group",o[r][n]=t,o[r].zindex&&(o[r][n].zdirty=!0),"group"===(a||n)&&e(o[r]);a&&Df(t);return t}("string"===typeof e?JSON.parse(e):e)}function zf(e){arguments.length?this.root=Pf(e):(this.root=Bf({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Bs(this.root)])}var Lf=zf.prototype;function Bf(e,t){return{bounds:new Rs,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0}}function Uf(e,t,n){return!e&&"undefined"!==typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Wf(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Vf(e,t,n,r){var i,a=e.childNodes[t];return a&&a.tagName.toLowerCase()===n.toLowerCase()||(i=a||null,a=Uf(e.ownerDocument,n,r),e.insertBefore(a,i)),a}function qf(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function Hf(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}Lf.toJSON=function(e){return Ff(this.root,e||0)},Lf.mark=function(e,t,n){var r=Bf(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r};var Gf=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]};function $f(e,t){this._active=null,this._handlers={},this._loader=e||Wn(),this._tooltip=t||Kf}function Kf(e,t,n,r){e.element().setAttribute("title",r||"")}var Xf=$f.prototype;function Yf(e){this._el=null,this._bgcolor=null,this._loader=new Vs(e)}Xf.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},Xf.element=function(){return this._el},Xf.canvas=function(){return this._el&&this._el.firstChild},Xf.origin=function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},Xf.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},Xf.on=function(){},Xf.off=function(){},Xf._handlerIndex=function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},Xf.handlers=function(e){var t,n=this._handlers,r=[];if(e)r.push.apply(r,n[this.eventName(e)]);else for(t in n)r.push.apply(r,n[t]);return r},Xf.eventName=function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},Xf.handleHref=function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),r=Uf(null,"a");for(var i in t)r.setAttribute(i,t[i]);r.dispatchEvent(n)})).catch((function(){}))},Xf.handleTooltip=function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var i,a,o=e&&e.mark;if(o&&(i=Nf[o.marktype]).tip){for((a=Gf(t,n))[0]-=r[0],a[1]-=r[1];e=e.mark.group;)a[0]-=e.x||0,a[1]-=e.y||0;e=i.tip(o.items,a)}return e}(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},Xf.getItemBoundingClientRect=function(e){if(t=this.canvas()){for(var t,n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,a=i.x1+r[0]+n.left,o=i.y1+r[1]+n.top,s=i.width(),u=i.height();e.mark&&(e=e.mark.group);)a+=e.x||0,o+=e.y||0;return{x:a,y:o,width:s,height:u,left:a,top:o,right:a+s,bottom:o+u}}};var Zf=Yf.prototype;Zf.initialize=function(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},Zf.element=function(){return this._el},Zf.canvas=function(){return this._el&&this._el.firstChild},Zf.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},Zf.resize=function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},Zf.dirty=function(){},Zf.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},Zf._render=function(){},Zf.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},Zf._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(e){e&&i(),n._ready=null}))}return r},Zf.sanitizeURL=function(e){return this._load("sanitizeURL",e)},Zf.loadImage=function(e){return this._load("loadImage",e)};function Jf(e,t){$f.call(this,e,t),this._down=null,this._touch=null,this._first=!0}var Qf=Object(A.y)(Jf,$f);function ed(e,t,n){return function(r){var i=this._active,a=this.pickEvent(r);a===i||(i&&i.exit||this.fire(n,r),this._active=a,this.fire(t,r)),this.fire(e,r)}}function td(e){return function(t){this.fire(e,t),this._active=null}}Qf.initialize=function(e,t,n){var r=this._canvas=e&&Wf(e,"canvas");if(r){var i=this;this.events.forEach((function(e){r.addEventListener(e,(function(t){Qf[e]?Qf[e].call(i,t):i.fire(e,t)}))}))}return $f.prototype.initialize.call(this,e,t,n)},Qf.canvas=function(){return this._canvas},Qf.context=function(){return this._canvas.getContext("2d")},Qf.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],Qf.DOMMouseScroll=function(e){this.fire("mousewheel",e)},Qf.mousemove=ed("mousemove","mouseover","mouseout"),Qf.dragover=ed("dragover","dragenter","dragleave"),Qf.mouseout=td("mouseout"),Qf.dragleave=td("dragleave"),Qf.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},Qf.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},Qf.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},Qf.touchmove=function(e){this.fire("touchmove",e,!0)},Qf.touchend=function(e){this.fire("touchend",e,!0),this._touch=null},Qf.fire=function(e,t,n){var r,i,a=n?this._touch:this._active,o=this._handlers[e];if(t.vegaType=e,"click"===e&&a&&a.href?this.handleHref(t,a,a.href):"mousemove"!==e&&"mouseout"!==e||this.handleTooltip(t,a,"mouseout"!==e),o)for(r=0,i=o.length;r<i;++r)o[r].handler.call(this._obj,t,a)},Qf.on=function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(r[n]||(r[n]=[])).push({type:e,handler:t}),this},Qf.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},Qf.pickEvent=function(e){var t=Gf(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},Qf.pick=function(e,t,n,r,i){var a=this.context();return Nf[e.marktype].pick.call(this,a,e,t,n,r,i)};var nd="undefined"!==typeof window&&window.devicePixelRatio||1;function rd(e){Yf.call(this,e),this._redraw=!1,this._dirty=new Rs}var id=Object(A.y)(rd,Yf),ad=Yf.prototype,od=new Rs;function sd(e,t,n){return od.set(0,0,t,n).translate(-e[0],-e[1])}function ud(e,t){$f.call(this,e,t);var n=this;n._hrefHandler=ld(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=ld(n,(function(e,t){n.handleTooltip(e,t,"mouseout"!==e.type)}))}id.initialize=function(e,t,n,r,i,a){return this._options=a,this._canvas=Us(1,1,a&&a.type),e&&(qf(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),ad.initialize.call(this,e,t,n,r,i)},id.resize=function(e,t,n,r){return ad.resize.call(this,e,t,n,r),function(e,t,n,r,i,a){var o="undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,s=e.getContext("2d"),u=o?nd:i;for(var c in e.width=t*u,e.height=n*u,a)s[c]=a[c];o&&1!==u&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=u,s.setTransform(u,0,0,u,u*r[0],u*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options&&this._options.context),this._redraw=!0,this},id.canvas=function(){return this._canvas},id.context=function(){return this._canvas?this._canvas.getContext("2d"):null},id.dirty=function(e){var t=function(e,t){if(null==t)return e;for(var n=od.clear().union(e);null!=t;t=t.mark.group)n.translate(t.x||0,t.y||0);return n}(e.bounds,e.mark.group);this._dirty.union(t)},id._render=function(e){var t=this.context(),n=this._origin,r=this._width,i=this._height,a=this._dirty;return t.save(),this._redraw||a.empty()?(this._redraw=!1,a=sd(n,r,i).expand(1)):a=function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,a.intersect(sd(n,r,i)),n),this.clear(-n[0],-n[1],r,i),this.draw(t,e,a),t.restore(),this._dirty.clear(),this},id.draw=function(e,t,n){var r=Nf[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),Object(A.D)(n)?(e.beginPath(),n(e),e.clip()):Bl(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},id.clear=function(e,t,n,r){var i=this.context();i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))};var cd=Object(A.y)(ud,$f);function ld(e,t){return function(n){var r=n.target.__data__;n.vegaType=n.type,r=Array.isArray(r)?r[0]:r,t.call(e._obj,n,r)}}function fd(e,t,n){var r,i,a="<"+e;if(t)for(r in t)null!=(i=t[r])&&(a+=" "+r+'="'+i+'"');return n&&(a+=" "+n),a+">"}function dd(e){return"</"+e+">"}cd.initialize=function(e,t,n){var r=this._svg;return r&&(r.removeEventListener("click",this._hrefHandler),r.removeEventListener("mousemove",this._tooltipHandler),r.removeEventListener("mouseout",this._tooltipHandler)),this._svg=r=e&&Wf(e,"svg"),r&&(r.addEventListener("click",this._hrefHandler),r.addEventListener("mousemove",this._tooltipHandler),r.addEventListener("mouseout",this._tooltipHandler)),$f.prototype.initialize.call(this,e,t,n)},cd.canvas=function(){return this._svg},cd.on=function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var i={type:e,handler:t,listener:ld(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},cd.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this};var hd={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},pd={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},md=Object.keys(pd),vd=hd.xmlns;function gd(e){Yf.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var bd=Object(A.y)(gd,Yf),yd=Yf.prototype;function wd(e,t,n){var r,i,a;if("radial"===t.gradient){var o=Vf(e,n++,"pattern",vd);o.setAttribute("id","p_"+t.id),o.setAttribute("viewBox","0,0,1,1"),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("preserveAspectRatio","xMidYMid slice"),(o=Vf(o,0,"rect",vd)).setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("fill","url("+Ad()+"#"+t.id+")"),(e=Vf(e,n++,"radialGradient",vd)).setAttribute("id",t.id),e.setAttribute("fx",t.x1),e.setAttribute("fy",t.y1),e.setAttribute("fr",t.r1),e.setAttribute("cx",t.x2),e.setAttribute("cy",t.y2),e.setAttribute("r",t.r2)}else(e=Vf(e,n++,"linearGradient",vd)).setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2);for(r=0,i=t.stops.length;r<i;++r)(a=Vf(e,r,"stop",vd)).setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);return qf(e,r),n}function xd(e,t,n){var r;return(e=Vf(e,n,"clipPath",vd)).setAttribute("id",t.id),t.path?(r=Vf(e,0,"path",vd)).setAttribute("d",t.path):((r=Vf(e,0,"rect",vd)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)),qf(e,1),n+1}function Od(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function kd(e,t,n,r,i){var a,o=e._svg;if(!o&&(o=Uf(a=t.ownerDocument,r,vd),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===r))){var s=Uf(a,"path",vd);o.appendChild(s),s.__data__=e;var u=Uf(a,"g",vd);o.appendChild(u),u.__data__=e;var c=Uf(a,"path",vd);o.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(o.ownerSVGElement!==i||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}bd.initialize=function(e,t,n,r){return e&&(this._svg=Vf(e,0,"svg",vd),this._svg.setAttribute("class","marks"),qf(e,1),this._root=Vf(this._svg,0,"g",vd),qf(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),yd.initialize.call(this,e,t,n,r)},bd.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),yd.background.apply(this,arguments)},bd.resize=function(e,t,n,r){return yd.resize.call(this,e,t,n,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},bd.canvas=function(){return this._svg},bd.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var t in hd)e[t]=hd[t];var n=this._bgcolor?fd("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+dd("rect"):"";return fd("svg",e)+n+this._svg.innerHTML+dd("svg")},bd._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),qf(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},bd.updateDefs=function(){var e,t=this._svg,n=this._defs,r=n.el,i=0;for(e in n.gradient)r||(n.el=r=Vf(t,0,"defs",vd)),i=wd(r,n.gradient[e],i);for(e in n.clipping)r||(n.el=r=Vf(t,0,"defs",vd)),i=xd(r,n.clipping[e],i);r&&(0===i?(t.removeChild(r),n.el=null):qf(r,i))},bd._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},bd.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},bd.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},bd._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,i,a,o,s,u=++this._dirtyID;for(a=0,o=e.length;a<o;++a)(n=(t=e[a]).mark).marktype!==r&&(r=n.marktype,i=Nf[r]),n.zdirty&&n.dirty!==u&&(this._dirtyAll=!1,Od(t,u),n.items.forEach((function(e){e.dirty=u}))),n.zdirty||(t.exit?(i.nested&&n.items.length?(s=n.items[0])._svg&&this._update(i,s._svg,s):t._svg&&(s=t._svg.parentNode)&&s.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t)._update!==u&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,Od(t,u)),t._update=u));return!this._dirtyAll},bd.draw=function(e,t,n){if(!this.isDirty(t))return t._svg;var r,i=this,a=this._svg,o=Nf[t.marktype],s=!1===t.interactive?"none":null,u="g"===o.tag,c=null,l=0;function f(e){var t=i.isDirty(e),n=kd(e,r,c,o.tag,a);t&&(i._update(o,n,e),u&&function(e,t,n){t=t.lastChild.previousSibling;var r,i=0;El(n,(function(n){r=e.draw(t,n,r),++i})),qf(t,1+i)}(i,n,e)),c=n,++l}return(r=kd(t,e,n,"g",a)).setAttribute("class",Hf(t)),u||r.style.setProperty("pointer-events",s),t.clip?r.setAttribute("clip-path",Vl(i,t,t.group)):r.removeAttribute("clip-path"),o.nested?t.items.length&&f(t.items[0]):El(t,f),qf(r,l),r};var Ed=null,_d=null,Sd={group:function(e,t,n){var r,i;Ed=r=t.childNodes[2],_d=r.__values__,e.foreground(Cd,n,this),_d=t.__values__,Ed=t.childNodes[1],e.content(Cd,n,this),Ed=i=t.childNodes[0],e.background(Cd,n,this);var a=!1===n.mark.interactive?"none":null;if(a!==_d.events&&(r.style.setProperty("pointer-events",a),i.style.setProperty("pointer-events",a),_d.events=a),n.strokeForeground&&n.stroke){var o=n.fill;r.style.removeProperty("display"),this.style(i,n),i.style.removeProperty("stroke"),o&&(n.fill=null),_d=r.__values__,this.style(r,n),o&&(n.fill=o),Ed=null}else r.style.setProperty("display","none"),r.style.setProperty("fill","none")},image:function(e,t,n){!1===n.smooth?(jd(t,"image-rendering","optimizeSpeed"),jd(t,"image-rendering","pixelated")):jd(t,"image-rendering",null)},text:function(e,t,n){var r,i,a,o,s=xf(n);Object(A.A)(s)?(r=(i=s.map((function(e){return kf(n,e)}))).join("\n"))!==_d.text&&(qf(t,0),a=t.ownerDocument,o=wf(n),i.forEach((function(e,r){var i=Uf(a,"tspan",vd);i.__data__=n,i.textContent=e,r&&(i.setAttribute("x",0),i.setAttribute("dy",o)),t.appendChild(i)})),_d.text=r):(i=kf(n,s))!==_d.text&&(t.textContent=i,_d.text=i),jd(t,"font-family",Ef(n)),jd(t,"font-size",yf(n)+"px"),jd(t,"font-style",n.fontStyle),jd(t,"font-variant",n.fontVariant),jd(t,"font-weight",n.fontWeight)}};function jd(e,t,n){n!==_d[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),_d[t]=n)}function Cd(e,t,n){t!==_d[e]&&(null!=t?n?Ed.setAttributeNS(n,e,t):Ed.setAttribute(e,t):n?Ed.removeAttributeNS(n,e):Ed.removeAttribute(e),_d[e]=t)}function Ad(){var e;return"undefined"===typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function Td(e){Yf.call(this,e),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}bd._update=function(e,t,n){Ed=t,_d=t.__values__,e.attr(Cd,n,this);var r=Sd[e.type];r&&r.call(this,e,t,n),Ed&&this.style(Ed,n)},bd.style=function(e,t){var n,r,i,a,o;if(null!=t)for(n=0,r=md.length;n<r;++n)o=t[i=md[n]],"font"===i&&(o=Ef(t)),o!==_d[i]&&(a=pd[i],null==o?"fill"===a?e.style.setProperty(a,"none"):e.style.removeProperty(a):(Is(o)&&(o=Fs(o,this._defs.gradient,Ad())),e.style.setProperty(a,o+"")),_d[i]=o)};var Nd,Rd=Object(A.y)(Td,Yf),Md=Yf.prototype;function Dd(e,t,n,r){Nd[r||e]=t}function Id(e,t,n,r){if(null==e)return"";var i,a,o,s,u,c="";for("bgrect"===n&&!1===t.interactive&&(c+="pointer-events: none; "),"bgfore"===n&&(!1===t.interactive&&(c+="pointer-events: none; "),c+="display: none; "),"image"===n&&!1===e.smooth&&(c+="image-rendering: optimizeSpeed; image-rendering: pixelated; "),"text"===n&&(c+="font-family: "+Ef(e)+"; ",c+="font-size: "+yf(e)+"px; ",e.fontStyle&&(c+="font-style: "+e.fontStyle+"; "),e.fontVariant&&(c+="font-variant: "+e.fontVariant+"; "),e.fontWeight&&(c+="font-weight: "+e.fontWeight+"; ")),i=0,a=md.length;i<a;++i)o=md[i],s=pd[o],null==(u=e[o])?"fill"===s&&(c+="fill: none; "):"transparent"!==u||"fill"!==s&&"stroke"!==s?(Is(u)&&(u=Fs(u,r.gradient,"")),c+=s+": "+u+"; "):c+=s+": none; ";return c?'style="'+c.trim()+'"':null}function Fd(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}Rd.resize=function(e,t,n,r){Md.resize.call(this,e,t,n,r);var i=this._origin,a=this._text,o={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var s in hd)o[s]=hd[s];a.head=fd("svg",o);var u=this._bgcolor;return"transparent"!==u&&"none"!==u||(u=null),a.bg=u?fd("rect",{width:this._width,height:this._height,style:"fill: "+u+";"})+dd("rect"):"",a.root=fd("g",{transform:"translate("+i+")"}),a.foot=dd("g")+dd("svg"),this},Rd.background=function(){var e=Md.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),e},Rd.svg=function(){var e=this._text;return e.head+e.bg+e.defs+e.root+e.body+e.foot},Rd._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},Rd.buildDefs=function(){var e,t,n,r,i,a=this._defs,o="";for(t in a.gradient){for(i=(n=a.gradient[t]).stops,"radial"===n.gradient?(o+=fd(r="pattern",{id:"p_"+t,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),o+=fd("rect",{width:"1",height:"1",fill:"url(#"+t+")"})+dd("rect"),o+=dd(r),o+=fd(r="radialGradient",{id:t,fx:n.x1,fy:n.y1,fr:n.r1,cx:n.x2,cy:n.y2,r:n.r2})):o+=fd(r="linearGradient",{id:t,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),e=0;e<i.length;++e)o+=fd("stop",{offset:i[e].offset,"stop-color":i[e].color})+dd("stop");o+=dd(r)}for(t in a.clipping)n=a.clipping[t],o+=fd("clipPath",{id:t}),n.path?o+=fd("path",{d:n.path})+dd("path"):o+=fd("rect",{x:0,y:0,width:n.width,height:n.height})+dd("rect"),o+=dd("clipPath");return o.length>0?fd("defs")+o+dd("defs"):""},Rd.attributes=function(e,t){return Nd={},e(Dd,t,this),Nd},Rd.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then((function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e}))}return null},Rd.mark=function(e){var t,n=this,r=Nf[e.marktype],i=r.tag,a=this._defs,o="";function s(s){var u=n.href(s);if(u&&(o+=fd("a",u)),t="g"!==i?Id(s,e,i,a):null,o+=fd(i,n.attributes(r.attr,s),t),"text"===i){var c=xf(s);if(Object(A.A)(c))for(var l={x:0,dy:wf(s)},f=0;f<c.length;++f)o+=fd("tspan",f?l:null)+Fd(kf(s,c[f]))+dd("tspan");else o+=Fd(kf(s,c))}else if("g"===i){var d=s.strokeForeground,h=s.fill,p=s.stroke;d&&p&&(s.stroke=null),o+=fd("path",n.attributes(r.background,s),Id(s,e,"bgrect",a))+dd("path"),o+=fd("g",n.attributes(r.content,s))+n.markGroup(s)+dd("g"),d&&p?(h&&(s.fill=null),s.stroke=p,o+=fd("path",n.attributes(r.foreground,s),Id(s,e,"bgrect",a))+dd("path"),h&&(s.fill=h)):o+=fd("path",n.attributes(r.foreground,s),Id({},e,"bgfore",a))+dd("path")}o+=dd(i),u&&(o+=dd("a"))}return"g"!==i&&!1===e.interactive&&(t='style="pointer-events: none;"'),o+=fd("g",{class:Hf(e),"clip-path":e.clip?Vl(n,e,e.group):null},t),r.nested?e.items&&e.items.length&&s(e.items[0]):El(e,s),o+dd("g")},Rd.markGroup=function(e){var t=this,n="";return El(e,(function(e){n+=t.mark(e)})),n};var Pd={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},zd={};function Ld(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(zd[e]=t,this):zd[e]}function Bd(e,t,n){var r=[],i=(new Rs).union(t),a=e.marktype;return a?Ud(e,i,n,r):"group"===a?Wd(e,i,n,r):Object(A.n)("Intersect scene must be mark node or group item.")}function Ud(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){var i=e.items,a=e.marktype,o=i.length,s=0;if("group"===a)for(;s<o;++s)Wd(i[s],t,n,r);else for(var u=Nf[a].isect;s<o;++s){var c=i[s];Vd(c,t,u)&&r.push(c)}}return r}function Wd(e,t,n,r){n&&n(e.mark)&&Vd(e,t,Nf.group.isect)&&r.push(e);var i=e.items,a=i&&i.length;if(a){var o=e.x||0,s=e.y||0;t.translate(-o,-s);for(var u=0;u<a;++u)Ud(i[u],t,n,r);t.translate(o,s)}return r}function Vd(e,t,n){var r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}zd.canvas=zd.png={renderer:rd,headless:rd,handler:Jf},zd.svg={renderer:gd,headless:Td,handler:ud},zd.none={};var qd=new Rs,Hd=function(e){var t=e.clip;if(Object(A.D)(t))t(Qc(qd.clear()));else{if(!t)return;qd.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(qd)};function Gd(e,t,n){return e===t||("path"===n?$d(e,t):e instanceof Date&&t instanceof Date?+e===+t:Object(A.E)(e)&&Object(A.E)(t)?Math.abs(e-t)<=1e-9:e&&t&&(Object(A.F)(e)||Object(A.F)(t))?null!=e&&null!=t&&function(e,t){var n,r,i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(i.sort(),a.sort(),r=i.length-1;r>=0;r--)if(i[r]!=a[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!Gd(e[n],t[n],n))return!1;return typeof e===typeof t}(e,t):e==t)}function $d(e,t){return Gd(Vu(e),Vu(t))}function Kd(e){hr.call(this,null,e)}function Xd(e,t,n){return t(e.bounds.clear(),e,n)}Object(A.y)(Kd,hr).transform=function(e,t){var n,r=t.dataflow,i=e.mark,a=i.marktype,o=Nf[a],s=o.bound,u=i.bounds;if(o.nested)i.items.length&&r.dirty(i.items[0]),u=Xd(i,s),i.items.forEach((function(e){e.bounds.clear().union(u)}));else if("group"===a||e.modified())switch(t.visit(t.MOD,(function(e){r.dirty(e)})),u.clear(),i.items.forEach((function(e){u.union(Xd(e,s))})),i.role){case"axis":case"legend":case"title":t.reflow()}else n=t.changed(t.REM),t.visit(t.ADD,(function(e){u.union(Xd(e,s))})),t.visit(t.MOD,(function(e){n=n||u.alignsWith(e.bounds),r.dirty(e),u.union(Xd(e,s))})),n&&(u.clear(),i.items.forEach((function(e){u.union(e.bounds)})));return Hd(i),t.modifies("bounds")};function Yd(e){hr.call(this,0,e)}function Zd(e){hr.call(this,null,e)}function Jd(e){hr.call(this,null,e)}Yd.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(A.y)(Yd,hr).transform=function(e,t){var n=function(e){var t=e._signals[":vega_identifier:"];t||(e._signals[":vega_identifier:"]=t=e.add(0));return t}(t.dataflow),r=n.value,i=e.as;return t.visit(t.ADD,(function(e){e[i]||(e[i]=++r)})),n.set(this.value=r),t},Object(A.y)(Zd,hr).transform=function(e,t){var n=this.value;n||((n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var r="group"===n.marktype?Bs:Ls;return t.visit(t.ADD,(function(e){r.call(e,n)})),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t};var Qd=Object(A.y)(Jd,hr),eh={parity:function(e){return e.filter((function(e,t){return t%2?e.opacity=0:1}))},greedy:function(e,t){var n;return e.filter((function(e,r){return r&&th(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)}))}};function th(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)}function nh(e,t){for(var n,r=1,i=e.length,a=e[0].bounds;r<i;a=n,++r)if(th(a,n=e[r].bounds,t))return!0}function rh(e){var t=e.bounds;return t.width()>1&&t.height()>1}function ih(e){return e.forEach((function(e){return e.opacity=1})),e}function ah(e,t){return e.reflow(t.modified()).modifies("opacity")}function oh(e){hr.call(this,null,e)}Qd.transform=function(e,t){var n,r,i,a=eh[e.method]||eh.parity,o=t.materialize(t.SOURCE).source,s=e.separation||0;if(o&&o.length){if(!e.method)return e.modified("method")&&(ih(o),t=ah(t,e)),t;if((o=o.filter(rh)).length){if(e.sort&&(o=o.slice().sort(e.sort)),n=ih(o),t=ah(t,e),n.length>=3&&nh(n,s)){do{n=a(n,s)}while(n.length>=3&&nh(n,s));n.length<3&&!Object(A.U)(o).opacity&&(n.length>1&&(Object(A.U)(n).opacity=0),Object(A.U)(o).opacity=1)}return e.boundScale&&e.boundTolerance>=0&&(r=function(e,t,n){var r=e.range(),i=new Rs;return t===js||"bottom"===t?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),function(e){return i.encloses(e.bounds)}}(e.boundScale,e.boundOrient,+e.boundTolerance),o.forEach((function(e){r(e)||(e.opacity=0)}))),i=n[0].mark.bounds.clear(),o.forEach((function(e){e.opacity&&i.union(e.bounds)})),t}}},Object(A.y)(oh,hr).transform=function(e,t){var n=t.dataflow;if(t.visit(t.ALL,(function(e){n.dirty(e)})),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}};var sh=new Rs;function uh(e,t,n){return e[t]===n?0:(e[t]=n,1)}function ch(e){var t=e.items[0].datum.orient;return t===Cs||t===As}function lh(e,t,n,r){var i,a,o=t.items[0],s=o.datum,u=s.orient,c=null!=s.translate?s.translate:.5,l=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(s),f=o.range,d=o.offset,h=o.position,p=o.minExtent,m=o.maxExtent,v=s.title&&o.items[l[2]].items[0],g=o.titlePadding,b=o.bounds,y=v&&Of(v),w=0,x=0;switch(sh.clear().union(b),b.clear(),(i=l[0])>-1&&b.union(o.items[i].bounds),(i=l[1])>-1&&b.union(o.items[i].bounds),u){case js:w=h||0,x=-d,a=Math.max(p,Math.min(m,-b.y1)),b.add(0,-a).add(f,0),v&&fh(e,v,a,g,y,0,-1,b);break;case Cs:w=-d,x=h||0,a=Math.max(p,Math.min(m,-b.x1)),b.add(-a,0).add(0,f),v&&fh(e,v,a,g,y,1,-1,b);break;case As:w=n+d,x=h||0,a=Math.max(p,Math.min(m,b.x2)),b.add(0,0).add(a,f),v&&fh(e,v,a,g,y,1,1,b);break;case"bottom":w=h||0,x=r+d,a=Math.max(p,Math.min(m,b.y2)),b.add(0,0).add(f,a),v&&fh(e,v,a,g,0,0,1,b);break;default:w=o.x,x=o.y}return Kc(b.translate(w,x),o),uh(o,"x",w+c)|uh(o,"y",x+c)&&(o.bounds=sh,e.dirty(o),o.bounds=b,e.dirty(o)),o.mark.bounds.clear().union(b)}function fh(e,t,n,r,i,a,o,s){var u=t.bounds;if(t.auto){var c=o*(n+i+r),l=0,f=0;e.dirty(t),a?l=(t.x||0)-(t.x=c):f=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(u.translate(-l,-f)),e.dirty(t)}s.union(u)}var dh=n(9);function hh(e){return(new Rs).set(0,0,e.width||0,e.height||0)}function ph(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function mh(e,t,n){var r=Object(A.F)(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function vh(e){return e<0?Math.ceil(-e):0}function gh(e,t,n){var r,i,a,o,s,u,c,l,f,d,h,p=!n.nodirty,m="flush"===n.bounds?hh:ph,v=sh.set(0,0,0,0),g=mh(n.align,"column"),b=mh(n.align,Ns),y=mh(n.padding,"column"),w=mh(n.padding,Ns),x=n.columns||t.length,O=x<0?1:Math.ceil(t.length/x),k=t.length,E=Array(k),_=Array(x),S=0,j=Array(k),C=Array(O),A=0,T=Array(k),N=Array(k),R=Array(k);for(i=0;i<x;++i)_[i]=0;for(i=0;i<O;++i)C[i]=0;for(i=0;i<k;++i)u=t[i],s=R[i]=m(u),u.x=u.x||0,T[i]=0,u.y=u.y||0,N[i]=0,a=i%x,o=~~(i/x),S=Math.max(S,c=Math.ceil(s.x2)),A=Math.max(A,l=Math.ceil(s.y2)),_[a]=Math.max(_[a],c),C[o]=Math.max(C[o],l),E[i]=y+vh(s.x1),j[i]=w+vh(s.y1),p&&e.dirty(t[i]);for(i=0;i<k;++i)i%x===0&&(E[i]=0),i<x&&(j[i]=0);if("each"===g)for(a=1;a<x;++a){for(h=0,i=a;i<k;i+=x)h<E[i]&&(h=E[i]);for(i=a;i<k;i+=x)E[i]=h+_[a-1]}else if("all"===g){for(h=0,i=0;i<k;++i)i%x&&h<E[i]&&(h=E[i]);for(i=0;i<k;++i)i%x&&(E[i]=h+S)}else for(g=!1,a=1;a<x;++a)for(i=a;i<k;i+=x)E[i]+=_[a-1];if("each"===b)for(o=1;o<O;++o){for(h=0,r=(i=o*x)+x;i<r;++i)h<j[i]&&(h=j[i]);for(i=o*x;i<r;++i)j[i]=h+C[o-1]}else if("all"===b){for(h=0,i=x;i<k;++i)h<j[i]&&(h=j[i]);for(i=x;i<k;++i)j[i]=h+A}else for(b=!1,o=1;o<O;++o)for(r=(i=o*x)+x;i<r;++i)j[i]+=C[o-1];for(f=0,i=0;i<k;++i)f=E[i]+(i%x?f:0),T[i]+=f-t[i].x;for(a=0;a<x;++a)for(d=0,i=a;i<k;i+=x)d+=j[i],N[i]+=d-t[i].y;if(g&&mh(n.center,"column")&&O>1)for(i=0;i<k;++i)(f=(s="all"===g?S:_[i%x])-R[i].x2-t[i].x-T[i])>0&&(T[i]+=f/2);if(b&&mh(n.center,Ns)&&1!==x)for(i=0;i<k;++i)(d=(s="all"===b?A:C[~~(i/x)])-R[i].y2-t[i].y-N[i])>0&&(N[i]+=d/2);for(i=0;i<k;++i)v.union(R[i].translate(T[i],N[i]));switch(f=mh(n.anchor,"x"),d=mh(n.anchor,"y"),mh(n.anchor,"column")){case Ts:f-=v.width();break;case"middle":f-=v.width()/2}switch(mh(n.anchor,Ns)){case Ts:d-=v.height();break;case"middle":d-=v.height()/2}for(f=Math.round(f),d=Math.round(d),v.clear(),i=0;i<k;++i)t[i].mark.bounds.clear();for(i=0;i<k;++i)(u=t[i]).x+=T[i]+=f,u.y+=N[i]+=d,v.union(u.mark.bounds.union(u.bounds.translate(T[i],N[i]))),p&&e.dirty(u);return v}function bh(e,t,n){var r,i,a,o,s,u,c,l=function(e){for(var t,n,r,i,a,o,s,u=e.items,c=u.length,l=0,f={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};l<c;++l)if(s=(o=u[l]).items,"group"===o.marktype)switch(o.role){case"axis":case"legend":case"title":break;case"row-header":(t=f.rowheaders).push.apply(t,Object(dh.a)(s));break;case"row-footer":(n=f.rowfooters).push.apply(n,Object(dh.a)(s));break;case"column-header":(r=f.colheaders).push.apply(r,Object(dh.a)(s));break;case"column-footer":(i=f.colfooters).push.apply(i,Object(dh.a)(s));break;case"row-title":f.rowtitle=s[0];break;case"column-title":f.coltitle=s[0];break;default:(a=f.marks).push.apply(a,Object(dh.a)(s))}return f}(t),f=l.marks,d="flush"===n.bounds?yh:wh,h=n.offset,p=n.columns||f.length,m=p<0?1:Math.ceil(f.length/p),v=m*p,g=gh(e,f,n);l.rowheaders&&(u=mh(n.headerBand,Ns,null),r=kh(e,l.rowheaders,f,p,m,-mh(h,"rowHeader"),xh,0,d,"x1",0,p,1,u)),l.colheaders&&(u=mh(n.headerBand,"column",null),i=kh(e,l.colheaders,f,p,p,-mh(h,"columnHeader"),xh,1,d,"y1",0,1,p,u)),l.rowfooters&&(u=mh(n.footerBand,Ns,null),a=kh(e,l.rowfooters,f,p,m,mh(h,"rowFooter"),Oh,0,d,"x2",p-1,p,1,u)),l.colfooters&&(u=mh(n.footerBand,"column",null),o=kh(e,l.colfooters,f,p,p,mh(h,"columnFooter"),Oh,1,d,"y2",v-p,1,p,u)),l.rowtitle&&(s=mh(n.titleAnchor,Ns),c=mh(h,"rowTitle"),c=s===Ts?a+c:r-c,u=mh(n.titleBand,Ns,.5),Eh(e,l.rowtitle,c,0,g,u)),l.coltitle&&(s=mh(n.titleAnchor,"column"),c=mh(h,"columnTitle"),c=s===Ts?o+c:i-c,u=mh(n.titleBand,"column",.5),Eh(e,l.coltitle,c,1,g,u))}function yh(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function wh(e,t){return e.bounds[t]}function xh(e,t){return Math.floor(Math.min(e,t))}function Oh(e,t){return Math.ceil(Math.max(e,t))}function kh(e,t,n,r,i,a,o,s,u,c,l,f,d,h){var p,m,v,g,b,y,w,x,O,k=n.length,E=0,_=0;if(!k)return E;for(p=l;p<k;p+=f)n[p]&&(E=o(E,u(n[p],c)));if(!t.length)return E;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),E+=a,m=0,g=t.length;m<g;++m)e.dirty(t[m]),t[m].mark.bounds.clear();for(p=l,m=0,g=t.length;m<g;++m,p+=f){for(b=(y=t[m]).mark.bounds,v=p;v>=0&&null==(w=n[v]);v-=d);s?(x=null==h?w.x:Math.round(w.bounds.x1+h*w.bounds.width()),O=E):(x=E,O=null==h?w.y:Math.round(w.bounds.y1+h*w.bounds.height())),b.union(y.bounds.translate(x-(y.x||0),O-(y.y||0))),y.x=x,y.y=O,e.dirty(y),_=o(_,b[c])}return _}function Eh(e,t,n,r,i,a){if(t){e.dirty(t);var o=n,s=n;r?o=Math.round(i.x1+a*i.width()):s=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=s,e.dirty(t)}}function _h(e,t,n,r,i,a,o){var s=function(e,t){var n=e[t]||{};return function(t,r){return null!=n[t]?n[t]:null!=e[t]?e[t]:r}}(n,t),u=function(e,t){var n=-1/0;return e.forEach((function(e){null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,s("offset",0)),c=s("anchor","start"),l=c===Ts?1:"middle"===c?.5:0,f={align:"each",bounds:s("bounds","flush"),columns:"vertical"===s("direction")?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case Cs:f.anchor={x:Math.floor(r.x1)-u,column:Ts,y:l*(o||r.height()+2*r.y1),row:c};break;case As:f.anchor={x:Math.ceil(r.x2)+u,y:l*(o||r.height()+2*r.y1),row:c};break;case js:f.anchor={y:Math.floor(i.y1)-u,row:Ts,x:l*(a||i.width()+2*i.x1),column:c};break;case"bottom":f.anchor={y:Math.ceil(i.y2)+u,x:l*(a||i.width()+2*i.x1),column:c};break;case"top-left":f.anchor={x:u,y:u};break;case"top-right":f.anchor={x:a-u,y:u,column:Ts};break;case"bottom-left":f.anchor={x:u,y:o-u,row:Ts};break;case"bottom-right":f.anchor={x:a-u,y:o-u,column:Ts,row:Ts}}return f}function Sh(e,t){var n,r,i=t.items[0],a=i.datum,o=i.orient,s=i.bounds,u=i.x,c=i.y;return i._bounds?i._bounds.clear().union(s):i._bounds=s.clone(),s.clear(),function(e,t,n){var r=t.padding,i=r-n.x,a=r-n.y;if(t.datum.title){var o=t.items[1].items[0],s=o.anchor,u=t.titlePadding||0,c=r-o.x,l=r-o.y;switch(o.orient){case Cs:i+=Math.ceil(o.bounds.width())+u;break;case As:case"bottom":break;default:a+=o.bounds.height()+u}switch((i||a)&&Ch(e,n,i,a),o.orient){case Cs:l+=jh(t,n,o,s,1,1);break;case As:c+=jh(t,n,o,Ts,0,0)+u,l+=jh(t,n,o,s,1,1);break;case"bottom":c+=jh(t,n,o,s,0,0),l+=jh(t,n,o,Ts,-1,0,1)+u;break;default:c+=jh(t,n,o,s,0,0)}(c||l)&&Ch(e,o,c,l),(c=Math.round(o.bounds.x1-r))<0&&(Ch(e,n,-c,0),Ch(e,o,-c,0))}else(i||a)&&Ch(e,n,i,a)}(e,i,i.items[0].items[0]),s=function(e,t){return e.items.forEach((function(e){return t.union(e.bounds)})),t.x1=e.padding,t.y1=e.padding,t}(i,s),n=2*i.padding,r=2*i.padding,s.empty()||(n=Math.ceil(s.width()+n),r=Math.ceil(s.height()+r)),"symbol"===a.type&&function(e){var t=e.reduce((function(e,t){return e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e}),{});e.forEach((function(e){e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(i.items[0].items[0].items[0].items),"none"!==o&&(i.x=u=0,i.y=c=0),i.width=n,i.height=r,Kc(s.set(u,c,u+n,c+r),i),i.mark.bounds.clear().union(s),i}function jh(e,t,n,r,i,a,o){var s="symbol"!==e.datum.type,u=n.datum.vgrad,c=(!s||!a&&u||o?t:t.items[0]).bounds[i?"y2":"x2"]-e.padding,l=u&&a?c:0,f=u&&a?0:c,d=i<=0?0:Of(n);return Math.round("start"===r?l:r===Ts?f-d:.5*(c-d))}function Ch(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function Ah(e){hr.call(this,null,e)}Object(A.y)(Ah,hr).transform=function(e,t){var n=t.dataflow;return e.mark.items.forEach((function(t){e.layout&&bh(n,t,e.layout),function(e,t,n){var r,i,a,o,s,u=t.items,c=Math.max(0,t.width||0),l=Math.max(0,t.height||0),f=(new Rs).set(0,0,c,l),d=f.clone(),h=f.clone(),p=[];for(o=0,s=u.length;o<s;++o)switch((i=u[o]).role){case"axis":(ch(i)?d:h).union(lh(e,i,c,l));break;case"title":r=i;break;case"legend":p.push(Sh(e,i));break;case"frame":case"scope":case"row-header":case"row-footer":case"row-title":case"column-header":case"column-footer":case"column-title":d.union(i.bounds),h.union(i.bounds);break;default:f.union(i.bounds)}if(p.length){var m={};for(var v in p.forEach((function(e){"none"!==(a=e.orient||As)&&(m[a]||(m[a]=[])).push(e)})),m){var g=m[v];gh(e,g,_h(g,v,n.legends,d,h,c,l))}p.forEach((function(t){var r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=r,e.dirty(t)),n.autosize&&"fit"===n.autosize.type)switch(t.orient){case Cs:case As:f.add(r.x1,0).add(r.x2,0);break;case js:case"bottom":f.add(0,r.y1).add(0,r.y2)}else f.union(r)}))}f.union(d).union(h),r&&f.union(function(e,t,n,r,i){var a,o=t.items[0],s=o.frame,u=o.orient,c=o.anchor,l=o.offset,f=o.padding,d=o.items[0].items[0],h=o.items[1]&&o.items[1].items[0],p=u===Cs||u===As?r:n,m=0,v=0,g=0,b=0,y=0;if("group"!==s?u===Cs?(m=i.y2,p=i.y1):u===As?(m=i.y1,p=i.y2):(m=i.x1,p=i.x2):u===Cs&&(m=r,p=0),a="start"===c?m:c===Ts?p:(m+p)/2,h&&h.text){switch(u){case js:case"bottom":y=d.bounds.height()+f;break;case Cs:b=d.bounds.width()+f;break;case As:b=-d.bounds.width()-f}sh.clear().union(h.bounds),sh.translate(b-(h.x||0),y-(h.y||0)),uh(h,"x",b)|uh(h,"y",y)&&(e.dirty(h),h.bounds.clear().union(sh),h.mark.bounds.clear().union(sh),e.dirty(h)),sh.clear().union(h.bounds)}else sh.clear();switch(sh.union(d.bounds),u){case js:v=a,g=i.y1-sh.height()-l;break;case Cs:v=i.x1-sh.width()-l,g=a;break;case As:v=i.x2+sh.width()+l,g=a;break;case"bottom":v=a,g=i.y2+l;break;default:v=o.x,g=o.y}return uh(o,"x",v)|uh(o,"y",g)&&(sh.translate(v,g),e.dirty(o),o.bounds.clear().union(sh),t.bounds.clear().union(sh),e.dirty(o)),o.bounds}(e,r,c,l,f));t.clip&&f.set(0,0,t.width||0,t.height||0);!function(e,t,n,r){var i=r.autosize||{},a=i.type;if(e._autosize<1||!a)return;var o=e._width,s=e._height,u=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),l=Math.max(0,Math.ceil(n.x2-u)),f=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1)),h=Math.max(0,Math.ceil(n.y2-f));if("padding"===i.contains){var p=e.padding();o-=p.left+p.right,s-=p.top+p.bottom}"none"===a?(c=0,d=0,u=o,f=s):"fit"===a?(u=Math.max(0,o-c-l),f=Math.max(0,s-d-h)):"fit-x"===a?(u=Math.max(0,o-c-l),s=f+d+h):"fit-y"===a?(o=u+c+l,f=Math.max(0,s-d-h)):"pad"===a&&(o=u+c+l,s=f+d+h);e._resizeView(o,s,u,f,[c,d],i.resize)}(e,t,f,n)}(n,t,e)})),e.modified()&&t.reflow(),t};var Th=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0},Nh="log",Rh="utc",Mh="continuous",Dh=Zo(Ar),Ih=Dh.right,Fh=Dh.left,Ph=Ih;function zh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Lh(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}var Bh=Symbol("implicit");function Uh(){var e=new Map,t=[],n=[],r=Bh;function i(i){var a=i+"",o=e.get(a);if(!o){if(r!==Bh)return r;e.set(a,o=t.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,a=Object(Sr.a)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o+"";e.has(s)||e.set(s,t.push(o))}}catch(u){a.e(u)}finally{a.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Uh(t,n).unknown(r)},zh.apply(i,arguments),i}function Wh(){var e,t,n=Uh().unknown(void 0),r=n.domain,i=n.range,a=[0,1],o=!1,s=0,u=0,c=.5;function l(){var n=r().length,l=a[1]<a[0],f=a[l-0],d=a[1-l],h=Th(n,s,u);e=(d-f)/(h||1),o&&(e=Math.floor(e)),f+=(d-f-e*(n-s))*c,t=e*(1-s),o&&(f=Math.round(f),t=Math.round(t));var p=Da(n).map((function(t){return f+e*t}));return i(l?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),l()):r()},n.range=function(e){return arguments.length?(a=[+e[0],+e[1]],l()):a.slice()},n.rangeRound=function(e){return a=[+e[0],+e[1]],o=!0,l()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,l()):o},n.padding=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),s=u,l()):s},n.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),l()):s},n.paddingOuter=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),l()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),l()):c},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,o,s,u=+e[0],c=+e[1],l=a[1]<a[0],f=l?i().reverse():i(),d=f.length-1;if(u===u&&c===c&&(c<u&&(s=u,u=c,c=s),!(c<f[0]||u>a[1-l])))return n=Math.max(0,Ih(f,u)-1),o=u===c?n:Ih(f,c)-1,u-f[n]>t+1e-10&&++n,l&&(s=n,n=d-o,o=d-s),n>o?void 0:r().slice(n,o+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return Wh().domain(r()).range(a).round(o).paddingInner(s).paddingOuter(u).align(c)},l()}var Vh=n(127),qh=n(354),Hh=n(180),Gh=n(355),$h=n(356),Kh=function(e,t,n,r){var i,a=rs(e,t,n);switch((r=Object(Vh.b)(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=Object(qh.a)(a,o))||(r.precision=i),Object(Hh.c)(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Object(Gh.a)(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Object($h.a)(a))||(r.precision=i-2*("%"===r.type))}return Object(Hh.b)(r)},Xh=Array.prototype.map;function Yh(e){return Xh.call(e,(function(e){return+e}))}var Zh=Array.prototype.slice;var Jh=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Qh(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ep(){}var tp="\\s*([+-]?\\d+)\\s*",np="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",rp="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ip=/^#([0-9a-f]{3,8})$/,ap=new RegExp("^rgb\\("+[tp,tp,tp]+"\\)$"),op=new RegExp("^rgb\\("+[rp,rp,rp]+"\\)$"),sp=new RegExp("^rgba\\("+[tp,tp,tp,np]+"\\)$"),up=new RegExp("^rgba\\("+[rp,rp,rp,np]+"\\)$"),cp=new RegExp("^hsl\\("+[np,rp,rp]+"\\)$"),lp=new RegExp("^hsla\\("+[np,rp,rp,np]+"\\)$"),fp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function dp(){return this.rgb().formatHex()}function hp(){return this.rgb().formatRgb()}function pp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ip.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?mp(t):3===n?new yp(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?new yp(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?new yp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ap.exec(e))?new yp(t[1],t[2],t[3],1):(t=op.exec(e))?new yp(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=sp.exec(e))?vp(t[1],t[2],t[3],t[4]):(t=up.exec(e))?vp(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=cp.exec(e))?kp(t[1],t[2]/100,t[3]/100,1):(t=lp.exec(e))?kp(t[1],t[2]/100,t[3]/100,t[4]):fp.hasOwnProperty(e)?mp(fp[e]):"transparent"===e?new yp(NaN,NaN,NaN,0):null}function mp(e){return new yp(e>>16&255,e>>8&255,255&e,1)}function vp(e,t,n,r){return r<=0&&(e=t=n=NaN),new yp(e,t,n,r)}function gp(e){return e instanceof ep||(e=pp(e)),e?new yp((e=e.rgb()).r,e.g,e.b,e.opacity):new yp}function bp(e,t,n,r){return 1===arguments.length?gp(e):new yp(e,t,n,null==r?1:r)}function yp(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function wp(){return"#"+Op(this.r)+Op(this.g)+Op(this.b)}function xp(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Op(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function kp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Sp(e,t,n,r)}function Ep(e){if(e instanceof Sp)return new Sp(e.h,e.s,e.l,e.opacity);if(e instanceof ep||(e=pp(e)),!e)return new Sp;if(e instanceof Sp)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new Sp(o,s,u,e.opacity)}function _p(e,t,n,r){return 1===arguments.length?Ep(e):new Sp(e,t,n,null==r?1:r)}function Sp(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function jp(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Cp(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}Jh(ep,pp,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:dp,formatHex:dp,formatHsl:function(){return Ep(this).formatHsl()},formatRgb:hp,toString:hp}),Jh(yp,bp,Qh(ep,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new yp(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new yp(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wp,formatHex:wp,formatRgb:xp,toString:xp})),Jh(Sp,_p,Qh(ep,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Sp(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Sp(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new yp(jp(e>=240?e-240:e+120,i,r),jp(e,i,r),jp(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Ap=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return Cp((n-r/t)*t,o,i,a,s)}},Tp=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return Cp((n-r/t)*t,i,a,o,s)}},Np=function(e){return function(){return e}};function Rp(e,t){return function(n){return e+n*t}}function Mp(e,t){var n=t-e;return n?Rp(e,n>180||n<-180?n-360*Math.round(n/360):n):Np(isNaN(e)?t:e)}function Dp(e){return 1===(e=+e)?Ip:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Np(isNaN(t)?n:t)}}function Ip(e,t){var n=t-e;return n?Rp(e,n):Np(isNaN(e)?t:e)}var Fp=function e(t){var n=Dp(t);function r(e,t){var r=n((e=bp(e)).r,(t=bp(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=Ip(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Pp(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=bp(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}var zp=Pp(Ap),Lp=Pp(Tp),Bp=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}};function Up(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var Wp=function(e,t){return(Up(t)?Bp:Vp)(e,t)};function Vp(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Yp(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}var qp=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},Hp=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},Gp=function(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Yp(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},$p=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kp=new RegExp($p.source,"g");var Xp=function(e,t){var n,r,i,a=$p.lastIndex=Kp.lastIndex=0,o=-1,s=[],u=[];for(e+="",t+="";(n=$p.exec(e))&&(r=Kp.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:Hp(n,r)})),a=Kp.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})},Yp=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?Np(t):("number"===r?Hp:"string"===r?(n=pp(t))?(t=n,Fp):Xp:t instanceof pp?Fp:t instanceof Date?qp:Up(t)?Bp:Array.isArray(t)?Vp:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Gp:Hp)(e,t)},Zp=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},Jp=function(e){return+e},Qp=[0,1];function em(e){return e}function tm(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function nm(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=tm(i,r),a=n(o,a)):(r=tm(r,i),a=n(a,o)),function(e){return a(r(e))}}function rm(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=tm(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=Ph(e,t,1,r)-1;return a[n](i[n](t))}}function im(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function am(){var e,t,n,r,i,a,o=Qp,s=Qp,u=Yp,c=em;function l(){var e=Math.min(o.length,s.length);return c!==em&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?rm:nm,i=a=null,f}function f(t){return isNaN(t=+t)?n:(i||(i=r(o.map(e),s,u)))(e(c(t)))}return f.invert=function(n){return c(t((a||(a=r(s,o.map(e),Hp)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,Jp),l()):o.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),l()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),u=Zp,l()},f.clamp=function(e){return arguments.length?(c=!!e||em,l()):c!==em},f.interpolate=function(e){return arguments.length?(u=e,l()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,l()}}function om(){return am()(em,em)}function sm(e){var t=e.domain;return e.ticks=function(e){var n=t();return ts(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Kh(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),a=0,o=i.length-1,s=i[a],u=i[o];return u<s&&(r=s,s=u,u=r,r=a,a=o,o=r),(r=ns(s,u,n))>0?r=ns(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=ns(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(u/r)*r,t(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(u*r)/r,t(i)),e},e}var um=function(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e};function cm(e){return Math.log(e)}function lm(e){return Math.exp(e)}function fm(e){return-Math.log(-e)}function dm(e){return-Math.exp(-e)}function hm(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pm(e){return function(t){return-e(-t)}}function mm(e){var t,n,r=e(cm,lm),i=r.domain,a=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(a),n=function(e){return 10===e?hm:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(a),i()[0]<0?(t=pm(t),n=pm(n),e(fm,dm)):e(cm,lm),r}return r.base=function(e){return arguments.length?(a=+e,o()):a},r.domain=function(e){return arguments.length?(i(e),o()):i()},r.ticks=function(e){var r,o=i(),s=o[0],u=o[o.length-1];(r=u<s)&&(d=s,s=u,u=d);var c,l,f,d=t(s),h=t(u),p=null==e?10:+e,m=[];if(!(a%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(l=1,c=n(d);l<a;++l)if(!((f=c*l)<s)){if(f>u)break;m.push(f)}}else for(;d<=h;++d)for(l=a-1,c=n(d);l>=1;--l)if(!((f=c*l)<s)){if(f>u)break;m.push(f)}2*m.length<p&&(m=ts(s,u,p))}else m=ts(d,h,Math.min(h-d,p)).map(n);return r?m.reverse():m},r.tickFormat=function(e,i){if(null==i&&(i=10===a?".0e":","),"function"!==typeof i&&(i=Object(Hh.b)(i)),e===1/0)return i;null==e&&(e=10);var o=Math.max(1,a*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*a<a-.5&&(r*=a),r<=o?i(e):""}},r.nice=function(){return i(um(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function vm(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gm(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bm(e){return e<0?-e*e:e*e}function ym(e){var t=e(em,em),n=1;function r(){return 1===n?e(em,em):.5===n?e(gm,bm):e(vm(n),vm(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},sm(t)}function wm(){var e=ym(am());return e.copy=function(){return im(e,wm()).exponent(e.exponent())},zh.apply(e,arguments),e}function xm(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Om(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function km(e){var t=1,n=e(xm(t),Om(t));return n.constant=function(n){return arguments.length?e(xm(t=+n),Om(t)):t},sm(n)}function Em(e){return new Date(e)}function _m(e){return e instanceof Date?+e:+new Date(+e)}function Sm(e,t,n,r,i,a,o,s,u){var c=om(),l=c.invert,f=c.domain,d=u(".%L"),h=u(":%S"),p=u("%I:%M"),m=u("%I %p"),v=u("%a %d"),g=u("%b %d"),b=u("%B"),y=u("%Y"),w=[[o,1,1e3],[o,5,5e3],[o,15,15e3],[o,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function x(s){return(o(s)<s?d:a(s)<s?h:i(s)<s?p:r(s)<s?m:t(s)<s?n(s)<s?v:g:e(s)<s?b:y)(s)}function O(t,n,r){if(null==t&&(t=10),"number"===typeof t){var i,a=Math.abs(r-n)/t,o=Zo((function(e){return e[2]})).right(w,a);return o===w.length?(i=rs(n/31536e6,r/31536e6,t),t=e):o?(i=(o=w[a/w[o-1][2]<w[o][2]/a?o-1:o])[1],t=o[0]):(i=Math.max(rs(n,r,t),1),t=s),t.every(i)}return t}return c.invert=function(e){return new Date(l(e))},c.domain=function(e){return arguments.length?f(Array.from(e,_m)):f().map(Em)},c.ticks=function(e){var t,n=f(),r=n[0],i=n[n.length-1],a=i<r;return a&&(t=r,r=i,i=t),t=(t=O(e,r,i))?t.range(r,i+1):[],a?t.reverse():t},c.tickFormat=function(e,t){return null==t?x:u(t)},c.nice=function(e){var t=f();return(e=O(e,t[0],t[t.length-1]))?f(um(t,e)):c},c.copy=function(){return im(c,Sm(e,t,n,r,i,a,o,s,u))},c}function jm(){var e,t,n,r,i,a=0,o=1,s=em,u=!1;function c(t){return isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r,i,a;return arguments.length?(n=t,i=(r=Object(wi.a)(n,2))[0],a=r[1],s=e(i,a),c):[s(0),s(1)]}}return c.domain=function(i){var s,u;return arguments.length?(s=i,u=Object(wi.a)(s,2),a=u[0],o=u[1],e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(u=!!e,c):u},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=l(Yp),c.rangeRound=l(Zp),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function Cm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Am(){var e=sm(jm()(em));return e.copy=function(){return Cm(e,Am())},Lh.apply(e,arguments)}function Tm(){var e=ym(jm());return e.copy=function(){return Cm(e,Tm()).exponent(e.exponent())},Lh.apply(e,arguments)}function Nm(e,t){for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}function Rm(){var e,t,n,r,i,a,o,s=0,u=.5,c=1,l=1,f=em,d=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(l*e<l*t?r:i),f(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i,a,o;return arguments.length?(n=t,i=(r=Object(wi.a)(n,3))[0],a=r[1],o=r[2],f=Nm(e,[i,a,o]),h):[f(0),f(.5),f(1)]}}return h.domain=function(o){var f,d;return arguments.length?(f=o,d=Object(wi.a)(f,3),s=d[0],u=d[1],c=d[2],e=a(s=+s),t=a(u=+u),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,h):[s,u,c]},h.clamp=function(e){return arguments.length?(d=!!e,h):d},h.interpolator=function(e){return arguments.length?(f=e,h):f},h.range=p(Yp),h.rangeRound=p(Zp),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return a=o,e=o(s),t=o(u),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,h}}function Mm(){var e=ym(Rm());return e.copy=function(){return Cm(e,Mm()).exponent(e.exponent())},Lh.apply(e,arguments)}var Dm={};function Im(e,t,n){var r=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}}(n):n.invertExtent?function(e){return function(t){var n,r,i,a,o=e.range(),s=t[0],u=t[1],c=-1;for(u<s&&(r=s,s=u,u=r),i=0,a=o.length;i<a;++i)o[i]>=s&&o[i]<=u&&(c<0&&(c=i),n=i);if(!(c<0))return s=e.invertExtent(o[c]),u=e.invertExtent(o[n]),[void 0===s[0]?s[1]:s[0],void 0===u[1]?u[0]:u[1]]}}(n):void 0),n.type=e,n};return r.metadata=Object(A.db)(Object(A.i)(n)),r}function Fm(e,t,n){return arguments.length>1?(Dm[e]=Im(e,t,n),this):Pm(e)?Dm[e]:void 0}function Pm(e){return Object(A.v)(Dm,e)}function zm(e,t){var n=Dm[e];return n&&n.metadata[t]}function Lm(e){return zm(e,Mh)}function Bm(e){return zm(e,"discrete")}function Um(e){return zm(e,"discretizing")}function Wm(e){return zm(e,Nh)}function Vm(e){return zm(e,"interpolating")}function qm(e){return zm(e,"quantile")}Fm("identity",(function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,Jp),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Jp):[0,1],sm(r)})),Fm("linear",(function e(){var t=om();return t.copy=function(){return im(t,e())},zh.apply(t,arguments),sm(t)}),Mh),Fm(Nh,(function e(){var t=mm(am()).domain([1,10]);return t.copy=function(){return im(t,e()).base(t.base())},zh.apply(t,arguments),t}),[Mh,Nh]),Fm("pow",wm,Mh),Fm("sqrt",(function(){return wm.apply(null,arguments).exponent(.5)}),Mh),Fm("symlog",(function e(){var t=km(am());return t.copy=function(){return im(t,e()).constant(t.constant())},zh.apply(t,arguments)}),Mh),Fm("time",(function(){return zh.apply(Sm(gt,bo,st,mt,wo,Oo,Eo,Ao,Et).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[Mh,"temporal"]),Fm(Rh,(function(){return zh.apply(Sm(yt,No,Ze,at,Mo,Io,Eo,Ao,St).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[Mh,"temporal"]),Fm("sequential",Am,[Mh,"interpolating"]),Fm("".concat("sequential","-").concat("linear"),Am,[Mh,"interpolating"]),Fm("".concat("sequential","-").concat(Nh),(function e(){var t=mm(jm()).domain([1,10]);return t.copy=function(){return Cm(t,e()).base(t.base())},Lh.apply(t,arguments)}),[Mh,"interpolating",Nh]),Fm("".concat("sequential","-").concat("pow"),Tm,[Mh,"interpolating"]),Fm("".concat("sequential","-").concat("sqrt"),(function(){return Tm.apply(null,arguments).exponent(.5)}),[Mh,"interpolating"]),Fm("".concat("sequential","-").concat("symlog"),(function e(){var t=km(jm());return t.copy=function(){return Cm(t,e()).constant(t.constant())},Lh.apply(t,arguments)}),[Mh,"interpolating"]),Fm("".concat("diverging","-").concat("linear"),(function e(){var t=sm(Rm()(em));return t.copy=function(){return Cm(t,e())},Lh.apply(t,arguments)}),[Mh,"interpolating"]),Fm("".concat("diverging","-").concat(Nh),(function e(){var t=mm(Rm()).domain([.1,1,10]);return t.copy=function(){return Cm(t,e()).base(t.base())},Lh.apply(t,arguments)}),[Mh,"interpolating",Nh]),Fm("".concat("diverging","-").concat("pow"),Mm,[Mh,"interpolating"]),Fm("".concat("diverging","-").concat("sqrt"),(function(){return Mm.apply(null,arguments).exponent(.5)}),[Mh,"interpolating"]),Fm("".concat("diverging","-").concat("symlog"),(function e(){var t=km(Rm());return t.copy=function(){return Cm(t,e()).constant(t.constant())},Lh.apply(t,arguments)}),[Mh,"interpolating"]),Fm("quantile",(function e(){var t,n=[],r=[],i=[];function a(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=Fr(n,e/t);return o}function o(e){return isNaN(e=+e)?t:r[Ph(i,e)]}return o.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},o.domain=function(e){if(!arguments.length)return n.slice();n=[];var t,r=Object(Sr.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;null==i||isNaN(i=+i)||n.push(i)}}catch(o){r.e(o)}finally{r.f()}return n.sort(Ar),a()},o.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return i.slice()},o.copy=function(){return e().domain(n).range(r).unknown(t)},zh.apply(o,arguments)}),["discretizing","quantile"]),Fm("quantize",(function e(){var t,n=0,r=1,i=1,a=[.5],o=[0,1];function s(e){return e<=e?o[Ph(a,e,0,i)]:t}function u(){var e=-1;for(a=new Array(i);++e<i;)a[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){var t,i;return arguments.length?(t=e,i=Object(wi.a)(t,2),n=i[0],r=i[1],n=+n,r=+r,u()):[n,r]},s.range=function(e){return arguments.length?(i=(o=Array.from(e)).length-1,u()):o.slice()},s.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,a[0]]:t>=i?[a[i-1],r]:[a[t-1],a[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return a.slice()},s.copy=function(){return e().domain([n,r]).range(o).unknown(t)},zh.apply(sm(s),arguments)}),"discretizing"),Fm("threshold",(function e(){var t,n=[.5],r=[0,1],i=1;function a(e){return e<=e?r[Ph(n,e,0,i)]:t}return a.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),a):n.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e().domain(n).range(r).unknown(t)},zh.apply(a,arguments)}),"discretizing"),Fm("bin-ordinal",(function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(Ph(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=Yh(e),r):t.slice()},r.range=function(e){return arguments.length?(n=Zh.call(e),r):n.slice()},r.tickFormat=function(e,n){return Kh(t[0],Object(A.U)(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),["discrete","discretizing"]),Fm("ordinal",Uh,"discrete"),Fm("band",Wh,"discrete"),Fm("point",(function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(Wh().paddingInner(1))}),"discrete");var Hm,Gm,$m,Km,Xm=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},Ym=function(e,t){var n=Mp(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},Zm=180/Math.PI,Jm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Qm=function(e,t,n,r,i,a){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Zm,skewX:Math.atan(u)*Zm,scaleX:o,scaleY:s}};function ev(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],u=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var u=o.push("translate(",null,t,null,n);s.push({i:u-4,x:Hp(e,i)},{i:u-2,x:Hp(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Hp(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,u),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Hp(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,u),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Hp(e,n)},{i:s-2,x:Hp(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var tv=ev((function(e){return"none"===e?Jm:(Hm||(Hm=document.createElement("DIV"),Gm=document.documentElement,$m=document.defaultView),Hm.style.transform=e,e=$m.getComputedStyle(Gm.appendChild(Hm),null).getPropertyValue("transform"),Gm.removeChild(Hm),e=e.slice(7,-1).split(","),Qm(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),nv=ev((function(e){return null==e?Jm:(Km||(Km=document.createElementNS("http://www.w3.org/2000/svg","g")),Km.setAttribute("transform",e),(e=Km.transform.baseVal.consolidate())?(e=e.matrix,Qm(e.a,e.b,e.c,e.d,e.e,e.f)):Jm)}),", ",")",")"),rv=Math.SQRT2;function iv(e){return((e=Math.exp(e))+1/e)/2}var av=function(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],u=t[1],c=t[2],l=s-i,f=u-a,d=l*l+f*f;if(d<1e-12)r=Math.log(c/o)/rv,n=function(e){return[i+e*l,a+e*f,o*Math.exp(rv*e*r)]};else{var h=Math.sqrt(d),p=(c*c-o*o+4*d)/(2*o*2*h),m=(c*c-o*o-4*d)/(2*c*2*h),v=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/rv,n=function(e){var t,n=e*r,s=iv(v),u=o/(2*h)*(s*(t=rv*n+v,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[i+u*l,a+u*f,o*s/iv(rv*n+v)]}}return n.duration=1e3*r,n};function ov(e){return function(t,n){var r=e((t=_p(t)).h,(n=_p(n)).h),i=Ip(t.s,n.s),a=Ip(t.l,n.l),o=Ip(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=a(e),t.opacity=o(e),t+""}}}var sv=ov(Mp),uv=ov(Ip),cv=Math.PI/180,lv=180/Math.PI;function fv(e){if(e instanceof hv)return new hv(e.l,e.a,e.b,e.opacity);if(e instanceof wv)return xv(e);e instanceof yp||(e=gp(e));var t,n,r=gv(e.r),i=gv(e.g),a=gv(e.b),o=pv((.2225045*r+.7168786*i+.0606169*a)/1);return r===i&&i===a?t=n=o:(t=pv((.4360747*r+.3850649*i+.1430804*a)/.96422),n=pv((.0139322*r+.0971045*i+.7141733*a)/.82521)),new hv(116*o-16,500*(t-o),200*(o-n),e.opacity)}function dv(e,t,n,r){return 1===arguments.length?fv(e):new hv(e,t,n,null==r?1:r)}function hv(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function pv(e){return e>6/29*(6/29)*(6/29)?Math.pow(e,1/3):e/(6/29*3*(6/29))+4/29}function mv(e){return e>6/29?e*e*e:6/29*3*(6/29)*(e-4/29)}function vv(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function gv(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function bv(e){if(e instanceof wv)return new wv(e.h,e.c,e.l,e.opacity);if(e instanceof hv||(e=fv(e)),0===e.a&&0===e.b)return new wv(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*lv;return new wv(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function yv(e,t,n,r){return 1===arguments.length?bv(e):new wv(e,t,n,null==r?1:r)}function wv(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function xv(e){if(isNaN(e.h))return new hv(e.l,0,0,e.opacity);var t=e.h*cv;return new hv(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Ov(e,t){var n=Ip((e=dv(e)).l,(t=dv(t)).l),r=Ip(e.a,t.a),i=Ip(e.b,t.b),a=Ip(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+""}}function kv(e){return function(t,n){var r=e((t=yv(t)).h,(n=yv(n)).h),i=Ip(t.c,n.c),a=Ip(t.l,n.l),o=Ip(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=a(e),t.opacity=o(e),t+""}}}Jh(hv,dv,Qh(ep,{brighter:function(e){return new hv(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new hv(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new yp(vv(3.1338561*(t=.96422*mv(t))-1.6168667*(e=1*mv(e))-.4906146*(n=.82521*mv(n))),vv(-.9787684*t+1.9161415*e+.033454*n),vv(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Jh(wv,yv,Qh(ep,{brighter:function(e){return new wv(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new wv(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return xv(this).rgb()}}));var Ev=kv(Mp),_v=kv(Ip),Sv=1.97294,jv=-.90649*Sv,Cv=1.78277*Sv,Av=-.6557636667999999;function Tv(e){if(e instanceof Rv)return new Rv(e.h,e.s,e.l,e.opacity);e instanceof yp||(e=gp(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Av*r+jv*t-Cv*n)/(Av+jv-Cv),a=r-i,o=(Sv*(n-i)- -.29227*a)/-.90649,s=Math.sqrt(o*o+a*a)/(Sv*i*(1-i)),u=s?Math.atan2(o,a)*lv-120:NaN;return new Rv(u<0?u+360:u,s,i,e.opacity)}function Nv(e,t,n,r){return 1===arguments.length?Tv(e):new Rv(e,t,n,null==r?1:r)}function Rv(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Mv(e){return function t(n){function r(t,r){var i=e((t=Nv(t)).h,(r=Nv(r)).h),a=Ip(t.s,r.s),o=Ip(t.l,r.l),s=Ip(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}Jh(Rv,Nv,Qh(ep,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Rv(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Rv(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*cv,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new yp(255*(t+n*(-.14861*r+1.78277*i)),255*(t+n*(-.29227*r+-.90649*i)),255*(t+n*(Sv*r)),this.opacity)}}));var Dv=Mv(Mp),Iv=Mv(Ip),Fv=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},Pv=["clamp","base","constant","exponent"];function zv(e,t){var n=t[0],r=Object(A.U)(t)-n;return function(t){return e(n+t*r)}}function Lv(e,t,n){return Nm(Wv(t||"rgb",n),e)}function Bv(e,t){for(var n=new Array(t),r=t+1,i=0;i<t;)n[i]=e(++i/r);return n}function Uv(e,t,n){var r,i,a,o=n-t;return o&&Number.isFinite(o)?(r=(i=e.type).indexOf("-"),i=r<0?i:i.slice(r+1),a=Fm(i)().domain([t,n]).range([0,1]),Pv.forEach((function(t){return e[t]?a[t](e[t]()):0})),a):Object(A.l)(.5)}function Wv(e,t){var n=a[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function Vv(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function qv(e,t){for(var n in e)Gv(n,t(e[n]))}var Hv={};function Gv(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Hv[e]=t,this):Hv[e]}qv({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Vv),qv({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(e){return Lv(Vv(e))}));var $v=function(e){return Object(A.A)(e)?e.map((function(e){return String(e)})):String(e)};function Kv(e,t,n){var r;return Object(A.E)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,~~(Object(A.X)(e.domain())/n)||1))),Object(A.F)(t)&&(r=t.step,t=t.interval),Object(A.H)(t)&&(t="time"===e.type?zo(t):e.type==Rh?Lo(t):Object(A.n)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function Xv(e,t,n){var r=e.range(),i=Math.floor(r[0]),a=Math.ceil(Object(A.U)(r));if(i>a&&(r=a,a=i,i=r),t=t.filter((function(t){return t=e(t),i<=t&&t<=a})),n>0&&t.length>1){for(var o=[t[0],Object(A.U)(t)];t.length>n&&t.length>=3;)t=t.filter((function(e,t){return!(t%2)}));t.length<3&&(t=o)}return t}function Yv(e,t){return e.bins?Xv(e,e.bins):e.ticks?e.ticks(t):e.domain()}function Zv(e,t,n,r,i){var a,o,s=e.type,u="time"===s||"time"===r?Ko(n):s===Rh||r===Rh?Xo(n):e.tickFormat?e.tickFormat(t,n):n?Object(Hh.b)(n):$v;if(Wm(s)){var c=function(e){var t=Object(Vh.b)(e||",");if(null==t.precision){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return function(e,t){return function(n){var r,i,a=e(n),o=a.indexOf(t);if(o<0)return a;for(i=(r=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(a,o))<a.length?a.slice(r):"";--r>o;)if("0"!==a[r]){++r;break}return a.slice(0,r)+i}}(Object(Hh.b)(t),Object(Hh.b)(".1f")(1)[1])}return Object(Hh.b)(t)}(n);u=i||e.bins?c:(a=u,o=c,function(e){return a(e)?o(e):""})}return u}function Jv(e){hr.call(this,null,e)}function Qv(e){hr.call(this,null,e)}function eg(){return L({})}function tg(e){return e.exit}function ng(e){hr.call(this,null,e)}Object(A.y)(Jv,hr).transform=function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=this.value,i=e.scale,a=Kv(i,null==e.count?e.values?e.values.length:10:e.count,e.minstep),o=e.format||Zv(i,a,e.formatSpecifier,e.formatType,!!e.values),s=e.values?Xv(i,e.values,a):Yv(i,a);return r&&(n.rem=r),r=s.map((function(e,t){return L({index:t/(s.length-1||1),value:e,label:o(e)})})),e.extra&&r.length&&r.push(L({index:-1,extra:{value:r[0].value},label:""})),n.source=r,n.add=r,this.value=r,n},Object(A.y)(Qv,hr).transform=function(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||eg,a=e.key||P,o=this.value;return Object(A.A)(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(a))&&Object(A.n)("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=Object(A.s)().test(tg),o.lookup=function(e){return o.get(a(e))}),t.visit(t.ADD,(function(e){var t=a(e),n=o.get(t);n?n.exit?(o.empty--,r.add.push(n)):r.mod.push(n):(o.set(t,n=i(e)),r.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(function(e){var t=a(e),n=o.get(t);n&&(n.datum=e,r.mod.push(n))})),t.visit(t.REM,(function(e){var t=a(e),n=o.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++o.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),e.clean&&o.empty>n.cleanThreshold&&n.runAfter(o.clean),r},Object(A.y)(ng,hr).transform=function(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,a=t.encode;if(Object(A.A)(a)){if(!n.changed()&&!a.every((function(e){return i[e]})))return t.StopPropagation;a=a[0],n.encode=null}var o="enter"===a,s=i.update||A.r,u=i.enter||A.r,c=i.exit||A.r,l=(a&&!o?i[a]:s)||A.r;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){u(t,e),s(t,e)})),n.modifies(u.output),n.modifies(s.output),l!==A.r&&l!==s&&(t.visit(t.ADD,(function(t){l(t,e)})),n.modifies(l.output))),t.changed(t.REM)&&c!==A.r&&(t.visit(t.REM,(function(t){c(t,e)})),n.modifies(c.output)),o||l!==A.r){var f=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(f,(function(t){var i=u(t,e)||r;(l(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(u.output)):t.visit(f,(function(t){(l(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)}return n.changed()?n:t.StopPropagation};var rg,ig,ag=(rg={},Object(to.a)(rg,"quantile","quantiles"),Object(to.a)(rg,"quantize","thresholds"),Object(to.a)(rg,"threshold","domain"),rg),og=(ig={},Object(to.a)(ig,"quantile","quantiles"),Object(to.a)(ig,"quantize","domain"),ig);function sg(e,t){return e.bins?function(e){var t=e.slice(0,-1);return t.max=Object(A.U)(e),t}(e.bins):e.type===Nh?function(e,t){var n=Yv(e,t),r=e.base(),i=Math.log(r),a=Math.max(1,r*t/n.length);return n.filter((function(e){var t=e/Math.pow(r,Math.round(Math.log(e)/i));return t*r<r-.5&&(t*=r),t<=a}))}(e,t):ag[e.type]?function(e){var t=[-1/0].concat(e);return t.max=1/0,t}(e[ag[e.type]]()):Yv(e,t)}function ug(e,t,n,r,i,a){var o=og[e.type]&&"time"!==i&&i!==Rh?function(e,t){var n,r=e[og[e.type]](),i=r.length,a=i>1?r[1]-r[0]:r[0];for(n=1;n<i;++n)a=Math.min(a,r[n]-r[n-1]);return Kh(0,a,30,t)}(e,r):Zv(e,t,r,i,a);return"symbol"===n&&function(e){return ag[e.type]||e.bins}(e)?function(e){return function(t,n,r){var i=cg(r[n+1],cg(r.max,1/0)),a=lg(t,e),o=lg(i,e);return a&&o?a+" \u2013 "+o:o?"< "+o:"\u2265 "+a}}(o):"discrete"===n?function(e){return function(t,n){return n?e(t):null}}(o):function(e){return function(t){return e(t)}}(o)}function cg(e,t){return null!=e?e:t}function lg(e,t){return Number.isFinite(e)?t(e):null}function fg(e){hr.call(this,[],e)}Object(A.y)(fg,hr).transform=function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,r,i,a,o,s=t.fork(t.NO_SOURCE|t.NO_FIELDS),u=this.value,c=e.type||"symbol",l=e.scale,f=+e.limit,d=Kv(l,null==e.count?5:e.count,e.minstep),h=!!e.values||"symbol"===c,p=e.format||ug(l,d,c,e.formatSpecifier,e.formatType,h),m=e.values||sg(l,d);return u&&(s.rem=u),"symbol"===c?(f&&m.length>f?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),u=m.slice(0,f-1),o=!0):u=m,Object(A.D)(i=e.size)?(e.values||0!==l(u[0])||(u=u.slice(1)),a=u.reduce((function(t,n){return Math.max(t,i(n,e))}),0)):i=Object(A.l)(a=i||8),u=u.map((function(t,n){return L({index:n,label:p(t,n,u),value:t,offset:a,size:i(t,e)})})),o&&(o=m[u.length],u.push(L({index:u.length,label:"\u2026".concat(m.length-u.length," entries"),value:o,offset:a,size:i(o,e)})))):"gradient"===c?(n=l.domain(),r=Uv(l,n[0],Object(A.U)(n)),m.length<3&&!e.values&&n[0]!==Object(A.U)(n)&&(m=[n[0],Object(A.U)(n)]),u=m.map((function(e,t){return L({index:t,label:p(e,t,m),value:e,perc:r(e)})}))):(i=m.length-1,r=function(e){var t=e.domain(),n=t.length-1,r=+t[0],i=+Object(A.U)(t),a=i-r;if("threshold"===e.type){var o=n?a/n:.1;a=(i+=o)-(r-=o)}return function(e){return(e-r)/a}}(l),u=m.map((function(e,t){return L({index:t,label:p(e,t,m),value:e,perc:t?r(e):0,perc2:t===i?1:r(m[t+1])})}))),s.source=u,s.add=u,this.value=u,s};var dg=Object(A.s)({line:bg,"line-radial":function(e,t,n,r){return bg(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:yg,"arc-radial":function(e,t,n,r){return yg(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:wg,"curve-radial":function(e,t,n,r){return wg(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),u=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(u?1:0)+" "+t*o+","+t*s+"L"+r*o+","+r*s},"diagonal-horizontal":function(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),u=(t+r)/2;return"M"+t*i+","+t*a+"C"+u*i+","+u*a+" "+u*o+","+u*s+" "+r*o+","+r*s}});function hg(e){return e.source.x}function pg(e){return e.source.y}function mg(e){return e.target.x}function vg(e){return e.target.y}function gg(e){hr.call(this,{},e)}function bg(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function yg(e,t,n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a)/2;return"M"+e+","+t+"A"+o+","+o+" "+180*Math.atan2(a,i)/Math.PI+" 0 1 "+n+","+r}function wg(e,t,n,r){var i=n-e,a=r-t,o=.2*(i+a),s=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+s)+" "+(n+s)+","+(r-o)+" "+n+","+r}function xg(e,t){var n=0;if(void 0===t){var r,i=Object(Sr.a)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&(n+=a)}}catch(l){i.e(l)}finally{i.f()}}else{var o,s=-1,u=Object(Sr.a)(e);try{for(u.s();!(o=u.n()).done;){var c=o.value;(c=+t(c,++s,e))&&(n+=c)}}catch(l){u.e(l)}finally{u.f()}}return n}function Og(e){hr.call(this,null,e)}gg.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(A.y)(gg,hr).transform=function(e,t){var n=e.sourceX||hg,r=e.sourceY||pg,i=e.targetX||mg,a=e.targetY||vg,o=e.as||"path",s=e.orient||"vertical",u=e.shape||"line",c=dg.get(u+"-"+s)||dg.get(u);return c||Object(A.n)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[o]=c(n(e),r(e),i(e),a(e))})),t.reflow(e.modified()).modifies(o)},Og.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(A.y)(Og,hr).transform=function(e,t){var n,r,i,a=e.as||["startAngle","endAngle"],o=a[0],s=a[1],u=e.field||A.O,c=e.startAngle||0,l=null!=e.endAngle?e.endAngle:2*Math.PI,f=t.source,d=f.map(u),h=d.length,p=c,m=(l-c)/xg(d),v=Da(h);for(e.sort&&v.sort((function(e,t){return d[e]-d[t]})),n=0;n<h;++n)i=d[v[n]],(r=f[v[n]])[o]=p,r[s]=p+=i*m;return this.value=d,t.reflow(e.modified()).modifies(a)};function kg(e){return Lm(e)&&"sequential"!==e}var Eg=Object(A.db)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function _g(e){hr.call(this,null,e),this.modified(!0)}function Sg(e,t,n){Wm(e)&&(Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0))!==t.length&&n.warn("Log scale domain includes zero: "+Object(A.Z)(t)));return t}function jg(e,t,n){return Object(A.D)(e)&&(t||n)?zv(e,Cg(t||[0,1],n)):e}function Cg(e,t){return t?e.slice().reverse():e}function Ag(e){hr.call(this,null,e)}Object(A.y)(_g,hr).transform=function(e,t){var n=t.dataflow,r=this.value,i=function(e){var t,n=e.type,r="";if("sequential"===n)return"sequential-linear";(function(e){var t=e.type;return Lm(t)&&"time"!==t&&t!==Rh&&(e.scheme||e.range&&e.range.length&&e.range.every(A.H))})(e)&&(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0,r=2===t?"sequential-":3===t?"diverging-":"");return(r+n||"linear").toLowerCase()}(e);for(i in r&&i===r.type||(this.value=r=Fm(i)()),e)if(!Eg[i]){if("padding"===i&&kg(r.type))continue;Object(A.D)(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return function(e,t,n){var r=e.type,i=t.round||!1,a=t.range;if(null!=t.rangeStep)a=function(e,t,n){"band"!==e&&"point"!==e&&Object(A.n)("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i="point"===e?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Th(n,i,r)]}(r,t,n);else if(t.scheme&&(a=function(e,t,n){var r,i,a=t.schemeExtent;Object(A.A)(t.scheme)?i=Lv(t.scheme,t.interpolate,t.interpolateGamma):(r=t.scheme.toLowerCase(),(i=Gv(r))||Object(A.n)("Unrecognized scheme name: ".concat(t.scheme)));return n="threshold"===e?n+1:"bin-ordinal"===e?n-1:"quantile"===e||"quantize"===e?+t.schemeCount||5:n,Vm(e)?jg(i,a,t.reverse):Object(A.D)(i)?Bv(jg(i,a),n):"ordinal"===e?i:i.slice(0,n)}(r,t,n),Object(A.D)(a))){if(e.interpolator)return e.interpolator(a);Object(A.n)("Scale type ".concat(r," does not support interpolating color schemes."))}if(a&&Vm(r))return e.interpolator(Lv(Cg(a,t.reverse),t.interpolate,t.interpolateGamma));a&&t.interpolate&&e.interpolate?e.interpolate(Wv(t.interpolate,t.interpolateGamma)):Object(A.D)(e.round)?e.round(i):Object(A.D)(e.rangeRound)&&e.interpolate(i?Zp:Yp);a&&e.range(Cg(a,t.reverse))}(r,e,function(e,t,n){var r=t.bins;if(r&&!Object(A.A)(r)){var i=e.domain(),a=i[0],o=Object(A.U)(i),s=null==r.start?a:r.start,u=null==r.stop?o:r.stop,c=r.step;c||Object(A.n)("Scale bins parameter missing step property."),s<a&&(s=c*Math.ceil(a/c)),u>o&&(u=c*Math.floor(o/c)),r=Da(s,u+c/2,c)}r?e.bins=r:e.bins&&delete e.bins;"bin-ordinal"===e.type&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(r,e,function(e,t,n){var r=function(e,t,n){return t?(e.domain(Sg(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var i,a,o=t.domain,s=e.type,u=t.zero||void 0===t.zero&&function(e){var t=e.type;return!e.bins&&("linear"===t||"pow"===t||"sqrt"===t)}(e);if(!o)return 0;kg(s)&&t.padding&&o[0]!==Object(A.U)(o)&&(o=function(e,t,n,r,i,a){var o=Math.abs(Object(A.U)(n)-n[0]),s=o/(o-2*r),u=e===Nh?Object(A.mb)(t,null,s):"sqrt"===e?Object(A.nb)(t,null,s,.5):"pow"===e?Object(A.nb)(t,null,s,i||1):"symlog"===e?Object(A.ob)(t,null,s,a||1):Object(A.lb)(t,null,s);return(t=t.slice())[0]=u[0],t[t.length-1]=u[1],t}(s,o,t.range,t.padding,t.exponent,t.constant));(u||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(o=o.slice()).length-1||1,u&&(o[0]>0&&(o[0]=0),o[i]<0&&(o[i]=0)),null!=t.domainMin&&(o[0]=t.domainMin),null!=t.domainMax&&(o[i]=t.domainMax),null!=t.domainMid&&(((a=t.domainMid)<o[0]||a>o[i])&&n.warn("Scale domainMid exceeds domain min or max.",a),o.splice(i,0,a)));e.domain(Sg(s,o,n)),"ordinal"===s&&e.unknown(t.domainImplicit?Bh:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&Kv(e,t.nice)||null);return o.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)},Object(A.y)(Ag,hr).transform=function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(V(e.sort)),this.modified(n),t};var Tg=["y0","y1"];function Ng(e){hr.call(this,null,e)}function Rg(e,t,n,r,i){for(var a,o=(t-e.sum)/2,s=e.length,u=0;u<s;++u)(a=e[u])[r]=o,a[i]=o+=Math.abs(n(a))}function Mg(e,t,n,r,i){for(var a,o=1/e.sum,s=0,u=e.length,c=0,l=0;c<u;++c)(a=e[c])[r]=s,a[i]=s=o*(l+=Math.abs(n(a)))}function Dg(e,t,n,r,i){for(var a,o,s=0,u=0,c=e.length,l=0;l<c;++l)(a=+n(o=e[l]))<0?(o[r]=u,o[i]=u+=a):(o[r]=s,o[i]=s+=a)}function Ig(){}Ng.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:Tg}]},Object(A.y)(Ng,hr).transform=function(e,t){var n,r,i,a,o=e.as||Tg,s=o[0],u=o[1],c=V(e.sort),l=e.field||A.O,f="center"===e.offset?Rg:"normalize"===e.offset?Mg:Dg;for(n=function(e,t,n,r){var i,a,o,s,u,c,l,f,d,h=[],p=function(e){return e(u)};if(null==t)h.push(e.slice());else for(i={},a=0,o=e.length;a<o;++a)u=e[a],c=t.map(p),(l=i[c])||(i[c]=l=[],h.push(l)),l.push(u);for(c=0,d=0,s=h.length;c<s;++c){for(l=h[c],a=0,f=0,o=l.length;a<o;++a)f+=Math.abs(r(l[a]));l.sum=f,f>d&&(d=f),n&&l.sort(n)}return h.max=d,h}(t.source,e.groupby,c,l),r=0,i=n.length,a=n.max;r<i;++r)f(n[r],a,l,s,u);return t.reflow(e.modified()).modifies(o)};var Fg=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],Pg=function(){var e=1,t=1,n=o;function r(e,t){return t.map((function(t){return i(e,t)}))}function i(r,i){var o=[],s=[];return function(n,r,i){var o,s,u,c,l,f,d=new Array,h=new Array;o=s=-1,c=n[0]>=r,Fg[c<<1].forEach(p);for(;++o<e-1;)u=c,c=n[o+1]>=r,Fg[u|c<<1].forEach(p);Fg[c<<0].forEach(p);for(;++s<t-1;){for(o=-1,c=n[s*e+e]>=r,l=n[s*e]>=r,Fg[c<<1|l<<2].forEach(p);++o<e-1;)u=c,c=n[s*e+e+o+1]>=r,f=l,l=n[s*e+o+1]>=r,Fg[u|c<<1|l<<2|f<<3].forEach(p);Fg[c|l<<3].forEach(p)}o=-1,l=n[s*e]>=r,Fg[l<<2].forEach(p);for(;++o<e-1;)f=l,l=n[s*e+o+1]>=r,Fg[l<<2|f<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+o,e[0][1]+s],u=[e[1][0]+o,e[1][1]+s],c=a(r),l=a(u);(t=h[c])?(n=d[l])?(delete h[t.end],delete d[n.start],t===n?(t.ring.push(u),i(t.ring)):d[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(u),h[t.end=l]=t):(t=d[l])?(n=h[c])?(delete d[t.start],delete h[n.end],t===n?(t.ring.push(u),i(t.ring)):d[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(r),d[t.start=c]=t):d[c]=h[l]={start:c,end:l,ring:[r,u]}}Fg[l<<3].forEach(p)}(r,i,(function(e){n(e,r,i),function(e){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):s.push(e)})),s.forEach((function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==zg((t=o[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(t){return 2*t[0]+t[1]*(e+1)*4}function o(n,r,i){n.forEach((function(n){var a,o=n[0],s=n[1],u=0|o,c=0|s,l=r[c*e+u];o>0&&o<e&&u===o&&(a=r[c*e+u-1],n[0]=o+(i-a)/(l-a)-.5),s>0&&s<t&&c===s&&(a=r[(c-1)*e+u],n[1]=s+(i-a)/(l-a)-.5)}))}return r.contour=i,r.size=function(n){if(!arguments.length)return[e,t];var i=Math.ceil(n[0]),a=Math.ceil(n[1]);return i>0&&a>0||Object(A.n)("invalid size"),e=i,t=a,r},r.smooth=function(e){return arguments.length?(n=e?o:Ig,r):n===o},r};function zg(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=Lg(e,t[r]))return n;return 0}function Lg(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var u=e[a],c=u[0],l=u[1],f=e[s],d=f[0],h=f[1];if(Bg(u,f,t))return 0;l>r!==h>r&&n<(d-c)*(r-l)/(h-l)+c&&(i=-i)}return i}function Bg(e,t,n){var r,i,a,o;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],a=n[r],o=t[r],i<=a&&a<=o||o<=a&&a<=i)}var Ug=function(e,t,n){return function(r){var i=Object(A.p)(r),a=n?Math.min(i[0],0):i[0],o=i[1],s=o-a,u=t?rs(a,o,e):s/(e+1);return Da(u,o,u)}};function Wg(e){hr.call(this,null,e)}function Vg(e,t,n,r,i){var a=e.x1||0,o=e.y1||0,s=t*n<0;function u(e){e.forEach(c)}function c(e){s&&e.reverse(),e.forEach(l)}function l(e){e[0]=(e[0]-a)*t+r,e[1]=(e[1]-o)*n+i}return function(e){return e.coordinates.forEach(u),e}}function qg(e,t,n){var r=e>=0?e:Br(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function Hg(e){return Object(A.D)(e)?e:Object(A.l)(+e)}Wg.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Object(A.y)(Wg,hr).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||A.x,a=Pg().smooth(!1!==e.smooth),o=e.thresholds||function(e,t,n){var r=Ug(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(e.map((function(e){return Tr(t(e).values)})))}(r,i,e),s=null===e.as?null:e.as||"contour",u=[];return r.forEach((function(t){var n=i(t),r=a.size([n.width,n.height])(n.values,Object(A.A)(o)?o:o(n.values));!function(e,t,n,r){var i=r.scale||t.scale,a=r.translate||t.translate;Object(A.D)(i)&&(i=i(n,r));Object(A.D)(a)&&(a=a(n,r));if((1===i||null==i)&&!a)return;var o=(Object(A.E)(i)?i:i[0])||1,s=(Object(A.E)(i)?i:i[1])||1,u=a&&a[0]||0,c=a&&a[1]||0;e.forEach(Vg(t,o,s,u,c))}(r,n,t,e),r.forEach((function(e){u.push(U(t,L(null!=s?Object(to.a)({},s,e):e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n};var Gg=function(){var e=function(e){return e[0]},t=function(e){return e[1]},n=A.O,r=[-1,-1],i=960,a=500,o=2;function s(s,u){var c=qg(r[0],s,e)>>o,l=qg(r[1],s,t)>>o,f=c?c+2:0,d=l?l+2:0,h=2*f+(i>>o),p=2*d+(a>>o),m=new Float32Array(h*p),v=new Float32Array(h*p),g=m;s.forEach((function(r){var i=f+(+e(r)>>o),a=d+(+t(r)>>o);i>=0&&i<h&&a>=0&&a<p&&(m[i+a*h]+=+n(r))})),c>0&&l>0?($g(h,p,m,v,c),Kg(h,p,v,m,l),$g(h,p,m,v,c),Kg(h,p,v,m,l),$g(h,p,m,v,c),Kg(h,p,v,m,l)):c>0?($g(h,p,m,v,c),$g(h,p,v,m,c),$g(h,p,m,v,c),g=v):l>0&&(Kg(h,p,m,v,l),Kg(h,p,v,m,l),Kg(h,p,m,v,l),g=v);for(var b=u?Math.pow(2,-2*o):1/xg(g),y=0,w=h*p;y<w;++y)g[y]*=b;return{values:g,scale:1<<o,width:h,height:p,x1:f,y1:d,x2:f+(i>>o),y2:d+(a>>o)}}return s.x=function(t){return arguments.length?(e=Hg(t),s):e},s.y=function(e){return arguments.length?(t=Hg(e),s):t},s.weight=function(e){return arguments.length?(n=Hg(e),s):n},s.size=function(e){if(!arguments.length)return[i,a];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);return t>=0||t>=0||Object(A.n)("invalid size"),i=t,a=n,s},s.cellSize=function(e){return arguments.length?((e=+e)>=1||Object(A.n)("invalid cell size"),o=Math.floor(Math.log(e)/Math.LN2),s):1<<o},s.bandwidth=function(e){return arguments.length?(1===(e=Object(A.i)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&Object(A.n)("invalid bandwidth"),r=e,s):r},s};function $g(e,t,n,r,i){for(var a=1+(i<<1),o=0;o<t;++o)for(var s=0,u=0;s<e+i;++s)s<e&&(u+=n[s+o*e]),s>=i&&(s>=a&&(u-=n[s-a+o*e]),r[s-i+o*e]=u/Math.min(s+1,e-1+a-s,a))}function Kg(e,t,n,r,i){for(var a=1+(i<<1),o=0;o<e;++o)for(var s=0,u=0;s<t+i;++s)s<t&&(u+=n[o+s*e]),s>=i&&(s>=a&&(u-=n[o+(s-a)*e]),r[o+(s-i)*e]=u/Math.min(s+1,t-1+a-s,a))}function Xg(e){hr.call(this,null,e)}Xg.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var Yg=Object(A.y)(Xg,hr),Zg=["x","y","weight","size","cellSize","bandwidth"];function Jg(e,t){return Zg.forEach((function(n){return null!=t[n]?e[n](t[n]):0})),e}function Qg(e){hr.call(this,null,e)}Yg.transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=function(e,t){var n,r,i,a,o,s,u=[],c=function(e){return e(a)};if(null==t)u.push(e);else for(n={},r=0,i=e.length;r<i;++r)a=e[r],o=t.map(c),(s=n[o])||(n[o]=s=[],s.dims=o,u.push(s)),s.push(a);return u}(t.materialize(t.SOURCE).source,e.groupby),a=(e.groupby||[]).map(A.h),o=Jg(Gg(),e),s=e.as||"grid";return n=i.map((function(t){return L(function(e,t){for(var n=0;n<a.length;++n)e[a[n]]=t[n];return e}(Object(to.a)({},s,o(t,e.counts)),t.dims))})),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r},Qg.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Object(A.y)(Qg,hr).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=Pg().smooth(!1!==e.smooth),o=e.values,s=e.thresholds||Ug(e.count||10,e.nice,!!o),u=e.size;return o||(o=t.materialize(t.SOURCE).source,r=Vg(n=Jg(Gg(),e)(o,!0),n.scale||1,n.scale||1,0,0),u=[n.width,n.height],o=n.values),s=Object(A.A)(s)?s:s(o),o=a.size(u)(o,s),r&&o.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(o||[]).map(L),i};function eb(e){hr.call(this,null,e)}eb.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(A.y)(eb,hr).transform=function(e,t){var n,r=this._features,i=this._points,a=e.fields,o=a&&a[0],s=a&&a[1],u=e.geojson||!a&&A.x,c=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Object(A.g)(u))||o&&t.modified(Object(A.g)(o))||s&&t.modified(Object(A.g)(s)),this.value&&!n||(c=t.SOURCE,this._features=r=[],this._points=i=[]),u&&t.visit(c,(function(e){r.push(u(e))})),o&&s&&(t.visit(c,(function(e){var t=o(e),n=s(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&i.push([t,n])})),r=r.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:"FeatureCollection",features:r}};var tb=function(e){return e};function nb(e,t){e&&ib.hasOwnProperty(e.type)&&ib[e.type](e,t)}var rb={Feature:function(e,t){nb(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)nb(n[r].geometry,t)}},ib={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){ab(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ab(n[r],t,0)},Polygon:function(e,t){ob(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ob(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)nb(n[r],t)}};function ab(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function ob(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)ab(e[n],t,1);t.polygonEnd()}var sb=function(e,t){e&&rb.hasOwnProperty(e.type)?rb[e.type](e,t):nb(e,t)},ub=function(){return new cb};function cb(){this.reset()}cb.prototype={constructor:cb,reset:function(){this.s=this.t=0},add:function(e){fb(lb,e,this.t),fb(this,lb.s,this.s),this.s?this.t+=lb.t:this.s=lb.t},valueOf:function(){return this.s}};var lb=new cb;function fb(e,t,n){var r=e.s=t+n,i=r-t,a=r-i;e.t=t-a+(n-i)}var db=Math.PI,hb=db/2,pb=db/4,mb=2*db,vb=180/db,gb=db/180,bb=Math.abs,yb=Math.atan,wb=Math.atan2,xb=Math.cos,Ob=Math.ceil,kb=Math.exp,Eb=(Math.floor,Math.log),_b=Math.pow,Sb=Math.sin,jb=Math.sign||function(e){return e>0?1:e<0?-1:0},Cb=Math.sqrt,Ab=Math.tan;function Tb(e){return e>1?0:e<-1?db:Math.acos(e)}function Nb(e){return e>1?hb:e<-1?-hb:Math.asin(e)}function Rb(){}var Mb,Db,Ib,Fb,Pb=ub(),zb=ub(),Lb={point:Rb,lineStart:Rb,lineEnd:Rb,polygonStart:function(){Lb.lineStart=Bb,Lb.lineEnd=Vb},polygonEnd:function(){Lb.lineStart=Lb.lineEnd=Lb.point=Rb,Pb.add(bb(zb)),zb.reset()},result:function(){var e=Pb/2;return Pb.reset(),e}};function Bb(){Lb.point=Ub}function Ub(e,t){Lb.point=Wb,Mb=Ib=e,Db=Fb=t}function Wb(e,t){zb.add(Fb*e-Ib*t),Ib=e,Fb=t}function Vb(){Wb(Mb,Db)}var qb=Lb,Hb=1/0,Gb=Hb,$b=-Hb,Kb=$b;var Xb,Yb,Zb,Jb,Qb={point:function(e,t){e<Hb&&(Hb=e);e>$b&&($b=e);t<Gb&&(Gb=t);t>Kb&&(Kb=t)},lineStart:Rb,lineEnd:Rb,polygonStart:Rb,polygonEnd:Rb,result:function(){var e=[[Hb,Gb],[$b,Kb]];return $b=Kb=-(Gb=Hb=1/0),e}},ey=0,ty=0,ny=0,ry=0,iy=0,ay=0,oy=0,sy=0,uy=0,cy={point:ly,lineStart:fy,lineEnd:py,polygonStart:function(){cy.lineStart=my,cy.lineEnd=vy},polygonEnd:function(){cy.point=ly,cy.lineStart=fy,cy.lineEnd=py},result:function(){var e=uy?[oy/uy,sy/uy]:ay?[ry/ay,iy/ay]:ny?[ey/ny,ty/ny]:[NaN,NaN];return ey=ty=ny=ry=iy=ay=oy=sy=uy=0,e}};function ly(e,t){ey+=e,ty+=t,++ny}function fy(){cy.point=dy}function dy(e,t){cy.point=hy,ly(Zb=e,Jb=t)}function hy(e,t){var n=e-Zb,r=t-Jb,i=Cb(n*n+r*r);ry+=i*(Zb+e)/2,iy+=i*(Jb+t)/2,ay+=i,ly(Zb=e,Jb=t)}function py(){cy.point=ly}function my(){cy.point=gy}function vy(){by(Xb,Yb)}function gy(e,t){cy.point=by,ly(Xb=Zb=e,Yb=Jb=t)}function by(e,t){var n=e-Zb,r=t-Jb,i=Cb(n*n+r*r);ry+=i*(Zb+e)/2,iy+=i*(Jb+t)/2,ay+=i,oy+=(i=Jb*e-Zb*t)*(Zb+e),sy+=i*(Jb+t),uy+=3*i,ly(Zb=e,Jb=t)}var yy=cy;function wy(e){this._context=e}wy.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,mb)}},result:Rb};var xy,Oy,ky,Ey,_y,Sy=ub(),jy={point:Rb,lineStart:function(){jy.point=Cy},lineEnd:function(){xy&&Ay(Oy,ky),jy.point=Rb},polygonStart:function(){xy=!0},polygonEnd:function(){xy=null},result:function(){var e=+Sy;return Sy.reset(),e}};function Cy(e,t){jy.point=Ay,Oy=Ey=e,ky=_y=t}function Ay(e,t){Ey-=e,_y-=t,Sy.add(Cb(Ey*Ey+_y*_y)),Ey=e,_y=t}var Ty=jy;function Ny(){this._string=[]}function Ry(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}Ny.prototype={_radius:4.5,_circle:Ry(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Ry(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var My=function(e,t){var n,r,i=4.5;function a(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),sb(e,n(r))),r.result()}return a.area=function(e){return sb(e,n(qb)),qb.result()},a.measure=function(e){return sb(e,n(Ty)),Ty.result()},a.bounds=function(e){return sb(e,n(Qb)),Qb.result()},a.centroid=function(e){return sb(e,n(yy)),yy.result()},a.projection=function(t){return arguments.length?(n=null==t?(e=null,tb):(e=t).stream,a):e},a.context=function(e){return arguments.length?(r=null==e?(t=null,new Ny):new wy(t=e),"function"!==typeof i&&r.pointRadius(i),a):t},a.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),a):i},a.projection(e).context(t)},Dy=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Rb,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},Iy=function(e,t){return bb(e[0]-t[0])<1e-6&&bb(e[1]-t[1])<1e-6};function Fy(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var Py=function(e,t,n,r,i){var a,o,s=[],u=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(Iy(r,o)){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);i.lineEnd()}else s.push(n=new Fy(r,e,null,!0)),u.push(n.o=new Fy(r,null,n,!1)),s.push(n=new Fy(o,e,null,!1)),u.push(n.o=new Fy(o,null,n,!0))}})),s.length){for(u.sort(t),zy(s),zy(u),a=0,o=u.length;a<o;++a)u[a].e=n=!n;for(var c,l,f=s[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,o=c.length;a<o;++a)i.point((l=c[a])[0],l[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,a=c.length-1;a>=0;--a)i.point((l=c[a])[0],l[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}};function zy(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Ly(e){return[wb(e[1],e[0]),Nb(e[2])]}function By(e){var t=e[0],n=e[1],r=xb(n);return[r*xb(t),r*Sb(t),Sb(n)]}function Uy(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Wy(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Vy(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function qy(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Hy(e){var t=Cb(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Gy=ub();function $y(e){return bb(e[0])<=db?e[0]:jb(e[0])*((bb(e[0])+db)%mb-db)}var Ky=w.a.mark(Xy);function Xy(e){var t,n,r;return w.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=Object(Sr.a)(e),i.prev=1,t.s();case 3:if((n=t.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),t.e(i.t1);case 13:return i.prev=13,t.f(),i.finish(13);case 16:case"end":return i.stop()}}),Ky,null,[[1,10,13,16]])}function Yy(e){return Array.from(Xy(e))}var Zy=function(e,t,n,r){return function(i){var a,o,s,u=t(i),c=Dy(),l=t(c),f=!1,d={point:h,lineStart:m,lineEnd:v,polygonStart:function(){d.point=g,d.lineStart=b,d.lineEnd=y,o=[],a=[]},polygonEnd:function(){d.point=h,d.lineStart=m,d.lineEnd=v,o=Yy(o);var e=function(e,t){var n=$y(t),r=t[1],i=Sb(r),a=[Sb(n),-xb(n),0],o=0,s=0;Gy.reset(),1===i?r=hb+1e-6:-1===i&&(r=-hb-1e-6);for(var u=0,c=e.length;u<c;++u)if(f=(l=e[u]).length)for(var l,f,d=l[f-1],h=$y(d),p=d[1]/2+pb,m=Sb(p),v=xb(p),g=0;g<f;++g,h=y,m=x,v=O,d=b){var b=l[g],y=$y(b),w=b[1]/2+pb,x=Sb(w),O=xb(w),k=y-h,E=k>=0?1:-1,_=E*k,S=_>db,j=m*x;if(Gy.add(wb(j*E*Sb(_),v*O+j*xb(_))),o+=S?k+E*mb:k,S^h>=n^y>=n){var C=Wy(By(d),By(b));Hy(C);var A=Wy(a,C);Hy(A);var T=(S^k>=0?-1:1)*Nb(A[2]);(r>T||r===T&&(C[0]||C[1]))&&(s+=S^k>=0?1:-1)}}return(o<-1e-6||o<1e-6&&Gy<-1e-6)^1&s}(a,r);o.length?(f||(i.polygonStart(),f=!0),Py(o,Qy,e,n,i)):e&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,n){e(t,n)&&i.point(t,n)}function p(e,t){u.point(e,t)}function m(){d.point=p,u.lineStart()}function v(){d.point=h,u.lineEnd()}function g(e,t){s.push([e,t]),l.point(e,t)}function b(){l.lineStart(),s=[]}function y(){g(s[0][0],s[0][1]),l.lineEnd();var e,t,n,r,u=l.clean(),d=c.result(),h=d.length;if(s.pop(),a.push(s),s=null,h)if(1&u){if((t=(n=d[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else h>1&&2&u&&d.push(d.pop().concat(d.shift())),o.push(d.filter(Jy))}return d}};function Jy(e){return e.length>1}function Qy(e,t){return((e=e.x)[0]<0?e[1]-hb-1e-6:hb-e[1])-((t=t.x)[0]<0?t[1]-hb-1e-6:hb-t[1])}var ew=Zy((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?db:-db,u=bb(a-n);bb(u-db)<1e-6?(e.point(n,r=(r+o)/2>0?hb:-hb),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&u>=db&&(bb(n-i)<1e-6&&(n-=1e-6*i),bb(a-s)<1e-6&&(a-=1e-6*s),r=function(e,t,n,r){var i,a,o=Sb(e-n);return bb(o)>1e-6?yb((Sb(t)*(a=xb(r))*Sb(n)-Sb(r)*(i=xb(t))*Sb(e))/(i*a*o)):(t+r)/2}(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*hb,r.point(-db,i),r.point(0,i),r.point(db,i),r.point(db,0),r.point(db,-i),r.point(0,-i),r.point(-db,-i),r.point(-db,0),r.point(-db,i);else if(bb(e[0]-t[0])>1e-6){var a=e[0]<t[0]?db:-db;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}),[-db,-hb]);var tw=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function nw(e,t){return[bb(e)>db?e+Math.round(-e/mb)*mb:e,t]}function rw(e,t,n){return(e%=mb)?t||n?tw(aw(e),ow(t,n)):aw(e):t||n?ow(t,n):nw}function iw(e){return function(t,n){return[(t+=e)>db?t-mb:t<-db?t+mb:t,n]}}function aw(e){var t=iw(e);return t.invert=iw(-e),t}function ow(e,t){var n=xb(e),r=Sb(e),i=xb(t),a=Sb(t);function o(e,t){var o=xb(t),s=xb(e)*o,u=Sb(e)*o,c=Sb(t),l=c*n+s*r;return[wb(u*i-l*a,s*n-c*r),Nb(l*i+u*a)]}return o.invert=function(e,t){var o=xb(t),s=xb(e)*o,u=Sb(e)*o,c=Sb(t),l=c*i-u*a;return[wb(u*i+c*a,s*n+l*r),Nb(l*n-s*r)]},o}nw.invert=nw;function sw(e,t,n,r,i,a){if(n){var o=xb(t),s=Sb(t),u=r*n;null==i?(i=t+r*mb,a=t-u/2):(i=uw(o,i),a=uw(o,a),(r>0?i<a:i>a)&&(i+=r*mb));for(var c,l=i;r>0?l>a:l<a;l-=u)c=Ly([o,-s*xb(l),-s*Sb(l)]),e.point(c[0],c[1])}}function uw(e,t){(t=By(t))[0]-=e,Hy(t);var n=Tb(-t[1]);return((-t[2]<0?-n:n)+mb-1e-6)%mb}var cw=function(e){var t=xb(e),n=6*gb,r=t>0,i=bb(t)>1e-6;function a(e,n){return xb(e)*xb(n)>t}function o(e,n,r){var i=[1,0,0],a=Wy(By(e),By(n)),o=Uy(a,a),s=a[0],u=o-s*s;if(!u)return!r&&e;var c=t*o/u,l=-t*s/u,f=Wy(i,a),d=qy(i,c);Vy(d,qy(a,l));var h=f,p=Uy(d,h),m=Uy(h,h),v=p*p-m*(Uy(d,d)-1);if(!(v<0)){var g=Cb(v),b=qy(h,(-p-g)/m);if(Vy(b,d),b=Ly(b),!r)return b;var y,w=e[0],x=n[0],O=e[1],k=n[1];x<w&&(y=w,w=x,x=y);var E=x-w,_=bb(E-db)<1e-6;if(!_&&k<O&&(y=O,O=k,k=y),_||E<1e-6?_?O+k>0^b[1]<(bb(b[0]-w)<1e-6?O:k):O<=b[1]&&b[1]<=k:E>db^(w<=b[0]&&b[0]<=x)){var S=qy(h,(-p+g)/m);return Vy(S,d),[b,Ly(S)]}}}function s(t,n){var i=r?e:db-e,a=0;return t<-i?a|=1:t>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return Zy(a,(function(e){var t,n,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(f,d){var h,p=[f,d],m=a(f,d),v=r?m?0:s(f,d):m?s(f+(f<0?db:-db),d):0;if(!t&&(c=u=m)&&e.lineStart(),m!==u&&(!(h=o(t,p))||Iy(t,h)||Iy(p,h))&&(p[0]+=1e-6,p[1]+=1e-6,m=a(p[0],p[1])),m!==u)l=0,m?(e.lineStart(),h=o(p,t),e.point(h[0],h[1])):(h=o(t,p),e.point(h[0],h[1]),e.lineEnd()),t=h;else if(i&&t&&r^m){var g;v&n||!(g=o(p,t,!0))||(l=0,r?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!m||t&&Iy(t,p)||e.point(p[0],p[1]),t=p,u=m,n=v},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return l|(c&&u)<<1}}}),(function(t,r,i,a){sw(a,e,n,i,t,r)}),r?[0,-e]:[-db,e-db])};function lw(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,s,c){var l=0,f=0;if(null==i||(l=o(i,s))!==(f=o(a,s))||u(i,a)<0^s>0)do{c.point(0===l||3===l?e:n,l>1?r:t)}while((l=(l+s+4)%4)!==f);else c.point(a[0],a[1])}function o(r,i){return bb(r[0]-e)<1e-6?i>0?0:3:bb(r[0]-n)<1e-6?i>0?2:1:bb(r[1]-t)<1e-6?i>0?1:0:i>0?3:2}function s(e,t){return u(e.x,t.x)}function u(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var u,c,l,f,d,h,p,m,v,g,b,y=o,w=Dy(),x={point:O,lineStart:function(){x.point=k,c&&c.push(l=[]);g=!0,v=!1,p=m=NaN},lineEnd:function(){u&&(k(f,d),h&&v&&w.rejoin(),u.push(w.result()));x.point=O,v&&y.lineEnd()},polygonStart:function(){y=w,u=[],c=[],b=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var a,o,s=c[n],u=1,l=s.length,f=s[0],d=f[0],h=f[1];u<l;++u)a=d,o=h,f=s[u],d=f[0],h=f[1],o<=r?h>r&&(d-a)*(r-o)>(h-o)*(e-a)&&++t:h<=r&&(d-a)*(r-o)<(h-o)*(e-a)&&--t;return t}(),n=b&&t,i=(u=Yy(u)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&Py(u,s,t,a,o),o.polygonEnd());y=o,u=c=l=null}};function O(e,t){i(e,t)&&y.point(e,t)}function k(a,o){var s=i(a,o);if(c&&l.push([a,o]),g)f=a,d=o,h=s,g=!1,s&&(y.lineStart(),y.point(a,o));else if(s&&v)y.point(a,o);else{var u=[p=Math.max(-1e9,Math.min(1e9,p)),m=Math.max(-1e9,Math.min(1e9,m))],w=[a=Math.max(-1e9,Math.min(1e9,a)),o=Math.max(-1e9,Math.min(1e9,o))];!function(e,t,n,r,i,a){var o,s=e[0],u=e[1],c=0,l=1,f=t[0]-s,d=t[1]-u;if(o=n-s,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<l&&(l=o)}else if(f>0){if(o>l)return;o>c&&(c=o)}if(o=i-s,f||!(o<0)){if(o/=f,f<0){if(o>l)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<l&&(l=o)}if(o=r-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>c&&(c=o)}if(o=a-u,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<l&&(l=o)}return c>0&&(e[0]=s+c*f,e[1]=u+c*d),l<1&&(t[0]=s+l*f,t[1]=u+l*d),!0}}}}}(u,w,e,t,n,r)?s&&(y.lineStart(),y.point(a,o),b=!1):(v||(y.lineStart(),y.point(u[0],u[1])),y.point(w[0],w[1]),s||y.lineEnd(),b=!1)}p=a,m=o,v=s}return x}}function fw(e){return function(t){var n=new dw;for(var r in e)n[r]=e[r];return n.stream=t,n}}function dw(){}function hw(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),sb(n,e.stream(Qb)),t(Qb.result()),null!=r&&e.clipExtent(r),e}function pw(e,t,n){return hw(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,s])}),n)}function mw(e,t,n){return pw(e,[[0,0],t],n)}function vw(e,t,n){return hw(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])}),n)}function gw(e,t,n){return hw(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])}),n)}dw.prototype={constructor:dw,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var bw=xb(30*gb),yw=function(e,t){return+t?function(e,t){function n(r,i,a,o,s,u,c,l,f,d,h,p,m,v){var g=c-r,b=l-i,y=g*g+b*b;if(y>4*t&&m--){var w=o+d,x=s+h,O=u+p,k=Cb(w*w+x*x+O*O),E=Nb(O/=k),_=bb(bb(O)-1)<1e-6||bb(a-f)<1e-6?(a+f)/2:wb(x,w),S=e(_,E),j=S[0],C=S[1],A=j-r,T=C-i,N=b*A-g*T;(N*N/y>t||bb((g*A+b*T)/y-.5)>.3||o*d+s*h+u*p<bw)&&(n(r,i,a,o,s,u,j,C,_,w/=k,x/=k,O,m,v),v.point(j,C),n(j,C,_,w,x,O,c,l,f,d,h,p,m,v))}}return function(t){var r,i,a,o,s,u,c,l,f,d,h,p,m={point:v,lineStart:g,lineEnd:y,polygonStart:function(){t.polygonStart(),m.lineStart=w},polygonEnd:function(){t.polygonEnd(),m.lineStart=g}};function v(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){l=NaN,m.point=b,t.lineStart()}function b(r,i){var a=By([r,i]),o=e(r,i);n(l,f,c,d,h,p,l=o[0],f=o[1],c=r,d=a[0],h=a[1],p=a[2],16,t),t.point(l,f)}function y(){m.point=v,t.lineEnd()}function w(){g(),m.point=x,m.lineEnd=O}function x(e,t){b(r=e,t),i=l,a=f,o=d,s=h,u=p,m.point=b}function O(){n(l,f,c,d,h,p,i,a,r,o,s,u,16,t),m.lineEnd=y,y()}return m}}(e,t):function(e){return fw({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var ww=fw({point:function(e,t){this.stream.point(e*gb,t*gb)}});function xw(e,t,n){function r(r,i){return[t+e*r,n-e*i]}return r.invert=function(r,i){return[(r-t)/e,(n-i)/e]},r}function Ow(e,t,n,r){var i=xb(r),a=Sb(r),o=i*e,s=a*e,u=i/e,c=a/e,l=(a*n-i*t)/e,f=(a*t+i*n)/e;function d(e,r){return[o*e-s*r+t,n-s*e-o*r]}return d.invert=function(e,t){return[u*e-c*t+l,f-c*e-u*t]},d}function kw(e){return Ew((function(){return e}))()}function Ew(e){var t,n,r,i,a,o,s,u,c,l,f=150,d=480,h=250,p=0,m=0,v=0,g=0,b=0,y=0,w=null,x=ew,O=null,k=tb,E=.5;function _(e){return u(e[0]*gb,e[1]*gb)}function S(e){return(e=u.invert(e[0],e[1]))&&[e[0]*vb,e[1]*vb]}function j(){var e=Ow(f,0,0,y).apply(null,t(p,m)),r=(y?Ow:xw)(f,d-e[0],h-e[1],y);return n=rw(v,g,b),s=tw(t,r),u=tw(n,s),o=yw(s,E),C()}function C(){return c=l=null,_}return _.stream=function(e){return c&&l===e?c:c=ww(function(e){return fw({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(x(o(k(l=e)))))},_.preclip=function(e){return arguments.length?(x=e,w=void 0,C()):x},_.postclip=function(e){return arguments.length?(k=e,O=r=i=a=null,C()):k},_.clipAngle=function(e){return arguments.length?(x=+e?cw(w=e*gb):(w=null,ew),C()):w*vb},_.clipExtent=function(e){return arguments.length?(k=null==e?(O=r=i=a=null,tb):lw(O=+e[0][0],r=+e[0][1],i=+e[1][0],a=+e[1][1]),C()):null==O?null:[[O,r],[i,a]]},_.scale=function(e){return arguments.length?(f=+e,j()):f},_.translate=function(e){return arguments.length?(d=+e[0],h=+e[1],j()):[d,h]},_.center=function(e){return arguments.length?(p=e[0]%360*gb,m=e[1]%360*gb,j()):[p*vb,m*vb]},_.rotate=function(e){return arguments.length?(v=e[0]%360*gb,g=e[1]%360*gb,b=e.length>2?e[2]%360*gb:0,j()):[v*vb,g*vb,b*vb]},_.angle=function(e){return arguments.length?(y=e%360*gb,j()):y*vb},_.precision=function(e){return arguments.length?(o=yw(s,E=e*e),C()):Cb(E)},_.fitExtent=function(e,t){return pw(_,e,t)},_.fitSize=function(e,t){return mw(_,e,t)},_.fitWidth=function(e,t){return vw(_,e,t)},_.fitHeight=function(e,t){return gw(_,e,t)},function(){return t=e.apply(this,arguments),_.invert=t.invert&&S,j()}}function _w(e){var t=0,n=db/3,r=Ew(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*gb,n=e[1]*gb):[t*vb,n*vb]},i}function Sw(e,t){var n=Sb(e),r=(n+Sb(t))/2;if(bb(r)<1e-6)return function(e){var t=xb(e);function n(e,n){return[e*t,Sb(n)/t]}return n.invert=function(e,n){return[e/t,Nb(n*t)]},n}(e);var i=1+n*(2*r-n),a=Cb(i)/r;function o(e,t){var n=Cb(i-2*r*Sb(t))/r;return[n*Sb(e*=r),a-n*xb(e)]}return o.invert=function(e,t){var n=a-t;return[wb(e,bb(n))/r*jb(n),Nb((i-(e*e+n*n)*r*r)/(2*r))]},o}var jw=function(){return _w(Sw).scale(155.424).center([0,33.6442])},Cw=function(){return jw().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function Aw(e){return function(t,n){var r=xb(t),i=xb(n),a=e(r*i);return[a*i*Sb(t),a*Sb(n)]}}function Tw(e){return function(t,n){var r=Cb(t*t+n*n),i=e(r),a=Sb(i),o=xb(i);return[wb(t*a,r*o),Nb(r&&n*a/r)]}}var Nw=Aw((function(e){return Cb(2/(1+e))}));Nw.invert=Tw((function(e){return 2*Nb(e/2)}));var Rw=Aw((function(e){return(e=Tb(e))&&e/Sb(e)}));Rw.invert=Tw((function(e){return e}));function Mw(e,t){return[e,Eb(Ab((hb+t)/2))]}Mw.invert=function(e,t){return[e,2*yb(kb(t))-hb]};function Dw(e){var t,n,r,i=kw(e),a=i.center,o=i.scale,s=i.translate,u=i.clipExtent,c=null;function l(){var a=db*o(),s=i(function(e){function t(t){return(t=e(t[0]*gb,t[1]*gb))[0]*=vb,t[1]*=vb,t}return e=rw(e[0]*gb,e[1]*gb,e.length>2?e[2]*gb:0),t.invert=function(t){return(t=e.invert(t[0]*gb,t[1]*gb))[0]*=vb,t[1]*=vb,t},t}(i.rotate()).invert([0,0]));return u(null==c?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:e===Mw?[[Math.max(s[0]-a,c),t],[Math.min(s[0]+a,n),r]]:[[c,Math.max(s[1]-a,t)],[n,Math.min(s[1]+a,r)]])}return i.scale=function(e){return arguments.length?(o(e),l()):o()},i.translate=function(e){return arguments.length?(s(e),l()):s()},i.center=function(e){return arguments.length?(a(e),l()):a()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),l()):null==c?null:[[c,t],[n,r]]},l()}function Iw(e){return Ab((hb+e)/2)}function Fw(e,t){var n=xb(e),r=e===t?Sb(e):Eb(n/xb(t))/Eb(Iw(t)/Iw(e)),i=n*_b(Iw(e),r)/r;if(!r)return Mw;function a(e,t){i>0?t<1e-6-hb&&(t=1e-6-hb):t>hb-1e-6&&(t=hb-1e-6);var n=i/_b(Iw(t),r);return[n*Sb(r*e),i-n*xb(r*e)]}return a.invert=function(e,t){var n=i-t,a=jb(r)*Cb(e*e+n*n);return[wb(e,bb(n))/r*jb(n),2*yb(_b(i/a,1/r))-hb]},a}function Pw(e,t){return[e,t]}Pw.invert=Pw;function zw(e,t){var n=xb(e),r=e===t?Sb(e):(n-xb(t))/(t-e),i=n/r+e;if(bb(r)<1e-6)return Pw;function a(e,t){var n=i-t,a=r*e;return[n*Sb(a),i-n*xb(a)]}return a.invert=function(e,t){var n=i-t;return[wb(e,bb(n))/r*jb(n),i-jb(r)*Cb(e*e+n*n)]},a}var Lw=1.340264,Bw=-.081106,Uw=893e-6,Ww=.003796,Vw=Cb(3)/2;function qw(e,t){var n=Nb(Vw*Sb(t)),r=n*n,i=r*r*r;return[e*xb(n)/(Vw*(Lw+3*Bw*r+i*(7*Uw+9*Ww*r))),n*(Lw+Bw*r+i*(Uw+Ww*r))]}qw.invert=function(e,t){for(var n,r=t,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=n=(r*(Lw+Bw*i+a*(Uw+Ww*i))-t)/(Lw+3*Bw*i+a*(7*Uw+9*Ww*i)))*r)*i*i,!(bb(n)<1e-12));++o);return[Vw*e*(Lw+3*Bw*i+a*(7*Uw+9*Ww*i))/xb(r),Nb(Sb(r)/Vw)]};function Hw(e,t){var n=xb(t),r=xb(e)*n;return[n*Sb(e)/r,Sb(t)/r]}Hw.invert=Tw(yb);function Gw(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?tb:fw({point:function(i,a){this.stream.point(i*e+n,a*t+r)}})}function $w(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}$w.invert=function(e,t){var n,r=t,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-t)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(bb(n)>1e-6&&--i>0);return[e/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]};function Kw(e,t){return[xb(t)*Sb(e),Sb(t)]}Kw.invert=Tw(Nb);function Xw(e,t){var n=xb(t),r=1+xb(e)*n;return[n*Sb(e)/r,Sb(t)/r]}Xw.invert=Tw((function(e){return 2*yb(e)}));function Yw(e,t){return[Eb(Ab((hb+t)/2)),-e]}Yw.invert=function(e,t){return[-t,2*yb(kb(e))-hb]};var Zw=Math.abs,Jw=(Math.atan,Math.atan2,Math.ceil,Math.cos),Qw=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),ex=(Math.tan,Math.PI),tx=ex/2,nx=(Math.SQRT1_2,ix(2));ix(ex);function rx(e){return e>1?tx:e<-1?-tx:Math.asin(e)}function ix(e){return e>0?Math.sqrt(e):0}function ax(e,t){var n,r=e*Qw(t),i=30;do{t-=n=(t+Qw(t)-r)/(1+Jw(t))}while(Zw(n)>1e-6&&--i>0);return t/2}var ox=function(e,t,n){function r(r,i){return[e*r*Jw(i=ax(n,i)),t*Qw(i)]}return r.invert=function(r,i){return i=rx(i/t),[r/(e*Jw(i)),rx((2*i+Qw(2*i))/n)]},r}(nx/tx,nx,ex),sx=My(),ux=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function cx(e,t){return function n(){var r=t();return r.type=e,r.path=My().projection(r),r.copy=r.copy||function(){var e=n();return ux.forEach((function(t){r[t]&&e[t](r[t]())})),e.path.pointRadius(r.path.pointRadius()),e},r}}function lx(e,t){if(!e||"string"!==typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(dx[e]=cx(e,t),this):dx[e]||null}function fx(e){return e&&e.path||sx}var dx={albers:Cw,albersusa:function(){var e,t,n,r,i,a,o=Cw(),s=jw().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=jw().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){a=[e,t]}};function l(e){var t=e[0],o=e[1];return a=null,n.point(t,o),a||(r.point(t,o),a)||(i.point(t,o),a)}function f(){return e=t=null,l}return l.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:o).invert(e)},l.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([o.stream(t=n),s.stream(n),u.stream(n)])},l.precision=function(e){return arguments.length?(o.precision(e),s.precision(e),u.precision(e),f()):o.precision()},l.scale=function(e){return arguments.length?(o.scale(e),s.scale(.35*e),u.scale(e),l.translate(o.translate())):o.scale()},l.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),a=+e[0],l=+e[1];return n=o.translate(e).clipExtent([[a-.455*t,l-.238*t],[a+.455*t,l+.238*t]]).stream(c),r=s.translate([a-.307*t,l+.201*t]).clipExtent([[a-.425*t+1e-6,l+.12*t+1e-6],[a-.214*t-1e-6,l+.234*t-1e-6]]).stream(c),i=u.translate([a-.205*t,l+.212*t]).clipExtent([[a-.214*t+1e-6,l+.166*t+1e-6],[a-.115*t-1e-6,l+.234*t-1e-6]]).stream(c),f()},l.fitExtent=function(e,t){return pw(l,e,t)},l.fitSize=function(e,t){return mw(l,e,t)},l.fitWidth=function(e,t){return vw(l,e,t)},l.fitHeight=function(e,t){return gw(l,e,t)},l.scale(1070)},azimuthalequalarea:function(){return kw(Nw).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return kw(Rw).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return _w(Fw).scale(109.5).parallels([30,30])},conicequalarea:jw,conicequidistant:function(){return _w(zw).scale(131.154).center([0,13.9389])},equalEarth:function(){return kw(qw).scale(177.158)},equirectangular:function(){return kw(Pw).scale(152.63)},gnomonic:function(){return kw(Hw).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,r,i,a,o=1,s=0,u=0,c=1,l=1,f=tb,d=null,h=tb;function p(){return r=i=null,a}return a={stream:function(e){return r&&i===e?r:r=f(h(i=e))},postclip:function(r){return arguments.length?(h=r,d=e=t=n=null,p()):h},clipExtent:function(r){return arguments.length?(h=null==r?(d=e=t=n=null,tb):lw(d=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),p()):null==d?null:[[d,e],[t,n]]},scale:function(e){return arguments.length?(f=Gw((o=+e)*c,o*l,s,u),p()):o},translate:function(e){return arguments.length?(f=Gw(o*c,o*l,s=+e[0],u=+e[1]),p()):[s,u]},reflectX:function(e){return arguments.length?(f=Gw(o*(c=e?-1:1),o*l,s,u),p()):c<0},reflectY:function(e){return arguments.length?(f=Gw(o*c,o*(l=e?-1:1),s,u),p()):l<0},fitExtent:function(e,t){return pw(a,e,t)},fitSize:function(e,t){return mw(a,e,t)},fitWidth:function(e,t){return vw(a,e,t)},fitHeight:function(e,t){return gw(a,e,t)}}},mercator:function(){return Dw(Mw).scale(961/mb)},mollweide:function(){return kw(ox).scale(169.529)},naturalEarth1:function(){return kw($w).scale(175.295)},orthographic:function(){return kw(Kw).scale(249.5).clipAngle(90.000001)},stereographic:function(){return kw(Xw).scale(250).clipAngle(142)},transversemercator:function(){var e=Dw(Yw),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(var hx in dx)lx(hx,dx[hx]);function px(e){hr.call(this,null,e)}function mx(e){hr.call(this,null,e)}function vx(e){hr.call(this,null,e)}function gx(e,t,n){var r=Da(e,t-1e-6,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function bx(e,t,n){var r=Da(e,t-1e-6,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function yx(){var e,t,n,r,i,a,o,s,u,c,l,f,d=10,h=d,p=90,m=360,v=2.5;function g(){return{type:"MultiLineString",coordinates:b()}}function b(){return Da(Ob(r/p)*p,n,p).map(l).concat(Da(Ob(s/m)*m,o,m).map(f)).concat(Da(Ob(t/d)*d,e,d).filter((function(e){return bb(e%p)>1e-6})).map(u)).concat(Da(Ob(a/h)*h,i,h).filter((function(e){return bb(e%m)>1e-6})).map(c))}return g.lines=function(){return b().map((function(e){return{type:"LineString",coordinates:e}}))},g.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(o).slice(1),l(n).reverse().slice(1),f(s).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),s>o&&(e=s,s=o,o=e),g.precision(v)):[[r,s],[n,o]]},g.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),a>i&&(n=a,a=i,i=n),g.precision(v)):[[t,a],[e,i]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(p=+e[0],m=+e[1],g):[p,m]},g.stepMinor=function(e){return arguments.length?(d=+e[0],h=+e[1],g):[d,h]},g.precision=function(d){return arguments.length?(v=+d,u=gx(a,i,90),c=bx(t,e,v),l=gx(s,o,90),f=bx(r,n,v),g):v},g.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function wx(e){hr.call(this,[],e),this.generator=yx()}function xx(e){hr.call(this,null,e)}function Ox(e){if(!Object(A.D)(e))return!1;var t=Object(A.db)(Object(A.g)(e));return t.$x||t.$y||t.$value||t.$max}function kx(e){hr.call(this,null,e),this.modified(!0)}function Ex(e,t,n){Object(A.D)(e[t])&&e[t](n)}px.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(A.y)(px,hr).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||A.x,a=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=fx(e.projection),n.materialize().reflow()):o=i===A.x||t.modified(i.fields)?n.ADD_MOD:n.ADD;var s=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(r,e.pointRadius);return n.visit(o,(function(e){e[a]=r(i(e))})),r.pointRadius(s),n.modifies(a)},mx.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(A.y)(mx,hr).transform=function(e,t){var n,r=e.projection,i=e.fields[0],a=e.fields[1],o=e.as||["x","y"],s=o[0],u=o[1];function c(e){var t=r([i(e),a(e)]);t?(e[s]=t[0],e[u]=t[1]):(e[s]=void 0,e[u]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(n=t.modified(i.fields)||t.modified(a.fields),t.visit(n?t.ADD_MOD:t.ADD,c)),t.modifies(o)},vx.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(A.y)(vx,hr).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",a=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var i=e.pointRadius(),a=e.pointRadius(n)(t(r));return e.pointRadius(i),a};return r.context=function(t){return e.context(t),r},r}(fx(e.projection),e.field||Object(A.t)("datum"),e.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,(function(e){e[i]=r})),n.modifies(i)},wx.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(A.y)(wx,hr).transform=function(e,t){var n,r=this.value,i=this.generator;if(!r.length||e.modified())for(var a in e)Object(A.D)(i[a])&&i[a](e[a]);return n=i(),r.length?t.mod.push(W(r[0],n)):t.add.push(L(n)),r[0]=n,t},xx.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Object(A.y)(xx,hr).transform=function(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r="shared"===e.resolve,i=e.field||A.x,a=function(e,t){var n;Object(A.D)(e)?(n=function(n){return e(n,t)}).dep=Ox(e):e?n=Object(A.l)(e):(n=function(e){return e.$value/e.$max||0}).dep=!0;return n}(e.opacity,e),o=function(e,t){var n;Object(A.D)(e)?(n=function(n){return bp(e(n,t))}).dep=Ox(e):n=Object(A.l)(bp(e||"#888"));return n}(e.color,e),s=e.as||"image",u={$x:0,$y:0,$value:0,$max:r?Tr(n.map((function(e){return Tr(i(e).values)}))):0};return n.forEach((function(e){var t=i(e),n=Object(A.o)({},e,u);r||(n.$max=Tr(t.values||[])),e[s]=function(e,t,n,r){for(var i=e.width,a=e.height,o=e.x1||0,s=e.y1||0,u=e.x2||i,c=e.y2||a,l=e.values,f=l?function(e){return l[e]}:A.kb,d=Us(u-o,c-s),h=d.getContext("2d"),p=h.getImageData(0,0,u-o,c-s),m=p.data,v=s,g=0;v<c;++v){t.$y=v-s;for(var b=o,y=v*i;b<u;++b,g+=4){t.$x=b-o,t.$value=f(b+y);var w=n(t);m[g+0]=w.r,m[g+1]=w.g,m[g+2]=w.b,m[g+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}(t,n,o.dep?o:Object(A.l)(o(n)),a.dep?a:Object(A.l)(a(n)))})),t.reflow(!0).modifies(s)},Object(A.y)(kx,hr).transform=function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=lx((e||"mercator").toLowerCase());t||Object(A.n)("Unrecognized projection type: "+e);return t()}(e.type),ux.forEach((function(t){null!=e[t]&&Ex(n,t,e[t])}))):ux.forEach((function(t){e.modified(t)&&Ex(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Object(A.i)(e)).length?e[0]:{type:"FeatureCollection",features:e.reduce((function(e,t){return e.concat(function(e){return"FeatureCollection"===e.type?e.features:Object(A.i)(e).filter((function(e){return null!=e})).map((function(e){return"Feature"===e.type?e:{type:"Feature",geometry:e}}))}(t))}),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)};function _x(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,s,u,c,l,f,d,h=e._root,p={data:r},m=e._x0,v=e._y0,g=e._x1,b=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(a=(m+g)/2))?m=a:g=a,(l=n>=(o=(v+b)/2))?v=o:b=o,i=h,!(h=h[f=l<<1|c]))return i[f]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(c=t>=(a=(m+g)/2))?m=a:g=a,(l=n>=(o=(v+b)/2))?v=o:b=o}while((f=l<<1|c)===(d=(u>=o)<<1|s>=a));return i[d]=h,i[f]=p,e}var Sx=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function jx(e){return e[0]}function Cx(e){return e[1]}function Ax(e,t,n){var r=new Tx(null==t?jx:t,null==n?Cx:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Tx(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function Nx(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Rx=Ax.prototype=Tx.prototype;Rx.copy=function(){var e,t,n=new Tx(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Nx(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=Nx(t));return n},Rx.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return _x(this.cover(t,n),t,n,e)},Rx.addAll=function(e){var t,n,r,i,a=e.length,o=new Array(a),s=new Array(a),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(u>l||c>f)return this;for(this.cover(u,c).cover(l,f),n=0;n<a;++n)_x(this,o[n],s[n],e[n]);return this},Rx.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o,s,u=i-n,c=this._root;n>e||e>=i||r>t||t>=a;)switch(s=(t<r)<<1|e<n,(o=new Array(4))[s]=c,c=o,u*=2,s){case 0:i=n+u,a=r+u;break;case 1:n=i-u,a=r+u;break;case 2:i=n+u,r=a-u;break;case 3:n=i-u,r=a-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},Rx.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},Rx.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Rx.find=function(e,t,n){var r,i,a,o,s,u,c,l=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],m=this._root;for(m&&p.push(new Sx(m,l,f,d,h)),null==n?n=1/0:(l=e-n,f=t-n,d=e+n,h=t+n,n*=n);u=p.pop();)if(!(!(m=u.node)||(i=u.x0)>d||(a=u.y0)>h||(o=u.x1)<l||(s=u.y1)<f))if(m.length){var v=(i+o)/2,g=(a+s)/2;p.push(new Sx(m[3],v,g,o,s),new Sx(m[2],i,g,v,s),new Sx(m[1],v,a,o,g),new Sx(m[0],i,a,v,g)),(c=(t>=g)<<1|e>=v)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var b=e-+this._x.call(null,m.data),y=t-+this._y.call(null,m.data),w=b*b+y*y;if(w<n){var x=Math.sqrt(n=w);l=e-x,f=t-x,d=e+x,h=t+x,r=m.data}}return r},Rx.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,s,u,c,l,f,d,h=this._root,p=this._x0,m=this._y0,v=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((c=a>=(s=(p+v)/2))?p=s:v=s,(l=o>=(u=(m+g)/2))?m=u:g=u,t=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},Rx.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Rx.root=function(){return this._root},Rx.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},Rx.visit=function(e){var t,n,r,i,a,o,s=[],u=this._root;for(u&&s.push(new Sx(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&u.length){var c=(r+a)/2,l=(i+o)/2;(n=u[3])&&s.push(new Sx(n,c,l,a,o)),(n=u[2])&&s.push(new Sx(n,r,l,c,o)),(n=u[1])&&s.push(new Sx(n,c,i,a,l)),(n=u[0])&&s.push(new Sx(n,r,i,c,l))}return this},Rx.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new Sx(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,u=t.x1,c=t.y1,l=(o+u)/2,f=(s+c)/2;(a=i[0])&&n.push(new Sx(a,o,s,l,f)),(a=i[1])&&n.push(new Sx(a,l,s,u,f)),(a=i[2])&&n.push(new Sx(a,o,f,l,c)),(a=i[3])&&n.push(new Sx(a,l,f,u,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Rx.x=function(e){return arguments.length?(this._x=e,this):this._x},Rx.y=function(e){return arguments.length?(this._y=e,this):this._y};var Mx=function(e){return function(){return e}},Dx=function(){return 1e-6*(Math.random()-.5)};function Ix(e){return e.x+e.vx}function Fx(e){return e.y+e.vy}function Px(e){return e.index}function zx(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}var Lx={value:function(){}};function Bx(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Ux(r)}function Ux(e){this._=e}function Wx(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Vx(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function qx(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Lx,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Ux.prototype=Bx.prototype={constructor:Ux,on:function(e,t){var n,r=this._,i=Wx(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=qx(r[n],e.name,t);else if(null==t)for(n in r)r[n]=qx(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=Vx(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ux(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var Hx,Gx,$x=Bx,Kx=0,Xx=0,Yx=0,Zx=0,Jx=0,Qx=0,eO="object"===typeof performance&&performance.now?performance:Date,tO="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nO(){return Jx||(tO(rO),Jx=eO.now()+Qx)}function rO(){Jx=0}function iO(){this._call=this._time=this._next=null}function aO(e,t,n){var r=new iO;return r.restart(e,t,n),r}function oO(){Jx=(Zx=eO.now())+Qx,Kx=Xx=0;try{!function(){nO(),++Kx;for(var e,t=Hx;t;)(e=Jx-t._time)>=0&&t._call.call(null,e),t=t._next;--Kx}()}finally{Kx=0,function(){var e,t,n=Hx,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Hx=t);Gx=e,uO(r)}(),Jx=0}}function sO(){var e=eO.now(),t=e-Zx;t>1e3&&(Qx-=t,Zx=e)}function uO(e){Kx||(Xx&&(Xx=clearTimeout(Xx)),e-Jx>24?(e<1/0&&(Xx=setTimeout(oO,e-eO.now()-Qx)),Yx&&(Yx=clearInterval(Yx))):(Yx||(Zx=eO.now(),Yx=setInterval(sO,1e3)),Kx=1,tO(oO)))}function cO(e){return e.x}function lO(e){return e.y}iO.prototype=aO.prototype={constructor:iO,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?nO():+n)+(null==t?0:+t),this._next||Gx===this||(Gx?Gx._next=this:Hx=this,Gx=this),this._call=e,this._time=n,uO()},stop:function(){this._call&&(this._call=null,this._time=1/0,uO())}};var fO=Math.PI*(3-Math.sqrt(5)),dO={center:function(e,t){var n;function r(){var r,i,a=n.length,o=0,s=0;for(r=0;r<a;++r)o+=(i=n[r]).x,s+=i.y;for(o=o/a-e,s=s/a-t,r=0;r<a;++r)(i=n[r]).x-=o,i.y-=s}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r},collide:function(e){var t,n,r=1,i=1;function a(){for(var e,a,s,u,c,l,f,d=t.length,h=0;h<i;++h)for(a=Ax(t,Ix,Fx).visitAfter(o),e=0;e<d;++e)s=t[e],l=n[s.index],f=l*l,u=s.x+s.vx,c=s.y+s.vy,a.visit(p);function p(e,t,n,i,a){var o=e.data,d=e.r,h=l+d;if(!o)return t>u+h||i<u-h||n>c+h||a<c-h;if(o.index>s.index){var p=u-o.x-o.vx,m=c-o.y-o.vy,v=p*p+m*m;v<h*h&&(0===p&&(v+=(p=Dx())*p),0===m&&(v+=(m=Dx())*m),v=(h-(v=Math.sqrt(v)))/v*r,s.vx+=(p*=v)*(h=(d*=d)/(f+d)),s.vy+=(m*=v)*h,o.vx-=p*(h=1-h),o.vy-=m*h)}}}function o(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,i,a=t.length;for(n=new Array(a),r=0;r<a;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=Mx(null==e?1:+e)),a.initialize=function(e){t=e,s()},a.iterations=function(e){return arguments.length?(i=+e,a):i},a.strength=function(e){return arguments.length?(r=+e,a):r},a.radius=function(t){return arguments.length?(e="function"===typeof t?t:Mx(+t),s(),a):e},a},nbody:function(){var e,t,n,r,i=Mx(-30),a=1,o=1/0,s=.81;function u(r){var i,a=e.length,o=Ax(e,cO,lO).visitAfter(l);for(n=r,i=0;i<a;++i)t=e[i],o.visit(f)}function c(){if(e){var t,n,a=e.length;for(r=new Array(a),t=0;t<a;++t)n=e[t],r[n.index]=+i(n,t,e)}}function l(e){var t,n,i,a,o,s=0,u=0;if(e.length){for(i=a=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,i+=n*t.x,a+=n*t.y);e.x=i/u,e.y=a/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=r[t.data.index]}while(t=t.next)}e.value=s}function f(e,i,u,c){if(!e.value)return!0;var l=e.x-t.x,f=e.y-t.y,d=c-i,h=l*l+f*f;if(d*d/s<h)return h<o&&(0===l&&(h+=(l=Dx())*l),0===f&&(h+=(f=Dx())*f),h<a&&(h=Math.sqrt(a*h)),t.vx+=l*e.value*n/h,t.vy+=f*e.value*n/h),!0;if(!(e.length||h>=o)){(e.data!==t||e.next)&&(0===l&&(h+=(l=Dx())*l),0===f&&(h+=(f=Dx())*f),h<a&&(h=Math.sqrt(a*h)));do{e.data!==t&&(d=r[e.data.index]*n/h,t.vx+=l*d,t.vy+=f*d)}while(e=e.next)}}return u.initialize=function(t){e=t,c()},u.strength=function(e){return arguments.length?(i="function"===typeof e?e:Mx(+e),c(),u):i},u.distanceMin=function(e){return arguments.length?(a=e*e,u):Math.sqrt(a)},u.distanceMax=function(e){return arguments.length?(o=e*e,u):Math.sqrt(o)},u.theta=function(e){return arguments.length?(s=e*e,u):Math.sqrt(s)},u},link:function(e){var t,n,r,i,a,o=Px,s=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},u=Mx(30),c=1;function l(r){for(var i=0,o=e.length;i<c;++i)for(var s,u,l,f,d,h,p,m=0;m<o;++m)u=(s=e[m]).source,f=(l=s.target).x+l.vx-u.x-u.vx||Dx(),d=l.y+l.vy-u.y-u.vy||Dx(),f*=h=((h=Math.sqrt(f*f+d*d))-n[m])/h*r*t[m],d*=h,l.vx-=f*(p=a[m]),l.vy-=d*p,u.vx+=f*(p=1-p),u.vy+=d*p}function f(){if(r){var s,u,c=r.length,l=e.length,f=new Map(r.map((function(e,t){return[o(e,t,r),e]})));for(s=0,i=new Array(c);s<l;++s)(u=e[s]).index=s,"object"!==typeof u.source&&(u.source=zx(f,u.source)),"object"!==typeof u.target&&(u.target=zx(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(s=0,a=new Array(l);s<l;++s)u=e[s],a[s]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);t=new Array(l),d(),n=new Array(l),h()}}function d(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+s(e[n],n,e)}function h(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+u(e[t],t,e)}return null==e&&(e=[]),l.initialize=function(e){r=e,f()},l.links=function(t){return arguments.length?(e=t,f(),l):e},l.id=function(e){return arguments.length?(o=e,l):o},l.iterations=function(e){return arguments.length?(c=+e,l):c},l.strength=function(e){return arguments.length?(s="function"===typeof e?e:Mx(+e),d(),l):s},l.distance=function(e){return arguments.length?(u="function"===typeof e?e:Mx(+e),h(),l):u},l},x:function(e){var t,n,r,i=Mx(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vx+=(r[a]-i.x)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=Mx(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:Mx(+e),o(),a):i},a.x=function(t){return arguments.length?(e="function"===typeof t?t:Mx(+t),o(),a):e},a},y:function(e){var t,n,r,i=Mx(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=Mx(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:Mx(+e),o(),a):i},a.y=function(t){return arguments.length?(e="function"===typeof t?t:Mx(+t),o(),a):e},a}},hO=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],pO=["static","iterations"],mO=["x","y","vx","vy"];function vO(e){hr.call(this,null,e)}vO.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:mO}]};var gO=Object(A.y)(vO,hr);function bO(e,t,n,r){var i,a,o,s,u=Object(A.i)(t.forces);for(i=0,a=hO.length;i<a;++i)"forces"!==(o=hO[i])&&t.modified(o)&&e[o](t[o]);for(i=0,a=u.length;i<a;++i)s="forces"+i,(o=n||t.modified("forces",i)?wO(u[i]):r&&yO(u[i],r)?e.force(s):null)&&e.force(s,o);for(a=e.numForces||0;i<a;++i)e.force("forces"+i,null);return e.numForces=u.length,e}function yO(e,t){var n,r;for(n in e)if(Object(A.D)(r=e[n])&&t.modified(Object(A.g)(r)))return 1;return 0}function wO(e){var t,n;for(n in Object(A.v)(dO,e.force)||Object(A.n)("Unrecognized force: "+e.force),t=dO[e.force](),e)Object(A.D)(t[n])&&xO(t[n],e[n],e);return t}function xO(e,t,n){e(Object(A.D)(t)?function(e){return t(e,n)}:t)}gO.transform=function(e,t){var n,r,i=this.value,a=t.changed(t.ADD_REM),o=e.modified(hO),s=e.iterations||300;if(i?(a&&(t.modifies("index"),i.nodes(t.source)),(o||t.changed(t.MOD))&&bO(i,e,0,t)):(this.value=i=function(e,t){var n=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,u=aO(l),c=$x("tick","end");function l(){f(),c.call("tick",t),n<r&&(u.stop(),c.call("end",t))}function f(r){var u,c,l=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(a-n)*i,s.forEach((function(e){e(n)})),u=0;u<l;++u)null==(c=e[u]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return t}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(n),a=n*fO;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function h(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),d(),t={tick:f,restart:function(){return u.restart(l),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),s.forEach(h),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,h(n)),t):s.get(e)},find:function(t,n,r){var i,a,o,s,u,c=0,l=e.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(o=(i=t-(s=e[c]).x)*i+(a=n-s.y)*a)<r&&(u=s,r=o);return u},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}(e),r=!1,i=n.stop,a=n.restart;return n.stopped=function(){return r},n.restart=function(){return r=!1,a()},n.stop=function(){return r=!0,i()},bO(n,t,!0).on("end",(function(){r=!0}))}(t.source,e),i.on("tick",(n=t.dataflow,r=this,function(){n.touch(r).run()})),e.static||(a=!0,i.tick()),t.modifies("index")),o||a||e.modified(pO)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/s)),e.static)for(i.stop();--s>=0;)i.tick();else if(i.stopped()&&i.restart(),!a)return t.StopPropagation;return this.finish(e,t)},gO.finish=function(e,t){for(var n,r=t.dataflow,i=this._argops,a=0,o=i.length;a<o;++a)if("forces"===(n=i[a]).name&&"link"===n.op._argval.force)for(var s,u=n.op._argops,c=0,l=u.length;c<l;++c)if("links"===u[c].name&&(s=u[c].op.source)){r.pulse(s,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(mO)};var OO=function(e,t,n){var r={};return e.each((function(e){var i=e.data;n(i)&&(r[t(i)]=e)})),e.lookup=r,e};function kO(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function EO(e,t){var n,r,i,a,o,s=new CO(e),u=+e.value&&(s.value=e.value),c=[s];for(null==t&&(t=_O);n=c.pop();)if(u&&(n.value=+n.data.value),(i=t(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;a>=0;--a)c.push(r=n.children[a]=new CO(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(jO)}function _O(e){return e.children}function SO(e){e.data=e.data.data}function jO(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function CO(e){this.data=e,this.depth=this.height=0,this.parent=null}function AO(e){hr.call(this,null,e)}function TO(e){return e.values}function NO(){var e,t=[];return e={entries:function(e){return function e(n,r){if(++r>t.length)return n;var i,a=[];for(i in n)a.push({key:i,values:e(n[i],r)});return a}(function e(n,r){if(r>=t.length)return n;for(var i,a,o,s=-1,u=n.length,c=t[r++],l={},f={};++s<u;)(o=l[i=c(a=n[s])+""])?o.push(a):l[i]=[a];for(i in l)f[i]=e(l[i],r);return f}(e,0),0)},key:function(n){return t.push(n),e}}}function RO(e){hr.call(this,null,e)}function MO(e,t){return e.parent===t.parent?1:2}CO.prototype=EO.prototype={constructor:CO,count:function(){return this.eachAfter(kO)},each:function(e){var t,n,r,i,a=this,o=[a];do{for(t=o.reverse(),o=[];a=t.pop();)if(e(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this},eachAfter:function(e){for(var t,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)a.push(t[n]);for(;i=o.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return EO(this).eachBefore(SO)}},AO.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]},Object(A.y)(AO,hr).transform=function(e,t){t.source||Object(A.n)("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),a=this.value;return(!a||r||t.changed())&&(a&&a.each((function(e){e.children&&F(e.data)&&i.rem.push(e.data)})),this.value=a=EO({values:Object(A.i)(e.keys).reduce((function(e,t){return e.key(t),e}),NO()).entries(i.source)},TO),n&&a.each((function(e){e.children&&(e=L(e.data),i.add.push(e),i.source.push(e))})),OO(a,P,P)),i.source.root=a,i},Object(A.y)(RO,hr).transform=function(e,t){t.source&&t.source.root||Object(A.n)(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),r=this.fields,i=t.source.root,a=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(V(e.sort,(function(e){return e.data}))),function(e,t,n){for(var r,i=0,a=t.length;i<a;++i)(r=t[i])in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?MO:A.O);try{this.value=n(i)}catch(o){Object(A.n)(o)}return i.each((function(e){!function(e,t,n){for(var r=e.data,i=0,a=t.length-1;i<a;++i)r[n[i]]=e[t[i]];r[n[a]]=e.children?e.children.length:0}(e,r,a)})),t.reflow(e.modified()).modifies(a).modifies("leaf")};var DO=Array.prototype.slice;var IO=function(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(DO.call(e))).length,a=[];r<i;)t=e[r],n&&zO(n,t)?++r:(n=BO(a=FO(a,t)),r=0);return n};function FO(e,t){var n,r;if(LO(t,e))return[t];for(n=0;n<e.length;++n)if(PO(t,e[n])&&LO(UO(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(PO(UO(e[n],e[r]),t)&&PO(UO(e[n],t),e[r])&&PO(UO(e[r],t),e[n])&&LO(WO(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function PO(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function zO(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function LO(e,t){for(var n=0;n<t.length;++n)if(!zO(e,t[n]))return!1;return!0}function BO(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return UO(e[0],e[1]);case 3:return WO(e[0],e[1],e[2])}var t}function UO(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,u=a-n,c=o-r,l=s-i,f=Math.sqrt(u*u+c*c);return{x:(n+a+u/f*l)/2,y:(r+o+c/f*l)/2,r:(f+i+s)/2}}function WO(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,u=t.r,c=n.x,l=n.y,f=n.r,d=r-o,h=r-c,p=i-s,m=i-l,v=u-a,g=f-a,b=r*r+i*i-a*a,y=b-o*o-s*s+u*u,w=b-c*c-l*l+f*f,x=h*p-d*m,O=(p*w-m*y)/(2*x)-r,k=(m*v-p*g)/x,E=(h*y-d*w)/(2*x)-i,_=(d*g-h*v)/x,S=k*k+_*_-1,j=2*(a+O*k+E*_),C=O*O+E*E-a*a,A=-(S?(j+Math.sqrt(j*j-4*S*C))/(2*S):C/j);return{x:r+O+k*A,y:i+E+_*A,r:A}}function VO(e,t,n){var r,i,a,o,s=e.x-t.x,u=e.y-t.y,c=s*s+u*u;c?(i=t.r+n.r,i*=i,o=e.r+n.r,i>(o*=o)?(r=(c+o-i)/(2*c),a=Math.sqrt(Math.max(0,o/c-r*r)),n.x=e.x-r*s-a*u,n.y=e.y-r*u+a*s):(r=(c+i-o)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),n.x=t.x+r*s-a*u,n.y=t.y+r*u+a*s)):(n.x=t.x+n.r,n.y=t.y)}function qO(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function HO(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function GO(e){this._=e,this.next=null,this.previous=null}function $O(e){if(!(i=e.length))return 0;var t,n,r,i,a,o,s,u,c,l,f;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;VO(n,t,r=e[2]),t=new GO(t),n=new GO(n),r=new GO(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){VO(t._,n._,r=e[s]),r=new GO(r),u=n.next,c=t.previous,l=n._.r,f=t._.r;do{if(l<=f){if(qO(u._,r._)){n=u,t.next=n,n.previous=t,--s;continue e}l+=u._.r,u=u.next}else{if(qO(c._,r._)){(t=c).next=n,n.previous=t,--s;continue e}f+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,a=HO(t);(r=r.next)!==n;)(o=HO(r))<a&&(t=r,a=o);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=IO(t),s=0;s<i;++s)(t=e[s]).x-=r.x,t.y-=r.y;return r.r}function KO(e){return null==e?null:XO(e)}function XO(e){if("function"!==typeof e)throw new Error;return e}function YO(){return 0}var ZO=function(e){return function(){return e}};function JO(e){return Math.sqrt(e.value)}function QO(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function ek(e,t){return function(n){if(r=n.children){var r,i,a,o=r.length,s=e(n)*t||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=$O(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function tk(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var nk=["x","y","r","depth","children"];function rk(e){RO.call(this,e)}rk.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:nk.length,default:nk}]};var ik=Object(A.y)(rk,RO);ik.layout=function(){var e=null,t=1,n=1,r=YO;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(QO(e)).eachAfter(ek(r,.5)).eachBefore(tk(1)):i.eachBefore(QO(JO)).eachAfter(ek(YO,1)).eachAfter(ek(r,i.r/Math.min(t,n))).eachBefore(tk(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=KO(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:ZO(+e),i):r},i},ik.params=["radius","size","padding"],ik.fields=nk;var ak=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},ok=function(e,t,n,r,i){for(var a,o=e.children,s=-1,u=o.length,c=e.value&&(r-t)/e.value;++s<u;)(a=o[s]).y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*c},sk=["x0","y0","x1","y1","depth","children"];function uk(e){RO.call(this,e)}uk.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:sk.length,default:sk}]};var ck=Object(A.y)(uk,RO);ck.layout=function(){var e=1,t=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore(function(e,t){return function(r){r.children&&ok(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,a=r.y0,o=r.x1-n,s=r.y1-n;o<i&&(i=o=(i+o)/2),s<a&&(a=s=(a+s)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=s}}(t,a)),r&&i.eachBefore(ak),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},ck.params=["size","round","padding"],ck.fields=sk;var lk={depth:-1},fk={};function dk(e){return e.id}function hk(e){return e.parentId}var pk=function(){var e=dk,t=hk;function n(n){var r,i,a,o,s,u,c,l=n.length,f=new Array(l),d={};for(i=0;i<l;++i)r=n[i],s=f[i]=new CO(r),null!=(u=e(r,i,n))&&(u+="")&&(d[c="$"+(s.id=u)]=c in d?fk:s);for(i=0;i<l;++i)if(s=f[i],null!=(u=t(n[i],i,n))&&(u+="")){if(!(o=d["$"+u]))throw new Error("missing: "+u);if(o===fk)throw new Error("ambiguous: "+u);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error("multiple roots");a=s}if(!a)throw new Error("no root");if(a.parent=lk,a.eachBefore((function(e){e.depth=e.parent.depth+1,--l})).eachBefore(jO),a.parent=null,l>0)throw new Error("cycle");return a}return n.id=function(t){return arguments.length?(e=XO(t),n):e},n.parentId=function(e){return arguments.length?(t=XO(e),n):t},n};function mk(e){hr.call(this,null,e)}function vk(e,t){return e.parent===t.parent?1:2}function gk(e){var t=e.children;return t?t[0]:e.t}function bk(e){var t=e.children;return t?t[t.length-1]:e.t}function yk(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function wk(e,t,n){return e.a.parent===t.parent?e.a:n}function xk(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}mk.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(A.y)(mk,hr).transform=function(e,t){t.source||Object(A.n)("Stratify transform requires an upstream data source.");var n=this.value,r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),a=!this.value||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),a&&(n=i.source.length?OO(pk().id(e.key).parentId(e.parentKey)(i.source),e.key,A.gb):OO(pk()([{}]),e.key,e.key)),i.source.root=this.value=n,i},xk.prototype=Object.create(CO.prototype);function Ok(e,t){return e.parent===t.parent?1:2}function kk(e,t){return e+t.x}function Ek(e,t){return Math.max(e,t.y)}var _k={tidy:function(){var e=vk,t=1,n=1,r=null;function i(i){var u=function(e){for(var t,n,r,i,a,o=new xk(e,0),s=[o];t=s.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=t.children[i]=new xk(r[i],i)),n.parent=t;return(o.parent=new xk(null,0)).children=[o],o}(i);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),r)i.eachBefore(s);else{var c=i,l=i,f=i;i.eachBefore((function(e){e.x<c.x&&(c=e),e.x>l.x&&(l=e),e.depth>f.depth&&(f=e)}));var d=c===l?1:e(c,l)/2,h=d-c.x,p=t/(l.x+d+h),m=n/(f.depth||1);i.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*m}))}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a=t,o=t,s=n,u=a.parent.children[0],c=a.m,l=o.m,f=s.m,d=u.m;s=bk(s),a=gk(a),s&&a;)u=gk(u),(o=bk(o)).a=t,(i=s.z+f-a.z-c+e(s._,a._))>0&&(yk(wk(s,t,r),t,i),c+=i,l+=i),f+=s.m,c+=a.m,d+=u.m,l+=o.m;s&&!bk(o)&&(o.t=s,o.m+=f-l),a&&!gk(u)&&(u.t=a,u.m+=c-d,r=t)}return r}(t,i,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},cluster:function(){var e=Ok,t=1,n=1,r=!1;function i(i){var a,o=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(kk,0)/e.length}(n),t.y=function(e){return 1+e.reduce(Ek,0)}(n)):(t.x=a?o+=e(t,a):0,t.y=0,a=t)}));var s=function(e){for(var t;t=e.children;)e=t[0];return e}(i),u=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),c=s.x-e(s,u)/2,l=u.x+e(u,s)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-c)/(l-c)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}},Sk=["x","y","depth","children"];function jk(e){RO.call(this,e)}jk.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Sk.length,default:Sk}]};var Ck=Object(A.y)(jk,RO);function Ak(e){hr.call(this,[],e)}Ck.layout=function(e){var t=e||"tidy";if(Object(A.v)(_k,t))return _k[t]();Object(A.n)("Unrecognized Tree layout method: "+t)},Ck.params=["size","nodeSize"],Ck.fields=Sk,Ak.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(A.y)(Ak,hr).transform=function(e,t){var n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),a={};return r||Object(A.n)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,(function(e){a[P(e)]=1})),r.each((function(e){var t=e.data,n=e.parent&&e.parent.data;n&&a[P(t)]&&a[P(n)]&&i.add.push(L({source:n,target:t}))})),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(e){a[P(e)]=1})),n.forEach((function(e){(a[P(e.source)]||a[P(e.target)])&&i.mod.push(e)}))),i};var Tk=function(e,t,n,r,i){for(var a,o=e.children,s=-1,u=o.length,c=e.value&&(i-n)/e.value;++s<u;)(a=o[s]).x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*c},Nk=(1+Math.sqrt(5))/2;function Rk(e,t,n,r,i,a){for(var o,s,u,c,l,f,d,h,p,m,v,g=[],b=t.children,y=0,w=0,x=b.length,O=t.value;y<x;){u=i-n,c=a-r;do{l=b[w++].value}while(!l&&w<x);for(f=d=l,v=l*l*(m=Math.max(c/u,u/c)/(O*e)),p=Math.max(d/v,v/f);w<x;++w){if(l+=s=b[w].value,s<f&&(f=s),s>d&&(d=s),v=l*l*m,(h=Math.max(d/v,v/f))>p){l-=s;break}p=h}g.push(o={value:l,dice:u<c,children:b.slice(y,w)}),o.dice?ok(o,n,r,i,O?r+=c*l/O:a):Tk(o,n,r,O?n+=u*l/O:i,a),O-=l,y=w}return g}var Mk=function e(t){function n(e,n,r,i,a){Rk(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Nk),Dk=function e(t){function n(e,n,r,i,a){if((o=e._squarify)&&o.ratio===t)for(var o,s,u,c,l,f=-1,d=o.length,h=e.value;++f<d;){for(u=(s=o[f]).children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?ok(s,n,r,i,r+=(a-r)*s.value/h):Tk(s,n,r,n+=(i-n)*s.value/h,a),h-=s.value}else e._squarify=o=Rk(t,e,n,r,i,a),o.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Nk),Ik={binary:function(e,t,n,r,i){var a,o,s=e.children,u=s.length,c=new Array(u+1);for(c[0]=o=a=0;a<u;++a)c[a+1]=o+=s[a].value;!function e(t,n,r,i,a,o,u){if(t>=n-1){var l=s[t];return l.x0=i,l.y0=a,l.x1=o,void(l.y1=u)}var f=c[t],d=r/2+f,h=t+1,p=n-1;for(;h<p;){var m=h+p>>>1;c[m]<d?h=m+1:p=m}d-c[h-1]<c[h]-d&&t+1<h&&--h;var v=c[h]-f,g=r-v;if(o-i>u-a){var b=(i*g+o*v)/r;e(t,h,v,i,a,b,u),e(h,n,g,b,a,o,u)}else{var y=(a*g+u*v)/r;e(t,h,v,i,a,o,y),e(h,n,g,i,y,o,u)}}(0,u,e.value,t,n,r,i)},dice:ok,slice:Tk,slicedice:function(e,t,n,r,i){(1&e.depth?Tk:ok)(e,t,n,r,i)},squarify:Mk,resquarify:Dk},Fk=["x0","y0","x1","y1","depth","children"];function Pk(e){RO.call(this,e)}Pk.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Fk.length,default:Fk}]};var zk=Object(A.y)(Pk,RO);zk.layout=function(){var e=function(){var e=Mk,t=!1,n=1,r=1,i=[0],a=YO,o=YO,s=YO,u=YO,c=YO;function l(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),i=[0],t&&e.eachBefore(ak),e}function f(t){var n=i[t.depth],r=t.x0+n,l=t.y0+n,f=t.x1-n,d=t.y1-n;f<r&&(r=f=(r+f)/2),d<l&&(l=d=(l+d)/2),t.x0=r,t.y0=l,t.x1=f,t.y1=d,t.children&&(n=i[t.depth+1]=a(t)/2,r+=c(t)-n,l+=o(t)-n,(f-=s(t)-n)<r&&(r=f=(r+f)/2),(d-=u(t)-n)<l&&(l=d=(l+d)/2),e(t,r,l,f,d))}return l.round=function(e){return arguments.length?(t=!!e,l):t},l.size=function(e){return arguments.length?(n=+e[0],r=+e[1],l):[n,r]},l.tile=function(t){return arguments.length?(e=XO(t),l):e},l.padding=function(e){return arguments.length?l.paddingInner(e).paddingOuter(e):l.paddingInner()},l.paddingInner=function(e){return arguments.length?(a="function"===typeof e?e:ZO(+e),l):a},l.paddingOuter=function(e){return arguments.length?l.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):l.paddingTop()},l.paddingTop=function(e){return arguments.length?(o="function"===typeof e?e:ZO(+e),l):o},l.paddingRight=function(e){return arguments.length?(s="function"===typeof e?e:ZO(+e),l):s},l.paddingBottom=function(e){return arguments.length?(u="function"===typeof e?e:ZO(+e),l):u},l.paddingLeft=function(e){return arguments.length?(c="function"===typeof e?e:ZO(+e),l):c},l}();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){Object(A.v)(Ik,t)?e.tile(Ik[t]):Object(A.n)("Unrecognized Treemap layout method: "+t)},e},zk.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],zk.fields=Fk;var Lk=function(e,t){var n,r,i,a,o,s,u=[],c=function(e){return e(a)};if(null==t)u.push(e);else for(n={},r=0,i=e.length;r<i;++r)a=e[r],(s=n[o=t.map(c)])||(n[o]=s=[],s.dims=o,u.push(s)),s.push(a);return u};function Bk(e){hr.call(this,null,e)}Bk.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Object(A.y)(Bk,hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=Lk(r,e.groupby),a=(e.groupby||[]).map(A.h),o=a.length,s=e.as||[Object(A.h)(e.x),Object(A.h)(e.y)],u=[];i.forEach((function(t){ji(t,e.x,e.y,e.bandwidth||.3).forEach((function(e){for(var n={},r=0;r<o;++r)n[a[r]]=t.dims[r];n[s[0]]=e[0],n[s[1]]=e[1],u.push(L(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n};var Uk={linear:bi,log:yi,exp:xi,pow:Oi,quad:ki,poly:Ei};function Wk(e){hr.call(this,null,e)}Wk.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(Uk)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Object(A.y)(Wk,hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=Lk(r,e.groupby),a=(e.groupby||[]).map(A.h),o=e.method||"linear",s=e.order||3,u=function(e,t){return"poly"===e?t:"quad"===e?2:1}(o,s),c=e.as||[Object(A.h)(e.x),Object(A.h)(e.y)],l=Uk[o],f=[],d=e.extent;Object(A.v)(Uk,o)||Object(A.n)("Invalid regression method: "+o),null!=d&&"log"===o&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach((function(n){if(n.length<=u)t.dataflow.warn("Skipping regression with more parameters than data points.");else{var r=l(n,e.x,e.y,s);if(e.params)f.push(L({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));else{var i=d||Object(A.p)(n,e.x),h=function(e){for(var t={},r=0;r<a.length;++r)t[a[r]]=n.dims[r];t[c[0]]=e[0],t[c[1]]=e[1],f.push(L(t))};"linear"===o?i.forEach((function(e){return h([e,r.predict(e)])})):Ni(r.predict,i,25,200).forEach(h)}}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n};var Vk=n(11),qk=n(12),Hk=Math.pow(2,-52),Gk=new Uint32Array(512),$k=function(){function e(t){Object(Vk.a)(this,e);var n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return Object(qk.a)(e,null,[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tE,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nE,i=t.length,a=new Float64Array(2*i),o=0;o<i;o++){var s=t[o];a[2*o]=n(s),a[2*o+1]=r(s)}return new e(a)}}]),Object(qk.a)(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,a=e.length>>1,o=1/0,s=1/0,u=-1/0,c=-1/0,l=0;l<a;l++){var f=e[2*l],d=e[2*l+1];f<o&&(o=f),d<s&&(s=d),f>u&&(u=f),d>c&&(c=d),this._ids[l]=l}for(var h,p,m,v=(o+u)/2,g=(s+c)/2,b=1/0,y=0;y<a;y++){var w=Kk(v,g,e[2*y],e[2*y+1]);w<b&&(h=y,b=w)}var x=e[2*h],O=e[2*h+1];b=1/0;for(var k=0;k<a;k++)if(k!==h){var E=Kk(x,O,e[2*k],e[2*k+1]);E<b&&E>0&&(p=k,b=E)}for(var _=e[2*p],S=e[2*p+1],j=1/0,C=0;C<a;C++)if(C!==h&&C!==p){var A=Jk(x,O,_,S,e[2*C],e[2*C+1]);A<j&&(m=C,j=A)}var T=e[2*m],N=e[2*m+1];if(j===1/0){for(var R=0;R<a;R++)this._dists[R]=e[2*R]-e[0]||e[2*R+1]-e[1];Qk(this._ids,this._dists,0,a-1);for(var M=new Uint32Array(a),D=0,I=0,F=-1/0;I<a;I++){var P=this._ids[I];this._dists[P]>F&&(M[D++]=P,F=this._dists[P])}return this.hull=M.subarray(0,D),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Yk(x,O,_,S,T,N)){var z=p,L=_,B=S;p=m,_=T,S=N,m=z,T=L,N=B}var U=function(e,t,n,r,i,a){var o=n-e,s=r-t,u=i-e,c=a-t,l=o*o+s*s,f=u*u+c*c,d=.5/(o*c-s*u);return{x:e+(c*l-s*f)*d,y:t+(o*f-u*l)*d}}(x,O,_,S,T,N);this._cx=U.x,this._cy=U.y;for(var W=0;W<a;W++)this._dists[W]=Kk(e[2*W],e[2*W+1],U.x,U.y);Qk(this._ids,this._dists,0,a-1),this._hullStart=h;var V=3;n[h]=t[m]=p,n[p]=t[h]=m,n[m]=t[p]=h,r[h]=0,r[p]=1,r[m]=2,i.fill(-1),i[this._hashKey(x,O)]=h,i[this._hashKey(_,S)]=p,i[this._hashKey(T,N)]=m,this.trianglesLen=0,this._addTriangle(h,p,m,-1,-1,-1);for(var q,H,G=0;G<this._ids.length;G++){var $=this._ids[G],K=e[2*$],X=e[2*$+1];if(!(G>0&&Math.abs(K-q)<=Hk&&Math.abs(X-H)<=Hk)&&(q=K,H=X,$!==h&&$!==p&&$!==m)){for(var Y=0,Z=0,J=this._hashKey(K,X);Z<this._hashSize&&(-1===(Y=i[(J+Z)%this._hashSize])||Y===n[Y]);Z++);for(var Q=Y=t[Y],ee=void 0;ee=n[Q],!Yk(K,X,e[2*Q],e[2*Q+1],e[2*ee],e[2*ee+1]);)if((Q=ee)===Y){Q=-1;break}if(-1!==Q){var te=this._addTriangle(Q,$,n[Q],-1,-1,r[Q]);r[$]=this._legalize(te+2),r[Q]=te,V++;for(var ne=n[Q];ee=n[ne],Yk(K,X,e[2*ne],e[2*ne+1],e[2*ee],e[2*ee+1]);)te=this._addTriangle(ne,$,ee,r[$],-1,r[ne]),r[$]=this._legalize(te+2),n[ne]=ne,V--,ne=ee;if(Q===Y)for(;Yk(K,X,e[2*(ee=t[Q])],e[2*ee+1],e[2*Q],e[2*Q+1]);)te=this._addTriangle(ee,$,Q,-1,r[Q],r[ee]),this._legalize(te+2),r[ee]=te,n[Q]=Q,V--,Q=ee;this._hullStart=t[$]=Q,n[Q]=t[ne]=$,n[$]=ne,i[this._hashKey(K,X)]=$,i[this._hashKey(e[2*Q],e[2*Q+1])]=Q}}}this.hull=new Uint32Array(V);for(var re=0,ie=this._hullStart;re<V;re++)this.hull[re]=ie,ie=n[ie];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,i=0,a=0;;){var o=n[e],s=e-e%3;if(a=s+(e+2)%3,-1!==o){var u=o-o%3,c=s+(e+1)%3,l=u+(o+2)%3,f=t[a],d=t[e],h=t[c],p=t[l];if(Zk(r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1])){t[e]=p,t[o]=f;var m=n[l];if(-1===m){var v=this._hullStart;do{if(this._hullTri[v]===l){this._hullTri[v]=e;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(e,m),this._link(o,n[a]),this._link(a,l);var g=u+(o+1)%3;i<Gk.length&&(Gk[i++]=g)}else{if(0===i)break;e=Gk[--i]}}else{if(0===i)break;e=Gk[--i]}}return a}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,i,a){var o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,i),this._link(o+2,a),this.trianglesLen+=3,o}}]),e}();function Kk(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}function Xk(e,t,n,r,i,a){var o=(r-t)*(i-e),s=(n-e)*(a-t);return Math.abs(o-s)>=33306690738754716e-32*Math.abs(o+s)?o-s:0}function Yk(e,t,n,r,i,a){return(Xk(i,a,e,t,n,r)||Xk(e,t,n,r,i,a)||Xk(n,r,i,a,e,t))<0}function Zk(e,t,n,r,i,a,o,s){var u=e-o,c=t-s,l=n-o,f=r-s,d=i-o,h=a-s,p=l*l+f*f,m=d*d+h*h;return u*(f*m-p*h)-c*(l*m-p*d)+(u*u+c*c)*(l*h-f*d)<0}function Jk(e,t,n,r,i,a){var o=n-e,s=r-t,u=i-e,c=a-t,l=o*o+s*s,f=u*u+c*c,d=.5/(o*c-s*u),h=(c*l-s*f)*d,p=(o*f-u*l)*d;return h*h+p*p}function Qk(e,t,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var a=e[i],o=t[a],s=i-1;s>=n&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=a}else{var u=n+1,c=r;eE(e,n+r>>1,u),t[e[n]]>t[e[r]]&&eE(e,n,r),t[e[u]]>t[e[r]]&&eE(e,u,r),t[e[n]]>t[e[u]]&&eE(e,n,u);for(var l=e[u],f=t[l];;){do{u++}while(t[e[u]]<f);do{c--}while(t[e[c]]>f);if(c<u)break;eE(e,u,c)}e[n+1]=e[c],e[c]=l,r-u+1>=c-n?(Qk(e,t,u,r),Qk(e,t,n,c-1)):(Qk(e,t,n,c-1),Qk(e,t,u,r))}}function eE(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function tE(e){return e[0]}function nE(e){return e[1]}var rE=function(){function e(){Object(Vk.a)(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return Object(qk.a)(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),iE=function(){function e(){Object(Vk.a)(this,e),this._=[]}return Object(qk.a)(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),aE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=Object(wi.a)(n,4),i=r[0],a=r[1],o=r[2],s=r[3];if(Object(Vk.a)(this,e),!((o=+o)>=(i=+i))||!((s=+s)>=(a=+a)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=o,this.xmin=i,this.ymax=s,this.ymin=a,this._init()}return Object(qk.a)(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,i=n.hull,a=n.triangles,o=this.vectors,s=this.circumcenters=this._circumcenters.subarray(0,a.length/3*2),u=0,c=0,l=a.length;u<l;u+=3,c+=2){var f=2*a[u],d=2*a[u+1],h=2*a[u+2],p=r[f],m=r[f+1],v=r[d],g=r[d+1],b=r[h],y=r[h+1],w=v-p,x=g-m,O=b-p,k=y-m,E=w*w+x*x,_=O*O+k*k,S=2*(w*k-x*O);if(S)if(Math.abs(S)<1e-8)e=(p+b)/2,t=(m+y)/2;else{var j=1/S;e=p+(k*E-x*_)*j,t=m+(w*_-O*E)*j}else e=(p+b)/2-1e8*k,t=(m+y)/2+1e8*O;s[c]=e,s[c+1]=t}var C,A,T,N=i[i.length-1],R=4*N,M=r[2*N],D=r[2*N+1];o.fill(0);for(var I=0;I<i.length;++I)C=R,A=M,T=D,R=4*(N=i[I]),M=r[2*N],D=r[2*N+1],o[C+2]=o[R]=T-D,o[C+3]=o[R+1]=M-A}},{key:"render",value:function(e){var t=null==e?e=new rE:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,a=n.hull,o=this.circumcenters,s=this.vectors;if(a.length<=1)return null;for(var u=0,c=r.length;u<c;++u){var l=r[u];if(!(l<u)){var f=2*Math.floor(u/3),d=2*Math.floor(l/3),h=o[f],p=o[f+1],m=o[d],v=o[d+1];this._renderSegment(h,p,m,v,e)}}for(var g,b=a[a.length-1],y=0;y<a.length;++y){g=b,b=a[y];var w=2*Math.floor(i[b]/3),x=o[w],O=o[w+1],k=4*g,E=this._project(x,O,s[k+2],s[k+3]);E&&this._renderSegment(x,O,E[0],E[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new rE:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new rE:void 0,r=this._clip(e);if(null!==r){t.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var a=2;a<i;a+=2)r[a]===r[a-2]&&r[a+1]===r[a-1]||t.lineTo(r[a],r[a+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:w.a.mark((function e(){var t,n,r,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,r=t.length/2;case 2:if(!(n<r)){e.next=10;break}if(!(i=this.cellPolygon(n))){e.next=7;break}return e.next=7,i;case 7:++n,e.next=2;break;case 10:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new iE;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,i){var a,o=this._regioncode(e,t),s=this._regioncode(n,r);0===o&&0===s?(i.moveTo(e,t),i.lineTo(n,r)):(a=this._clipSegment(e,t,n,r,o,s))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:w.a.mark((function e(t){var n,r,i,a,o,s,u,c,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}r=Object(Sr.a)(this.delaunay.neighbors(t)),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=25;break}if(a=i.value,!(o=this._clip(a))){e.next=23;break}s=0,u=n.length;case 10:if(!(s<u)){e.next=23;break}c=0,l=o.length;case 12:if(!(c<l)){e.next=20;break}if(n[s]!=o[c]||n[s+1]!=o[c+1]||n[(s+2)%u]!=o[(c+l-2)%l]||n[(s+3)%u]!=o[(c+l-1)%l]){e.next=17;break}return e.next=16,a;case 16:return e.abrupt("break",23);case 17:c+=2,e.next=12;break;case 20:s+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),r.e(e.t0);case 30:return e.prev=30,r.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,a=n.triangles,o=r[e];if(-1===o)return null;var s=[],u=o;do{var c=Math.floor(u/3);if(s.push(t[2*c],t[2*c+1]),a[u=u%3===2?u-2:u+1]!==e)break;u=i[u]}while(u!==o&&-1!==u);return s}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,i,a,o,s=t.length,u=null,c=t[s-2],l=t[s-1],f=this._regioncode(c,l),d=0;d<s;d+=2)if(n=c,r=l,c=t[d],l=t[d+1],i=f,f=this._regioncode(c,l),0===i&&0===f)a=o,o=0,u?u.push(c,l):u=[c,l];else{var h=void 0,p=void 0,m=void 0,v=void 0,g=void 0;if(0===i){if(null===(h=this._clipSegment(n,r,c,l,i,f)))continue;var b=h,y=Object(wi.a)(b,4);p=y[0],m=y[1],v=y[2],g=y[3]}else{if(null===(h=this._clipSegment(c,l,n,r,f,i)))continue;var w=h,x=Object(wi.a)(w,4);v=x[0],g=x[1],p=x[2],m=x[3],a=o,o=this._edgecode(p,m),a&&o&&this._edge(e,a,o,u,u.length),u?u.push(p,m):u=[p,m]}a=o,o=this._edgecode(v,g),a&&o&&this._edge(e,a,o,u,u.length),u?u.push(v,g):u=[v,g]}if(u)a=o,o=this._edgecode(u[0],u[1]),a&&o&&this._edge(e,a,o,u,u.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}},{key:"_clipSegment",value:function(e,t,n,r,i,a){for(;;){if(0===i&&0===a)return[e,t,n,r];if(i&a)return null;var o=void 0,s=void 0,u=i||a;8&u?(o=e+(n-e)*(this.ymax-t)/(r-t),s=this.ymax):4&u?(o=e+(n-e)*(this.ymin-t)/(r-t),s=this.ymin):2&u?(s=t+(r-t)*(this.xmax-e)/(n-e),o=this.xmax):(s=t+(r-t)*(this.xmin-e)/(n-e),o=this.xmin),i?(e=o,t=s,i=this._regioncode(e,t)):(n=o,r=s,a=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,i,a){var o,s=Array.from(t);if((o=this._project(s[0],s[1],n,r))&&s.unshift(o[0],o[1]),(o=this._project(s[s.length-2],s[s.length-1],i,a))&&s.push(o[0],o[1]),s=this._clipFinite(e,s))for(var u,c=0,l=s.length,f=this._edgecode(s[l-2],s[l-1]);c<l;c+=2)u=f,f=this._edgecode(s[c],s[c+1]),u&&f&&(c=this._edge(e,u,f,s,c),l=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}},{key:"_edge",value:function(e,t,n,r,i){for(;t!==n;){var a=void 0,o=void 0;switch(t){case 5:t=4;continue;case 4:t=6,a=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,a=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,a=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,a=this.xmin,o=this.ymin}r[i]===a&&r[i+1]===o||!this.contains(e,a,o)||(r.splice(i,0,a,o),i+=2)}if(r.length>4)for(var s=0;s<r.length;s+=2){var u=(s+2)%r.length,c=(s+4)%r.length;(r[s]===r[u]&&r[u]===r[c]||r[s+1]===r[u+1]&&r[u+1]===r[c+1])&&(r.splice(u,2),s-=2)}return i}},{key:"_project",value:function(e,t,n,r){var i,a,o,s=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<s&&(o=this.ymin,a=e+(s=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<s&&(o=this.ymax,a=e+(s=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<s&&(a=this.xmax,o=t+(s=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<s&&(a=this.xmin,o=t+(s=i)*r)}return[a,o]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),oE=w.a.mark(hE),sE=2*Math.PI;function uE(e){return e[0]}function cE(e){return e[1]}function lE(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var fE=function(){function e(t){Object(Vk.a)(this,e),this._delaunator=new $k(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return Object(qk.a)(e,null,[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uE,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cE,i=arguments.length>3?arguments[3]:void 0;return new e("length"in t?dE(t,n,r,i):Float64Array.from(hE(t,n,r,i)))}}]),Object(qk.a)(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var i=2*t[r],a=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],a=1e-8*Math.sqrt(Math.pow(i[3]-i[1],2)+Math.pow(i[2]-i[0],2)),o=0,s=t.length/2;o<s;++o){var u=lE(t[2*o],t[2*o+1],a);t[2*o]=u[0],t[2*o+1]=u[1]}this._delaunator=new $k(t)}else delete this.collinear;for(var c=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),h=this._hullIndex.fill(-1),p=0,m=c.length;p<m;++p){var v=f[p%3===2?p-2:p+1];-1!==c[p]&&-1!==d[v]||(d[v]=p)}for(var g=0,b=l.length;g<b;++g)h[l[g]]=g;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],this.triangles[1]=l[1],this.triangles[2]=l[1],d[l[0]]=1,2===l.length&&(d[l[1]]=0))}},{key:"voronoi",value:function(e){return new aE(this,e)}},{key:"neighbors",value:w.a.mark((function e(t){var n,r,i,a,o,s,u,c,l,f,d;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,a=this.halfedges,o=this.triangles,!(s=this.collinear)){e.next=10;break}if(!((u=s.indexOf(t))>0)){e.next=6;break}return e.next=6,s[u-1];case 6:if(!(u<s.length-1)){e.next=9;break}return e.next=9,s[u+1];case 9:return e.abrupt("return");case 10:if(-1!==(c=n[t])){e.next=13;break}return e.abrupt("return");case 13:l=c,f=-1;case 14:return e.next=16,f=o[l];case 16:if(o[l=l%3===2?l-2:l+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(l=a[l])){e.next=26;break}if((d=r[(i[t]+1)%r.length])===f){e.next=25;break}return e.next=25,d;case 25:return e.abrupt("return");case 26:if(l!==c){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var r,i=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,i=this.hull,a=this._hullIndex,o=this.halfedges,s=this.triangles,u=this.points;if(-1===r[e]||!u.length)return(e+1)%(u.length>>1);var c=e,l=Math.pow(t-u[2*e],2)+Math.pow(n-u[2*e+1],2),f=r[e],d=f;do{var h=s[d],p=Math.pow(t-u[2*h],2)+Math.pow(n-u[2*h+1],2);if(p<l&&(l=p,c=h),s[d=d%3===2?d-2:d+1]!==e)break;if(-1===(d=o[d])){if((d=i[(a[e]+1)%i.length])!==h&&Math.pow(t-u[2*d],2)+Math.pow(n-u[2*d+1],2)<l)return d;break}}while(d!==f);return c}},{key:"render",value:function(e){for(var t=null==e?e=new rE:void 0,n=this.points,r=this.halfedges,i=this.triangles,a=0,o=r.length;a<o;++a){var s=r[a];if(!(s<a)){var u=2*i[a],c=2*i[s];e.moveTo(n[u],n[u+1]),e.lineTo(n[c],n[c+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==e?e=new rE:void 0,r=this.points,i=0,a=r.length;i<a;i+=2){var o=r[i],s=r[i+1];e.moveTo(o+t,s),e.arc(o,s,t,0,sE)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new rE:void 0,n=this.hull,r=this.points,i=2*n[0],a=n.length;e.moveTo(r[i],r[i+1]);for(var o=1;o<a;++o){var s=2*n[o];e.lineTo(r[s],r[s+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new iE;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new rE:void 0,r=this.points,i=this.triangles,a=2*i[e*=3],o=2*i[e+1],s=2*i[e+2];return t.moveTo(r[a],r[a+1]),t.lineTo(r[o],r[o+1]),t.lineTo(r[s],r[s+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:w.a.mark((function e(){var t,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,r=t.length/3;case 2:if(!(n<r)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new iE;return this.renderTriangle(e,t),t.value()}}]),e}();function dE(e,t,n,r){for(var i=e.length,a=new Float64Array(2*i),o=0;o<i;++o){var s=e[o];a[2*o]=t.call(r,s,o,e),a[2*o+1]=n.call(r,s,o,e)}return a}function hE(e,t,n,r){var i,a,o,s;return w.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:i=0,a=Object(Sr.a)(e),u.prev=2,a.s();case 4:if((o=a.n()).done){u.next=13;break}return s=o.value,u.next=8,t.call(r,s,i,e);case 8:return u.next=10,n.call(r,s,i,e);case 10:++i;case 11:u.next=4;break;case 13:u.next=18;break;case 15:u.prev=15,u.t0=u.catch(2),a.e(u.t0);case 18:return u.prev=18,a.f(),u.finish(18);case 21:case"end":return u.stop()}}),oE,null,[[2,15,18,21]])}function pE(e){hr.call(this,null,e)}pE.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var mE=Object(A.y)(pE,hr),vE=[-1e5,-1e5,1e5,1e5];function gE(e){for(var t=e[0][0],n=e[0][1],r=e.length-1;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}mE.transform=function(e,t){var n=e.as||"path",r=t.source;if(!r||!r.length)return t;var i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:vE;for(var a=this.value=fE.from(r,e.x,e.y).voronoi(i),o=0,s=r.length;o<s;++o){var u=a.cellPolygon(o);r[o][n]=u?gE(u):null}return t.reflow(e.modified()).modifies(n)};var bE=Math.PI/180,yE=function(){var e,t,n,r,i,a,o,s=[256,256],u=kE,c=[],l=Math.random,f={};function d(e,t,n){for(var r,i,a,o,c,f=t.x,d=t.y,h=Math.sqrt(s[0]*s[0]+s[1]*s[1]),p=u(s),m=l()<.5?1:-1,v=-m;(r=p(v+=m))&&(i=~~r[0],a=~~r[1],!(Math.min(Math.abs(i),Math.abs(a))>=h));)if(t.x=f+i,t.y=d+a,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>s[0]||t.y+t.y1>s[1])&&(!n||!xE(t,e,s[0]))&&(!n||(c=n,(o=t).x+o.x1>c[0].x&&o.x+o.x0<c[1].x&&o.y+o.y1>c[0].y&&o.y+o.y0<c[1].y))){for(var g,b=t.sprite,y=t.width>>5,w=s[0]>>5,x=t.x-(y<<4),O=127&x,k=32-O,E=t.y1-t.y0,_=(t.y+t.y0)*w+(x>>5),S=0;S<E;S++){g=0;for(var j=0;j<=y;j++)e[_+j]|=g<<k|(j<y?(g=b[S*y+j])>>>O:0);_+=w}return t.sprite=null,!0}return!1}return f.layout=function(){for(var u=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=2048/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(Us()),f=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((s[0]>>5)*s[1]),h=null,p=c.length,m=-1,v=[],g=c.map((function(s){return{text:e(s),font:t(s),style:r(s),weight:i(s),rotate:a(s),size:~~(n(s)+1e-14),padding:o(s),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:s}})).sort((function(e,t){return t.size-e.size}));++m<p;){var b=g[m];b.x=s[0]*(l()+.5)>>1,b.y=s[1]*(l()+.5)>>1,wE(u,b,g,m),b.hasText&&d(f,b,h)&&(v.push(b),h?OE(h,b):h=[{x:b.x+b.x0,y:b.y+b.y0},{x:b.x+b.x1,y:b.y+b.y1}],b.x-=s[0]>>1,b.y-=s[1]>>1)}return v},f.words=function(e){return arguments.length?(c=e,f):c},f.size=function(e){return arguments.length?(s=[+e[0],+e[1]],f):s},f.font=function(e){return arguments.length?(t=EE(e),f):t},f.fontStyle=function(e){return arguments.length?(r=EE(e),f):r},f.fontWeight=function(e){return arguments.length?(i=EE(e),f):i},f.rotate=function(e){return arguments.length?(a=EE(e),f):a},f.text=function(t){return arguments.length?(e=EE(t),f):e},f.spiral=function(e){return arguments.length?(u=_E[e]||e,f):u},f.fontSize=function(e){return arguments.length?(n=EE(e),f):n},f.padding=function(e){return arguments.length?(o=EE(e),f):o},f.random=function(e){return arguments.length?(l=e,f):l},f};function wE(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,2048/a,2048/a);var o,s,u,c,l,f=0,d=0,h=0,p=n.length;for(--r;++r<p;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,o=i.measureText(t.text+"m").width*a,u=t.size<<1,t.rotate){var m=Math.sin(t.rotate*bE),v=Math.cos(t.rotate*bE),g=o*v,b=o*m,y=u*v,w=u*m;o=Math.max(Math.abs(g+w),Math.abs(g-w))+31>>5<<5,u=~~Math.max(Math.abs(b+y),Math.abs(b-y))}else o=o+31>>5<<5;if(u>h&&(h=u),f+o>=2048&&(f=0,d+=h,h=0),d+u>=2048)break;i.translate((f+(o>>1))/a,(d+(u>>1))/a),t.rotate&&i.rotate(t.rotate*bE),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=o,t.height=u,t.xoff=f,t.yoff=d,t.x1=o>>1,t.y1=u>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=o}for(var x=i.getImageData(0,0,2048/a,2048/a).data,O=[];--r>=0;)if((t=n[r]).hasText){for(s=(o=t.width)>>5,u=t.y1-t.y0,c=0;c<u*s;c++)O[c]=0;if(null==(f=t.xoff))return;d=t.yoff;var k=0,E=-1;for(l=0;l<u;l++){for(c=0;c<o;c++){var _=s*l+(c>>5),S=x[2048*(d+l)+(f+c)<<2]?1<<31-c%32:0;O[_]|=S,k|=S}k?E=l:(t.y0++,u--,l--,d++)}t.y1=t.y0+E,t.sprite=O.slice(0,(t.y1-t.y0)*s)}}}function xE(e,t,n){n>>=5;for(var r,i=e.sprite,a=e.width>>5,o=e.x-(a<<4),s=127&o,u=32-s,c=e.y1-e.y0,l=(e.y+e.y0)*n+(o>>5),f=0;f<c;f++){r=0;for(var d=0;d<=a;d++)if((r<<u|(d<a?(r=i[f*a+d])>>>s:0))&t[l+d])return!0;l+=n}return!1}function OE(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function kE(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function EE(e){return"function"===typeof e?e:function(){return e}}var _E={archimedean:kE,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}},SE=["x","y","font","fontSize","fontStyle","fontWeight","angle"],jE=["text","font","rotate","fontSize","fontStyle","fontWeight"];function CE(e){hr.call(this,yE(),e)}function AE(e){return new Uint8Array(e)}function TE(e){return new Uint16Array(e)}function NE(e){return new Uint32Array(e)}function RE(e,t,n){var r=(t<257?AE:t<65537?TE:NE)(e);return n&&r.set(n),r}CE.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:SE}]},Object(A.y)(CE,hr).transform=function(e,t){!e.size||e.size[0]&&e.size[1]||Object(A.n)("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||jE.some((function(n){var r=e[n];return Object(A.D)(r)&&t.modified(r.fields)}))){var r,i=t.materialize(t.SOURCE).source,a=this.value,o=e.as||SE,s=e.fontSize||14;if(Object(A.D)(s)?r=e.fontSizeRange:s=Object(A.l)(s),r){var u=s,c=Fm("sqrt")().domain(Object(A.p)(i,u)).range(r);s=function(e){return c(u(e))}}i.forEach((function(e){e[o[0]]=NaN,e[o[1]]=NaN,e[o[3]]=0}));for(var l,f,d=a.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(s).random(Wr).layout(),h=a.size(),p=h[0]>>1,m=h[1]>>1,v=0,g=d.length;v<g;++v)(f=(l=d[v]).datum)[o[0]]=l.x+p,f[o[1]]=l.y+m,f[o[2]]=l.font,f[o[3]]=l.size,f[o[4]]=l.style,f[o[5]]=l.weight,f[o[6]]=l.rotate;return t.reflow(n).modifies(o)}};var ME=function(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this.bisect(this.range,e.value),a=e.index,o=i[0],s=i[1],u=a.length;for(n=0;n<o;++n)t[a[n]]|=r;for(n=s;n<u;++n)t[a[n]]|=r;return this}}};function DE(){var e=NE(0),t=[],n=0;return{insert:function(r,i,a){if(!i.length)return[];var o,s,u,c,l,f,d,h=n,p=i.length,m=Array(p),v=NE(p);for(u=0;u<p;++u)m[u]=r(i[u]),v[u]=u;if(d=v,(f=m).sort.call(d,(function(e,t){var n=f[e],r=f[t];return n<r?-1:n>r?1:0})),c=f,l=d,m=Array.from(l,(function(e){return c[e]})),h)o=t,s=e,t=Array(h+p),e=NE(h+p),function(e,t,n,r,i,a,o,s,u){var c,l=0,f=0;for(c=0;l<r&&f<o;++c)t[l]<i[f]?(s[c]=t[l],u[c]=n[l++]):(s[c]=i[f],u[c]=a[f++]+e);for(;l<r;++l,++c)s[c]=t[l],u[c]=n[l];for(;f<o;++f,++c)s[c]=i[f],u[c]=a[f]+e}(a,o,s,h,m,v,p,t,e);else{if(a>0)for(u=0;u<p;++u)v[u]+=a;t=m,e=v}return n=h+p,{index:v,value:m}},remove:function(r,i){var a,o,s,u=n;for(o=0;!i[e[o]]&&o<u;++o);for(s=o;o<u;++o)i[a=e[o]]||(e[s]=a,t[s]=t[o],++s);n=u-r},bisect:function(e,r){var i;return r?i=r.length:(r=t,i=n),[Fh(r,e[0],0,i),Ih(r,e[1],0,i)]},reindex:function(t){for(var r=0,i=n;r<i;++r)e[r]=t[e[r]]},index:function(){return e},size:function(){return n}}}function IE(e){hr.call(this,function(){var e=8,t=[],n=NE(0),r=RE(0,e),i=RE(0,e);return{data:function(){return t},seen:function(){return e=n,r=t.length,n=e.length>=r?e:((i=i||new e.constructor(r)).set(e),i);var e,r,i},add:function(e){for(var n,r=0,i=t.length,a=e.length;r<a;++r)(n=e[r])._index=i++,t.push(n)},remove:function(e,n){var a,o,s,u=t.length,c=Array(u-e),l=t;for(o=0;!n[o]&&o<u;++o)c[o]=t[o],l[o]=o;for(s=o;o<u;++o)a=t[o],n[o]?l[o]=-1:(l[o]=s,r[s]=r[o],i[s]=i[o],c[s]=a,a._index=s++),r[o]=0;return t=c,l},size:function(){return t.length},curr:function(){return r},prev:function(){return i},reset:function(e){i[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){(t>r.length||n>e)&&(e=Math.max(n,e),r=RE(t,e,r),i=RE(t,e))}}}(),e),this._indices=null,this._dims=null}IE.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var FE=Object(A.y)(IE,hr);function PE(e){hr.call(this,null,e)}FE.transform=function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},FE.init=function(e,t){for(var n,r,i=e.fields,a=e.query,o=this._indices={},s=this._dims=[],u=a.length,c=0;c<u;++c)r=o[n=i[c].fname]||(o[n]=DE()),s.push(ME(r,c,a[c]));return this.eval(e,t)},FE.reinit=function(e,t){var n,r,i,a,o,s,u,c,l,f=t.materialize().fork(),d=e.fields,h=e.query,p=this._indices,m=this._dims,v=this.value,g=v.curr(),b=v.prev(),y=v.all(),w=f.rem=f.add,x=f.mod,O=h.length,k={};if(b.set(g),t.rem.length&&(o=this.remove(e,t,f)),t.add.length&&v.add(t.add),t.mod.length)for(s={},u=0,c=(a=t.mod).length;u<c;++u)s[a[u]._index]=1;for(u=0;u<O;++u)l=d[u],(!m[u]||e.modified("fields",u)||t.modified(l.fields))&&((n=k[i=l.fname])||(p[i]=r=DE(),k[i]=n=r.insert(l,t.source,0)),m[u]=ME(r,u,h[u]).onAdd(n,g));for(u=0,c=v.data().length;u<c;++u)o[u]||(b[u]!==g[u]?w.push(u):s[u]&&g[u]!==y&&x.push(u));return v.mask=(1<<O)-1,f},FE.eval=function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},FE.insert=function(e,t,n){var r,i,a,o=t.add,s=this.value,u=this._dims,c=this._indices,l=e.fields,f={},d=n.add,h=s.size(),p=h+o.length,m=u.length;s.resize(p,m),s.add(o);var v=s.curr(),g=s.prev(),b=s.all();for(r=0;r<m;++r)a=f[i=l[r].fname]||(f[i]=c[i].insert(l[r],o,h)),u[r].onAdd(a,v);for(;h<p;++h)g[h]=b,v[h]!==b&&d.push(h)},FE.modify=function(e,t){var n,r,i,a=t.mod,o=this.value,s=o.curr(),u=o.all(),c=e.mod;for(n=0,r=c.length;n<r;++n)s[i=c[n]._index]!==u&&a.push(i)},FE.remove=function(e,t,n){var r,i,a,o,s=this._indices,u=this.value,c=u.curr(),l=u.prev(),f=u.all(),d={},h=n.rem,p=t.rem;for(r=0,i=p.length;r<i;++r)d[a=p[r]._index]=1,l[a]=o=c[a],c[a]=f,o!==f&&h.push(a);for(a in s)s[a].remove(i,d);return this.reindex(t,i,d),d},FE.reindex=function(e,t,n){var r=this._indices,i=this.value;e.runAfter((function(){var e=i.remove(t,n);for(var a in r)r[a].reindex(e)}))},FE.update=function(e,t,n){var r,i,a=this._dims,o=e.query,s=t.stamp,u=a.length,c=0;for(n.filters=0,i=0;i<u;++i)e.modified("query",i)&&(r=i,++c);if(1===c)c=a[r].one,this.incrementOne(a[r],o[r],n.add,n.rem);else for(i=0,c=0;i<u;++i)e.modified("query",i)&&(c|=a[i].one,this.incrementAll(a[i],o[i],s,n.add),n.rem=n.add);return c},FE.incrementAll=function(e,t,n,r){var i,a,o,s=this.value,u=s.seen(),c=s.curr(),l=s.prev(),f=e.index(),d=e.bisect(e.range),h=e.bisect(t),p=h[0],m=h[1],v=d[0],g=d[1],b=e.one;if(p<v)for(i=p,a=Math.min(v,m);i<a;++i)u[o=f[i]]!==n&&(l[o]=c[o],u[o]=n,r.push(o)),c[o]^=b;else if(p>v)for(i=v,a=Math.min(p,g);i<a;++i)u[o=f[i]]!==n&&(l[o]=c[o],u[o]=n,r.push(o)),c[o]^=b;if(m>g)for(i=Math.max(p,g),a=m;i<a;++i)u[o=f[i]]!==n&&(l[o]=c[o],u[o]=n,r.push(o)),c[o]^=b;else if(m<g)for(i=Math.max(v,m),a=g;i<a;++i)u[o=f[i]]!==n&&(l[o]=c[o],u[o]=n,r.push(o)),c[o]^=b;e.range=t.slice()},FE.incrementOne=function(e,t,n,r){var i,a,o,s=this.value.curr(),u=e.index(),c=e.bisect(e.range),l=e.bisect(t),f=l[0],d=l[1],h=c[0],p=c[1],m=e.one;if(f<h)for(i=f,a=Math.min(h,d);i<a;++i)s[o=u[i]]^=m,n.push(o);else if(f>h)for(i=h,a=Math.min(f,p);i<a;++i)s[o=u[i]]^=m,r.push(o);if(d>p)for(i=Math.max(f,p),a=d;i<a;++i)s[o=u[i]]^=m,n.push(o);else if(d<p)for(i=Math.max(h,d),a=p;i<a;++i)s[o=u[i]]^=m,r.push(o);e.range=t.slice()},PE.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(A.y)(PE,hr).transform=function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0===(i&n))return t.StopPropagation;var a=t.fork(t.ALL),o=r.data(),s=r.curr(),u=r.prev(),c=function(e){return s[e]&n?null:o[e]};return a.filter(a.MOD,c),i&i-1?(a.filter(a.ADD,(function(e){var t=s[e]&n;return!t&&t^u[e]&n?o[e]:null})),a.filter(a.REM,(function(e){var t=s[e]&n;return t&&!(t^t^u[e]&n)?o[e]:null}))):(a.filter(a.ADD,c),a.filter(a.REM,(function(e){return(s[e]&n)===i?o[e]:null}))),a.filter(a.SOURCE,(function(e){return c(e._index)}))};var zE=n(357);function LE(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}var BE=function(e){var t=e._signals.cursor;t||(e._signals.cursor=t=e.add({user:"default",item:null})),e.on(e.events("view","mousemove"),t,(function(e,n){var r=t.value,i=r?Object(A.H)(r)?r:r.user:"default",a=n.item&&n.item.cursor||null;return r&&i===r.user&&a==r.item?r:{user:i,item:a}})),e.add(null,(function(e){var t=e.cursor,n=this.value;return Object(A.H)(t)||(n=t.item,t=t.user),function(e){"undefined"!==typeof document&&document.body&&(document.body.style.cursor=e)}(t&&"default"!==t?t:n||t),n}),{cursor:t})};function UE(e,t){var n=e._runtime.data;return Object(A.v)(n,t)||Object(A.n)("Unrecognized data set: "+t),n[t]}function WE(e,t){q(t)||Object(A.n)("Second argument to changes must be a changeset.");var n=UE(this,e);return n.modified=!0,this.pulse(n.input,t)}function VE(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function qE(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function HE(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function GE(e){var t=HE(e),n=VE(e),r=qE(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach((function(t){try{t(n,r)}catch(i){e.error(i)}}))}var $E=function(e,t,n){var r,i,a,o=e._renderer,s=o&&o.canvas();return s&&(a=HE(e),i=t.changedTouches?t.changedTouches[0]:t,(r=Gf(i,s))[0]-=a[0],r[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function i(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function a(e){if(!e)return n;Object(A.H)(e)&&(e=i(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Object(A.l)(e),item:Object(A.l)(t||{}),group:i,xy:a,x:function(e){return a(e)[0]},y:function(e){return a(e)[1]}}}(e,n,r),t};var KE={trap:!1};function XE(e,t,n){var r=e._eventConfig&&e._eventConfig[t];return!(!1===r||Object(A.F)(r)&&!r[n])||(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1)}function YE(e){return e.item}function ZE(e){return e.item.mark.source}function JE(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}var QE=function(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r},e_=function(e,t,n){if(t){var r=n.param,i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:function(t){t!==e.signal(r.signal)&&e.runAsync(null,(function(){i.source=!0,e.signal(r.signal,t)}))}},r.debounce&&(i.update=Object(A.m)(r.debounce,i.update))),function(e,t,n,r){var i=QE("div",{class:"vega-bind"});i.appendChild(QE("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(i);var a=t_;switch(n.input){case"checkbox":a=n_;break;case"select":a=r_;break;case"radio":a=i_;break;case"range":a=a_}a(e,i,n,r)}(i,t,r,e.signal(r.signal)),i.active||(e.on(e._signals[r.signal],null,(function(){i.source?i.source=!1:i.set(e.signal(r.signal))})),i.active=!0),i}};function t_(e,t,n,r){var i=QE("input");for(var a in n)"signal"!==a&&"element"!==a&&i.setAttribute("input"===a?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",(function(){e.update(i.value)})),e.elements=[i],e.set=function(e){i.value=e}}function n_(e,t,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var a=QE("input",i);t.appendChild(a),a.addEventListener("change",(function(){e.update(a.checked)})),e.elements=[a],e.set=function(e){a.checked=!!e||null}}function r_(e,t,n,r){var i=QE("select",{name:n.signal}),a=n.labels||[];n.options.forEach((function(e,t){var n={value:e};o_(e,r)&&(n.selected=!0),i.appendChild(QE("option",n,(a[t]||e)+""))})),t.appendChild(i),i.addEventListener("change",(function(){e.update(n.options[i.selectedIndex])})),e.elements=[i],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(o_(n.options[t],e))return void(i.selectedIndex=t)}}function i_(e,t,n,r){var i=QE("span",{class:"vega-bind-radio"}),a=n.labels||[];t.appendChild(i),e.elements=n.options.map((function(t,o){var s="vega-option-"+n.signal+"-"+t,u={id:s,type:"radio",name:n.signal,value:t};o_(t,r)&&(u.checked=!0);var c=QE("input",u);return c.addEventListener("change",(function(){e.update(t)})),i.appendChild(c),i.appendChild(QE("label",{for:s},(a[o]||t)+"")),c})),e.set=function(t){for(var n=e.elements,r=0,i=n.length;r<i;++r)o_(n[r].value,t)&&(n[r].checked=!0)}}function a_(e,t,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;var i=null!=n.max?n.max:Math.max(100,+r)||100,a=n.min||Math.min(0,i,+r)||0,o=n.step||rs(a,i,100),s=QE("input",{type:"range",name:n.signal,min:a,max:i,step:o});s.value=r;var u=QE("label",{},+r);function c(){u.textContent=s.value,e.update(+s.value)}t.appendChild(s),t.appendChild(u),s.addEventListener("input",c),s.addEventListener("change",c),e.elements=[s],e.set=function(e){s.value=e,u.textContent=e}}function o_(e,t){return e===t||e+""===t+""}var s_=function(e,t,n,r,i,a){return(t=t||new r(e.loader())).initialize(n,VE(e),qE(e),HE(e),i,a).background(e.background())},u_=function(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null};function c_(e,t){if("string"===typeof t){if("undefined"===typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}var l_=function(e){return+e||0},f_=function(e){return Object(A.F)(e)?{top:l_(e.top),bottom:l_(e.bottom),left:l_(e.left),right:l_(e.right)}:function(e){return{top:e,bottom:e,left:e,right:e}}(l_(e))},d_=function(e,t,n,r){return h_.apply(this,arguments)};function h_(){return(h_=Object(N.a)(w.a.mark((function e(t,n,r,i){var a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ld(n),(o=a&&a.headless)||Object(A.n)("Unrecognized renderer type: "+n),e.next=4,t.runAsync();case 4:return e.abrupt("return",s_(t,null,null,o,r,i).renderAsync(t._scenegraph.root));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p_(){return(p_=Object(N.a)(w.a.mark((function e(t,n){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t!==Pd.Canvas&&t!==Pd.SVG&&t!==Pd.PNG&&Object(A.n)("Unrecognized image type: "+t),e.next=3,d_(this,t,n);case 3:return r=e.sent,e.abrupt("return",t===Pd.SVG?m_(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png"));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function m_(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function v_(){return(v_=Object(N.a)(w.a.mark((function e(t,n){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d_(this,Pd.Canvas,t,n);case 2:return r=e.sent,e.abrupt("return",r.canvas());case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function g_(){return(g_=Object(N.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d_(this,Pd.SVG,t);case 2:return n=e.sent,e.abrupt("return",n.svg());case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var b_,y_,w_,x_,O_;function k_(e){this.type=e}k_.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};(b_={})[1]="Boolean",b_[2]="<end>",b_[3]="Identifier",b_[4]="Keyword",b_[5]="Null",b_[6]="Numeric",b_[7]="Punctuator",b_[8]="String",b_[9]="RegularExpression";var E_="ILLEGAL",__=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),S_=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function j_(e,t){if(!e)throw new Error("ASSERT: "+t)}function C_(e){return e>=48&&e<=57}function A_(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function T_(e){return"01234567".indexOf(e)>=0}function N_(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function R_(e){return 10===e||13===e||8232===e||8233===e}function M_(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&__.test(String.fromCharCode(e))}function D_(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&S_.test(String.fromCharCode(e))}var I_={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function F_(){for(var e;w_<x_&&(N_(e=y_.charCodeAt(w_))||R_(e));)++w_}function P_(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)w_<x_&&A_(y_[w_])?(r=y_[w_++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):Q_({},"Unexpected token %0",E_);return String.fromCharCode(i)}function z_(){var e,t,n,r;for(t=0,"}"===(e=y_[w_])&&Q_({},"Unexpected token %0",E_);w_<x_&&A_(e=y_[w_++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&Q_({},"Unexpected token %0",E_),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function L_(){var e,t;for(e=y_.charCodeAt(w_++),t=String.fromCharCode(e),92===e&&(117!==y_.charCodeAt(w_)&&Q_({},"Unexpected token %0",E_),++w_,(e=P_("u"))&&"\\"!==e&&M_(e.charCodeAt(0))||Q_({},"Unexpected token %0",E_),t=e);w_<x_&&D_(e=y_.charCodeAt(w_));)++w_,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==y_.charCodeAt(w_)&&Q_({},"Unexpected token %0",E_),++w_,(e=P_("u"))&&"\\"!==e&&D_(e.charCodeAt(0))||Q_({},"Unexpected token %0",E_),t+=e);return t}function B_(){var e,t;return e=w_,{type:1===(t=92===y_.charCodeAt(w_)?L_():function(){var e,t;for(e=w_++;w_<x_;){if(92===(t=y_.charCodeAt(w_)))return w_=e,L_();if(!D_(t))break;++w_}return y_.slice(e,w_)}()).length?3:I_.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:w_}}function U_(){var e,t,n,r,i=w_,a=y_.charCodeAt(w_),o=y_[w_];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++w_,{type:7,value:String.fromCharCode(a),start:i,end:w_};default:if(61===(e=y_.charCodeAt(w_+1)))switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return w_+=2,{type:7,value:String.fromCharCode(a)+String.fromCharCode(e),start:i,end:w_};case 33:case 61:return w_+=2,61===y_.charCodeAt(w_)&&++w_,{type:7,value:y_.slice(i,w_),start:i,end:w_}}}return">>>="===(r=y_.substr(w_,4))?{type:7,value:r,start:i,end:w_+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:i,end:w_+=3}:o===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?{type:7,value:t,start:i,end:w_+=2}:"<>=!+-*%&|^/".indexOf(o)>=0?{type:7,value:o,start:i,end:++w_}:void Q_({},"Unexpected token %0",E_)}function W_(){var e,t,n;if(j_(C_((n=y_[w_]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=w_,e="","."!==n){if(e=y_[w_++],n=y_[w_],"0"===e){if("x"===n||"X"===n)return++w_,function(e){for(var t="";w_<x_&&A_(y_[w_]);)t+=y_[w_++];return 0===t.length&&Q_({},"Unexpected token %0",E_),M_(y_.charCodeAt(w_))&&Q_({},"Unexpected token %0",E_),{type:6,value:parseInt("0x"+t,16),start:e,end:w_}}(t);if(T_(n))return function(e){for(var t="0"+y_[w_++];w_<x_&&T_(y_[w_]);)t+=y_[w_++];return(M_(y_.charCodeAt(w_))||C_(y_.charCodeAt(w_)))&&Q_({},"Unexpected token %0",E_),{type:6,value:parseInt(t,8),octal:!0,start:e,end:w_}}(t);n&&C_(n.charCodeAt(0))&&Q_({},"Unexpected token %0",E_)}for(;C_(y_.charCodeAt(w_));)e+=y_[w_++];n=y_[w_]}if("."===n){for(e+=y_[w_++];C_(y_.charCodeAt(w_));)e+=y_[w_++];n=y_[w_]}if("e"===n||"E"===n)if(e+=y_[w_++],"+"!==(n=y_[w_])&&"-"!==n||(e+=y_[w_++]),C_(y_.charCodeAt(w_)))for(;C_(y_.charCodeAt(w_));)e+=y_[w_++];else Q_({},"Unexpected token %0",E_);return M_(y_.charCodeAt(w_))&&Q_({},"Unexpected token %0",E_),{type:6,value:parseFloat(e),start:t,end:w_}}function V_(){var e,t,n,r;return O_=null,F_(),e=w_,t=function(){var e,t,n,r;for(j_("/"===(e=y_[w_]),"Regular expression literal must start with a slash"),t=y_[w_++],n=!1,r=!1;w_<x_;)if(t+=e=y_[w_++],"\\"===e)R_((e=y_[w_++]).charCodeAt(0))&&Q_({},"Invalid regular expression: missing /"),t+=e;else if(R_(e.charCodeAt(0)))Q_({},"Invalid regular expression: missing /");else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||Q_({},"Invalid regular expression: missing /"),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";w_<x_&&D_((e=y_[w_]).charCodeAt(0));)++w_,"\\"===e&&w_<x_?Q_({},"Unexpected token %0",E_):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Q_({},"Invalid regular expression",n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";Q_({},"Invalid regular expression")})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){Q_({},"Invalid regular expression")}try{return new RegExp(e,t)}catch(i){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:w_}}function q_(){var e;return F_(),w_>=x_?{type:2,start:w_,end:w_}:M_(e=y_.charCodeAt(w_))?B_():40===e||41===e||59===e?U_():39===e||34===e?function(){var e,t,n,r,i="",a=!1;for(j_("'"===(e=y_[w_])||'"'===e,"String literal must starts with a quote"),t=w_,++w_;w_<x_;){if((n=y_[w_++])===e){e="";break}if("\\"===n)if((n=y_[w_++])&&R_(n.charCodeAt(0)))"\r"===n&&"\n"===y_[w_]&&++w_;else switch(n){case"u":case"x":"{"===y_[w_]?(++w_,i+=z_()):i+=P_(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:T_(n)?(0!==(r="01234567".indexOf(n))&&(a=!0),w_<x_&&T_(y_[w_])&&(a=!0,r=8*r+"01234567".indexOf(y_[w_++]),"0123".indexOf(n)>=0&&w_<x_&&T_(y_[w_])&&(r=8*r+"01234567".indexOf(y_[w_++]))),i+=String.fromCharCode(r)):i+=n}else{if(R_(n.charCodeAt(0)))break;i+=n}}return""!==e&&Q_({},"Unexpected token %0",E_),{type:8,value:i,octal:a,start:t,end:w_}}():46===e?C_(y_.charCodeAt(w_+1))?W_():U_():C_(e)?W_():U_()}function H_(){var e;return w_=(e=O_).end,O_=q_(),w_=e.end,e}function G_(){var e;e=w_,O_=q_(),w_=e}function $_(e,t,n){var r=new k_("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function K_(e,t){var n=new k_("CallExpression");return n.callee=e,n.arguments=t,n}function X_(e){var t=new k_("Identifier");return t.name=e,t}function Y_(e){var t=new k_("Literal");return t.value=e.value,t.raw=y_.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Z_(e,t,n){var r=new k_("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function J_(e,t,n){var r=new k_("Property");return r.key=t,r.value=n,r.kind=e,r}function Q_(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return j_(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(i)).index=w_,n.description=i,n}function eS(e){2===e.type&&Q_(e,"Unexpected end of input"),6===e.type&&Q_(e,"Unexpected number"),8===e.type&&Q_(e,"Unexpected string"),3===e.type&&Q_(e,"Unexpected identifier"),4===e.type&&Q_(e,"Unexpected reserved word"),Q_(e,"Unexpected token %0",e.value)}function tS(e){var t=H_();7===t.type&&t.value===e||eS(t)}function nS(e){return 7===O_.type&&O_.value===e}function rS(e){return 4===O_.type&&O_.value===e}function iS(){var e=[];for(w_=O_.start,tS("[");!nS("]");)nS(",")?(H_(),e.push(null)):(e.push(vS()),nS("]")||tS(","));return H_(),function(e){var t=new k_("ArrayExpression");return t.elements=e,t}(e)}function aS(){var e;return w_=O_.start,8===(e=H_()).type||6===e.type?(e.octal&&Q_(e,"Octal literals are not allowed in strict mode."),Y_(e)):X_(e.value)}function oS(){var e,t,n;return w_=O_.start,3===(e=O_).type?(n=aS(),tS(":"),J_("init",n,vS())):2!==e.type&&7!==e.type?(t=aS(),tS(":"),J_("init",t,vS())):void eS(e)}function sS(){var e,t,n=[],r={},i=String;for(w_=O_.start,tS("{");!nS("}");)t="$"+("Identifier"===(e=oS()).key.type?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?Q_({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),nS("}")||tS(",");return tS("}"),function(e){var t=new k_("ObjectExpression");return t.properties=e,t}(n)}var uS={if:1,this:1};function cS(){var e,t,n;if(nS("("))return function(){var e;return tS("("),e=gS(),tS(")"),e}();if(nS("["))return iS();if(nS("{"))return sS();if(e=O_.type,w_=O_.start,3===e||uS[O_.value])n=X_(H_().value);else if(8===e||6===e)O_.octal&&Q_(O_,"Octal literals are not allowed in strict mode."),n=Y_(H_());else{if(4===e)throw new Error("Disabled.");1===e?((t=H_()).value="true"===t.value,n=Y_(t)):5===e?((t=H_()).value=null,n=Y_(t)):nS("/")||nS("/=")?(n=Y_(V_()),G_()):eS(H_())}return n}function lS(){var e=[];if(tS("("),!nS(")"))for(;w_<x_&&(e.push(vS()),!nS(")"));)tS(",");return tS(")"),e}function fS(){return tS("."),function(){var e;return w_=O_.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=H_())||eS(e),X_(e.value)}()}function dS(){var e;return tS("["),e=gS(),tS("]"),e}function hS(){var e=function(){var e;for(e=cS();;)if(nS("."))e=Z_(".",e,fS());else if(nS("("))e=K_(e,lS());else{if(!nS("["))break;e=Z_("[",e,dS())}return e}();if(7===O_.type&&(nS("++")||nS("--")))throw new Error("Disabled.");return e}function pS(){var e,t;if(7!==O_.type&&4!==O_.type)t=hS();else{if(nS("++")||nS("--"))throw new Error("Disabled.");if(nS("+")||nS("-")||nS("~")||nS("!"))e=H_(),t=pS(),t=function(e,t){var n=new k_("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(rS("delete")||rS("void")||rS("typeof"))throw new Error("Disabled.");t=hS()}}return t}function mS(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function vS(){var e,t;return e=function(){var e,t,n,r,i,a,o,s,u,c;if(e=O_,u=pS(),0===(i=mS(r=O_)))return u;for(r.prec=i,H_(),t=[e,O_],a=[u,r,o=pS()];(i=mS(O_))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,u=a.pop(),t.pop(),n=$_(s,u,o),a.push(n);(r=H_()).prec=i,a.push(r),t.push(O_),n=pS(),a.push(n)}for(n=a[c=a.length-1],t.pop();c>1;)t.pop(),n=$_(a[c-1].value,a[c-2],n),c-=2;return n}(),nS("?")&&(H_(),t=vS(),tS(":"),e=function(e,t,n){var r=new k_("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,vS())),e}function gS(){var e=vS();if(nS(","))throw new Error("Disabled.");return e}var bS=function(e){w_=0,x_=(y_=e).length,O_=null,G_();var t=gS();if(2!==O_.type)throw new Error("Unexpect token after expression.");return t},yS={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"},wS=function(e){function t(t,n,r){return function(i){return function(t,n,r,i){var a=e(n[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}}var n="new Date";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(A.n)("Missing arguments to clamp function."),t.length>3&&Object(A.n)("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),join:t("join",null),indexof:t("indexOf",null),lastindexof:t("lastIndexOf",null),slice:t("slice",null),reverse:function(t){return"("+e(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase","String",0),lower:t("toLowerCase","String",0),substring:t("substring","String"),split:t("split","String"),replace:t("replace","String"),trim:t("trim","String",0),regexp:"RegExp",test:t("test","RegExp"),if:function(t){t.length<3&&Object(A.n)("Missing arguments to if function."),t.length>3&&Object(A.n)("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}};function xS(e,t){for(var n,r,i=t.fields,a=t.values,o=i.length,s=0;s<o;++s)if((r=i[s]).getter=A.t.getter||Object(A.t)(r.field),n=r.getter(e),Object(A.C)(n)&&(n=Object(A.cb)(n)),Object(A.C)(a[s])&&(a[s]=Object(A.cb)(a[s])),Object(A.C)(a[s][0])&&(a[s]=a[s].map(A.cb)),"E"===r.type){if(Object(A.A)(a[s])?a[s].indexOf(n)<0:n!==a[s])return!1}else if("R"===r.type){if(!Object(A.z)(n,a[s]))return!1}else if("R-RE"===r.type){if(!Object(A.z)(n,a[s],!0,!1))return!1}else if("R-E"===r.type){if(!Object(A.z)(n,a[s],!1,!1))return!1}else if("R-LE"===r.type&&!Object(A.z)(n,a[s],!1,!0))return!1;return!0}var OS={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t},R_union:function(e,t){var n=Object(A.cb)(t[0]),r=Object(A.cb)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Object(A.cb)(t[0]),r=Object(A.cb)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};function kS(e,t,n,r){"Literal"!==t[0].type&&Object(A.n)("First argument to selection functions must be a string literal.");var i=t[0].value,a=":"+i;"intersect"!==(t.length>=2&&Object(A.U)(t).value)||Object(A.v)(r,"@unit")||(r["@unit"]=n.getData(i).indataRef(n,"unit")),Object(A.v)(r,a)||(r[a]=n.getData(i).tuplesRef())}function ES(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _S(e){var t=bp(e);return.2126*ES(t.r)+.7152*ES(t.g)+.0722*ES(t.b)}function SS(e){var t=this.context.data[e];return t?t.values.value:[]}var jS={};function CS(e,t,n){var r=e+":"+n,i=jS[r];return i&&i[0]===t||(jS[r]=i=[t,t(n)]),i[1]}function AS(e,t){return CS("timeFormat",Ko,t)(e)}var TS=new Date(2e3,0,1);function NS(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(TS.setYear(2e3),TS.setMonth(e),TS.setDate(t),AS(TS,n)):""}function RS(e,t){var n;return Object(A.D)(e)?e:Object(A.H)(e)?(n=t.scales[e])&&n.value:void 0}var MS,DS,IS,FS,PS,zS=ub(),LS=ub(),BS={point:Rb,lineStart:Rb,lineEnd:Rb,polygonStart:function(){zS.reset(),BS.lineStart=US,BS.lineEnd=WS},polygonEnd:function(){var e=+zS;LS.add(e<0?mb+e:e),this.lineStart=this.lineEnd=this.point=Rb},sphere:function(){LS.add(mb)}};function US(){BS.point=VS}function WS(){qS(MS,DS)}function VS(e,t){BS.point=qS,MS=e,DS=t,IS=e*=gb,FS=xb(t=(t*=gb)/2+pb),PS=Sb(t)}function qS(e,t){var n=(e*=gb)-IS,r=n>=0?1:-1,i=r*n,a=xb(t=(t*=gb)/2+pb),o=Sb(t),s=PS*o,u=FS*a+s*xb(i),c=s*r*Sb(i);zS.add(wb(c,u)),IS=e,FS=a,PS=o}var HS,GS,$S,KS,XS,YS,ZS,JS,QS,ej,tj=ub(),nj={point:rj,lineStart:aj,lineEnd:oj,polygonStart:function(){nj.point=sj,nj.lineStart=uj,nj.lineEnd=cj,tj.reset(),BS.polygonStart()},polygonEnd:function(){BS.polygonEnd(),nj.point=rj,nj.lineStart=aj,nj.lineEnd=oj,zS<0?(HS=-($S=180),GS=-(KS=90)):tj>1e-6?KS=90:tj<-1e-6&&(GS=-90),ej[0]=HS,ej[1]=$S},sphere:function(){HS=-($S=180),GS=-(KS=90)}};function rj(e,t){QS.push(ej=[HS=e,$S=e]),t<GS&&(GS=t),t>KS&&(KS=t)}function ij(e,t){var n=By([e*gb,t*gb]);if(JS){var r=Wy(JS,n),i=Wy([r[1],-r[0],0],r);Hy(i),i=Ly(i);var a,o=e-XS,s=o>0?1:-1,u=i[0]*vb*s,c=bb(o)>180;c^(s*XS<u&&u<s*e)?(a=i[1]*vb)>KS&&(KS=a):c^(s*XS<(u=(u+360)%360-180)&&u<s*e)?(a=-i[1]*vb)<GS&&(GS=a):(t<GS&&(GS=t),t>KS&&(KS=t)),c?e<XS?lj(HS,e)>lj(HS,$S)&&($S=e):lj(e,$S)>lj(HS,$S)&&(HS=e):$S>=HS?(e<HS&&(HS=e),e>$S&&($S=e)):e>XS?lj(HS,e)>lj(HS,$S)&&($S=e):lj(e,$S)>lj(HS,$S)&&(HS=e)}else QS.push(ej=[HS=e,$S=e]);t<GS&&(GS=t),t>KS&&(KS=t),JS=n,XS=e}function aj(){nj.point=ij}function oj(){ej[0]=HS,ej[1]=$S,nj.point=rj,JS=null}function sj(e,t){if(JS){var n=e-XS;tj.add(bb(n)>180?n+(n>0?360:-360):n)}else YS=e,ZS=t;BS.point(e,t),ij(e,t)}function uj(){BS.lineStart()}function cj(){sj(YS,ZS),BS.lineEnd(),bb(tj)>1e-6&&(HS=-($S=180)),ej[0]=HS,ej[1]=$S,JS=null}function lj(e,t){return(t-=e)<0?t+360:t}function fj(e,t){return e[0]-t[0]}function dj(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var hj,pj,mj,vj,gj,bj,yj,wj,xj,Oj,kj,Ej,_j,Sj,jj,Cj,Aj={sphere:Rb,point:Tj,lineStart:Rj,lineEnd:Ij,polygonStart:function(){Aj.lineStart=Fj,Aj.lineEnd=Pj},polygonEnd:function(){Aj.lineStart=Rj,Aj.lineEnd=Ij}};function Tj(e,t){e*=gb;var n=xb(t*=gb);Nj(n*xb(e),n*Sb(e),Sb(t))}function Nj(e,t,n){++hj,mj+=(e-mj)/hj,vj+=(t-vj)/hj,gj+=(n-gj)/hj}function Rj(){Aj.point=Mj}function Mj(e,t){e*=gb;var n=xb(t*=gb);Sj=n*xb(e),jj=n*Sb(e),Cj=Sb(t),Aj.point=Dj,Nj(Sj,jj,Cj)}function Dj(e,t){e*=gb;var n=xb(t*=gb),r=n*xb(e),i=n*Sb(e),a=Sb(t),o=wb(Cb((o=jj*a-Cj*i)*o+(o=Cj*r-Sj*a)*o+(o=Sj*i-jj*r)*o),Sj*r+jj*i+Cj*a);pj+=o,bj+=o*(Sj+(Sj=r)),yj+=o*(jj+(jj=i)),wj+=o*(Cj+(Cj=a)),Nj(Sj,jj,Cj)}function Ij(){Aj.point=Tj}function Fj(){Aj.point=zj}function Pj(){Lj(Ej,_j),Aj.point=Tj}function zj(e,t){Ej=e,_j=t,e*=gb,t*=gb,Aj.point=Lj;var n=xb(t);Sj=n*xb(e),jj=n*Sb(e),Cj=Sb(t),Nj(Sj,jj,Cj)}function Lj(e,t){e*=gb;var n=xb(t*=gb),r=n*xb(e),i=n*Sb(e),a=Sb(t),o=jj*a-Cj*i,s=Cj*r-Sj*a,u=Sj*i-jj*r,c=Cb(o*o+s*s+u*u),l=Nb(c),f=c&&-l/c;xj+=f*o,Oj+=f*s,kj+=f*u,pj+=l,bj+=l*(Sj+(Sj=r)),yj+=l*(jj+(jj=i)),wj+=l*(Cj+(Cj=a)),Nj(Sj,jj,Cj)}function Bj(e,t){return function(n,r,i){if(n){var a=RS(n,(i||this).context);return a&&a.path[e](r)}return t(r)}}var Uj=Bj("area",(function(e){return LS.reset(),sb(e,BS),2*LS})),Wj=Bj("bounds",(function(e){var t,n,r,i,a,o,s;if(KS=$S=-(HS=GS=1/0),QS=[],sb(e,nj),n=QS.length){for(QS.sort(fj),t=1,a=[r=QS[0]];t<n;++t)dj(r,(i=QS[t])[0])||dj(r,i[1])?(lj(r[0],i[1])>lj(r[0],r[1])&&(r[1]=i[1]),lj(i[0],r[1])>lj(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,t=0,r=a[n=a.length-1];t<=n;r=i,++t)i=a[t],(s=lj(r[1],i[0]))>o&&(o=s,HS=i[0],$S=r[1])}return QS=ej=null,HS===1/0||GS===1/0?[[NaN,NaN],[NaN,NaN]]:[[HS,GS],[$S,KS]]})),Vj=Bj("centroid",(function(e){hj=pj=mj=vj=gj=bj=yj=wj=xj=Oj=kj=0,sb(e,Aj);var t=xj,n=Oj,r=kj,i=t*t+n*n+r*r;return i<1e-12&&(t=bj,n=yj,r=wj,pj<1e-6&&(t=mj,n=vj,r=gj),(i=t*t+n*n+r*r)<1e-12)?[NaN,NaN]:[wb(n,t)*vb,Nb(r/Cb(i))*vb]}));function qj(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function Hj(e,t){return e===t||e!==e&&t!==t||(Object(A.A)(e)?!(!Object(A.A)(t)||e.length!==t.length)&&function(e,t){for(var n=0,r=e.length;n<r;++n)if(!Hj(e[n],t[n]))return!1;return!0}(e,t):!(!Object(A.F)(e)||!Object(A.F)(t))&&Gj(e,t))}function Gj(e,t){for(var n in e)if(!Hj(e[n],t[n]))return!1;return!0}function $j(e){return function(t){return Gj(e,t)}}var Kj={};function Xj(e){return e.data}function Yj(e,t){var n=SS.call(t,e);return n.root&&n.root.lookup||Kj}var Zj="undefined"!==typeof window&&window||null;function Jj(e,t,n,r){"Literal"!==t[0].type&&Object(A.n)("First argument to data functions must be a string literal.");var i=t[0].value,a=":"+i;if(!Object(A.v)(a,r))try{r[a]=n.getData(i).tuplesRef()}catch(o){}}function Qj(e,t,n,r){if("Literal"===t[0].type)eC(n,r,t[0].value);else if("Identifier"===t[0].type)for(e in n.scales)eC(n,r,e)}function eC(e,t,n){var r="%"+n;if(!Object(A.v)(t,r))try{t[r]=e.scaleRef(n)}catch(i){}}var tC={random:function(){return Wr()},cumulativeNormal:Qr,cumulativeLogNormal:ai,cumulativeUniform:fi,densityNormal:Jr,densityLogNormal:ii,densityUniform:li,quantileNormal:ei,quantileLogNormal:oi,quantileUniform:di,sampleNormal:Zr,sampleLogNormal:ri,sampleUniform:ci,isArray:A.A,isBoolean:A.B,isDate:A.C,isDefined:function(e){return void 0!==e},isNumber:A.E,isObject:A.F,isRegExp:A.G,isString:A.H,isTuple:F,isValid:function(e){return null!=e&&e===e},toBoolean:A.ab,toDate:A.bb,toNumber:A.cb,toString:A.eb,flush:A.u,lerp:A.J,merge:function(){var e=[].slice.call(arguments);return e.unshift({}),A.o.apply(null,e)},pad:A.P,peek:A.U,span:A.X,inrange:A.z,truncate:A.fb,rgb:bp,lab:dv,hcl:yv,hsl:_p,luminance:_S,contrast:function(e,t){var n=_S(e),r=_S(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:Da,format:function(e,t){return CS("format",Hh.b,t)(e)},utcFormat:function(e,t){return CS("utcFormat",Xo,t)(e)},utcParse:function(e,t){return CS("utcParse",jt,t)(e)},utcOffset:Wo,utcSequence:Ho,timeFormat:AS,timeParse:function(e,t){return CS("timeParse",_t,t)(e)},timeOffset:Uo,timeSequence:qo,timeUnitSpecifier:$o,monthFormat:function(e){return NS(e,1,"%B")},monthAbbrevFormat:function(e){return NS(e,1,"%b")},dayFormat:function(e){return NS(0,2+e,"%A")},dayAbbrevFormat:function(e){return NS(0,2+e,"%a")},quarter:A.V,utcquarter:A.hb,warn:function(){return qj(this.context.dataflow,"warn",arguments)},info:function(){return qj(this.context.dataflow,"info",arguments)},debug:function(){return qj(this.context.dataflow,"debug",arguments)},extent:A.p,inScope:function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];var r=Object(wi.a)(e,2),i=r[0],a=r[1],o=(new Rs).set(i[0],i[1],a[0],a[1]);return Bd(n||this.context.dataflow.scenegraph().root,o,function(e){var t=null;if(e){var n=Object(A.i)(e.marktype),r=Object(A.i)(e.markname);t=function(e){return(!n.length||n.some((function(t){return e.marktype===t})))&&(!r.length||r.some((function(t){return e.name===t})))}}return t}(t))},clampRange:A.j,pinchDistance:function(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){return Zj?Zj.screen:{}},containerSize:function(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){return Zj?[Zj.innerWidth,Zj.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return Th(e||0,t||0,n||0)},setdata:function(e,t){var n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(A.gb).insert(t)),1},pathShape:function(e){var t=null;return function(n){return n?ec(n,t=t||Vu(e)):e}},panLinear:A.Q,panLog:A.R,panPow:A.S,panSymlog:A.T,zoomLinear:A.lb,zoomLog:A.mb,zoomPow:A.nb,zoomSymlog:A.ob,encode:function(e,t,n){if(e){var r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,i,a){var o,s,u=this.context.dataflow,c=this.context.data[e],l=c.input,f=c.changes,d=u.stamp();if(!1===u._trigger||!(l.value.length||t||r))return 0;if((!f||f.stamp<d)&&(c.changes=f=u.changeset(),f.stamp=d,u.runAfter((function(){c.modified=!0,u.pulse(l,f).run()}),!0,1)),n&&(o=!0===n?A.gb:Object(A.A)(n)||F(n)?n:$j(n),f.remove(o)),t&&f.insert(t),r&&(o=$j(r),l.value.some(o)?f.remove(o):f.insert(r)),i)for(s in a)f.modify(i,s,a[s]);return 1}},nC=["view","item","group","xy","x","y"],rC={};function iC(e,t,n){return 1===arguments.length?tC[e]:(tC[e]=t,n&&(rC[e]=n),oC&&(oC.functions[e]="this."+e),this)}iC("bandwidth",(function(e,t){var n=RS(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),Qj),iC("copy",(function(e,t){var n=RS(e,(t||this).context);return n?n.copy():void 0}),Qj),iC("domain",(function(e,t){var n=RS(e,(t||this).context);return n?n.domain():[]}),Qj),iC("range",(function(e,t){var n=RS(e,(t||this).context);return n&&n.range?n.range():[]}),Qj),iC("invert",(function(e,t,n){var r=RS(e,(n||this).context);return r?Object(A.A)(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),Qj),iC("scale",(function(e,t,n){var r=RS(e,(n||this).context);return r&&void 0!==t?r(t):void 0}),Qj),iC("gradient",(function(e,t,n,r,i){e=RS(e,(i||this).context);var a=zs(t,n),o=e.domain(),s=o[0],u=Object(A.U)(o),c=A.x;return u-s?c=Uv(e,s,u):e=(e.interpolator?Fm("sequential")().interpolator(e.interpolator()):Fm("linear")().interpolate(e.interpolate()).range(e.range())).domain([s=0,u=1]),e.ticks&&(s!==(o=e.ticks(+r||15))[0]&&o.unshift(s),u!==Object(A.U)(o)&&o.push(u)),o.forEach((function(t){return a.stop(c(t),e(t))})),a}),Qj),iC("geoArea",Uj,Qj),iC("geoBounds",Wj,Qj),iC("geoCentroid",Vj,Qj),iC("geoShape",(function(e,t,n){var r=RS(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}}),Qj),iC("indata",(function(e,t,n){var r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}),(function(e,t,n,r){"Literal"!==t[0].type&&Object(A.n)("First argument to indata must be a string literal."),"Literal"!==t[1].type&&Object(A.n)("Second argument to indata must be a string literal.");var i=t[0].value,a=t[1].value,o="@"+a;Object(A.v)(o,r)||(r[o]=n.getData(i).indataRef(n,a))})),iC("data",SS,Jj),iC("treePath",(function(e,t,n){var r=Yj(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(Xj):void 0}),Jj),iC("treeAncestors",(function(e,t){var n=Yj(e,this)[t];return n?n.ancestors().map(Xj):void 0}),Jj),iC("vlSelectionTest",(function(e,t,n){for(var r,i,a,o,s,u=this.context.data[e],c=u?u.values.value:[],l=u?u["index:unit"]&&u["index:unit"].value:void 0,f="intersect"===n,d=c.length,h=0;h<d;++h)if(r=c[h],l&&f){if(-1===(a=(i=i||{})[o=r.unit]||0))continue;if(s=xS(t,r),i[o]=s?-1:++a,s&&1===l.size)return!0;if(!s&&a===l.get(o).count)return!1}else if(f^(s=xS(t,r)))return s;return d&&f}),kS),iC("vlSelectionResolve",(function(e,t,n){for(var r,i,a,o,s,u,c,l,f,d,h,p=this.context.data[e],m=p?p.values.value:[],v={},g={},b={},y=m.length,w=0;w<y;++w){for(o=(r=m[w]).unit,i=r.fields,a=r.values,d=0,h=i.length;d<h;++d)s=i[d],c=(u=v[s.field]||(v[s.field]={}))[o]||(u[o]=[]),b[s.field]=l=s.type.charAt(0),f=OS[l+"_union"],u[o]=f(c,Object(A.i)(a[d]));n&&(c=g[o]||(g[o]=[])).push(Object(A.i)(a).reduce((function(e,t,n){return e[i[n].field]=t,e}),{}))}return t=t||"union",Object.keys(v).forEach((function(e){v[e]=Object.keys(v[e]).map((function(t){return v[e][t]})).reduce((function(n,r){return void 0===n?r:OS[b[e]+"_"+t](n,r)}))})),m=Object.keys(g),n&&m.length&&(v.vlMulti="union"===t?Object(to.a)({},"or",m.reduce((function(e,t){return e.push.apply(e,g[t]),e}),[])):Object(to.a)({},"and",m.map((function(e){return Object(to.a)({},"or",g[e])})))),v}),kS);var aC={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_["+Object(A.Z)("$"+e)+"]"},functions:function(e){var t=wS(e);for(var n in nC.forEach((function(e){return t[e]="event.vega."+e})),tC)t[n]="this."+n;return t},constants:yS,visitors:rC},oC=function(e){var t=(e=e||{}).whitelist?Object(A.db)(e.whitelist):{},n=e.blacklist?Object(A.db)(e.blacklist):{},r=e.constants||yS,i=(e.functions||wS)(f),a=e.globalvar,o=e.fieldvar,s={},u={},c=0,l=Object(A.D)(a)?a:function(e){return a+'["'+e+'"]'};function f(e){if(Object(A.H)(e))return e;var t=d[e.type];return null==t&&Object(A.n)("Unsupported type: "+e.type),t(e)}var d={Literal:function(e){return e.raw},Identifier:function(e){var i=e.name;return c>0?i:Object(A.v)(n,i)?Object(A.n)("Illegal identifier: "+i):Object(A.v)(r,i)?r[i]:Object(A.v)(t,i)?i:(s[i]=1,l(i))},MemberExpression:function(e){var t=!e.computed,n=f(e.object);t&&(c+=1);var r=f(e.property);return n===o&&(u[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(c-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Object(A.n)("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=Object(A.v)(i,t)&&i[t];return r||Object(A.n)("Unrecognized function: "+t),Object(A.D)(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(f).join(",")+"]"},BinaryExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+f(e.argument)+")"},ConditionalExpression:function(e){return"("+f(e.test)+"?"+f(e.consequent)+":"+f(e.alternate)+")"},LogicalExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(f).join(",")+"}"},Property:function(e){c+=1;var t=f(e.key);return c-=1,t+":"+f(e.value)}};function h(e){var t={code:f(e),globals:Object.keys(s),fields:Object.keys(u)};return s={},u={},t}return h.functions=i,h.constants=r,h}(aC);function sC(e,t,n){";"!==t[t.length-1]&&(t="return("+t+");");var r=Function.apply(null,e.concat(t));return n&&n.functions?r.bind(n.functions):r}function uC(e,t){return sC(["event"],e,t)}function cC(e,t){return sC(["item","_"],e,t)}function lC(e,t,n){var r,i;for(r in n=n||{},e)i=e[r],n[r]=Object(A.A)(i)?i.map((function(e){return fC(e,t,n)})):fC(i,t,n);return n}function fC(e,t,n){if(!e||!Object(A.F)(e))return e;for(var r,i=0,a=dC.length;i<a;++i)if(r=dC[i],Object(A.v)(e,r.key))return r.parse(e,t,n);return e}var dC=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Object(A.n)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Object(A.I)(e.$key,e.$flat))}},{key:"$expr",parse:function(e,t,n){e.$params&&lC(e.$params,t,n);var r="e:"+e.$expr+"_"+e.$name;return t.fn[r]||(t.fn[r]=Object(A.f)(function(e,t){return sC(["datum","_"],e,t)}(e.$expr,t),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Object(A.t)(e.$field,e.$name))}},{key:"$encode",parse:function(e,t){var n,r,i=e.$encode,a={};for(n in i)r=i[n],a[n]=Object(A.f)(cC(r.$expr,t),r.$fields),a[n].output=r.$output;return a}},{key:"$compare",parse:function(e,t){var n="c:"+e.$compare+"_"+e.$order,r=Object(A.i)(e.$compare).map((function(e){return e&&e.$tupleid?P:e}));return t.fn[n]||(t.fn[n]=Object(A.k)(r,e.$order))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,r,i){var a=vC(n,t.fork()),o=a.get(n.operators[0].id),s=a.signals.parent;return s&&s.set(i),o}}},{key:"$tupleid",parse:function(){return P}}];function hC(e){return(e+"").toLowerCase()}var pC=function(e,t){"operator"!==hC(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?function(e,t){return sC(["_"],e,t)}(e.update,t):null)};var mC=function(e,t){var n=Object(A.F)(n=e.source)?n.$ref:n,r=t.get(n),i=null,a=e.update,o=void 0;r||Object(A.n)("Source not defined: "+e.source),i=e.target&&e.target.$expr?uC(e.target.$expr,t):t.get(e.target),a&&a.$expr&&(a.$params&&(o=lC(a.$params,t)),a=function(e,t){return sC(["_","event"],e,t)}(a.$expr,t)),t.update(e,r,i,a,o)},vC=function(e,t){var n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),n.forEach((function(e){pC(e,t)})),n.forEach((function(e){!function(e,t){if(e.params){var n=t.get(e.id);n||Object(A.n)("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(lC(e.params,t),e.react,e.initonly))}}(e,t)})),(e.streams||[]).forEach((function(e){!function(e,t){var n,r=null!=e.filter?uC(e.filter,t):void 0,i=null!=e.stream?t.get(e.stream):void 0;e.source?i=t.events(e.source,e.type,r):e.merge&&(i=(n=e.merge.map(t.get.bind(t)))[0].merge.apply(n[0],n.slice(1))),e.between&&(n=e.between.map(t.get.bind(t)),i=i.between(n[0],n[1])),e.filter&&(i=i.filter(r)),null!=e.throttle&&(i=i.throttle(+e.throttle)),null!=e.debounce&&(i=i.debounce(+e.debounce)),null==i&&Object(A.n)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),t.stream(e,i)}(e,t)})),(e.updates||[]).forEach((function(e){mC(e,t)})),t.resolve()},gC={skip:!0};var bC=function(e,t,n){return new yC(e,t,n)};function yC(e,t,n){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function wC(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.functions=e.functions,this.events=e.events,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}yC.prototype=wC.prototype={fork:function(){var e=new wC(this);return(this.subcontext||(this.subcontext=[])).push(e),e},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n,r=this,i=r.dataflow;if(r.set(e.id,t),"collect"===hC(e.type)&&(n=e.value)&&(n.$ingest?i.ingest(t,n.$ingest,n.$format):n.$request?i.preload(t,n.$request,n.$format):i.pulse(t,i.changeset().insert(n))),e.root&&(r.root=t),e.parent){var a=r.get(e.parent.$ref);a?(i.connect(a,[t]),t.targets().add(a)):(r.unresolved=r.unresolved||[]).push((function(){a=r.get(e.parent.$ref),i.connect(a,[t]),t.targets().add(a)}))}if(e.signal&&(r.signals[e.signal]=t),e.scale&&(r.scales[e.scale]=t),e.data)for(var o in e.data)n=r.data[o]||(r.data[o]={}),e.data[o].forEach((function(e){n[e]=t}))},resolve:function(){return(this.unresolved||[]).forEach((function(e){e()})),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[hC(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)}))}if(e.data){var i=n.data={};Object.keys(t.data).forEach((function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((function(t){return t.getState(e)}))),n},setState:function(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach((function(e){n.update(t.signals[e],i[e],gC)})),Object.keys(r||{}).forEach((function(e){n.pulse(t.data[e].input,n.changeset().remove(A.gb).insert(r[e]))})),(e.subcontext||[]).forEach((function(e,n){var r=t.subcontext[n];r&&r.setState(e)}))}};var xC={skip:!0};function OC(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.left+r.right:0)}function kC(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.top+r.bottom:0)}function EC(e,t){return t.modified&&Object(A.A)(t.input.value)&&e.indexOf("_:vega:_")}function _C(e,t){return!("parent"===e||t instanceof mr.proxy)}var SC=function(e,t,n,r){var i=e.element();i&&i.setAttribute("title",function(e){return null==e?"":Object(A.A)(e)?jC(e):Object(A.F)(e)&&!Object(A.C)(e)?(t=e,Object.keys(t).map((function(e){var n=t[e];return e+": "+(Object(A.A)(n)?jC(n):CC(n))})).join("\n")):e+"";var t}(r))};function jC(e){return"["+e.map(CC).join(", ")+"]"}function CC(e){return Object(A.A)(e)?"[\u2026]":Object(A.F)(e)&&!Object(A.C)(e)?"{\u2026}":e}function AC(e,t){t=t||{},lr.call(this),t.loader&&this.loader(t.loader),t.logger&&this.logger(t.logger),null!=t.logLevel&&this.logLevel(t.logLevel),this._el=null,this._elBind=null,this._renderType=t.renderer||Pd.Canvas,this._scenegraph=new zf;var n=this._scenegraph.root;this._renderer=null,this._tooltip=t.tooltip||SC,this._redraw=!0,this._handler=(new Jf).scene(n),this._preventDefault=!1,this._timers=[],this._eventListeners=[],this._resizeListeners=[],this._eventConfig=function(e){var t=Object(A.o)({defaults:{}},e),n=function(e,t){t.forEach((function(t){Object(A.A)(e[t])&&(e[t]=Object(A.db)(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig);var r=function(e,t,n){return vC(t,bC(e,mr,n||tC))}(this,e,t.functions);this._runtime=r,this._signals=r.signals,this._bind=(e.bindings||[]).map((function(e){return{state:null,param:Object(A.o)({},e)}})),r.root&&r.root.set(n),n.source=r.data.root.input,this.pulse(r.data.root.input,this.changeset().insert(n.items)),this._width=this.width(),this._height=this.height(),this._viewWidth=OC(this,this._width),this._viewHeight=kC(this,this._height),this._origin=[0,0],this._resize=0,this._autosize=1,function(e){var t=e._signals,n=t.width,r=t.height,i=t.padding;function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=OC(e,t.size),a()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=kC(e,t.size),a()}),{size:r});var o=e.add(null,a,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}(this),function(e){e.add(null,(function(t){return e._background=t.bg,e._resize=1,t.bg}),{bg:e._signals.background})}(this),BE(this),this.description(e.description),t.hover&&this.hover(),t.container&&this.initialize(t.container,t.bind)}var TC=Object(A.y)(AC,lr);function NC(e,t){return Object(A.v)(e._signals,t)?e._signals[t]:Object(A.n)("Unrecognized signal name: "+Object(A.Z)(t))}function RC(e,t){var n=(e._targets||[]).filter((function(e){var n=e._update;return n&&n.handler===t}));return n.length?n[0]:null}function MC(e,t,n,r){var i=RC(n,r);return i||((i=u_(this,(function(){r(t,n.value)}))).handler=r,e.on(n,null,i)),e}function DC(e,t,n){var r=RC(t,n);return r&&t._targets.remove(r),e}TC.evaluate=function(){var e=Object(N.a)(w.a.mark((function e(t,n,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lr.prototype.evaluate.call(this,t,n);case 2:if(!this._redraw&&!this._resize){e.next=14;break}if(e.prev=3,!this._renderer){e.next=8;break}return this._resize&&(this._resize=0,GE(this)),e.next=8,this._renderer.renderAsync(this._scenegraph.root);case 8:this._redraw=!1,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.error(e.t0);case 14:return r&&R(this,r),e.abrupt("return",this);case 16:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),TC.dirty=function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},TC.description=function(e){if(arguments.length){var t=null!=e?e+"":null;return t!==this._desc&&LE(this._el,this._desc=t),this}return this._desc},TC.container=function(){return this._el},TC.scenegraph=function(){return this._scenegraph},TC.origin=function(){return this._origin.slice()},TC.signal=function(e,t,n){var r=NC(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},TC.width=function(e){return arguments.length?this.signal("width",e):this.signal("width")},TC.height=function(e){return arguments.length?this.signal("height",e):this.signal("height")},TC.padding=function(e){return arguments.length?this.signal("padding",f_(e)):f_(this.signal("padding"))},TC.autosize=function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},TC.background=function(e){return arguments.length?this.signal("background",e):this.signal("background")},TC.renderer=function(e){return arguments.length?(Ld(e)||Object(A.n)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},TC.tooltip=function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},TC.loader=function(e){return arguments.length?(e!==this._loader&&(lr.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},TC.resize=function(){return this._autosize=1,this.touch(NC(this,"autosize"))},TC._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},TC._resizeView=function(e,t,n,r,i,a){this.runAfter((function(o){var s=0;o._autosize=0,o.width()!==n&&(s=1,o.signal("width",n,xC),o._resizeWidth.skip(!0)),o.height()!==r&&(s=1,o.signal("height",r,xC),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),o._origin[0]===i[0]&&o._origin[1]===i[1]||(o._resize=1,o._origin=i),s&&o.run("enter"),a&&o.runAfter((function(e){return e.resize()}))}),!1,1)},TC.addEventListener=function(e,t,n){var r=t;return n&&!1===n.trap||((r=u_(this,t)).raw=t),this._handler.on(e,r),this},TC.removeEventListener=function(e,t){for(var n,r,i=this._handler.handlers(e),a=i.length;--a>=0;)if(r=i[a].type,n=i[a].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},TC.addResizeListener=function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},TC.removeResizeListener=function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},TC.addSignalListener=function(e,t){return MC(this,e,NC(this,e),t)},TC.removeSignalListener=function(e,t){return DC(this,NC(this,e),t)},TC.addDataListener=function(e,t){return MC(this,e,UE(this,e).values,t)},TC.removeDataListener=function(e,t){return DC(this,UE(this,e).values,t)},TC.preventDefault=function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},TC.timer=function(e,t){this._timers.push(function(e,t,n){var r=new iO,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?nO():+n,r.restart((function a(o){o+=i,r.restart(a,i+=t,n),e(o)}),t,n),r)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},TC.events=function(e,t,n){var r,i=this,a=new te(n),o=function(n,r){i.runAsync(null,(function(){"view"===e&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(i,t)&&n.preventDefault(),a.receive($E(i,n,r))}))};if("timer"===e)XE(i,"timer",t)&&i.timer(o,t);else if("view"===e)XE(i,"view",t)&&i.addEventListener(t,o,KE);else if("window"===e?XE(i,"window",t)&&"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&XE(i,"selector",t)&&(r=document.querySelectorAll(e)),r){for(var s=0,u=r.length;s<u;++s)r[s].addEventListener(t,o);i._eventListeners.push({type:t,sources:r,handler:o})}else i.warn("Can not resolve event source: "+e);return a},TC.finalize=function(){var e,t,n,r=this._tooltip,i=this._timers,a=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=a.length;--e>=0;)for(t=(n=a[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},TC.hover=function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",YE),ZE,JE(e)),this.on(this.events("view","mouseout",YE),ZE,JE(t)),this},TC.data=function(e,t){return arguments.length<2?UE(this,e).values.value:WE.call(this,e,H().remove(A.gb).insert(t))},TC.change=WE,TC.insert=function(e,t){return WE.call(this,e,H().insert(t))},TC.remove=function(e,t){return WE.call(this,e,H().remove(t))},TC.scale=function(e){var t=this._runtime.scales;return Object(A.v)(t,e)||Object(A.n)("Unrecognized scale or projection: "+e),t[e].value},TC.initialize=function(e,t){var n=this,r=n._renderType,i=n._eventConfig.bind,a=Ld(r);e=n._el=e?c_(n,e):null,function(e){var t=e.container();t&&(t.setAttribute("role","figure"),LE(t,e.description()))}(n),a||n.error("Unrecognized renderer type: "+r);var o=a.handler||Jf,s=e?a.renderer:a.headless;return n._renderer=s?s_(n,n._renderer,e,s):null,n._handler=function(e,t,n,r){var i=new r(e.loader(),u_(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,HE(e),e);return t&&t.handlers().forEach((function(e){i.on(e.type,e.handler)})),i}(n,n._handler,e,o),n._redraw=!0,e&&"none"!==i&&(t=t?n._elBind=c_(n,t):e.appendChild(QE("div",{class:"vega-bindings"})),n._bind.forEach((function(e){e.param.element&&"container"!==i&&(e.element=c_(n,e.param.element))})),n._bind.forEach((function(e){e_(n,e.element||t,e)}))),n},TC.toImageURL=function(e,t){return p_.apply(this,arguments)},TC.toCanvas=function(e,t){return v_.apply(this,arguments)},TC.toSVG=function(e){return g_.apply(this,arguments)},TC.getState=function(e){return this._runtime.getState(e||{data:EC,signals:_C,recurse:!0})},TC.setState=function(e){return this.runAsync(null,(function(t){t._trigger=!1,t._runtime.setState(e)}),(function(e){e._trigger=!0})),this};var IC=function(e){return Object(A.F)(e)?e:{type:e||"pad"}},FC=function(e){return+e||0},PC=function(e){return Object(A.F)(e)?e.signal?e:{top:FC(e.top),bottom:FC(e.bottom),left:FC(e.left),right:FC(e.right)}:{top:t=FC(e),bottom:t,left:t,right:t};var t},zC=["value","update","init","react","bind"];function LC(e,t){Object(A.n)(e+' for "outer" push: '+Object(A.Z)(t))}var BC=function(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||LC("No prior signal definition",n),zC.forEach((function(t){void 0!==e[t]&&LC("Invalid property ",t)}));else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}},UC=function(e,t,n){var r,i,a={};try{e=Object(A.H)(e)?e:Object(A.Z)(e)+"",r=bS(e)}catch(o){Object(A.n)("Expression parse error: "+e)}return r.visit((function(e){if("CallExpression"===e.type){var n=e.callee.name,r=aC.visitors[n];r&&r(n,e.arguments,t,a)}})),(i=oC(r)).globals.forEach((function(e){var n="$"+e;!Object(A.v)(a,n)&&t.getSignal(e)&&(a[n]=t.signalRef(e))})),{$expr:n?n+"return("+i.code+");":i.code,$fields:i.fields,$params:a}};function WC(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function VC(e,t,n,r){return new WC(e,t,n,r)}function qC(e,t){return VC("operator",e,t)}function HC(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function GC(e,t){return t?{$field:e,$name:t}:{$field:e}}var $C=GC("key");function KC(e,t){return{$compare:e,$order:t}}function XC(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}function YC(e){return e&&e.signal}function ZC(e){if(YC(e))return!0;if(Object(A.F)(e))for(var t in e)if(ZC(e[t]))return!0;return!1}function JC(e,t){return null!=e?e:t}function QC(e){return e&&e.signal||e}function eA(e,t){return(e.merge?tA:e.stream?nA:e.type?rA:Object(A.n)("Invalid stream specification: "+Object(A.Z)(e)))(e,t)}function tA(e,t){var n=iA({merge:e.merge.map((function(e){return eA(e,t)}))},e,t);return t.addStream(n).id}function nA(e,t){var n=iA({stream:eA(e.stream,t)},e,t);return t.addStream(n).id}function rA(e,t){var n,r,i;return"timer"===e.type?(n=t.event("timer",e.throttle),e={between:e.between,filter:e.filter}):n=t.event("scope"===(i=e.source)?"view":i||"view",e.type),r=iA({stream:n},e,t),1===Object.keys(r).length?n:t.addStream(r).id}function iA(e,t,n){var r=t.between;return r&&(2!==r.length&&Object(A.n)('Stream "between" parameter must have 2 entries: '+Object(A.Z)(t)),e.between=[eA(r[0],n),eA(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),"scope"===t.source&&r.push("inScope(event.item)"),r.length&&(e.filter=UC("("+r.join(")&&(")+")").$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}var aA,oA,sA=function(e,t,n){return aA=t||uA,oA=n||lA,dA(e.trim()).map(hA)},uA="view",cA=/[[\]{}]/,lA={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function fA(e,t,n,r,i){for(var a,o=0,s=e.length;t<s;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function dA(e){for(var t=[],n=0,r=e.length,i=0;i<r;)i=fA(e,i,",","[{","]}"),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function hA(e){return"["===e[0]?function(e){var t,n,r=e.length,i=1;if((i=fA(e,i,"]","[","]"))===r)throw"Empty between selector: "+e;if(2!==(t=dA(e.substring(1,i))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+e;if(t=t.map(hA),(n=hA(e.slice(1).trim())).between)return{between:t,stream:n};n.between=t;return n}(e):function(e){var t,n,r={source:aA},i=[],a=[0,0],o=0,s=0,u=e.length,c=0;if("}"===e[u-1]){if(!((c=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{a=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!==n)throw e;return n}))}(e.substring(c+1,u-1))}catch(f){throw"Invalid throttle specification: "+e}e=e.slice(0,c).trim(),u=e.length,c=0}if(!u)throw e;"@"===e[0]&&(o=++c);(t=fA(e,c,":"))<u&&(i.push(e.substring(s,t).trim()),s=c=++t);if((c=fA(e,c,"["))===u)i.push(e.substring(s,u).trim());else if(i.push(e.substring(s,c).trim()),n=[],(s=++c)===u)throw"Unmatched left bracket: "+e;for(;c<u;){if((c=fA(e,c,"]"))===u)throw"Unmatched left bracket: "+e;if(n.push(e.substring(s,c).trim()),c<u-1&&"["!==e[++c])throw"Expected left bracket: "+e;s=++c}if(!(u=i.length)||cA.test(i[u-1]))throw"Invalid event selector: "+e;u>1?(r.type=i[1],o?r.markname=i[0].slice(1):(l=i[0],oA[l]?r.marktype=i[0]:r.source=i[0])):r.type=i[0];var l;"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=n&&(r.filter=n);a[0]&&(r.throttle=a[0]);a[1]&&(r.debounce=a[1]);return r}(e)}var pA=function(e,t,n){var r=e.events,i=e.update,a=e.encode,o=[],s={target:n};r||Object(A.n)("Signal update missing events specification."),Object(A.H)(r)&&(r=sA(r,t.isSubscope()?"scope":"view")),r=Object(A.i)(r).filter((function(e){return e.signal||e.scale?(o.push(e),0):1})),o.length>1&&(o=[mA(o)]),r.length&&o.push(r.length>1?{merge:r}:r[0]),null!=a&&(i&&Object(A.n)("Signal encode and update are mutually exclusive."),i="encode(item(),"+Object(A.Z)(a)+")"),s.update=Object(A.H)(i)?UC(i,t,"var datum=event.item&&event.item.datum;"):null!=i.expr?UC(i.expr,t,"var datum=event.item&&event.item.datum;"):null!=i.value?i.value:null!=i.signal?{$expr:"_.value",$params:{value:t.signalRef(i.signal)}}:Object(A.n)("Invalid signal update specification."),e.force&&(s.options={force:!0}),o.forEach((function(e){t.addUpdate(Object(A.o)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):eA(e,t)}}(e,t),s))}))};function mA(e){return{signal:"["+e.map((function(e){return e.scale?'scale("'+e.scale+'")':e.signal}))+"]"}}function vA(e){return function(t,n,r){return VC(e,n,t||void 0,r)}}var gA=vA("aggregate"),bA=vA("axisticks"),yA=vA("bound"),wA=vA("collect"),xA=vA("compare"),OA=vA("datajoin"),kA=vA("encode"),EA=vA("expression"),_A=(vA("extent"),vA("facet")),SA=vA("field"),jA=vA("key"),CA=vA("legendentries"),AA=vA("load"),TA=vA("mark"),NA=vA("multiextent"),RA=vA("multivalues"),MA=vA("overlap"),DA=vA("params"),IA=vA("prefacet"),FA=vA("projection"),PA=vA("proxy"),zA=vA("relay"),LA=vA("render"),BA=vA("scale"),UA=vA("sieve"),WA=vA("sortitems"),VA=vA("viewlayout"),qA=vA("values"),HA=0,GA={min:"min",max:"max",count:"sum"};function $A(e,t){var n,r,i=t.getScale(e.name).params;for(n in i.domain=ZA(e.domain,e,t),null!=e.range&&(i.range=function e(t,n,r){var i=t.range,a=n.config.range;if(i.signal)return n.signalRef(i.signal);if(Object(A.H)(i)){if(a&&Object(A.v)(a,i))return t=Object(A.o)({},t,{range:a[i]}),e(t,n,r);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=Bm(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(A.n)("Unrecognized scale range value: "+Object(A.Z)(i))}else{if(i.scheme)return r.scheme=Object(A.A)(i.scheme)?XA(i.scheme,n):KA(i.scheme,n),i.extent&&(r.schemeExtent=XA(i.extent,n)),void(i.count&&(r.schemeCount=KA(i.count,n)));if(i.step)return void(r.rangeStep=KA(i.step,n));if(Bm(t.type)&&!Object(A.A)(i))return ZA(i,t,n);Object(A.A)(i)||Object(A.n)("Unsupported range type: "+Object(A.Z)(i))}return i.map((function(e){return(Object(A.A)(e)?XA:KA)(e,n)}))}(e,t,i)),null!=e.interpolate&&function(e,t){t.interpolate=KA(e.type||e),null!=e.gamma&&(t.interpolateGamma=KA(e.gamma))}(e.interpolate,i),null!=e.nice&&(i.nice=(r=e.nice,Object(A.F)(r)?{interval:KA(r.interval),step:KA(r.step)}:KA(r))),null!=e.bins&&(i.bins=function(e,t){return e.signal||Object(A.A)(e)?XA(e,t):t.objectProperty(e)}(e.bins,t)),e)Object(A.v)(i,n)||"name"===n||(i[n]=KA(e[n],t))}function KA(e,t){return Object(A.F)(e)?e.signal?t.signalRef(e.signal):Object(A.n)("Unsupported object: "+Object(A.Z)(e)):e}function XA(e,t){return e.signal?t.signalRef(e.signal):e.map((function(e){return KA(e,t)}))}function YA(e){Object(A.n)("Can not find data set: "+Object(A.Z)(e))}function ZA(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(Object(A.A)(e)?JA:e.fields?eT:QA)(e,t,n);null==t.domainMin&&null==t.domainMax||Object(A.n)("No scale domain defined for domainMin/domainMax to override.")}function JA(e,t,n){return e.map((function(e){return KA(e,n)}))}function QA(e,t,n){var r=n.getData(e.data);return r||YA(e.data),Bm(t.type)?r.valuesRef(n,e.field,nT(e.sort,!1)):qm(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function eT(e,t,n){var r=e.data,i=e.fields.reduce((function(e,t){return t=Object(A.H)(t)?{data:r,field:t}:Object(A.A)(t)||t.signal?function(e,t){var n="_:vega:_"+HA++,r=wA({});if(Object(A.A)(e))r.value={$ingest:e};else if(e.signal){var i="setdata("+Object(A.Z)(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,UA({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e}),[]);return(Bm(t.type)?tT:qm(t.type)?rT:iT)(e,n,i)}function tT(e,t,n){var r,i,a,o,s,u=nT(e.sort,!0);return r=n.map((function(e){var n=t.getData(e.data);return n||YA(e.data),n.countsRef(t,e.field,u)})),i={groupby:$C,pulse:r},u&&(a=u.op||"count",s=u.field?XC(a,u.field):"count",i.ops=[GA[a]],i.fields=[t.fieldRef(s)],i.as=[s]),a=t.add(gA(i)),o=t.add(wA({pulse:HC(a)})),s=t.add(qA({field:$C,sort:t.sortRef(u),pulse:HC(o)})),HC(s)}function nT(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!GA[e.op]&&Object(A.n)("Multiple domain scales can not be sorted using "+e.op):Object(A.n)("No field provided for sort aggregate op: "+e.op):Object(A.F)(e)?e.field="key":e={field:"key"}),e}function rT(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||YA(e.data),n.domainRef(t,e.field)}));return HC(t.add(RA({values:r})))}function iT(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||YA(e.data),n.extentRef(t,e.field)}));return HC(t.add(NA({extents:r})))}function aT(e,t,n){return Object(A.A)(e)?e.map((function(e){return aT(e,t,n)})):Object(A.F)(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:Object(A.n)("Unsupported parameter object: "+Object(A.Z)(e)):e}var oT="value",sT=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],uT={name:1,style:1,interactive:1},cT={value:0},lT={value:1},fT=Object(A.db)(["rule"]),dT=Object(A.db)(["group","image","rect"]),hT=function(e,t,n,r){var i=UC(e,t);return i.$fields.forEach((function(e){r[e]=1})),Object(A.o)(n,i.$params),i.$expr},pT=function(e,t,n,r){return function e(t,n,r,i){var a,o,s;if(t.signal)a="datum",s=hT(t.signal,n,r,i);else if(t.group||t.parent){for(o=Math.max(1,t.level||1),a="item";o-- >0;)a+=".mark.group";t.parent?(s=t.parent,a+=".datum"):s=t.group}else t.datum?(a="datum",s=t.datum):Object(A.n)("Invalid field reference: "+Object(A.Z)(t));t.signal||(Object(A.H)(s)?(i[s]=1,s=Object(A.Y)(s).map(A.Z).join("][")):s=e(s,n,r,i));return a+"["+s+"]"}(Object(A.F)(e)?e:{datum:e},t,n,r)};var mT=function(e,t,n,r){return Object(A.F)(e)?"("+bT(null,e,t,n,r)+")":e},vT=function(e,t,n,r,i){var a,o,s,u=gT(e.scale,n,r,i);return null!=e.range?(o=u+".range()",t=0===(a=+e.range)?o+"[0]":"($="+o+","+(1===a?"$[$.length-1]":"$[0]+"+a+"*($[$.length-1]-$[0])")+")"):(void 0!==t&&(t=u+"("+t+")"),e.band&&(s=function(e,t){if(!Object(A.H)(e))return-1;var n=t.scaleType(e);return"band"===n||"point"===n?1:0}(e.scale,n))&&(o=u+".bandwidth",a=e.band.signal?o+"()*"+mT(e.band,n,r,i):o+"()"+(1===(a=+e.band)?"":"*"+a),s<0&&(a="("+o+"?"+a+":0)"),t=(t?t+"+":"")+a,e.extra&&(t="(datum.extra?"+u+"(datum.extra.value):"+t+")")),null==t&&(t="0")),t};function gT(e,t,n,r){var i;if(Object(A.H)(e))i="%"+e,Object(A.v)(n,i)||(n[i]=t.scaleRef(e)),i=Object(A.Z)(i);else{for(i in t.scales)n["%"+i]=t.scaleRef(i);i=Object(A.Z)("%")+"+"+(e.signal?"("+hT(e.signal,t,n,r)+")":pT(e,t,n,r))}return"_["+i+"]"}var bT=function(e,t,n,r,i){if(null!=t.gradient)return function(e,t,n,r){return"this.gradient("+gT(e.gradient,t,n,r)+","+Object(A.Z)(e.start)+","+Object(A.Z)(e.stop)+","+Object(A.Z)(e.count)+")"}(t,n,r,i);var a=t.signal?hT(t.signal,n,r,i):t.color?function(e,t,n,r){function i(e,i,a,o){return"this."+e+"("+[bT(null,i,t,n,r),bT(null,a,t,n,r),bT(null,o,t,n,r)].join(",")+").toString()"}return e.c?i("hcl",e.h,e.c,e.l):e.h||e.s?i("hsl",e.h,e.s,e.l):e.l||e.a?i("lab",e.l,e.a,e.b):e.r||e.g||e.b?i("rgb",e.r,e.g,e.b):null}(t.color,n,r,i):null!=t.field?pT(t.field,n,r,i):void 0!==t.value?Object(A.Z)(t.value):void 0;return null!=t.scale&&(a=vT(t,a,n,r,i)),void 0===a&&(a=null),null!=t.exponent&&(a="Math.pow("+a+","+mT(t.exponent,n,r,i)+")"),null!=t.mult&&(a+="*"+mT(t.mult,n,r,i)),null!=t.offset&&(a+="+"+mT(t.offset,n,r,i)),t.round&&(a="Math.round("+a+")"),a},yT=function(e,t,n){var r=e+"["+Object(A.Z)(t)+"]";return"$=".concat(n,";if(").concat(r,"!==$)").concat(r,"=$,m=1;")},wT=function(e,t,n,r,i){var a="";return t.forEach((function(t){var o=bT(e,t,n,r,i);a+=t.test?hT(t.test,n,r,i)+"?"+o+":":o})),":"===Object(A.U)(a)&&(a+="null"),yT("o",e,a)};function xT(e,t,n,r){var i,a,o,s={},u="var o=item,datum=o.datum,m=0,$;";for(i in e)a=e[i],Object(A.A)(a)?u+=wT(i,a,r,n,s):(o=bT(i,a,r,n,s),u+=yT("o",i,o));return u+=function(e,t){var n="";return fT[t]||(e.x2&&(e.x?(dT[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(dT[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(e,t),{$expr:u+="return m;",$fields:Object.keys(s),$output:Object.keys(e)}}function OT(e){return Object(A.F)(e)&&!Object(A.A)(e)?Object(A.o)({},e):{value:e}}function kT(e,t,n,r){return null!=n?(Object(A.F)(n)&&!Object(A.A)(n)?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function ET(e,t,n){for(var r in t)kT(e,r,t[r]);for(var i in n)kT(e,i,n[i],"update")}function _T(e,t,n){for(var r in t)n&&Object(A.v)(n,r)||(e[r]=Object(A.o)(e[r]||{},t[r]));return e}function ST(e,t,n,r,i,a){var o,s;for(s in(a=a||{}).encoders={$encode:o={}},e=function(e,t,n,r,i){var a,o,s,u={},c={};o="lineBreak","text"!==t||null==i[o]||CT(o,e)||jT(u,o,i[o]);("legend"==n||String(n).startsWith("axis"))&&(n=null);for(o in s="frame"===n?i.group:"mark"===n?Object(A.o)({},i.mark,i[t]):null)CT(o,e)||("fill"===o||"stroke"===o)&&(CT("fill",e)||CT("stroke",e))||jT(u,o,s[o]);for(o in Object(A.i)(r).forEach((function(t){var n=i.style&&i.style[t];for(var r in n)CT(r,e)||jT(u,r,n[r])})),e=Object(A.o)({},e),u)(s=u[o]).signal?(a=a||{})[o]=s:c[o]=s;e.enter=Object(A.o)(c,e.enter),a&&(e.update=Object(A.o)(a,e.update));return e}(e,t,n,r,i.config))o[s]=xT(e[s],t,a,i);return a}function jT(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}function CT(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}var AT=function(e,t,n,r,i,a,o){return{type:e,name:o?o.name:void 0,role:t,style:o&&o.style||n,key:r,from:i,interactive:!(!o||!o.interactive),encode:_T(a,o,uT)}},TT=n(116);function NT(e,t){var n=function(n,r){return JC(e[n],JC(t[n],r))};return n.isVertical=function(n){return"vertical"===JC(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection))},n.gradientLength=function(){return JC(e.gradientLength,t.gradientLength||t.gradientWidth)},n.gradientThickness=function(){return JC(e.gradientThickness,t.gradientThickness||t.gradientHeight)},n.entryColumns=function(){return JC(e.columns,JC(t.columns,+n.isVertical(!0)))},n}function RT(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function MT(e,t,n){return'item.anchor === "'.concat("start",'" ? ').concat(e,' : item.anchor === "').concat("end",'" ? ').concat(t," : ").concat(n)}var DT=MT(Object(A.Z)("left"),Object(A.Z)("right"),Object(A.Z)("center"));function IT(e,t){return t?e?Object(A.F)(e)?Object(TT.a)({},e,{offset:IT(e.offset,t)}):{value:e,offset:t}:t:e}var FT=function(e,t,n,r){var i,a,o,s,u,c,l=NT(e,n),f=l.isVertical(),d=l.gradientThickness(),h=l.gradientLength();return f?(o=[0,1],s=[0,0],u=d,c=h):(o=[0,0],s=[1,0],u=h,c=d),ET(i={enter:a={opacity:cT,x:cT,y:cT,width:OT(u),height:OT(c)},update:Object(A.o)({},a,{opacity:lT,fill:{gradient:t,start:o,stop:s}}),exit:{opacity:cT}},{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),AT("rect","legend-gradient",null,void 0,void 0,i,r)},PT=function(e,t,n,r,i){var a,o,s,u,c,l,f=NT(e,n),d=f.isVertical(),h=f.gradientThickness(),p=f.gradientLength(),m="";return d?(s="y",c="y2",u="x",l="width",m="1-"):(s="x",c="x2",u="y",l="height"),(o={opacity:cT,fill:{scale:t,field:oT}})[s]={signal:m+"datum.perc",mult:p},o[u]=cT,o[c]={signal:m+"datum.perc2",mult:p},o[l]=OT(h),ET(a={enter:o,update:Object(A.o)({},o,{opacity:lT}),exit:{opacity:cT}},{stroke:f("gradientStrokeColor"),strokeWidth:f("gradientStrokeWidth")},{opacity:f("gradientOpacity")}),AT("rect","legend-band",null,oT,i,a,r)},zT="datum.".concat("perc",'<=0?"').concat("left",'":datum.').concat("perc",'>=1?"').concat("right",'":"').concat("center",'"'),LT="datum.".concat("perc",'<=0?"').concat("bottom",'":datum.').concat("perc",'>=1?"').concat("top",'":"').concat("middle",'"'),BT=function(e,t,n,r){var i,a,o,s,u,c=NT(e,t),l=c.isVertical(),f=OT(c.gradientThickness()),d=c.gradientLength(),h=c("labelOverlap"),p=c("labelSeparation"),m="";return ET(i={enter:a={opacity:cT},update:o={opacity:lT,text:{field:"label"}},exit:{opacity:cT}},{fill:c("labelColor"),fillOpacity:c("labelOpacity"),font:c("labelFont"),fontSize:c("labelFontSize"),fontStyle:c("labelFontStyle"),fontWeight:c("labelFontWeight"),limit:JC(e.labelLimit,t.gradientLabelLimit)}),l?(a.align={value:"left"},a.baseline=o.baseline={signal:LT},s="y",u="x",m="1-"):(a.align=o.align={signal:zT},a.baseline={value:"top"},s="x",u="y"),a[s]=o[s]={signal:m+"datum.perc",mult:d},a[u]=o[u]=f,f.offset=JC(e.labelOffset,t.gradientLabelOffset)||0,e=AT("text","legend-label","guide-label",oT,r,i,n),h&&(e.overlap={separation:p,method:h,order:"datum.index"}),e},UT=function(e,t,n,r,i,a,o,s){return{type:"group",name:n,role:e,style:t,from:r,interactive:i||!1,encode:a,marks:o,layout:s}},WT=function(e,t,n,r,i){var a,o,s,u,c,l,f,d=NT(e,t),h=n.entries,p=!(!h||!h.interactive),m=h?h.name:void 0,v=d("clipHeight"),g=d("symbolOffset"),b={data:"value"},y={},w="(".concat(i,") ? datum.").concat("offset"," : datum.").concat("size"),x=v?OT(v):{field:"size"},O="datum.".concat("index"),k="max(1, ".concat(i,")");x.mult=.5,y={enter:a={opacity:cT,x:{signal:w,mult:.5,offset:g},y:x},update:o={opacity:lT,x:a.x,y:a.y},exit:{opacity:cT}};var E=null,_=null;return e.fill||(E=t.symbolBaseFillColor,_=t.symbolBaseStrokeColor),ET(y,{fill:d("symbolFillColor",E),shape:d("symbolType"),size:d("symbolSize"),stroke:d("symbolStrokeColor",_),strokeDash:d("symbolDash"),strokeDashOffset:d("symbolDashOffset"),strokeWidth:d("symbolStrokeWidth")},{opacity:d("symbolOpacity")}),sT.forEach((function(t){e[t]&&(o[t]=a[t]={scale:e[t],field:oT})})),u=AT("symbol","legend-symbol",null,oT,b,y,n.symbols),v&&(u.clip=!0),(s=OT(g)).offset=d("labelOffset"),ET(y={enter:a={opacity:cT,x:{signal:w,offset:s},y:x},update:o={opacity:lT,text:{field:"label"},x:a.x,y:a.y},exit:{opacity:cT}},{align:d("labelAlign"),baseline:d("labelBaseline"),fill:d("labelColor"),fillOpacity:d("labelOpacity"),font:d("labelFont"),fontSize:d("labelFontSize"),fontStyle:d("labelFontStyle"),fontWeight:d("labelFontWeight"),limit:d("labelLimit")}),c=AT("text","legend-label","guide-label",oT,b,y,n.labels),y={enter:{noBound:{value:!v},width:cT,height:v?OT(v):cT,opacity:cT},exit:{opacity:cT},update:o={opacity:lT,row:{signal:null},column:{signal:null}}},d.isVertical(!0)?(l="ceil(item.mark.items.length / ".concat(k,")"),o.row.signal="".concat(O,"%").concat(l),o.column.signal="floor(".concat(O," / ").concat(l,")"),f={field:["row",O]}):(o.row.signal="floor(".concat(O," / ").concat(k,")"),o.column.signal="".concat(O," % ").concat(k),f={field:O}),o.column.signal="(".concat(i,")?").concat(o.column.signal,":").concat(O),(e=UT("scope",null,m,r={facet:{data:r,name:"value",groupby:"index"}},p,_T(y,h,uT),[u,c])).sort=f,e};var VT='item.orient === "left"',qT='item.orient === "right"',HT="(".concat(VT," || ").concat(qT,")"),GT="datum.vgrad && ".concat(HT),$T=MT('"top"','"bottom"','"middle"'),KT=MT('"right"','"left"','"center"'),XT="datum.vgrad && ".concat(qT," ? (").concat(KT,") : (").concat(HT," && !(datum.vgrad && ").concat(VT,')) ? "left" : ').concat(DT),YT="item._anchor || (".concat(HT,' ? "middle" : "start")'),ZT="".concat(GT," ? (").concat(VT," ? -90 : 90) : 0"),JT="".concat(HT," ? (datum.vgrad ? (").concat(qT,' ? "bottom" : "top") : ').concat($T,') : "top"'),QT=function(e,t){var n;return Object(A.F)(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+eN(e.path)+")":e.sphere&&(n="geoShape("+eN(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e};function eN(e){return Object(A.F)(e)&&e.signal?e.signal:Object(A.Z)(e)}var tN=function(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?"group"===e.type?"scope":t||"mark":t},nN=function(e){return{marktype:e.type,name:e.name||void 0,role:e.role||tN(e),zindex:+e.zindex||void 0}},rN=function(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e},iN=function(e,t){var n=vr(e.type);n||Object(A.n)("Unrecognized transform type: "+Object(A.Z)(e.type));var r=VC(n.type.toLowerCase(),null,aN(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r};function aN(e,t,n){var r,i,a,o={};for(i=0,a=e.params.length;i<a;++i)o[(r=e.params[i]).name]=oN(r,t,n);return o}function oN(e,t,n){var r=e.type,i=t[e.name];return"index"===r?function(e,t,n){Object(A.H)(t.from)||Object(A.n)('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==i?"param"===r?function(e,t,n){var r=t[e.name];return e.array?(Object(A.A)(r)||Object(A.n)("Expected an array of sub-parameters. Instead: "+Object(A.Z)(r)),r.map((function(t){return uN(e,t,n)}))):uN(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!YC(i)?i.map((function(t){return sN(e,t,n)})):sN(e,i,n):void(e.required&&Object(A.n)("Missing required "+Object(A.Z)(t.type)+" parameter: "+Object(A.Z)(e.name)))}function sN(e,t,n){var r=e.type;if(YC(t))return cN(r)?Object(A.n)("Expression references can not be signals."):lN(r)?n.fieldRef(t):fN(r)?n.compareRef(t):n.signalRef(t.signal);var i,a=e.expr||lN(r);return a&&((i=t)&&i.expr)?n.exprRef(t.expr,t.as):a&&function(e){return e&&e.field}(t)?GC(t.field,t.as):cN(r)?UC(t,n):function(e){return"data"===e}(r)?HC(n.getData(t).values):lN(r)?GC(t):fN(r)?n.compareRef(t):t}function uN(e,t,n){var r,i,a,o,s;for(o=0,s=e.params.length;o<s;++o){for(a in(i=e.params[o]).key)if(i.key[a]!==t[a]){i=null;break}if(i)break}return i||Object(A.n)("Unsupported parameter: "+Object(A.Z)(t)),r=Object(A.o)(aN(i,t,n),i.key),HC(n.add(DA(r)))}function cN(e){return"expr"===e}function lN(e){return"field"===e}function fN(e){return"compare"===e}function dN(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:HC(t.getData(e.data).output)}function hN(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}hN.fromEntries=function(e,t){var n=t.length,r=1,i=t[0],a=t[n-1],o=t[n-2],s=null;for(i&&"load"===i.type&&(i=t[1]),e.add(t[0]);r<n;++r)t[r].params.pulse=HC(t[r-1]),e.add(t[r]),"aggregate"===t[r].type&&(s=t[r]);return new hN(e,i,o,a,s)};var pN=hN.prototype;function mN(e){return Object(A.H)(e)?e:null}function vN(e,t,n){var r,i=XC(n.op,n.field);if(t.ops){for(var a=0,o=t.as.length;a<o;++a)if(t.as[a]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function gN(e,t,n,r,i,a,o){var s,u,c=t[n]||(t[n]={}),l=function(e){return Object(A.F)(e)?("descending"===e.order?"-":"+")+XC(e.op,e.field):""}(a),f=mN(i);if(null!=f&&(e=t.scope,s=c[f+=l?"|"+l:""]),!s){var d=a?{field:$C,pulse:t.countsRef(e,i,a)}:{field:e.fieldRef(i),pulse:HC(t.output)};l&&(d.sort=e.sortRef(a)),u=e.add(VC(r,void 0,d)),o&&(t.index[i]=u),s=HC(u),null!=f&&(c[f]=s)}return s}pN.countsRef=function(e,t,n){var r,i,a,o=this.counts||(this.counts={}),s=mN(t);return null!=s&&(e=this.scope,r=o[s]),r?n&&n.field&&vN(e,r.agg.params,n):(a={groupby:e.fieldRef(t,"key"),pulse:HC(this.output)},n&&n.field&&vN(e,a,n),i=e.add(gA(a)),r=e.add(wA({pulse:HC(i)})),r={agg:i,ref:HC(r)},null!=s&&(o[s]=r)),r.ref},pN.tuplesRef=function(){return HC(this.values)},pN.extentRef=function(e,t){return gN(e,this,"extent","extent",t,!1)},pN.domainRef=function(e,t){return gN(e,this,"domain","values",t,!1)},pN.valuesRef=function(e,t,n){return gN(e,this,"vals","values",t,n||!0)},pN.lookupRef=function(e,t){return gN(e,this,"lookup","tupleindex",t,!1)},pN.indataRef=function(e,t){return gN(e,this,"indata","tupleindex",t,!0,!0)};var bN=function(e,t,n){var r,i,a=e.remove,o=e.insert,s=e.toggle,u=e.modify,c=e.values,l=t.add(qC());r="if("+e.trigger+',modify("'+n+'",'+[o,a,s,u,c].map((function(e){return null==e?"null":e})).join(",")+"),0)",i=UC(r,t),l.update=i.$expr,l.params=i.$params},yN=function(e,t){var n,r,i,a,o,s,u,c,l,f,d,h,p,m,v=tN(e),g="group"===e.type,b=e.from&&e.from.facet,y=e.layout||"scope"===v||"frame"===v,w="mark"===v||y||b,x=e.overlap;i=function(e,t,n){var r,i,a,o,s;return e?(r=e.facet)&&(t||Object(A.n)("Only group marks can be faceted."),null!=r.field?o=s=dN(r,n):(e.data?s=HC(n.getData(e.data).aggregate):((a=iN(Object(A.o)({type:"aggregate",groupby:Object(A.i)(r.groupby)},r.aggregate),n)).params.key=n.keyRef(r.groupby),a.params.pulse=dN(r,n),o=s=HC(n.add(a))),i=n.keyRef(r.groupby,!0))):o=HC(n.add(wA(null,[{}]))),o||(o=dN(e,n)),{key:i,pulse:o,parent:s}}(e.from,g,t),f=HC(r=t.add(OA({key:i.key||(e.key?GC(e.key):void 0),pulse:i.pulse,clean:!g}))),r=a=t.add(wA({pulse:f})),r=t.add(TA({markdef:nN(e),interactive:rN(e.interactive,t),clip:QT(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:HC(r)})),d=HC(r),(r=o=t.add(kA(ST(e.encode,e.type,v,e.style,t,{mod:!1,pulse:d})))).params.parent=t.encode(),e.transform&&e.transform.forEach((function(e){var n=iN(e,t),i=n.metadata;(i.generates||i.changes)&&Object(A.n)("Mark transforms should not generate new data."),i.nomod||(o.params.mod=!0),n.params.pulse=HC(r),t.add(r=n)})),e.sort&&(r=t.add(WA({sort:t.compareRef(e.sort),pulse:HC(r)}))),h=HC(r),(b||y)&&(p=HC(y=t.add(VA({layout:t.objectProperty(e.layout),legends:t.legends,mark:d,pulse:h})))),m=HC(s=t.add(yA({mark:d,pulse:p||h}))),g&&(w&&((n=t.operators).pop(),y&&n.pop()),t.pushState(h,p||m,f),b?function(e,t,n){var r,i,a,o,s=e.from.facet,u=s.name,c=dN(s,t);s.name||Object(A.n)("Facet must have a name: "+Object(A.Z)(s)),s.data||Object(A.n)("Facet must reference a data set: "+Object(A.Z)(s)),s.field?o=t.add(IA({field:t.fieldRef(s.field),pulse:c})):s.groupby?o=t.add(_A({key:t.keyRef(s.groupby),group:HC(t.proxy(n.parent)),pulse:c})):Object(A.n)("Facet must specify groupby or field: "+Object(A.Z)(s)),i=(r=t.fork()).add(wA()),a=r.add(UA({pulse:HC(i)})),r.addData(u,new hN(r,i,i,a)),r.addSignal("parent",null),o.params.subflow={$subflow:NN(e,r).toRuntime()}}(e,t,i):w?function(e,t,n){var r=t.add(IA({pulse:n.pulse})),i=t.fork();i.add(UA()),i.addSignal("parent",null),r.params.subflow={$subflow:NN(e,i).toRuntime()}}(e,t,i):NN(e,t),t.popState(),w&&(y&&n.push(y),n.push(s))),x&&(m=function(e,t,n){var r,i=e.method,a=e.bound,o=e.separation,s={separation:YC(o)?n.signalRef(o.signal):o,method:YC(i)?n.signalRef(i.signal):i,pulse:t};e.order&&(s.sort=n.compareRef({field:e.order}));a&&(r=a.tolerance,s.boundTolerance=YC(r)?n.signalRef(r.signal):+r,s.boundScale=n.scaleRef(a.scale),s.boundOrient=a.orient);return HC(n.add(MA(s)))}(x,m,t)),u=t.add(LA({pulse:m})),c=t.add(UA({pulse:HC(u)},void 0,t.parent())),null!=e.name&&(l=e.name,t.addData(l,new hN(t,a,u,c)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&Object(A.n)("Marks only support modify triggers."),bN(e,t,l)})))};var wN=function(e,t){var n,r,i,a,o,s,u,c,l,f=t.config.legend,d=e.encode||{},h=d.legend||{},p=h.name||void 0,m=h.interactive,v=h.style,g=NT(e,f),b=sT.reduce((function(t,n){return t||e[n]}),0);return b||Object(A.n)("Missing valid scale for legend."),o=function(e,t){var n=e.type||"symbol";e.type||1!==function(e){return sT.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=Lm(t)?"gradient":Um(t)?"discrete":"symbol");return"gradient"!==n?n:Um(t)?"discrete":"gradient"}(e,t.scaleType(b)),s={title:null!=e.title,type:o,vgrad:"symbol"!==o&&g.isVertical()},u=HC(t.add(wA(null,[s]))),h=_T(function(e,t){var n={enter:{},update:{}};return ET(n,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:t.strokeWidth,strokeDash:t.strokeDash,x:e("legendX"),y:e("legendY")}),n}(g,f),h,uT),n={enter:{x:{value:0},y:{value:0}}},c=HC(t.add(CA(i={type:o,scale:t.scaleRef(b),count:t.objectProperty(g("tickCount")),limit:t.property(g("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),"gradient"===o?(a=[FT(e,b,f,d.gradient),BT(e,f,d.labels,c)],i.count=i.count||t.signalRef("max(2,2*floor((".concat(QC(g.gradientLength()),")/100))"))):"discrete"===o?a=[PT(e,b,f,d.gradient,c),BT(e,f,d.labels,c)]:(r=function(e,t){var n=NT(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,f),a=[WT(e,f,d,c,QC(r.columns))],i.size=function(e,t,n){var r=QC(xN("size",e,n)),i=QC(xN("strokeWidth",e,n)),a=QC(function(e,t,n){return RT("fontSize",e)||function(e,t,n){var r=t.config.style[n];return r&&r[e]}("fontSize",t,n)}(n[1].encode,t,"guide-label"));return UC("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(a,")"),t)}(e,t,a[0].marks)),a=[UT("legend-entry",null,null,u,m,n,a,r)],s.title&&a.push(function(e,t,n,r){var i,a=NT(e,t);return ET(i={enter:{opacity:cT},update:{opacity:lT,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:cT}},{orient:a("titleOrient"),_anchor:a("titleAnchor"),anchor:{signal:YT},angle:{signal:ZT},align:{signal:XT},baseline:{signal:JT},text:e.title,fill:a("titleColor"),fillOpacity:a("titleOpacity"),font:a("titleFont"),fontSize:a("titleFontSize"),fontStyle:a("titleFontStyle"),fontWeight:a("titleFontWeight"),limit:a("titleLimit"),lineHeight:a("titleLineHeight")},{align:a("titleAlign"),baseline:a("titleBaseline")}),AT("text","legend-title","guide-title",null,r,i,n)}(e,f,d.title,u)),l=UT("legend",v,p,u,m,h,a),e.zindex&&(l.zindex=e.zindex),yN(l,t)};function xN(e,t,n){return t[e]?'scale("'.concat(t[e],'",datum)'):RT(e,n[0].encode)}var ON='item.orient==="'.concat("left",'"?-90:item.orient==="').concat("right",'"?90:0'),kN=function(e,t){var n,r,i=NT(e=Object(A.H)(e)?{text:e}:e,t.config.title),a=e.encode||{},o=a.group||{},s=o.name||void 0,u=o.interactive,c=o.style,l=[];return n=HC(t.add(wA(null,[{}]))),l.push(function(e,t,n,r){var i={value:0},a=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return ET(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),AT("text","title-text","group-title",null,r,o,n)}(e,i,function(e){var t=e.encode;return t&&t.title||Object(A.o)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),n)),e.subtitle&&l.push(function(e,t,n,r){var i={value:0},a=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return ET(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),AT("text","title-subtitle","group-subtitle",null,r,o,n)}(e,i,a.subtitle,n)),r=UT("title",c,s,n,u,function(e,t){var n={enter:{},update:{}};return ET(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:DT},angle:{signal:ON},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),_T(n,t,uT)}(i,o),l),e.zindex&&(r.zindex=e.zindex),yN(r,t)};function EN(e,t){var n=[];e.transform&&e.transform.forEach((function(e){n.push(iN(e,t))})),e.on&&e.on.forEach((function(n){bN(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){var r,i,a,o,s,u=[],c=null,l=!1,f=!1;e.values?ZC(e.values)||ZC(e.format)?(u.push(SN(t,e)),u.push(c=_N())):u.push(c=_N({$ingest:e.values,$format:e.format})):e.url?ZC(e.url)||ZC(e.format)?(u.push(SN(t,e)),u.push(c=_N())):u.push(c=_N({$request:e.url,$format:e.format})):e.source&&(c=r=Object(A.i)(e.source).map((function(e){return HC(t.getData(e).output)})),u.push(null));for(i=0,a=n.length;i<a;++i)o=n[i],s=o.metadata,c||s.source||u.push(c=_N()),u.push(o),s.generates&&(f=!0),s.modifies&&!f&&(l=!0),s.source?c=o:s.changes&&(c=null);r&&(a=r.length-1,u[0]=zA({derive:l,pulse:a?r:r[0]}),(l||a)&&u.splice(1,0,_N()));c||u.push(_N());return u.push(UA({})),u}(e,t,n))}function _N(e){var t=wA({},e);return t.metadata={source:!0},t}function SN(e,t){return AA({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}function jN(e,t){return{scale:e.scale,range:t}}var CN=function(e,t,n,r,i){var a,o,s,u,c,l,f,d,h,p=NT(e,t),m=e.orient,v=e.gridScale,g="left"===m||"top"===m?1:-1,b=function(e,t){if(1===t);else if(Object(A.F)(e)){for(var n=e=Object(A.o)({},e);null!=n.mult;){if(!Object(A.F)(n.mult))return n.mult*=t,e;n=n.mult=Object(A.o)({},n.mult)}n.mult=t}else e=t*(e||0);return e}(e.offset,g);return ET(a={enter:o={opacity:cT},update:u={opacity:lT},exit:s={opacity:cT}},{stroke:p("gridColor"),strokeDash:p("gridDash"),strokeDashOffset:p("gridDashOffset"),strokeOpacity:p("gridOpacity"),strokeWidth:p("gridWidth")}),c={scale:e.scale,field:oT,band:i.band,extra:i.extra,offset:i.offset,round:p("tickRound")},"top"===m||"bottom"===m?(l="x",f="y",h="height"):(l="y",f="x",h="width"),d=f+"2",u[l]=o[l]=s[l]=c,v?(u[f]=o[f]={scale:v,range:0,mult:g,offset:b},u[d]=o[d]={scale:v,range:1,mult:g,offset:b}):(u[f]=o[f]={value:0,offset:b},u[d]=o[d]={signal:h,mult:g,offset:b}),AT("rule","axis-grid",null,oT,r,a,n)};function AN(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}var TN=function(e,t){var n,r,i,a,o,s,u=function(e,t){var n=t.config,r=e.orient,i="top"===r||"bottom"===r?n.axisX:n.axisY,a=n["axis"+r[0].toUpperCase()+r.slice(1)],o="band"===t.scaleType(e.scale)&&n.axisBand;return i||a||o?Object(A.o)({},n.axis,i,a,o):n.axis}(e,t),c=e.encode||{},l=c.axis||{},f=l.name||void 0,d=l.interactive,h=l.style,p=NT(e,u),m=function(e){var t,n,r=e("tickBand"),i=e("tickOffset");return r?r.signal?(t={signal:"(".concat(r.signal,")==='extent'?1:0.5")},n={signal:"(".concat(r.signal,")==='extent'?true:false")},Object(A.F)(i)||(i={signal:"(".concat(r.signal,")==='extent'?0:").concat(i)})):"extent"===r?(t=1,n=!0,i=0):(t=.5,n=!1):(t=e("bandPosition"),n=e("tickExtra")),{extra:n,band:t,offset:i}}(p);return n={orient:e.orient,ticks:!!p("ticks"),labels:!!p("labels"),grid:!!p("grid"),domain:!!p("domain"),title:null!=e.title,translate:p("translate")},r=HC(t.add(wA({},[n]))),l=_T({update:{offset:OT(p("offset")||0),position:OT(JC(e.position,0)),titlePadding:OT(p("titlePadding")),minExtent:OT(p("minExtent")),maxExtent:OT(p("maxExtent")),range:{signal:'abs(span(range("'.concat(e.scale,'")))')}}},c.axis,uT),i=HC(t.add(bA({scale:t.scaleRef(e.scale),extra:t.property(m.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),s=[],n.grid&&s.push(CN(e,u,c.grid,i,m)),n.ticks&&(a=p("tickSize"),s.push(function(e,t,n,r,i,a){var o,s,u,c,l,f,d=NT(e,t),h=e.orient,p="left"===h||"top"===h?-1:1;return ET(o={enter:s={opacity:cT},update:c={opacity:lT},exit:u={opacity:cT}},{stroke:d("tickColor"),strokeDash:d("tickDash"),strokeDashOffset:d("tickDashOffset"),strokeOpacity:d("tickOpacity"),strokeWidth:d("tickWidth")}),(l=OT(i)).mult=p,f={scale:e.scale,field:oT,band:a.band,extra:a.extra,offset:a.offset,round:d("tickRound")},"top"===h||"bottom"===h?(c.y=s.y=cT,c.y2=s.y2=l,c.x=s.x=u.x=f):(c.x=s.x=cT,c.x2=s.x2=l,c.y=s.y=u.y=f),AT("rule","axis-tick",null,oT,r,o,n)}(e,u,c.ticks,i,a,m))),n.labels&&(a=n.ticks?a:0,s.push(function(e,t,n,r,i,a){var o,s,u,c,l,f,d,h,p,m,v,g=NT(e,t),b=e.orient,y="left"===b||"top"===b?-1:1,w="top"===b||"bottom"===b,x=e.scale,O=QC(g("labelFlush")),k=QC(g("labelFlushOffset")),E=0===O||!!O,_=g("labelAlign"),S=g("labelBaseline");return(c=OT(i)).mult=y,c.offset=OT(g("labelPadding")||0),c.offset.mult=y,l={scale:x,field:oT,band:.5,offset:IT(a.offset,g("labelOffset"))},w?(f=_||(E?AN(x,O,'"left"','"right"','"center"'):"center"),d=S||("top"===b?"bottom":"top"),h=!_):(f=_||("right"===b?"left":"right"),d=S||(E?AN(x,O,'"top"','"bottom"','"middle"'):"middle"),h=!S),h=h&&E&&k?AN(x,O,"-("+k+")",k,0):null,ET(s={enter:u={opacity:cT,x:w?l:c,y:w?c:l},update:{opacity:lT,text:{field:"label"},x:u.x,y:u.y},exit:{opacity:cT,x:u.x,y:u.y}},(o={},Object(to.a)(o,w?"dx":"dy",h),Object(to.a)(o,"align",f),Object(to.a)(o,"baseline",d),Object(to.a)(o,"angle",g("labelAngle")),Object(to.a)(o,"fill",g("labelColor")),Object(to.a)(o,"fillOpacity",g("labelOpacity")),Object(to.a)(o,"font",g("labelFont")),Object(to.a)(o,"fontSize",g("labelFontSize")),Object(to.a)(o,"fontWeight",g("labelFontWeight")),Object(to.a)(o,"fontStyle",g("labelFontStyle")),Object(to.a)(o,"limit",g("labelLimit")),Object(to.a)(o,"lineHeight",g("labelLineHeight")),o)),p=g("labelBound"),m=g("labelOverlap"),v=g("labelSeparation"),e=AT("text","axis-label","guide-label",oT,r,s,n),(m||p)&&(e.overlap={separation:v,method:m,order:"datum.index",bound:p?{scale:x,orient:b,tolerance:p}:null}),e}(e,u,c.labels,i,a,m))),n.domain&&s.push(function(e,t,n,r){var i,a,o,s,u,c,l=NT(e,t),f=e.orient;return ET(i={enter:a={opacity:cT},update:o={opacity:lT},exit:{opacity:cT}},{stroke:l("domainColor"),strokeDash:l("domainDash"),strokeDashOffset:l("domainDashOffset"),strokeWidth:l("domainWidth"),strokeOpacity:l("domainOpacity")}),"top"===f||"bottom"===f?(s="x",c="y"):(s="y",c="x"),u=s+"2",a[c]=cT,o[s]=a[s]=jN(e,0),o[u]=a[u]=jN(e,1),AT("rule","axis-domain",null,null,r,i,n)}(e,u,c.domain,r)),n.title&&s.push(function(e,t,n,r){var i,a,o,s,u=NT(e,t),c=e.orient,l="left"===c||"top"===c?-1:1,f="top"===c||"bottom"===c;return i={enter:a={opacity:cT,anchor:OT(u("titleAnchor")),align:{signal:DT}},update:o=Object(A.o)({},a,{opacity:lT,text:OT(e.title)}),exit:{opacity:cT}},s={signal:'lerp(range("'.concat(e.scale,'"), ').concat(MT(0,1,.5),")")},f?(o.x=s,a.angle={value:0},a.baseline={value:"top"===c?"bottom":"top"}):(o.y=s,a.angle={value:90*l},a.baseline={value:"bottom"}),ET(i,{angle:u("titleAngle"),baseline:u("titleBaseline"),fill:u("titleColor"),fillOpacity:u("titleOpacity"),font:u("titleFont"),fontSize:u("titleFontSize"),fontStyle:u("titleFontStyle"),fontWeight:u("titleFontWeight"),limit:u("titleLimit"),lineHeight:u("titleLineHeight")},{align:u("titleAlign")}),!kT(i,"x",u("titleX"),"update")&&!f&&!CT("x",n)&&(i.enter.auto={value:!0}),!kT(i,"y",u("titleY"),"update")&&f&&!CT("y",n)&&(i.enter.auto={value:!0}),AT("text","axis-title","guide-title",null,r,i,n)}(e,u,c.title,r)),o=UT("axis",h,f,r,d,l,s),e.zindex&&(o.zindex=e.zindex),yN(o,t)},NN=function(e,t,n){var r=Object(A.i)(e.signals),i=Object(A.i)(e.scales);return n||r.forEach((function(e){return BC(e,t)})),Object(A.i)(e.projections).forEach((function(e){return function(e,t){var n=t.config.projection||{},r={};for(var i in e)"name"!==i&&(r[i]=aT(e[i],i,t));for(i in n)null==r[i]&&(r[i]=aT(n[i],i,t));t.addProjection(e.name,r)}(e,t)})),i.forEach((function(e){return function(e,t){var n=e.type||"linear";Pm(n)||Object(A.n)("Unrecognized scale type: "+Object(A.Z)(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t)})),Object(A.i)(e.data).forEach((function(e){return EN(e,t)})),i.forEach((function(e){return $A(e,t)})),(n||r).forEach((function(e){return function(e,t){var n=t.getSignal(e.name),r=e.update;e.init&&(r?Object(A.n)("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=UC(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach((function(e){pA(e,t,n.id)}))}(e,t)})),Object(A.i)(e.axes).forEach((function(e){return TN(e,t)})),Object(A.i)(e.marks).forEach((function(e){return yN(e,t)})),Object(A.i)(e.legends).forEach((function(e){return wN(e,t)})),e.title&&kN(e.title,t),t.parseLambdas(),t};function RN(e,t){var n,r,i,a,o,s,u=t.config;return o=HC(t.root=t.add(qC())),(s=function(e,t){var n=function(n){return JC(e[n],t[n])},r=[MN("background",n("background")),MN("autosize",IC(n("autosize"))),MN("padding",PC(n("padding"))),MN("width",n("width")||0),MN("height",n("height")||0)],i=r.reduce((function(e,t){return e[t.name]=t,e}),{}),a={};return Object(A.i)(e.signals).forEach((function(e){Object(A.v)(i,e.name)?e=Object(A.o)(i[e.name],e):r.push(e),a[e.name]=e})),Object(A.i)(t.signals).forEach((function(e){Object(A.v)(a,e.name)||Object(A.v)(i,e.name)||r.push(e)})),r}(e,u)).forEach((function(e){return BC(e,t)})),t.description=e.description||u.description,t.eventConfig=u.events,t.legends=t.objectProperty(u.legend&&u.legend.layout),r=t.add(wA()),i=_T({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e.encode),i=t.add(kA(ST(i,"group","frame",e.style,t,{pulse:HC(r)}))),a=t.add(VA({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:o,pulse:HC(i)})),t.operators.pop(),t.pushState(HC(i),HC(a),null),NN(e,t,s),t.operators.push(a),n=t.add(yA({mark:o,pulse:HC(a)})),n=t.add(LA({pulse:HC(n)})),n=t.add(UA({pulse:HC(n)})),t.addData("root",new hN(t,r,r,n)),t}function MN(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function DN(e){this.config=e,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function IN(e){this.config=e.config,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}var FN=DN.prototype=IN.prototype;function PN(e){return(Object(A.A)(e)?zN:LN)(e)}function zN(e){for(var t,n="[",r=0,i=e.length;r<i;++r)t=e[r],n+=(r>0?",":"")+(Object(A.F)(t)?t.signal||PN(t):Object(A.Z)(t));return n+"]"}function LN(e){var t,n,r="{",i=0;for(t in e)n=e[t],r+=(++i>1?",":"")+Object(A.Z)(t)+":"+(Object(A.F)(n)?n.signal||PN(n):Object(A.Z)(n));return r+"}"}FN.fork=function(){return new IN(this)},FN.isSubscope=function(){return this._subid>0},FN.toRuntime=function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},FN.id=function(){return(this._subid?this._subid+":":0)+this._id++},FN.add=function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},FN.proxy=function(e){var t=e instanceof WC?HC(e):e;return this.add(PA({value:t}))},FN.addStream=function(e){return this.streams.push(e),e.id=this.id(),e},FN.addUpdate=function(e){return this.updates.push(e),e},FN.finish=function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},FN.pushState=function(e,t,n){this._encode.push(HC(this.add(UA({pulse:e})))),this._parent.push(t),this._lookup.push(n?HC(this.proxy(n)):null),this._markpath.push(-1)},FN.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},FN.parent=function(){return Object(A.U)(this._parent)},FN.encode=function(){return Object(A.U)(this._encode)},FN.lookup=function(){return Object(A.U)(this._lookup)},FN.markpath=function(){var e=this._markpath;return++e[e.length-1]},FN.fieldRef=function(e,t){if(Object(A.H)(e))return GC(e,t);e.signal||Object(A.n)("Unsupported field reference: "+Object(A.Z)(e));var n,r=e.signal,i=this.field[r];return i||(n={name:this.signalRef(r)},t&&(n.as=t),this.field[r]=i=HC(this.add(SA(n)))),i},FN.compareRef=function(e){function t(e){return YC(e)?(r=!0,n.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(r=!0,n.exprRef(e.expr)):e}var n=this,r=!1,i=Object(A.i)(e.field).map(t),a=Object(A.i)(e.order).map(t);return r?HC(this.add(xA({fields:i,orders:a}))):KC(i,a)},FN.keyRef=function(e,t){var n=this.signals,r=!1;return e=Object(A.i)(e).map((function(e){return YC(e)?(r=!0,HC(n[e.signal])):e})),r?HC(this.add(jA({fields:e,flat:t}))):function(e,t){var n={$key:e};return t&&(n.$flat=!0),n}(e,t)},FN.sortRef=function(e){if(!e)return e;var t=XC(e.op,e.field),n=e.order||"ascending";return n.signal?HC(this.add(xA({fields:t,orders:this.signalRef(n.signal)}))):KC(t,n)},FN.event=function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},FN.hasOwnSignal=function(e){return Object(A.v)(this.signals,e)},FN.addSignal=function(e,t){this.hasOwnSignal(e)&&Object(A.n)("Duplicate signal name: "+Object(A.Z)(e));var n=t instanceof WC?t:this.add(qC(t));return this.signals[e]=n},FN.getSignal=function(e){return this.signals[e]||Object(A.n)("Unrecognized signal name: "+Object(A.Z)(e)),this.signals[e]},FN.signalRef=function(e){return this.signals[e]?HC(this.signals[e]):(Object(A.v)(this.lambdas,e)||(this.lambdas[e]=this.add(qC(null))),HC(this.lambdas[e]))},FN.parseLambdas=function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=UC(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},FN.property=function(e){return e&&e.signal?this.signalRef(e.signal):e},FN.objectProperty=function(e){return e&&Object(A.F)(e)?this.signalRef(e.signal||PN(e)):e},FN.exprRef=function(e,t){var n={expr:UC(e,this)};return t&&(n.expr.$name=t),HC(this.add(EA(n)))},FN.addBinding=function(e,t){this.bindings||Object(A.n)("Nested signals do not support binding: "+Object(A.Z)(e)),this.bindings.push(Object(A.o)({signal:e},t))},FN.addScaleProj=function(e,t){Object(A.v)(this.scales,e)&&Object(A.n)("Duplicate scale or projection name: "+Object(A.Z)(e)),this.scales[e]=this.add(t)},FN.addScale=function(e,t){this.addScaleProj(e,BA(t))},FN.addProjection=function(e,t){this.addScaleProj(e,FA(t))},FN.getScale=function(e){return this.scales[e]||Object(A.n)("Unrecognized scale name: "+Object(A.Z)(e)),this.scales[e]},FN.projectionRef=FN.scaleRef=function(e){return HC(this.getScale(e))},FN.projectionType=FN.scaleType=function(e){return this.getScale(e).params.type},FN.addData=function(e,t){return Object(A.v)(this.data,e)&&Object(A.n)("Duplicate data set name: "+Object(A.Z)(e)),this.data[e]=t},FN.getData=function(e){return this.data[e]||Object(A.n)("Undefined data set name: "+Object(A.Z)(e)),this.data[e]},FN.addDataPipeline=function(e,t){return Object(A.v)(this.data,e)&&Object(A.n)("Duplicate data set name: "+Object(A.Z)(e)),this.addData(e,hN.fromEntries(this,t))};var BN=function(e,t){return Object(A.F)(e)||Object(A.n)("Input Vega specification must be an object."),RN(e,new DN(t=Object(A.N)({description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}},t,e.config))).toRuntime()};Object(A.o)(mr,r,i,o,s,u,c,l,f,d,h);var UN=n(429);Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var WN=n(430),VN=n.n(WN),qN=n(431),HN=n.n(qN),GN=n(117),$N=n.n(GN);function KN(e){return!!e.or}function XN(e){return!!e.and}function YN(e){return!!e.not}function ZN(e,t){return YN(e)?{not:ZN(e.not,t)}:XN(e)?{and:e.and.map((function(e){return ZN(e,t)}))}:KN(e)?{or:e.or.map((function(e){return ZN(e,t)}))}:t(e)}var JN=HN.a,QN=VN.a;function eR(e,t){var n,r={},i=Object(Sr.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;Object(A.v)(e,a)&&(r[a]=e[a])}}catch(o){i.e(o)}finally{i.f()}return r}function tR(e,t){var n,r=Object.assign({},e),i=Object(Sr.a)(t);try{for(i.s();!(n=i.n()).done;){delete r[n.value]}}catch(a){i.e(a)}finally{i.f()}return r}Set.prototype.toJSON=function(){return"Set(".concat(Object(dh.a)(this).map((function(e){return $N()(e)})).join(","),")")};var nR=$N.a;function rR(e){if(Object(A.E)(e))return e;var t=Object(A.H)(e)?e:$N()(e);if(t.length<250)return t;for(var n=0,r=0;r<t.length;r++){n=(n<<5)-n+t.charCodeAt(r),n&=n}return n}function iR(e){return!1===e||null===e}function aR(e,t){return e.indexOf(t)>-1}function oR(e,t){var n,r=0,i=Object(Sr.a)(e.entries());try{for(i.s();!(n=i.n()).done;){var a=Object(wi.a)(n.value,2),o=a[0];if(t(a[1],o,r++))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}function sR(e,t){var n,r=0,i=Object(Sr.a)(e.entries());try{for(i.s();!(n=i.n()).done;){var a=Object(wi.a)(n.value,2),o=a[0];if(!t(a[1],o,r++))return!1}}catch(s){i.e(s)}finally{i.f()}return!0}function uR(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object(A.jb)(e,i,t[i],!0)}}function cR(e,t){var n,r,i=[],a={},o=Object(Sr.a)(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;(n=t(s))in a||(a[n]=1,i.push(s))}}catch(u){o.e(u)}finally{o.f()}return i}function lR(e,t){var n,r=Object(Sr.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.has(i))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}function fR(e){var t,n=new Set,r=Object(Sr.a)(e);try{var i=function(){var e=t.value,r=Object(A.Y)(e).map((function(e,t){return 0===t?e:"[".concat(e,"]")}));r.map((function(e,t){return r.slice(0,t+1).join("")})).forEach((function(e){return n.add(e)}))};for(r.s();!(t=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}return n}function dR(e,t){return void 0===e||void 0===t||lR(fR(e),fR(t))}var hR=Object.keys;function pR(e){var t=[];for(var n in e)Object(A.v)(e,n)&&t.push(e[n]);return t}function mR(e){return!0===e||!1===e}function vR(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function gR(e,t){return YN(e)?"!("+gR(e.not,t)+")":XN(e)?"("+e.and.map((function(e){return gR(e,t)})).join(") && (")+")":KN(e)?"("+e.or.map((function(e){return gR(e,t)})).join(") || (")+")":t(e)}function bR(e,t){if(0===t.length)return!0;var n=t.shift();return bR(e[n],t)&&delete e[n],0===hR(e).length}function yR(e){return e.charAt(0).toUpperCase()+e.substr(1)}function wR(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum",n=Object(A.Y)(e),r=[],i=1;i<=n.length;i++){var a="[".concat(n.slice(0,i).map(A.Z).join("]["),"]");r.push("".concat(t).concat(a))}return r.join(" && ")}function xR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return"".concat(t,"[").concat(Object(A.Z)(Object(A.Y)(e).join(".")),"]")}function OR(e){return"".concat(Object(A.Y)(e).map((function(e){return kR(e,".","\\.")})).join("\\."))}function kR(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function ER(e){return"".concat(Object(A.Y)(e).join("."))}function _R(e){return e?Object(A.Y)(e).length:0}function SR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];if(void 0!==a)return a}}var jR=42;function CR(e){var t=++jR;return e?String(e)+t:t}function AR(e){return function(e){return 0===e.indexOf("__")}(e)?e:"__".concat(e)}function TR(e){return(e%360+360)%360}var NR={area:1,bar:1,image:1,line:1,point:1,text:1,tick:1,trail:1,rect:1,geoshape:1,rule:1,circle:1,square:1};function RR(e){return aR(["line","area","trail"],e)}function MR(e){return aR(["rect","bar","image"],e)}var DR=hR(NR);function IR(e){return e.type}Object(A.db)(DR);var FR=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),PR=["filled","color","tooltip","invalid","timeUnitBandPosition","timeUnitBand"],zR={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},LR={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function BR(e){return!!e.mark}var UR=function(){function e(t,n){Object(Vk.a)(this,e),this.name=t,this.run=n}return Object(qk.a)(e,[{key:"hasMatchingType",value:function(e){return!!BR(e)&&(IR(t=e.mark)?t.type:t)===this.name;var t}}]),e}(),WR={argmax:1,argmin:1,average:1,count:1,distinct:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},VR={count:1,min:1,max:1};function qR(e){return!!e&&!!e.argmin}function HR(e){return!!e&&!!e.argmax}hR(WR);function GR(e){return Object(A.H)(e)&&!!WR[e]}var $R=["count","valid","missing","distinct"];function KR(e){return Object(A.H)(e)&&aR($R,e)}var XR=["count","sum","distinct","valid","missing"],YR=Object(A.db)(["mean","average","median","q1","q3","min","max"]),ZR="row",JR="x",QR="y",eM="color",tM="fill",nM="stroke",rM="shape",iM="size",aM="opacity",oM="fillOpacity",sM="strokeOpacity",uM="strokeWidth",cM={x:1,y:1,x2:1,y2:1};var lM={longitude:1,longitude2:1,latitude:1,latitude2:1};var fM=hR(lM),dM=Object.assign(Object.assign(Object.assign({},cM),lM),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,size:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1});function hM(e){return"color"===e||"fill"===e||"stroke"===e}var pM={row:1,column:1,facet:1},mM=hR(pM),vM=Object.assign(Object.assign({},dM),pM),gM=hR(vM),bM=(vM.order,vM.detail,vM.tooltip,x(vM,["order","detail","tooltip"])),yM=(bM.row,bM.column,bM.facet,x(bM,["row","column","facet"]));hR(bM),hR(yM);function wM(e){return!!vM[e]}var xM=["x2","y2","latitude2","longitude2"];function OM(e){return kM(e)!==e}function kM(e){switch(e){case"x2":return"x";case"y2":return"y";case"latitude2":return"latitude";case"longitude2":return"longitude"}return e}function EM(e){switch(e){case"x":return"x2";case"y":return"y2";case"latitude":return"latitude2";case"longitude":return"longitude2"}}hR(dM),dM.x,dM.y,dM.x2,dM.y2,dM.latitude,dM.longitude,dM.latitude2,dM.longitude2;var _M=x(dM,["x","y","x2","y2","latitude","longitude","latitude2","longitude2"]),SM=hR(_M),jM={x:1,y:1},CM=hR(jM);function AM(e){return"x"===e?"width":"height"}function TM(e){return"width"===e?"x":"y"}_M.text,_M.tooltip,_M.href,_M.url,_M.detail,_M.key,_M.order;var NM=x(_M,["text","tooltip","href","url","detail","key","order"]),RM=hR(NM);var MM=Object.assign(Object.assign({},jM),NM),DM=hR(MM);function IM(e){return!!MM[e]}function FM(e,t){return function(e){switch(e){case eM:case tM:case nM:case"detail":case"key":case"tooltip":case"href":case"order":case aM:case oM:case sM:case uM:case"facet":case ZR:case"column":return PM;case JR:case QR:case"latitude":case"longitude":return zM;case"x2":case"y2":case"latitude2":case"longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case iM:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case rM:return{point:"always",geoshape:"always"};case"text":return{text:"always"};case"url":return{image:"always"}}}(e)[t]}var PM={area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},zM=x(PM,["geoshape"]);function LM(e){switch(e){case JR:case QR:case iM:case uM:case aM:case oM:case sM:case"x2":case"y2":return;case"facet":case ZR:case"column":case rM:case"text":case"tooltip":case"href":case"url":return"discrete";case eM:case tM:case nM:return"flexible";case"latitude":case"longitude":case"latitude2":case"longitude2":case"detail":case"key":case"order":return}}function BM(e){return"Invalid specification ".concat(JSON.stringify(e),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}var UM='Autosize "fit" only works for single views and layered views.';function WM(e){return"".concat("width"==e?"Width":"Height",' "container" only works for single views and layered views.')}function VM(e){return"".concat("width"==e?"Width":"Height",' "container" only works well with autosize "fit" or "fit-x".')}function qM(e){return e?'Dropping "fit-'.concat(e,'" because spec has discrete ').concat(AM(e),"."):'Dropping "fit" because spec has discrete size.'}function HM(e){return'Cannot project a selection on encoding channel "'.concat(e,'", which has no field.')}function GM(e,t){return'Cannot project a selection on encoding channel "'.concat(e,'" as it uses an aggregate function ("').concat(t,'").')}function $M(e){return'The "nearest" transform is not supported for '.concat(e," marks.")}function KM(e){return"Selection not supported for ".concat(e," yet.")}function XM(e){return'Cannot find a selection named "'.concat(e,'".')}var YM="Scale bindings are currently only supported for scales with unbinned, continuous domains.",ZM="Legend bindings are only supported for selections over an individual field or encoding channel.";function JM(e){return'Cannot define and lookup the "'.concat(e,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?"}function QM(e){return'Unknown repeated value "'.concat(e,'".')}function eD(e){return'The "columns" property cannot be used when "'.concat(e,'" has nested row/column.')}var tD="Axes cannot be shared in concatenated views yet (https://github.com/vega/vega-lite/issues/2415).",nD="Axes cannot be shared in repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function rD(e){return'Unrecognized parse "'.concat(e,'".')}function iD(e,t,n){return'An ancestor parsed field "'.concat(e,'" as ').concat(n," but a child wants to parse the field as ").concat(t,".")}function aD(e){return"Ignoring an invalid transform: ".concat(nR(e),".")}var oD='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function sD(e){return"Layer's shared ".concat(e.join(",")," channel ").concat(1===e.length?"is":"are"," overriden.")}function uD(e){var t=e.parentProjection,n=e.projection;return"Layer's shared projection ".concat(nR(t)," is overridden by a child projection ").concat(nR(n),".")}function cD(e,t,n){return"Channel ".concat(e," is a ").concat(t,". Converted to {value: ").concat(nR(n),"}.")}function lD(e){return'Invalid field type "'.concat(e,'".')}function fD(e,t,n){var r=n.scaleType?"".concat(n.scaleType," scale"):n.zeroFalse?"scale with zero=false":"scale with custom domain that excludes zero";return"A ".concat(r," is used to encode ").concat(e,"'s ").concat(t,". This can be misleading as the ").concat("x"===t?"width":"height"," of the ").concat(e," can be arbitrary based on the scale domain. You may want to use point mark instead.")}function dD(e,t){return'Invalid field type "'.concat(e,'" for aggregate: "').concat(t,'", using "quantitative" instead.')}function hD(e){return'Invalid aggregation operator "'.concat(e,'".')}function pD(e,t){return'Missing type for channel "'.concat(e,'", using "').concat(t,'" instead.')}function mD(e,t){var n=t.fill,r=t.stroke;return"Dropping color ".concat(e," as the plot also has ").concat(n&&r?"fill and stroke":n?"fill":"stroke",".")}function vD(e,t){return"Dropping ".concat(nR(e),' from channel "').concat(t,'" since it does not contain data field or value.')}function gD(e,t,n){return"".concat(e,"-encoding with type ").concat(t," is deprecated. Replacing with ").concat(n,"-encoding.")}var bD="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function yD(e,t,n){return"".concat(e,' dropped as it is incompatible with "').concat(t,'"').concat(n?" when ".concat(n):"",".")}function wD(e){return"".concat(e,"-encoding is dropped as ").concat(e," is not a valid encoding channel.")}function xD(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned).")}function OD(e){return"Facet encoding dropped as ".concat(e.join(" and ")," ").concat(e.length>1?"are":"is"," also specified.")}function kD(e,t){return'Using discrete channel "'.concat(e,'" to encode "').concat(t,'" field can be misleading as it does not encode ').concat("ordinal"===t?"order":"magnitude",".")}function ED(e,t){return"Line mark is for continuous lines and thus cannot be used with ".concat(e&&t?"x2 and y2":e?"x2":"y2",". We will use the rule mark (line segments) instead.")}function _D(e,t){return'Specified orient "'.concat(e,'" overridden with "').concat(t,'".')}var SD="Custom domain scale cannot be unioned with default field-based domain.",jD='Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.';function CD(e){return'Cannot use the scale property "'.concat(e,'" with non-color channel.')}function AD(e){return"Using unaggregated domain with raw field has no effect (".concat(nR(e),").")}function TD(e){return'Unaggregated domain not applicable for "'.concat(e,'" since it produces values outside the origin domain of the source data.')}function ND(e){return"Unaggregated domain is currently unsupported for log scale (".concat(nR(e),").")}function RD(e){return'Cannot apply size to non-oriented mark "'.concat(e,'".')}function MD(e,t,n){return'Channel "'.concat(e,'" does not work with "').concat(t,'" scale. We are using "').concat(n,'" scale instead.')}function DD(e,t){return'FieldDef does not work with "'.concat(e,'" scale. We are using "').concat(t,'" scale instead.')}function ID(e,t,n){return"".concat(n,"-scale's \"").concat(t,'" is dropped as it does not work with ').concat(e," scale.")}function FD(e,t){return'Scale type "'.concat(t,'" does not work with mark "').concat(e,'".')}function PD(e){return'The step for "'.concat(e,'" is dropped because the ').concat("width"===e?"x":"y"," is continuous.")}function zD(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(nR(n)," and ").concat(nR(r),"). Using ").concat(nR(n),".")}function LD(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(nR(n)," and ").concat(nR(r),"). Using the union of the two domains.")}function BD(e){return'Setting the scale to be independent for "'.concat(e,'" means we also have to set the guide (axis or legend) to be independent.')}function UD(e){return"Dropping sort property ".concat(nR(e),' as unioned domains only support boolean or op "count", "min", and "max".')}var WD="Unable to merge domains.",VD="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",qD="Invalid channel for axis.";function HD(e){return'Cannot stack "'.concat(e,'" if there is already "').concat(e,'2".')}function GD(e){return"Cannot stack non-linear scale (".concat(e,").")}function $D(e){return'Stacking is applied even though the aggregate function is non-summative ("'.concat(e,'").')}function KD(e,t){return"Invalid ".concat(e,": ").concat(nR(t),".")}function XD(e){return'Time unit "'.concat(e,'" is not supported. We are replacing it with ').concat(kR(e,"day","date"),".")}function YD(e){return"Dropping day from datetime ".concat(nR(e)," as day cannot be combined with other units.")}function ZD(e,t){return"".concat(t?"extent ":"").concat(t&&e?"and ":"").concat(e?"center ":"").concat(t&&e?"are ":"is ","not needed when data are aggregated.")}function JD(e,t,n){return"".concat(e," is not usually used with ").concat(t," for ").concat(n,".")}function QD(e,t){return"Continuous axis should not have customized aggregation function ".concat(e,"; ").concat(t," already agregates the axis.")}function eI(e,t){return"Center is not needed to be specified in ".concat(t," when extent is ").concat(e,".")}function tI(e){return"1D error band does not support ".concat(e,".")}function nI(e){return"Channel ".concat(e,' is required for "binned" bin.')}function rI(e){return"Domain for ".concat(e," is required for threshold scale.")}var iI=m,aI=Object(A.K)(A.e),oI=aI;function sI(e){return oI=e}function uI(){return oI=aI}function cI(){var e;(e=oI).warn.apply(e,arguments)}function lI(e){return!!e&&(!!e.year||!!e.quarter||!!e.month||!!e.date||!!e.day||!!e.hours||!!e.minutes||!!e.seconds||!!e.milliseconds)}var fI,dI=["january","february","march","april","may","june","july","august","september","october","november","december"],hI=dI.map((function(e){return e.substr(0,3)})),pI=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],mI=pI.map((function(e){return e.substr(0,3)}));function vI(e){if(Object(A.E)(e))return e>4&&cI(iI.invalidTimeUnit("quarter",e)),(e-1).toString();throw new Error(iI.invalidTimeUnit("quarter",e))}function gI(e){if(Object(A.E)(e))return(e-1).toString();var t=e.toLowerCase(),n=dI.indexOf(t);if(-1!==n)return n+"";var r=t.substr(0,3),i=hI.indexOf(r);if(-1!==i)return i+"";throw new Error(iI.invalidTimeUnit("month",e))}function bI(e){if(Object(A.E)(e))return e%7+"";var t=e.toLowerCase(),n=pI.indexOf(t);if(-1!==n)return n+"";var r=t.substr(0,3),i=mI.indexOf(r);if(-1!==i)return i+"";throw new Error(iI.invalidTimeUnit("day",e))}function yI(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];if(t&&void 0!==e.day&&hR(e).length>1&&(cI(iI.droppedDay(e)),delete(e=QN(e)).day),void 0!==e.year?r.push(e.year):void 0!==e.day?r.push(2006):r.push(0),void 0!==e.month){var i=t?gI(e.month):e.month;r.push(i)}else if(void 0!==e.quarter){var a=t?vI(e.quarter):e.quarter;r.push(a+"*3")}else r.push(0);if(void 0!==e.date)r.push(e.date);else if(void 0!==e.day){var o=t?bI(e.day):e.day;r.push(o+"+1")}else r.push(1);for(var s=0,u=["hours","minutes","seconds","milliseconds"];s<u.length;s++){var c=u[s],l=e[c];r.push("undefined"===typeof l?0:l)}var f=r.join(", ");return n?e.utc?new Function("return +new Date(Date.UTC(".concat(f,"))"))():new Function("return +new Date(".concat(f,")"))():e.utc?"utc(".concat(f,")"):"datetime(".concat(f,")")}!function(e){e.YEAR="year",e.MONTH="month",e.DAY="day",e.DATE="date",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.MILLISECONDS="milliseconds",e.YEARMONTH="yearmonth",e.YEARMONTHDATE="yearmonthdate",e.YEARMONTHDATEHOURS="yearmonthdatehours",e.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",e.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",e.MONTHDATE="monthdate",e.MONTHDATEHOURS="monthdatehours",e.HOURSMINUTES="hoursminutes",e.HOURSMINUTESSECONDS="hoursminutesseconds",e.MINUTESSECONDS="minutesseconds",e.SECONDSMILLISECONDS="secondsmilliseconds",e.QUARTER="quarter",e.YEARQUARTER="yearquarter",e.QUARTERMONTH="quartermonth",e.YEARQUARTERMONTH="yearquartermonth",e.UTCYEAR="utcyear",e.UTCMONTH="utcmonth",e.UTCDAY="utcday",e.UTCDATE="utcdate",e.UTCHOURS="utchours",e.UTCMINUTES="utcminutes",e.UTCSECONDS="utcseconds",e.UTCMILLISECONDS="utcmilliseconds",e.UTCYEARMONTH="utcyearmonth",e.UTCYEARMONTHDATE="utcyearmonthdate",e.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",e.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",e.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",e.UTCMONTHDATE="utcmonthdate",e.UTCMONTHDATEHOURS="utcmonthdatehours",e.UTCHOURSMINUTES="utchoursminutes",e.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",e.UTCMINUTESSECONDS="utcminutesseconds",e.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",e.UTCQUARTER="utcquarter",e.UTCYEARQUARTER="utcyearquarter",e.UTCQUARTERMONTH="utcquartermonth",e.UTCYEARQUARTERMONTH="utcyearquartermonth"}(fI||(fI={}));var wI={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},xI=hR(wI);var OI={utcyear:1,utcquarter:1,utcmonth:1,utcday:1,utcdate:1,utchours:1,utcminutes:1,utcseconds:1,utcmilliseconds:1};var kI={utcyearquarter:1,utcyearquartermonth:1,utcyearmonth:1,utcyearmonthdate:1,utcyearmonthdatehours:1,utcyearmonthdatehoursminutes:1,utcyearmonthdatehoursminutesseconds:1,utcquartermonth:1,utcmonthdate:1,utcmonthdatehours:1,utchoursminutes:1,utchoursminutesseconds:1,utcminutesseconds:1,utcsecondsmilliseconds:1},EI=Object.assign(Object.assign({},OI),kI);function _I(e){return!!EI[e]}var SI=Object.assign(Object.assign(Object.assign(Object.assign({},wI),OI),{yearquarter:1,yearquartermonth:1,yearmonth:1,yearmonthdate:1,yearmonthdatehours:1,yearmonthdatehoursminutes:1,yearmonthdatehoursminutesseconds:1,quartermonth:1,monthdate:1,monthdatehours:1,hoursminutes:1,hoursminutesseconds:1,minutesseconds:1,secondsmilliseconds:1}),kI),jI=(hR(SI),{"year-month":"%b %Y ","year-month-date":"%b %d, %Y "});function CI(e){return xI.reduce((function(t,n){return AI(e,n)?[].concat(Object(dh.a)(t),[n]):t}),[])}function AI(e,t){var n=e.indexOf(t);return n>-1&&(t!==fI.SECONDS||0===n||"i"!==e.charAt(n-1))}function TI(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1},i=r.end,a=wR(t),o=_I(e)?"utc":"";function s(e){return e===fI.QUARTER?"(".concat(o,"quarter(").concat(a,")-1)"):"".concat(o).concat(e,"(").concat(a,")")}var u=xI.reduce((function(t,r){return AI(e,r)&&(t[r]=s(r),n=r),t}),{});return i&&(u[n]+="+1"),yI(u)}function NI(e,t,n){if(e){var r=function(e){if(e){var t=CI(e);return"timeUnitSpecifier(".concat($N()(t),", ").concat($N()(jI),")")}}(e);return n?"utcFormat(".concat(t,", ").concat(r,")"):"timeFormat(".concat(t,", ").concat(r,")")}}function RI(e){return"day"!==e&&e.indexOf("day")>=0?(cI(iI.dayReplacedWithDate(e)),kR(e,"day","date")):e}function MI(e){return e&&!!e.field&&void 0!==e.equal}function DI(e){return e&&!!e.field&&void 0!==e.lt}function II(e){return e&&!!e.field&&void 0!==e.lte}function FI(e){return e&&!!e.field&&void 0!==e.gt}function PI(e){return e&&!!e.field&&void 0!==e.gte}function zI(e){return!!(e&&e.field&&Object(A.A)(e.range)&&2===e.range.length)}function LI(e){return e&&!!e.field&&(Object(A.A)(e.oneOf)||Object(A.A)(e.in))}function BI(e){return e&&!!e.field&&void 0!==e.valid}function UI(e){return LI(e)||MI(e)||zI(e)||DI(e)||FI(e)||II(e)||PI(e)}function WI(e,t){return wP(e,{timeUnit:t,time:!0})}function VI(e,t){return e.map((function(e){return WI(e,t)}))}function qI(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.field,r=e.timeUnit,i=r?"time("+TI(r,n)+")":tP(e,{expr:"datum"});if(MI(e))return i+"==="+WI(e.equal,r);if(DI(e)){var a=e.lt;return"".concat(i,"<").concat(WI(a,r))}if(FI(e)){var o=e.gt;return"".concat(i,">").concat(WI(o,r))}if(II(e)){var s=e.lte;return"".concat(i,"<=").concat(WI(s,r))}if(PI(e)){var u=e.gte;return"".concat(i,">=").concat(WI(u,r))}if(LI(e))return"indexof([".concat(VI(e.oneOf,r).join(","),"], ").concat(i,") !== -1");if(BI(e))return HI(i,e.valid);if(zI(e)){var c=e.range[0],l=e.range[1];if(null!==c&&null!==l&&t)return"inrange("+i+", ["+WI(c,r)+", "+WI(l,r)+"])";var f=[];return null!==c&&f.push("".concat(i," >= ").concat(WI(c,r))),null!==l&&f.push("".concat(i," <= ").concat(WI(l,r))),f.length>0?f.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(JSON.stringify(e)))}function HI(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?"isValid(".concat(e,") && isFinite(+").concat(e,")"):"!isValid(".concat(e,") || !isFinite(+").concat(e,")")}function GI(e){return UI(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:RI(e.timeUnit)}):e}var $I={quantitative:1,ordinal:1,temporal:1,nominal:1,geojson:1};var KI;!function(e){e.LINEAR="linear",e.LOG="log",e.POW="pow",e.SQRT="sqrt",e.SYMLOG="symlog",e.TIME="time",e.UTC="utc",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.BIN_ORDINAL="bin-ordinal",e.ORDINAL="ordinal",e.POINT="point",e.BAND="band"}(KI||(KI={}));var XI={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},YI=hR(XI);var ZI={linear:0,log:1,pow:1,sqrt:1,symlog:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function JI(e){return ZI[e]}var QI=["linear","log","pow","sqrt","symlog","time","utc"],eF=Object(A.db)(QI),tF=Object(A.db)(["quantile","quantize","threshold"]),nF=QI.concat(["quantile","quantize","threshold"]),rF=Object(A.db)(nF),iF=Object(A.db)(["ordinal","bin-ordinal","point","band"]);function aF(e){return e in iF}function oF(e){return e in rF}function sF(e){return e in eF}function uF(e){return e in tF}function cF(e){var t;return null===(t=e)||void 0===t?void 0:t.selection}var lF={type:1,domain:1,align:1,range:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},fF=(hR(lF),x(lF,["type","domain","range","scheme"])),dF=hR(fF);!function(){var e,t,n={},r=Object(Sr.a)(gM);try{for(r.s();!(t=r.n()).done;){var i,a=t.value,o=Object(Sr.a)(hR($I));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=Object(Sr.a)(YI);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=gF(a,u);vF(a,l)&&mF(l,u)&&(n[f]=null!==(e=n[f])&&void 0!==e?e:[],n[f].push(l))}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}}}catch(d){r.e(d)}finally{r.f()}}();function hF(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!aR(["point","band","identity"],e);case"bins":return!aR(["point","band","identity","ordinal"],e);case"round":return sF(e)||"band"===e||"point"===e;case"padding":return sF(e)||aR(["point","band"],e);case"paddingOuter":case"align":return aR(["point","band"],e);case"paddingInner":return"band"===e;case"clamp":return sF(e);case"nice":return sF(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return oF(e)&&!aR(["log","time","utc","threshold","quantile"],e)}}function pF(e,t){switch(t){case"interpolate":case"scheme":return hM(e)?void 0:iI.cannotUseScalePropertyWithNonColor(e);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"reverse":case"round":case"clamp":case"zero":return}}function mF(e,t){return aR(["ordinal","nominal"],t)?void 0===e||aF(e):"temporal"===t?aR([KI.TIME,KI.UTC,void 0],e):"quantitative"!==t||aR([KI.LOG,KI.POW,KI.SQRT,KI.SYMLOG,KI.QUANTILE,KI.QUANTIZE,KI.THRESHOLD,KI.LINEAR,void 0],e)}function vF(e,t){switch(e){case JR:case QR:return sF(t)||aR(["band","point"],t);case iM:case uM:case aM:case oM:case sM:return sF(t)||uF(t)||aR(["band","point"],t);case eM:case tM:case nM:return"band"!==t;case rM:return"ordinal"===t}return!1}function gF(e,t){return e+"_"+t}function bF(e){var t=e.anchor,n=e.frame,r=e.offset,i=e.orient,a=e.color,o=x(e,["anchor","frame","offset","orient","color"]);return{mark:Object.assign(Object.assign({},o),a?{fill:a}:{}),nonMark:Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{})}}function yF(e){return Object(A.H)(e)||Object(A.A)(e)&&Object(A.H)(e[0])}function wF(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function xF(e,t,n){return SR(t[e],OF(e,t,n))}function OF(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel;return SR(i?kF(e,t,n.style):void 0,kF(e,t,n.style),i?n[t.type][i]:void 0,n[t.type][e],i?n.mark[i]:n.mark[e])}function kF(e,t,n){var r,i,a=wF(t),o=Object(Sr.a)(a);try{for(o.s();!(i=o.n()).done;){var s=n[i.value],u=e;s&&void 0!==s[u]&&(r=s[u])}}catch(c){o.e(c)}finally{o.f()}return r}function EF(e,t,n,r){if(yP(e)){var i=ZF(e)&&e.scale&&e.scale.type===KI.UTC;return{signal:AF(tP(e,{expr:n}),e.timeUnit,t,r.timeFormat,i,!0)}}var a=_F(e,t,r);return EP(e.bin)?{signal:CF(tP(e,{expr:n}),tP(e,{expr:n,binSuffix:"end"}),a,r)}:"quantitative"===e.type||a?{signal:"".concat(SF(tP(e,{expr:n,binSuffix:"range"}),a))}:{signal:"''+".concat(tP(e,{expr:n}))}}function _F(e,t,n){return t||("quantitative"===e.type?n.numberFormat:void 0)}function SF(e,t){return"format(".concat(e,', "').concat(t||"",'")')}function jF(e,t,n){return SF(e,null!==t&&void 0!==t?t:n.numberFormat)}function CF(e,t,n,r){return"".concat(HI(e,!1),' ? "null" : ').concat(jF(e,n,r),' + "').concat(" \u2013 ",'" + ').concat(jF(t,n,r))}function AF(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return!t||n?(n=null!==n&&void 0!==n?n:r)||a?"".concat(i?"utc":"time","Format(").concat(e,", '").concat(n,"')"):void 0:NI(t,e,i)}function TF(e,t){return Object(A.i)(e).reduce((function(e,n){var r;return e.field.push(tP(n,t)),e.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),e}),{field:[],order:[]})}function NF(e,t){var n=Object(dh.a)(e);return t.forEach((function(e){var t,r=Object(Sr.a)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(JN(i,e))return}}catch(a){r.e(a)}finally{r.f()}n.push(e)})),n}function RF(e,t){return JN(e,t)||!t?e:e?[].concat(Object(dh.a)(Object(A.i)(e)),Object(dh.a)(Object(A.i)(t))).join(", "):t}function MF(e,t){var n=e.value,r=t.value;if(null==n||null===r)return{explicit:e.explicit,value:null};if(yF(n)&&yF(r))return{explicit:e.explicit,value:RF(n,r)};if(!yF(n)&&!yF(r))return{explicit:e.explicit,value:NF(n,r)};throw new Error("It should never reach here")}var DF={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function IF(e){return!!DF[e]}function FF(e){return!!e&&!!e.encoding}function PF(e){return!!e&&("count"===e.op||!!e.field)}function zF(e){return!!e&&Object(A.A)(e)}function LF(e){return!!e.row||!!e.column}function BF(e){return void 0!==e.facet}function UF(e){var t=e.field,n=e.timeUnit,r=e.bin,i=e.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:t})}function WF(e){return KF(e)&&!!e.sort}function VF(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=a.isMidPoint,s=t.timeUnit,u=t.bin;if(aR(["x","y"],e)){if(JF(t)&&void 0!==t.band)return t.band;if(s&&!n)return o?OF("timeUnitBandPosition",r,i):MR(r.type)?OF("timeUnitBand",r,i):0;if(EP(u))return MR(r.type)&&!o?1:.5}}function qF(e,t,n,r,i){return!!(EP(t.bin)||t.timeUnit&&KF(t)&&"temporal"===t.type)&&!!VF(e,t,n,r,i)}function HF(e){return!!e&&!!e.condition}function GF(e){return!!e&&!!e.condition&&!Object(A.A)(e.condition)&&$F(e.condition)}function $F(e){return!!e&&(!!e.field||"count"===e.aggregate)}function KF(e){return!!e&&(!!e.field&&!!e.type||"count"===e.aggregate)}function XF(e){return $F(e)&&Object(A.H)(e.field)}function YF(e){return e&&"value"in e&&void 0!==e.value}function ZF(e){return!!e&&(!!e.scale||!!e.sort)}function JF(e){return!!e&&(!!e.axis||!!e.stack||!!e.impute||void 0!==e.band)}function QF(e){return!!e&&!!e.format}function eP(e){return!!e.op}function tP(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.field,o=i.prefix,s=i.suffix,u="";if(iP(e))a=AR("count");else{var c;if(!i.nofn)if(eP(e))c=e.op;else{var l=e.bin,f=e.aggregate,d=e.timeUnit;EP(l)?(c=kP(l),s=(null!==(t=i.binSuffix)&&void 0!==t?t:"")+(null!==(n=i.suffix)&&void 0!==n?n:"")):f?HR(f)?(u=".".concat(a),a="argmax_".concat(f.argmax)):qR(f)?(u=".".concat(a),a="argmin_".concat(f.argmin)):c=String(f):d&&(c=String(d),s=(!aR(["range","mid"],i.binSuffix)&&i.binSuffix||"")+(null!==(r=i.suffix)&&void 0!==r?r:""))}c&&(a=a?"".concat(c,"_").concat(a):c)}return s&&(a="".concat(a,"_").concat(s)),o&&(a="".concat(o,"_").concat(a)),i.forAs?a:i.expr?xR(a,i.expr)+u:OR(a)+u}function nP(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return!!e.bin;case"temporal":return!1}throw new Error(iI.invalidFieldType(e.type))}function rP(e){return!nP(e)}function iP(e){return"count"===e.aggregate}var aP=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){var t=e.aggregate,n=e.bin,r=e.timeUnit,i=e.field;if(HR(t))return"".concat(i," for argmax(").concat(t.argmax,")");if(qR(t))return"".concat(i," for argmin(").concat(t.argmin,")");var a=t||r||EP(n)&&"bin";return a?a.toUpperCase()+"("+i+")":i}(e);default:return function(e,t){var n=e.field,r=e.bin,i=e.timeUnit,a=e.aggregate;if("count"===a)return t.countTitle;if(EP(r))return"".concat(n," (binned)");if(i){var o=CI(i).join("-");return"".concat(n," (").concat(o,")")}return a?HR(a)?"".concat(n," for max ").concat(a.argmax):qR(a)?"".concat(n," for min ").concat(a.argmin):"".concat(yR(a)," of ").concat(n):n}(e,t)}},oP=aP;function sP(e){oP=e}function uP(){sP(aP)}function cP(e,t,n){var r,i,a=n.allowDisabling,o=n.includeDefault,s=void 0===o||o,u=(null!==(r=lP(e))&&void 0!==r?r:{}).title,c=s?fP(e,t):void 0;return a?SR(u,e.title,c):null!==(i=null!==u&&void 0!==u?u:e.title)&&void 0!==i?i:c}function lP(e){return JF(e)&&e.axis?e.axis:(t=e)&&t.legend&&e.legend?e.legend:function(e){return!!e&&!!e.header}(e)&&e.header?e.header:void 0;var t}function fP(e,t){return oP(e,t)}function dP(e){var t;return QF(e)&&e.format?e.format:(null!==(t=lP(e))&&void 0!==t?t:{}).format}function hP(e){return $F(e)?e:GF(e)?e.condition:void 0}function pP(e){return $F(e)?e:GF(e)?e.condition:void 0}function mP(e,t){if(Object(A.H)(e)||Object(A.E)(e)||Object(A.B)(e)){var n=Object(A.H)(e)?"string":Object(A.E)(e)?"number":"boolean";return cI(iI.primitiveChannelDef(t,n,e)),{value:e}}return $F(e)?vP(e,t):GF(e)?Object.assign(Object.assign({},e),{condition:vP(e.condition,t)}):e}function vP(e,t){var n=e.aggregate,r=e.timeUnit,i=e.bin,a=e.field,o=Object.assign({},e);if(!n||GR(n)||HR(n)||qR(n)||(cI(iI.invalidAggregate(n)),delete o.aggregate),r&&(o.timeUnit=RI(r)),a&&(o.field="".concat(a)),EP(i)&&(o.bin=gP(i,t)),_P(i)&&!aR(CM,t)&&cI("Channel ".concat(t,' should not be used with "binned" bin')),KF(o)){var s=o.type,u=function(e){if(e)switch(e=e.toLowerCase()){case"q":case"quantitative":return"quantitative";case"t":case"temporal":return"temporal";case"o":case"ordinal":return"ordinal";case"n":case"nominal":return"nominal";case"geojson":return"geojson"}}(s);s!==u&&(o.type=u),"quantitative"!==s&&KR(n)&&(cI(iI.invalidFieldTypeForCountAggregate(s,n)),o.type="quantitative")}else if(!OM(t)){var c=function(e,t){if(e.timeUnit)return"temporal";if(EP(e.bin))return"quantitative";switch(LM(t)){case"continuous":return"quantitative";case"discrete":case"flexible":return"nominal";default:return"quantitative"}}(o,t);cI(iI.missingFieldType(t,c)),o.type=c}if(KF(o)){var l=function(e,t){var n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:"Channel ".concat(t," should not be used with a geojson data.")};switch(t){case"row":case"column":case"facet":return rP(e)?{compatible:!1,warning:iI.facetChannelShouldBeDiscrete(t)}:bP;case"x":case"y":case"color":case"fill":case"stroke":case"text":case"detail":case"key":case"tooltip":case"href":case"url":return bP;case"longitude":case"longitude2":case"latitude":case"latitude2":return"quantitative"!==n?{compatible:!1,warning:"Channel ".concat(t," should be used with a quantitative field only, not ").concat(e.type," field.")}:bP;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"size":case"x2":case"y2":return"nominal"!==n||e.sort?bP:{compatible:!1,warning:"Channel ".concat(t," should not be used with an unsorted discrete field.")};case"shape":return aR(["ordinal","nominal","geojson"],e.type)?bP:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case"order":return"nominal"!==e.type||"sort"in e?bP:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}throw new Error("channelCompatability not implemented for channel "+t)}(o,t),f=l.compatible,d=l.warning;f||cI(d)}if(WF(o)&&Object(A.H)(o.sort)){var h=o.sort;if(IF(h))return Object.assign(Object.assign({},o),{sort:{encoding:h}});var p=h.substr(1);if("-"===h.charAt(0)&&IF(p))return Object.assign(Object.assign({},o),{sort:{encoding:p,order:"descending"}})}return o}function gP(e,t){return Object(A.B)(e)?{maxbins:CP(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:CP(t)})}var bP={compatible:!0};function yP(e){var t=lP(e),n=t&&t.formatType||QF(e)&&e.formatType;return"time"===n||!n&&function(e){return"temporal"===e.type||!!e.timeUnit}(e)}function wP(e,t){var n,r,i=t.timeUnit,a=t.type,o=t.time,s=t.undefinedIfExprNotRequired;return lI(e)?n=yI(e,!0):(Object(A.H)(e)||Object(A.E)(e))&&(i||"temporal"===a)&&(n=function(e){return!!wI[e]}(i)?yI(Object(to.a)({},i,e),!0):function(e){return!!OI[e]}(i)?wP(e,{timeUnit:(r=i,r.substr(3))}):"datetime(".concat(JSON.stringify(e),")")),n?o?"time(".concat(n,")"):n:s?void 0:JSON.stringify(e)}function xP(e,t){var n=e.timeUnit,r=e.type;return t.map((function(e){var t=wP(e,{timeUnit:n,type:r,undefinedIfExprNotRequired:!0});return void 0!==t?{signal:t}:e}))}function OP(e,t){return EP(e.bin)?IM(t)&&aR(["ordinal","nominal"],e.type):(console.warn("Only use this method with binned field defs"),!1)}function kP(e){return Object(A.B)(e)&&(e=gP(e,void 0)),"bin"+hR(e).map((function(t){return jP(e[t])?vR("_".concat(t,"_").concat(Object.entries(e[t]))):vR("_".concat(t,"_").concat(e[t]))})).join("")}function EP(e){return!0===e||SP(e)&&!e.binned}function _P(e){return"binned"===e||SP(e)&&!0===e.binned}function SP(e){return Object(A.F)(e)}function jP(e){var t;return null===(t=e)||void 0===t?void 0:t.selection}function CP(e){switch(e){case ZR:case"column":case iM:case eM:case tM:case nM:case uM:case aM:case oM:case sM:case rM:return 6;default:return 10}}function AP(e,t){var n=e&&e[t];return!!n&&(Object(A.A)(n)?oR(n,(function(e){return!!e.field})):$F(n)||GF(n))}function TP(e){return oR(gM,(function(t){if(AP(e,t)){var n=e[t];if(Object(A.A)(n))return oR(n,(function(e){return!!e.aggregate}));var r=hP(n);return r&&!!r.aggregate}return!1}))}function NP(e,t){var n=[],r=[],i=[],a=[],o={};return DP(e,(function(s,u){if($F(s)){var c=s.field,l=s.aggregate,f=s.timeUnit,d=s.bin,h=x(s,["field","aggregate","timeUnit","bin"]);if(l||f||d){var p,m=lP(s),v=m&&m.title,g=tP(s,{forAs:!0}),b=Object.assign(Object.assign(Object.assign({},v?[]:{title:cP(s,t,{allowDisabling:!0})}),h),{field:g}),y="x"===u||"y"===u;if(l){if(HR(l)?(p="argmax",g=tP({op:"argmax",field:l.argmax},{forAs:!0}),b.field="".concat(g,".").concat(c)):qR(l)?(p="argmin",g=tP({op:"argmin",field:l.argmin},{forAs:!0}),b.field="".concat(g,".").concat(c)):"boxplot"!==l&&"errorbar"!==l&&"errorband"!==l&&(p=l),p){var w={op:p,as:g};c&&(w.field=c),a.push(w)}}else if(n.push(g),KF(s)&&EP(d)){if(r.push({bin:d,field:c,as:g}),n.push(tP(s,{binSuffix:"end"})),OP(s,u)&&n.push(tP(s,{binSuffix:"range"})),y){var O={field:g+"_end"};o[u+"2"]=O}b.bin="binned",OM(u)||(b.type="quantitative")}else if(f){i.push({timeUnit:f,field:c,as:g});var k=KF(s)&&"temporal"!==s.type&&"time";k&&("text"===u||"tooltip"===u?b.formatType=k:!function(e){return!!_M[e]}(u)?y&&(b.axis=Object.assign({formatType:k},b.axis)):b.legend=Object.assign({formatType:k},b.legend))}o[u]=b}else n.push(c),o[u]=e[u]}else o[u]=e[u]})),{bins:r,timeUnits:i,aggregate:a,groupby:n,encoding:o}}function RP(e,t){var n=t.type;return hR(e).reduce((function(r,i){var a;if(!wM(i))return cI(iI.invalidEncodingChannel(i)),r;if(!function(e,t,n){var r=FM(t,n);if(!r)return!1;if("binned"===r){var i=e["x2"===t?"x":"y"];return!!($F(i)&&$F(e[t])&&_P(i.bin))}return!0}(e,i,n))return cI(iI.incompatibleChannel(i,n)),r;if("size"===i&&"line"===n&&(null===(a=pP(e[i]))||void 0===a?void 0:a.aggregate))return cI(iI.LINE_WITH_VARYING_SIZE),r;if("color"===i&&(t.filled?"fill"in e:"stroke"in e))return cI(iI.droppingColor("encoding",{fill:"fill"in e,stroke:"stroke"in e})),r;var o=e[i];if("detail"===i||"order"===i&&!Object(A.A)(o)&&!YF(o)||"tooltip"===i&&Object(A.A)(o))o&&(r[i]=(Object(A.A)(o)?o:[o]).reduce((function(e,t){return $F(t)?e.push(vP(t,i)):cI(iI.emptyFieldDef(t,i)),e}),[]));else{if("tooltip"===i&&null===o)r[i]=null;else if(!$F(o)&&!YF(o)&&!HF(o))return cI(iI.emptyFieldDef(o,i)),r;r[i]=mP(o,i)}return r}),{})}function MP(e){var t,n=[],r=Object(Sr.a)(hR(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;if(AP(e,i)){var a,o=e[i],s=Object(A.A)(o)?o:[o],u=Object(Sr.a)(s);try{for(u.s();!(a=u.n()).done;){var c=a.value;$F(c)?n.push(c):GF(c)&&n.push(c.condition)}}catch(l){u.e(l)}finally{u.f()}}}}catch(l){r.e(l)}finally{r.f()}return n}function DP(e,t,n){if(e){var r,i=Object(Sr.a)(hR(e));try{var a=function(){var i=r.value,a=e[i];Object(A.A)(a)?a.forEach((function(e){t.call(n,e,i)})):t.call(n,a,i)};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}}function IP(e,t,n,r){return e?hR(e).reduce((function(n,i){var a=e[i];return Object(A.A)(a)?a.reduce((function(e,n){return t.call(r,e,n,i)}),n):t.call(r,n,a,i)}),n):n}function FP(e,t){return hR(t).reduce((function(n,r){switch(r){case"x":case"y":case"href":case"url":case"x2":case"y2":case"latitude":case"longitude":case"latitude2":case"longitude2":case"text":case"shape":case"tooltip":return n;case"order":if("line"===e||"trail"===e)return n;case"detail":case"key":var i=t[r];return(Object(A.A)(i)||$F(i))&&(Object(A.A)(i)?i:[i]).forEach((function(e){e.aggregate||n.push(tP(e,{}))})),n;case"size":if("trail"===e)return n;case"color":case"fill":case"stroke":case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":var a=pP(t[r]);return a&&!a.aggregate&&n.push(tP(a,{})),n}}),[])}function PP(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};var i=e.map((function(e){var n=e.fieldPrefix,i=e.titlePrefix;return{field:n+t.field,type:t.type,title:i+(r?" of "+t.field:"")}}));return{tooltip:[].concat(Object(dh.a)(i),Object(dh.a)(MP(n)))}}function zP(e){var t=e.axis,n=e.title,r=e.field;return t&&void 0!==t.title?void 0:SR(n,r)}function LP(e,t,n,r,i){var a=n.scale,o=n.axis;return function(s){var u=s.partName,c=s.mark,l=s.positionPrefix,f=s.endPositionPrefix,d=void 0===f?void 0:f,h=s.extraEncoding,p=void 0===h?{}:h,m=zP(n);return BP(e,u,i,{mark:c,encoding:Object.assign(Object.assign(Object.assign(Object(to.a)({},t,Object.assign(Object.assign(Object.assign({field:l+"_"+n.field,type:n.type},void 0!==m?{title:m}:{}),void 0!==a?{scale:a}:{}),void 0!==o?{axis:o}:{})),Object(A.H)(d)?Object(to.a)({},t+"2",{field:d+"_"+n.field,type:n.type}):{}),r),p)})}}function BP(e,t,n,r){var i=e.clip,a=e.color,o=e.opacity,s=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),i?{clip:i}:{}),a?{color:a}:{}),o?{opacity:o}:{}),IR(r.mark)?r.mark:{type:r.mark}),{style:"".concat(s,"-").concat(t)}),Object(A.B)(e[t])?{}:e[t])})]:[]}function UP(e,t,n){var r=e.encoding,i="vertical"===t?"y":"x",a=r[i],o=r[i+"2"],s=r[i+"Error"],u=r[i+"Error2"];return{continuousAxisChannelDef:WP(a,n),continuousAxisChannelDef2:WP(o,n),continuousAxisChannelDefError:WP(s,n),continuousAxisChannelDefError2:WP(u,n),continuousAxis:i}}function WP(e,t){if(e&&e.aggregate){var n=e.aggregate,r=x(e,["aggregate"]);return n!==t&&cI(iI.errorBarContinuousAxisHasCustomizedAggregate(n,t)),r}return e}function VP(e,t){var n=e.mark,r=e.encoding;if($F(r.x)&&rP(r.x)){if($F(r.y)&&rP(r.y)){if(void 0===r.x.aggregate&&r.y.aggregate===t)return"vertical";if(void 0===r.y.aggregate&&r.x.aggregate===t)return"horizontal";if(r.x.aggregate===t&&r.y.aggregate===t)throw new Error("Both x and y cannot have aggregate");return IR(n)&&n.orient?n.orient:"vertical"}return"horizontal"}if($F(r.y)&&rP(r.y))return"vertical";throw new Error("Need a valid continuous axis for "+t+"s")}var qP=hR({box:1,median:1,outliers:1,rule:1,ticks:1}),HP=new UR("boxplot",$P);function GP(e){return Object(A.E)(e)?"tukey":e}function $P(e,t){var n,r,i=t.config,a=e.mark,o=(e.encoding,e.selection),s=(e.projection,x(e,["mark","encoding","selection","projection"])),u=IR(a)?a:{type:a};o&&cI(iI.selectionNotSupported("boxplot"));var c,l=null!==(n=u.extent)&&void 0!==n?n:i.boxplot.extent,f=SR(u.size,i.boxplot.size),d=GP(l),h=function(e,t,n){var r=VP(e,"boxplot"),i=UP(e,r,"boxplot"),a=i.continuousAxisChannelDef,o=i.continuousAxis,s=a.field,u=GP(t),c=[].concat(Object(dh.a)(KP(s)),[{op:"median",field:s,as:"mid_box_"+s},{op:"min",field:s,as:("min-max"===u?"lower_whisker_":"min_")+s},{op:"max",field:s,as:("min-max"===u?"upper_whisker_":"max_")+s}]),l="min-max"===u||"tukey"===u?[]:[{calculate:'datum["upper_box_'.concat(s,'"] - datum["lower_box_').concat(s,'"]'),as:"iqr_"+s},{calculate:'min(datum["upper_box_'.concat(s,'"] + datum["iqr_').concat(s,'"] * ').concat(t,', datum["max_').concat(s,'"])'),as:"upper_whisker_"+s},{calculate:'max(datum["lower_box_'.concat(s,'"] - datum["iqr_').concat(s,'"] * ').concat(t,', datum["min_').concat(s,'"])'),as:"lower_whisker_"+s}],f=e.encoding,d=o,h=(f[d],function(e){var t,n,r=e.tooltip,i=x(e,["tooltip"]);return r?(Object(A.A)(r)?(r.forEach((function(e){e.aggregate?(t||(t=[]),t.push(e)):(n||(n=[]),n.push(e))})),t&&(i.tooltip=t)):r.aggregate?i.tooltip=r:n=r,Object(A.A)(n)&&1===n.length&&(n=n[0]),{customTooltipWithoutAggregatedField:n,filteredEncoding:i}):{filteredEncoding:e}}(x(f,["symbol"===typeof d?d:d+""]))),p=h.customTooltipWithoutAggregatedField,m=NP(h.filteredEncoding,n),v=m.bins,g=m.timeUnits,b=m.aggregate,y=m.groupby,w=m.encoding,O="vertical"===r?"horizontal":"vertical",k=r;return{transform:[].concat(Object(dh.a)(v),Object(dh.a)(g),[{aggregate:[].concat(Object(dh.a)(b),Object(dh.a)(c)),groupby:y}],l),groupby:y,aggregate:b,continuousAxisChannelDef:a,continuousAxis:o,encodingWithoutContinuousAxis:w,ticksOrient:O,boxOrient:k,customTooltipWithoutAggregatedField:p}}(e,l,i),p=h.transform,m=h.continuousAxisChannelDef,v=h.continuousAxis,g=h.groupby,b=h.aggregate,y=h.encodingWithoutContinuousAxis,w=h.ticksOrient,O=h.boxOrient,k=h.customTooltipWithoutAggregatedField,E=(y.color,y.size),_=x(y,["color","size"]),S=function(e){return LP(u,v,m,e,i.boxplot)},j=S(_),C=S(y),T=S(Object.assign(Object.assign({},_),E?{size:E}:{})),N=PP([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],m,y),R={type:"tick",color:"black",opacity:1,orient:w,invalid:null},M="min-max"===d?N:PP([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,y),D=[].concat(Object(dh.a)(j({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:M})),Object(dh.a)(j({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:M})),Object(dh.a)(j({partName:"ticks",mark:R,positionPrefix:"lower_whisker",extraEncoding:M})),Object(dh.a)(j({partName:"ticks",mark:R,positionPrefix:"upper_whisker",extraEncoding:M}))),I=[].concat(Object(dh.a)("tukey"!==d?D:[]),Object(dh.a)(C({partName:"box",mark:Object.assign(Object.assign({type:"bar"},f?{size:f}:{}),{orient:O,invalid:null}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:N})),Object(dh.a)(T({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},Object(A.F)(i.boxplot.median)&&i.boxplot.median.color?{color:i.boxplot.median.color}:{}),f?{size:f}:{}),{orient:w}),positionPrefix:"mid_box",extraEncoding:N})));if("min-max"!==d){var F='datum["lower_box_'.concat(m.field,'"]'),P='datum["upper_box_'.concat(m.field,'"]'),z="(".concat(P," - ").concat(F,")"),L="".concat(F," - ").concat(l," * ").concat(z),B="".concat(P," + ").concat(l," * ").concat(z),U='datum["'.concat(m.field,'"]'),W={joinaggregate:KP(m.field),groupby:g},V=void 0;"tukey"===d&&(V={transform:[{filter:"(".concat(L," <= ").concat(U,") && (").concat(U," <= ").concat(B,")")},{aggregate:[{op:"min",field:m.field,as:"lower_whisker_"+m.field},{op:"max",field:m.field,as:"upper_whisker_"+m.field},{op:"min",field:"lower_box_"+m.field,as:"lower_box_"+m.field},{op:"max",field:"upper_box_"+m.field,as:"upper_box_"+m.field}].concat(Object(dh.a)(b)),groupby:g}],layer:D});_.tooltip;var q=x(_,["tooltip"]),H=m.scale,G=m.axis,$=zP(m),K=BP(u,"outliers",i.boxplot,{transform:[{filter:"(".concat(U," < ").concat(L,") || (").concat(U," > ").concat(B,")")}],mark:"point",encoding:Object.assign(Object.assign(Object(to.a)({},v,Object.assign(Object.assign(Object.assign({field:m.field,type:m.type},void 0!==$?{title:$}:{}),void 0!==H?{scale:H}:{}),void 0!==G?{axis:G}:{})),q),k?{tooltip:k}:{})})[0];K&&V?c={transform:[W],layer:[K,V]}:K?(c=K).transform.unshift(W):V&&(c=V).transform.unshift(W)}return c?Object.assign(Object.assign({},s),{layer:[c,{transform:p,layer:I}]}):Object.assign(Object.assign({},s),{transform:(r=s.transform,null!==r&&void 0!==r?r:[]).concat(p),layer:I})}function KP(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}var XP=hR({ticks:1,rule:1}),YP=new UR("errorbar",ZP);function ZP(e,t){var n=t.config,r=QP(e,"errorbar",n),i=r.transform,a=r.continuousAxisChannelDef,o=r.continuousAxis,s=r.encodingWithoutContinuousAxis,u=r.ticksOrient,c=r.markDef,l=r.outerSpec,f=r.tooltipEncoding,d=LP(c,o,a,s,n.errorbar),h={type:"tick",orient:u};return Object.assign(Object.assign({},l),{transform:i,layer:[].concat(Object(dh.a)(d({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:f})),Object(dh.a)(d({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:f})),Object(dh.a)(d({partName:"rule",mark:"rule",positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f})))})}function JP(e,t){var n=e.encoding;if(function(e){return($F(e.x)||$F(e.y))&&!$F(e.x2)&&!$F(e.y2)&&!$F(e.xError)&&!$F(e.xError2)&&!$F(e.yError)&&!$F(e.yError2)}(n))return{orient:VP(e,t),inputType:"raw"};var r=function(e){return $F(e.x2)||$F(e.y2)}(n),i=function(e){return $F(e.xError)||$F(e.xError2)||$F(e.yError)||$F(e.yError2)}(n),a=n.x,o=n.y;if(r){if(i)throw new Error(t+" cannot be both type aggregated-upper-lower and aggregated-error");var s=n.x2,u=n.y2;if($F(s)&&$F(u))throw new Error(t+" cannot have both x2 and y2");if($F(s)){if($F(a)&&rP(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in "+t)}if($F(u)){if($F(o)&&rP(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in "+t)}throw new Error("No ranged axis")}var c=n.xError,l=n.xError2,f=n.yError,d=n.yError2;if($F(l)&&!$F(c))throw new Error(t+" cannot have xError2 without xError");if($F(d)&&!$F(f))throw new Error(t+" cannot have yError2 without yError");if($F(c)&&$F(f))throw new Error(t+" cannot have both xError and yError with both are quantiative");if($F(c)){if($F(a)&&rP(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if($F(f)){if($F(o)&&rP(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}function QP(e,t,n){var r,i=e.mark,a=e.encoding,o=e.selection,s=(e.projection,x(e,["mark","encoding","selection","projection"])),u=IR(i)?i:{type:i};o&&cI(iI.selectionNotSupported(t));var c=JP(e,t),l=c.orient,f=c.inputType,d=UP(e,l,t),h=d.continuousAxisChannelDef,p=d.continuousAxisChannelDef2,m=d.continuousAxisChannelDefError,v=d.continuousAxisChannelDefError2,g=d.continuousAxis,b=function(e,t,n,r,i,a,o,s){var u,c=[],l=[],f=t.field,d=!1;if("raw"===a){var h,p,m,v=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":s.errorbar.center,g=e.extent?e.extent:"mean"===v?"stderr":"iqr";if("median"===v!==("iqr"===g)&&cI(iI.errorBarCenterIsUsedWithWrongExtent(v,g,o)),"stderr"===g||"stdev"===g)c=[{op:g,field:f,as:"extent_"+f},{op:v,field:f,as:"center_"+f}],l=[{calculate:'datum["center_'.concat(f,'"] + datum["extent_').concat(f,'"]'),as:"upper_"+f},{calculate:'datum["center_'.concat(f,'"] - datum["extent_').concat(f,'"]'),as:"lower_"+f}],u=[{fieldPrefix:"center_",titlePrefix:yR(v)},{fieldPrefix:"upper_",titlePrefix:ez(v,g,"+")},{fieldPrefix:"lower_",titlePrefix:ez(v,g,"-")}],d=!0;else e.center&&e.extent&&cI(iI.errorBarCenterIsNotNeeded(e.extent,o)),"ci"===g?(h="mean",p="ci0",m="ci1"):(h="median",p="q1",m="q3"),c=[{op:p,field:f,as:"lower_"+f},{op:m,field:f,as:"upper_"+f},{op:h,field:f,as:"center_"+f}],u=[{fieldPrefix:"upper_",titlePrefix:cP({field:f,aggregate:m,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:cP({field:f,aggregate:p,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:cP({field:f,aggregate:h,type:"quantitative"},s,{allowDisabling:!1})}]}else{(e.center||e.extent)&&cI(iI.errorBarCenterAndExtentAreNotNeeded(e.center,e.extent)),"aggregated-upper-lower"===a?(u=[],l=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_"+f},{calculate:'datum["'.concat(f,'"]'),as:"lower_"+f}]):"aggregated-error"===a&&(u=[{fieldPrefix:"",titlePrefix:f}],l=[{calculate:'datum["'.concat(f,'"] + datum["').concat(r.field,'"]'),as:"upper_"+f}],i?l.push({calculate:'datum["'.concat(f,'"] + datum["').concat(i.field,'"]'),as:"lower_"+f}):l.push({calculate:'datum["'.concat(f,'"] - datum["').concat(r.field,'"]'),as:"lower_"+f}));var b,y=Object(Sr.a)(l);try{for(y.s();!(b=y.n()).done;){var w=b.value;u.push({fieldPrefix:w.as.substring(0,6),titlePrefix:kR(kR(w.calculate,'datum["',""),'"]',"")})}}catch(x){y.e(x)}finally{y.f()}}return{postAggregateCalculates:l,errorBarSpecificAggregate:c,tooltipSummary:u,tooltipTitleWithFieldName:d}}(u,h,p,m,v,f,t,n),y=b.errorBarSpecificAggregate,w=b.postAggregateCalculates,O=b.tooltipSummary,k=b.tooltipTitleWithFieldName,E=g,_=(a[E],"x"===g?"x2":"y2"),S=(a[_],"x"===g?"xError":"yError"),j=(a[S],"x"===g?"xError2":"yError2"),C=(a[j],NP(x(a,["symbol"===typeof E?E:E+"","symbol"===typeof _?_:_+"","symbol"===typeof S?S:S+"","symbol"===typeof j?j:j+""]),n)),A=C.bins,T=C.timeUnits,N=C.aggregate,R=C.groupby,M=C.encoding,D=[].concat(Object(dh.a)(N),Object(dh.a)(y)),I="raw"!==f?[]:R,F=PP(O,h,M,k);return{transform:[].concat(Object(dh.a)((r=s.transform,null!==r&&void 0!==r?r:[])),Object(dh.a)(A),Object(dh.a)(T),Object(dh.a)(0===D.length?[]:[{aggregate:D,groupby:I}]),Object(dh.a)(w)),groupby:I,continuousAxisChannelDef:h,continuousAxis:g,encodingWithoutContinuousAxis:M,ticksOrient:"vertical"===l?"horizontal":"vertical",markDef:u,outerSpec:s,tooltipEncoding:F}}function ez(e,t,n){return yR(e)+" "+n+" "+t}var tz=hR({band:1,borders:1}),nz=new UR("errorband",rz);function rz(e,t){var n=t.config,r=QP(e,"errorband",n),i=r.transform,a=r.continuousAxisChannelDef,o=r.continuousAxis,s=r.encodingWithoutContinuousAxis,u=r.markDef,c=r.outerSpec,l=r.tooltipEncoding,f=u,d=LP(f,o,a,s,n.errorband),h=void 0!==e.encoding.x&&void 0!==e.encoding.y,p={type:h?"area":"rect"},m={type:h?"line":"rule"},v=Object.assign(Object.assign({},f.interpolate?{interpolate:f.interpolate}:{}),f.tension&&f.interpolate?{interpolate:f.tension}:{});return h?(p=Object.assign(Object.assign({},p),v),m=Object.assign(Object.assign({},m),v)):f.interpolate?cI(iI.errorBand1DNotSupport("interpolate")):f.tension&&cI(iI.errorBand1DNotSupport("tension")),Object.assign(Object.assign({},c),{transform:i,layer:[].concat(Object(dh.a)(d({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})),Object(dh.a)(d({partName:"borders",mark:m,positionPrefix:"lower",extraEncoding:l})),Object(dh.a)(d({partName:"borders",mark:m,positionPrefix:"upper",extraEncoding:l})))})}var iz={};function az(e,t,n){var r=new UR(e,t);iz[e]={normalizer:r,parts:n}}az("boxplot",$P,qP),az("errorbar",ZP,XP),az("errorband",rz,tz);var oz=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],sz={clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},uz=(hR(sz),{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}});function cz(e){return!!e&&("legend"===e||!!e.legend)}function lz(e){return cz(e)&&Object(A.F)(e)}function fz(e){return void 0!==e.concat}function dz(e){return void 0!==e.vconcat}function hz(e){return void 0!==e.hconcat}function pz(e){return void 0!==e.repeat}function mz(e){return Object(A.F)(e)&&void 0!==e.step}var vz=hR({align:1,bounds:1,center:1,columns:1,spacing:1});function gz(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function bz(e,t){var n=yz(e,t);return mz(n)?n.step:wz}function yz(e,t){var n;return SR(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}var wz=20;var xz={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:wz},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},area:{},bar:zR,circle:{},geoshape:{},image:{},line:{},point:{},rect:LR,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},axis:{},axisX:{},axisY:{},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:uz,style:{},title:{},facet:{spacing:20},repeat:{spacing:20},concat:{spacing:20}};function Oz(e){return Object(A.N)({},xz,e)}var kz=["view"].concat(Object(dh.a)(DR)),Ez=["background","padding","facet","concat","repeat","numberFormat","timeFormat","countTitle","header","scale","selection","overlay"],_z=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function Sz(e){e=QN(e);var t,n=Object(Sr.a)(Ez);try{for(n.s();!(t=n.n()).done;){delete e[t.value]}}catch(O){n.e(O)}finally{n.f()}if(e.legend){var r,i=Object(Sr.a)(oz);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e.legend[a]}}catch(O){i.e(O)}finally{i.f()}}if(e.mark){var o,s=Object(Sr.a)(PR);try{for(s.s();!(o=s.n()).done;){var u=o.value;delete e.mark[u]}}catch(O){s.e(O)}finally{s.f()}}var c,l=Object(Sr.a)(kz);try{for(l.s();!(c=l.n()).done;){var f,d=c.value,h=Object(Sr.a)(PR);try{for(h.s();!(f=h.n()).done;){var p=f.value;delete e[d][p]}}catch(O){h.e(O)}finally{h.f()}var m=_z[d];if(m){var v,g=Object(Sr.a)(m);try{for(g.s();!(v=g.n()).done;){var b=v.value;delete e[d][b]}}catch(O){g.e(O)}finally{g.f()}}jz(e,d)}}catch(O){l.e(O)}finally{l.f()}var y,w=Object(Sr.a)(hR(iz));try{for(w.s();!(y=w.n()).done;){delete e[y.value]}}catch(O){w.e(O)}finally{w.f()}for(var x in jz(e,"title","group-title"),e)Object(A.F)(e[x])&&0===hR(e[x]).length&&delete e[x];return hR(e).length>0?e:void 0}function jz(e,t,n,r){var i="title"===t?bF(e.title).mark:r?e[t][r]:e[t];"view"===t&&(n="cell");var a=Object.assign(Object.assign({},i),e.style[t]);hR(a).length>0&&(e.style[null!==n&&void 0!==n?n:t]=a),r||delete e[t]}function Cz(e){return void 0!==e.layer}var Az=n(45);function Tz(e,t,n){return(Tz="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(Az.a)(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var Nz=n(15),Rz=n(16),Mz=function(){function e(){Object(Vk.a)(this,e)}return Object(qk.a)(e,[{key:"map",value:function(e,t){return BF(e)?this.mapFacet(e,t):pz(e)?this.mapRepeat(e,t):hz(e)?this.mapHConcat(e,t):dz(e)?this.mapVConcat(e,t):fz(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}},{key:"mapLayerOrUnit",value:function(e,t){if(Cz(e))return this.mapLayer(e,t);if(BR(e))return this.mapUnit(e,t);throw new Error(iI.invalidSpec(e))}},{key:"mapLayer",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{layer:e.layer.map((function(e){return n.mapLayerOrUnit(e,t)}))})}},{key:"mapHConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapVConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapConcat",value:function(e,t){var n=this,r=e.concat,i=x(e,["concat"]);return Object.assign(Object.assign({},i),{concat:r.map((function(e){return n.map(e,t)}))})}},{key:"mapFacet",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}},{key:"mapRepeat",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}]),e}(),Dz={zero:1,center:1,normalize:1};function Iz(e){return!!Dz[e]}var Fz=["bar","area","rule","point","circle","square","line","text","tick"],Pz=["bar","area"];function zz(e){var t=e.x,n=e.y;if($F(t)&&$F(n))if("quantitative"===t.type&&"quantitative"===n.type){if(t.stack)return"x";if(n.stack)return"y";if(!!t.aggregate!==!!n.aggregate)return t.aggregate?"x":"y"}else{if("quantitative"===t.type)return"x";if("quantitative"===n.type)return"y"}else{if($F(t)&&"quantitative"===t.type)return"x";if($F(n)&&"quantitative"===n.type)return"y"}}function Lz(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=IR(e)?e.type:e;if(!aR(Fz,r))return null;var i=zz(t);if(!i)return null;var a,o=t[i],s=XF(o)?tP(o,{}):void 0,u="x"===i?"y":"x",c=t[u],l=XF(c)?tP(c,{}):void 0,f=SM.reduce((function(e,n){if("tooltip"!==n&&AP(t,n)){var r=t[n];(Object(A.A)(r)?r:[r]).forEach((function(t){var r=pP(t);if(!r.aggregate){var i=XF(r)?tP(r,{}):void 0;(!i||i!==l&&i!==s)&&e.push({channel:n,fieldDef:r})}}))}return e}),[]);if(void 0!==o.stack?a=Object(A.B)(o.stack)?o.stack?"zero":null:o.stack:f.length>0&&aR(Pz,r)&&(a="zero"),!a||!Iz(a))return null;if(TP(t)&&0===f.length)return null;if(o.scale&&o.scale.type&&o.scale.type!==KI.LINEAR){if(n.disallowNonLinearStack)return null;cI(iI.cannotStackNonLinearScale(o.scale.type))}return AP(t,i===JR?"x2":"y2")?(void 0!==o.stack&&cI(iI.cannotStackRangedMark(i)),null):(o.aggregate&&!aR(XR,o.aggregate)&&cI(iI.stackNonSummativeAggregate(o.aggregate)),{groupbyChannel:c?u:void 0,fieldChannel:i,impute:null!==o.impute&&RR(r),stackBy:f,offset:a})}function Bz(e){e.point,e.line;var t=x(e,["point","line"]);return hR(t).length>1?t:t.type}function Uz(e){for(var t=0,n=["line","area","rule","trail"];t<n.length;t++){var r=n[t];e[r]&&(e=Object.assign(Object.assign({},e),Object(to.a)({},r,tR(e[r],["point","line"]))))}return e}function Wz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===e.point?{opacity:0}:e.point?Object(A.F)(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?Object(A.F)(t.point)?t.point:{}:void 0}function Vz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}var qz=function(){function e(){Object(Vk.a)(this,e),this.name="path-overlay"}return Object(qk.a)(e,[{key:"hasMatchingType",value:function(e,t){if(BR(e)){var n=e.mark,r=e.encoding,i=IR(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!Wz(i,t[i.type],r);case"area":return!!Wz(i,t[i.type],r)||!!Vz(i,t[i.type])}}return!1}},{key:"run",value:function(e,t,n){var r=t.config,i=e.selection,a=e.projection,o=e.encoding,s=e.mark,u=x(e,["selection","projection","encoding","mark"]),c=IR(s)?s:{type:s},l=Wz(c,r[c.type],o),f="area"===c.type&&Vz(c,r[c.type]),d=[Object.assign(Object.assign({},i?{selection:i}:{}),{mark:Bz(Object.assign(Object.assign({},c),"area"===c.type?{opacity:.7}:{})),encoding:tR(o,["shape"])})],h=Lz(c,o),p=o;if(h){var m=h.fieldChannel,v=h.offset;p=Object.assign(Object.assign({},o),Object(to.a)({},m,Object.assign(Object.assign({},o[m]),v?{stack:v}:{})))}return f&&d.push(Object.assign(Object.assign({},a?{projection:a}:{}),{mark:Object.assign(Object.assign({type:"line"},eR(c,["clip","interpolate","tension","tooltip"])),f),encoding:p})),l&&d.push(Object.assign(Object.assign({},a?{projection:a}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},eR(c,["clip","tooltip"])),l),encoding:p})),n(Object.assign(Object.assign({},u),{layer:d}),Object.assign(Object.assign({},t),{config:Uz(r)}))}}]),e}(),Hz=function(){function e(){Object(Vk.a)(this,e),this.name="RangeStep"}return Object(qk.a)(e,[{key:"hasMatchingType",value:function(e){var t,n;if(BR(e)&&e.encoding){var r,i=Object(Sr.a)(CM);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=e.encoding[a];if(o&&$F(o)&&(null===(n=null===(t=o)||void 0===t?void 0:t.scale)||void 0===n?void 0:n.rangeStep))return!0}}catch(s){i.e(s)}finally{i.f()}}return!1}},{key:"run",value:function(e){var t,n,r,i={},a=Object.assign({},e.encoding),o=Object(Sr.a)(CM);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=AM(s),c=a[s];if(c&&$F(c)&&(null===(n=null===(t=c)||void 0===t?void 0:t.scale)||void 0===n?void 0:n.rangeStep)){var l=c.scale,f=x(c,["scale"]),d=l,h=(d.rangeStep,x(d,["rangeStep"]));i[u]={step:l.rangeStep},cI(iI.RANGE_STEP_DEPRECATED),a=Object.assign(Object.assign({},a),Object(to.a)({},s,Object.assign(Object.assign({},f),hR(h).length>0?{scale:h}:{})))}}}catch(p){o.e(p)}finally{o.f()}return Object.assign(Object.assign(Object.assign({},i),e),{encoding:a})}}]),e}(),Gz=function(){function e(){Object(Vk.a)(this,e),this.name="RuleForRangedLine"}return Object(qk.a)(e,[{key:"hasMatchingType",value:function(e){if(BR(e)){var t=e.encoding;if("line"===e.mark){var n,r=Object(Sr.a)(xM);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=t[kM(i)];if(t[i]&&$F(a)&&!_P(a.bin))return!0}}catch(o){r.e(o)}finally{r.f()}}}return!1}},{key:"run",value:function(e,t,n){var r=e.encoding;return cI(iI.lineWithRange(!!r.x2,!!r.y2)),n(Object.assign(Object.assign({},e),{mark:"rule"}),t)}}]),e}();function $z(e){var t=e.parentEncoding,n=e.encoding;if(t&&n){var r=hR(t).reduce((function(e,t){return n[t]&&e.push(t),e}),[]);r.length>0&&cI(iI.encodingOverridden(r))}var i=Object.assign(Object.assign({},null!==t&&void 0!==t?t:{}),null!==n&&void 0!==n?n:{});return hR(i).length>0?i:void 0}function Kz(e){var t=e.parentProjection,n=e.projection;return t&&n&&cI(iI.projectionOverridden({parentProjection:t,projection:n})),null!==n&&void 0!==n?n:t}function Xz(e,t){void 0===t&&(t=Oz(e.config));var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Yz.map(e,{config:t})}(e,t),r=function(e,t,n){var r=t.width,i=t.height,a=BR(e)||Cz(e),o={};a?"container"==r&&"container"==i?(o.type="fit",o.contains="padding"):"container"==r?(o.type="fit-x",o.contains="padding"):"container"==i&&(o.type="fit-y",o.contains="padding"):("container"==r&&(cI(iI.containerSizeNonSingle("width")),r=void 0),"container"==i&&(cI(iI.containerSizeNonSingle("height")),i=void 0));var s=Object.assign(Object.assign(Object.assign({type:"pad"},o),n?Zz(n.autosize):{}),Zz(e.autosize));"fit"!==s.type||a||(cI(iI.FIT_NON_SINGLE),s.type="pad");"container"==r&&"fit"!=s.type&&"fit-x"!=s.type&&cI(iI.containerSizeNotCompatibleWithAutosize("width"));"container"==i&&"fit"!=s.type&&"fit-y"!=s.type&&cI(iI.containerSizeNotCompatibleWithAutosize("height"));if(JN(s,{type:"pad"}))return;return s}(n,{width:e.width,height:e.height,autosize:e.autosize},t);return Object.assign(Object.assign({},n),r?{autosize:r}:{})}var Yz=new(function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){var e;return Object(Vk.a)(this,n),(e=t.apply(this,arguments)).nonFacetUnitNormalizers=[HP,YP,nz,new qz,new Gz,new Hz],e}return Object(qk.a)(n,[{key:"map",value:function(e,t){if(BR(e)){var r=AP(e.encoding,ZR),i=AP(e.encoding,"column"),a=AP(e.encoding,"facet");if(r||i||a)return this.mapFacetedUnit(e,t)}return Tz(Object(Az.a)(n.prototype),"map",this).call(this,e,t)}},{key:"mapUnit",value:function(e,t){var n=t.parentEncoding,r=t.parentProjection;if(n||r)return this.mapUnitWithParentEncodingOrProjection(e,t);var i,a=this.mapLayerOrUnit.bind(this),o=Object(Sr.a)(this.nonFacetUnitNormalizers);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s.hasMatchingType(e,t.config))return s.run(e,t,a)}}catch(u){o.e(u)}finally{o.f()}return e}},{key:"mapRepeat",value:function(e,t){var n=e.repeat;return!Object(A.A)(n)&&e.columns&&(e=tR(e,["columns"]),cI(iI.columnsNotSupportByRowCol("repeat"))),Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}},{key:"mapFacet",value:function(e,t){return LF(e.facet)&&e.columns&&(e=tR(e,["columns"]),cI(iI.columnsNotSupportByRowCol("facet"))),Tz(Object(Az.a)(n.prototype),"mapFacet",this).call(this,e,t)}},{key:"mapUnitWithParentEncodingOrProjection",value:function(e,t){var n=e.encoding,r=e.projection,i=t.parentEncoding,a=t.parentProjection,o=t.config,s=Kz({parentProjection:a,projection:r}),u=$z({parentEncoding:i,encoding:n});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),s?{projection:s}:{}),u?{encoding:u}:{}),{config:o})}},{key:"mapFacetedUnit",value:function(e,t){var n=e.encoding,r=n.row,i=n.column,a=n.facet,o=x(n,["row","column","facet"]),s=e.mark,u=e.width,c=e.projection,l=e.height,f=e.selection,d=(e.encoding,x(e,["mark","width","projection","height","selection","encoding"])),h=this.getFacetMappingAndLayout({row:r,column:i,facet:a}),p=h.facetMapping,m=h.layout;return this.mapFacet(Object.assign(Object.assign(Object.assign({},d),m),{facet:p,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},c?{projection:c}:{}),{mark:s}),u?{width:u}:{}),l?{height:l}:{}),{encoding:o}),f?{selection:f}:{})}),t)}},{key:"getFacetMappingAndLayout",value:function(e){var t,n=e.row,r=e.column,i=e.facet;if(n||r){i&&cI(iI.facetChannelDropped([].concat(Object(dh.a)(n?[ZR]:[]),Object(dh.a)(r?["column"]:[]))));for(var a={},o={},s=0,u=[ZR,"column"];s<u.length;s++){var c=u[s],l=e[c];if(l){l.align,l.center,l.spacing,l.columns;var f=x(l,["align","center","spacing","columns"]);a[c]=f;for(var d=0,h=["align","center","spacing"];d<h.length;d++){var p=h[d];void 0!==l[p]&&(o[p]=null!==(t=o[p])&&void 0!==t?t:{},o[p][c]=l[p])}}}return{facetMapping:a,layout:o}}var m=i.align,v=i.center,g=i.spacing,b=i.columns;return{facetMapping:x(i,["align","center","spacing","columns"]),layout:Object.assign(Object.assign(Object.assign(Object.assign({},m?{align:m}:{}),v?{center:v}:{}),g?{spacing:g}:{}),b?{columns:b}:{})}}},{key:"mapLayer",value:function(e,t){var r=t.parentEncoding,i=t.parentProjection,a=x(t,["parentEncoding","parentProjection"]),o=e.encoding,s=e.projection,u=x(e,["encoding","projection"]),c=Object.assign(Object.assign({},a),{parentEncoding:$z({parentEncoding:r,encoding:o}),parentProjection:Kz({parentProjection:i,projection:s})});return Tz(Object(Az.a)(n.prototype),"mapLayer",this).call(this,u,c)}}]),n}(Mz));function Zz(e){return Object(A.H)(e)?{type:e}:null!==e&&void 0!==e?e:{}}var Jz=["background","padding"];function Qz(e){return Jz.reduce((function(t,n){return e&&void 0!==e[n]&&(t[n]=e[n]),t}),{})}var eL=n(55);function tL(e){return!!e.url}function nL(e){return!!e.values}function rL(e){return!!e.name&&!tL(e)&&!nL(e)&&!iL(e)}function iL(e){return e&&(aL(e)||oL(e)||sL(e))}function aL(e){return!!e.sequence}function oL(e){return!!e.sphere}function sL(e){return!!e.graticule}var uL="main";function cL(e){return void 0!==e.filter}function lL(e){var t;return void 0!==(null===(t=e)||void 0===t?void 0:t.stop)}function fL(e){return void 0!==e.lookup}function dL(e){return void 0!==e.pivot}function hL(e){return void 0!==e.density}function pL(e){return void 0!==e.quantile}function mL(e){return void 0!==e.regression}function vL(e){return void 0!==e.loess}function gL(e){return void 0!==e.sample}function bL(e){return void 0!==e.window}function yL(e){return void 0!==e.joinaggregate}function wL(e){return void 0!==e.flatten}function xL(e){return void 0!==e.calculate}function OL(e){return!!e.bin}function kL(e){return void 0!==e.impute}function EL(e){return void 0!==e.timeUnit}function _L(e){return void 0!==e.aggregate}function SL(e){return void 0!==e.stack}function jL(e){return void 0!==e.fold}function CL(e){return!!e.signal}function AL(e){return!!e.step}function TL(e){return!Object(A.A)(e)&&("field"in e&&"data"in e)}var NL=hR({opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeMiterLimit:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,x:1,y:1,x2:1,y2:1,width:1,height:1,aspect:1}),RL=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],ML={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDash"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDash"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function DL(e){return e.condition}var IL=["domain","grid","labels","ticks","title"],FL={grid:"grid",gridColor:"grid",gridDash:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",domain:"main",domainColor:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontWeight:"main",labelLimit:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",maxExtent:"main",minExtent:"main",offset:"main",position:"main",tickColor:"main",tickExtra:"main",tickOffset:"both",tickOpacity:"main",tickRound:"main",ticks:"main",tickSize:"main",title:"main",titleAlign:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",tickWidth:"both",tickCount:"both",values:"both",scale:"both",zindex:"both"},PL={orient:1,bandPosition:1,domain:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,values:1,translate:1,zindex:1},zL=Object.assign(Object.assign({},PL),{labelExpr:1,encoding:1});hR(zL);function LL(e,t,n,r){var i=t&&t.condition,a=r(t);if(i){var o=Object(A.i)(i).map((function(t){var n=r(t),i=function(e){return e.selection}(t)?nU(e,t.selection):iU(e,t.test);return Object.assign({test:i},n)}));return Object(to.a)({},n,[].concat(Object(dh.a)(o),Object(dh.a)(void 0!==a?[a]:[])))}return void 0!==a?Object(to.a)({},n,a):{}}function BL(e){var t=e.channel,n=e.channelDef,r=e.markDef,i=e.scale,a=GL(e);return $F(n)&&!KR(n.aggregate)&&i&&sF(i.get("type"))&&!1===i.get("zero")?UL({fieldDef:n,channel:t,markDef:r,ref:a}):a}function UL(e){var t=e.fieldDef,n=e.channel,r=e.markDef,i=e.ref;return RR(r.type)?i:[WL(t,n),i]}function WL(e,t){var n=VL(e,!0),r="x"===kM(t)?{value:0}:{field:{group:"height"}};return Object.assign({test:n},r)}function VL(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return HI(Object(A.H)(e)?e:tP(e,{expr:"datum"}),!t)}function qL(e,t,n,r){var i=Object.assign(Object.assign({},t?{scale:t}:{}),{field:tP(e,n)});if(r){var a=r.offset,o=r.band;return Object.assign(Object.assign(Object.assign({},i),a?{offset:a}:{}),o?{band:o}:{})}return i}function HL(e){var t=e.scaleName,n=e.fieldDef,r=e.fieldDef2,i=e.offset,a=e.startSuffix,o=e.band,s=void 0===o?.5:o,u=0<s&&s<1?"datum":void 0,c=tP(n,{expr:u,suffix:a}),l=void 0!==r?tP(r,{expr:u}):tP(n,{suffix:"end",expr:u});if(0===s)return Object.assign({scale:t,field:c},i?{offset:i}:{});if(1===s)return Object.assign({scale:t,field:l},i?{offset:i}:{});var f="".concat(s," * ").concat(c," + ").concat(1-s," * ").concat(l);return Object.assign({signal:'scale("'.concat(t,'", ').concat(f,")")},i?{offset:i}:{})}function GL(e){var t=e.channel,n=e.channelDef,r=e.channel2Def,i=e.markDef,a=e.config,o=e.scaleName,s=e.scale,u=e.stack,c=e.offset,l=e.defaultRef;if(n){if($F(n)){if(KF(n)){var f=VF(t,n,r,i,a,{isMidPoint:!0});if(EP(n.bin)||f&&n.timeUnit)return aR([JR,QR],t)&&aR(["quantitative","temporal"],n.type)?u&&u.impute?qL(n,o,{binSuffix:"mid"},{offset:c}):HL({scaleName:o,fieldDef:n,band:f,offset:c}):qL(n,o,OP(n,t)?{binSuffix:"range"}:{},{offset:c});if(_P(n.bin)){if($F(r))return HL({scaleName:o,fieldDef:n,fieldDef2:r,band:f,offset:c});var d=t===JR?"x2":"y2";cI(iI.channelRequiredForBinned(d))}}if(s){var h=s.get("type");if(aF(h))return qL(n,o,{binSuffix:"range"},"band"===h?{band:SR(JF(n)?n.band:void 0,.5),offset:c}:{offset:c})}return qL(n,o,{},{offset:c})}if(YF(n)){var p=n.value,m=c?{offset:c}:{};return Object.assign(Object.assign({},$L(t,p)),m)}}var v=Object(A.D)(l)?Object.assign(Object.assign({},l()),c?{offset:c}:{}):l;return v?Object.assign(Object.assign({},v),c?{offset:c}:{}):v}function $L(e,t){return aR(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:aR(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:{value:t}}function KL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.markDef,i=t.encoding,a=t.config,o=n.vgChannel,s=void 0===o?e:o,u=n.defaultRef,c=n.defaultValue;void 0===u&&(c=null!==c&&void 0!==c?c:s===e?r[e]:SR(r[e],r[s],OF(e,r,a,{vgChannel:s})),u=c?{value:c}:void 0);var l=i[e];return LL(t,l,s,(function(n){return GL({channel:e,channelDef:n,markDef:r,config:a,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:u})}))}function XL(e){var t=e.markDef,n=e.encoding,r=e.config,i=t.filled,a=t.type,o={fill:OF("fill",t,r),stroke:OF("stroke",t,r),color:OF("color",t,r)},s=aR(["bar","point","circle","square","geoshape"],a)?"transparent":void 0,u=SR(t.fill,!0===i?t.color:void 0,o.fill,!0===i?o.color:void 0,s),c=SR(t.stroke,!1===i?t.color:void 0,o.stroke,!1===i?o.color:void 0),l=i?"fill":"stroke",f=Object.assign(Object.assign({},u?{fill:{value:u}}:{}),c?{stroke:{value:c}}:{});return t.color&&(i?t.fill:t.stroke)&&cI(iI.droppingColor("property",{fill:"fill"in t,stroke:"stroke"in t})),Object.assign(Object.assign(Object.assign(Object.assign({},f),KL("color",e,{vgChannel:l,defaultValue:i?u:c})),KL("fill",e,{defaultValue:n.fill?u:void 0})),KL("stroke",e,{defaultValue:n.stroke?c:void 0}))}function YL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=e.encoding[t];return LL(e,n,t,(function(t){return ZL(t,e.config)}))}function ZL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(e){if(YF(e))return{value:e.value};if(KF(e))return EF(e,dP(e),n,t)}}function JL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.encoding,r=e.markDef,i=e.config,a=n.tooltip;return Object(A.A)(a)?{tooltip:QL({tooltip:a},i,t)}:LL(e,a,"tooltip",(function(a){var o=ZL(a,e.config,t.reactiveGeom?"datum.datum":"datum");if(o)return o;if(null!==a){var s=SR(r.tooltip,OF("tooltip",r,i));return!0===s&&(s={content:"encoding"}),Object(A.H)(s)?{value:s}:Object(A.F)(s)?"encoding"===s.content?QL(n,i,t):{signal:"datum"}:void 0}}))}function QL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.reactiveGeom,i=[],a={},o={},s=r?"datum.datum":"datum",u=[];function c(n,r){var i=kM(r),a=KF(n)?n:Object.assign(Object.assign({},n),{type:e[i].type}),c=Object(A.i)(cP(a,t,{allowDisabling:!1})).join(", "),l=ZL(a,t,s).signal;if("x"===r||"y"===r){var f="x"===r?"x2":"y2",d=hP(e[f]);if(_P(a.bin)&&d)l=CF(tP(a,{expr:s}),tP(d,{expr:s}),dP(a),t),o[f]=!0}u.push({channel:r,key:c,value:l})}DP(e,(function(e,t){$F(e)?c(e,t):GF(e)&&c(e.condition,t)}));for(var l=0,f=u;l<f.length;l++){var d=f[l],h=d.channel,p=d.key,m=d.value;o[h]||a[p]||(i.push("".concat(Object(A.Z)(p),": ").concat(m)),a[p]=!0)}return i.length>0?{signal:"{".concat(i.join(", "),"}")}:void 0}function eB(e,t){var n=t[e+"Offset"];if(n)return n}function tB(e,t,n){var r=n.defaultPos,i=n.vgChannel,a=t.encoding,o=t.mark,s=t.markDef,u=t.config,c=t.stack,l=a[e],f=a[e===JR?"x2":"y2"],d=t.scaleName(e),h=t.getScaleComponent(e),p=eB(e,t.markDef),m=nB({model:t,markDef:s,config:u,defaultPos:r,channel:e,scaleName:d,scale:h,mark:o,checkBarAreaWithoutZero:!f}),v=l||!a.latitude&&!a.longitude?function(e){var t=e.channel,n=e.channelDef,r=e.scaleName,i=e.stack,a=e.offset;if($F(n)&&i&&t===i.fieldChannel)return JF(n)&&void 0!==n.band?HL({scaleName:r,fieldDef:n,startSuffix:"start",band:n.band,offset:0}):qL(n,r,{suffix:"end"},{offset:a});return BL(e)}({channel:e,channelDef:l,channel2Def:f,markDef:s,config:u,scaleName:d,scale:h,stack:c,offset:p,defaultRef:m}):{field:t.getName(e)};return Object(to.a)({},null!==i&&void 0!==i?i:e,v)}function nB(e){var t=e.model,n=e.markDef,r=e.config,i=e.defaultPos,a=e.channel,o=e.scaleName,s=e.scale,u=e.mark,c=e.checkBarAreaWithoutZero;return function(){var e=kM(a),l=SR(n[a],OF(a,n,r));if(void 0!==l)return $L(a,l);if("zeroOrMin"===i||"zeroOrMax"===i){if(o){var f=s.get("type");if(aR([KI.LOG,KI.TIME,KI.UTC],f))!c||"bar"!==u&&"area"!==u||cI(iI.nonZeroScaleUsedWithLengthMark(u,e,{scaleType:f}));else{if(s.domainDefinitelyIncludesZero())return{scale:o,value:0};!c||"bar"!==u&&"area"!==u||cI(iI.nonZeroScaleUsedWithLengthMark(u,e,{zeroFalse:!1===s.explicit.zero}))}}return"zeroOrMin"===i?"x"===e?{value:0}:{field:{group:"height"}}:"x"===e?{field:{group:"width"}}:{value:0}}var d=t["x"===e?"width":"height"];return Object.assign(Object.assign({},d),{mult:.5})}}var rB={left:"x",center:"xc",right:"x2"},iB={top:"y",middle:"yc",bottom:"y2"};function aB(e,t,n){var r="x"===e?"align":"baseline",i=SR(t[r],OF(r,t,n));return"x"===e?rB[null!==i&&void 0!==i?i:"center"]:iB[null!==i&&void 0!==i?i:"middle"]}function oB(e,t,n){var r=n.defaultPos,i=n.defaultPos2;return n.range?sB(e,t,{defaultPos:r,defaultPos2:i}):tB(e,t,{defaultPos:r})}function sB(e,t,n){var r=n.defaultPos,i=n.defaultPos2,a=t.markDef,o=t.config,s="x"===e?"width":"height",u=function(e,t,n){var r,i=e.encoding,a=e.mark,o=e.markDef,s=e.stack,u=e.config,c="x2"===n?"x":"y",l="x2"===n?"width":"height",f=i[c],d=e.scaleName(c),h=e.getScaleComponent(c),p=eB(n,e.markDef);if(!f&&(i.latitude||i.longitude))return Object(to.a)({},n,{field:e.getName(n)});var m=function(e){var t=e.channel,n=e.channelDef,r=e.channel2Def,i=e.markDef,a=e.config,o=e.scaleName,s=e.scale,u=e.stack,c=e.offset,l=e.defaultRef;if($F(n)&&u&&t.charAt(0)===u.fieldChannel.charAt(0))return qL(n,o,{suffix:"start"},{offset:c});return BL({channel:t,channelDef:r,scaleName:o,scale:s,stack:u,markDef:i,config:a,offset:c,defaultRef:l})}({channel:n,channelDef:f,channel2Def:i[n],markDef:o,config:u,scaleName:d,scale:h,stack:s,offset:p,defaultRef:void 0});if(void 0!==m)return Object(to.a)({},n,m);var v=nB({model:e,markDef:o,config:u,defaultPos:t,channel:n,scaleName:d,scale:h,mark:a,checkBarAreaWithoutZero:!i[n]})();return SR(uB(n,o),uB(n,(r={},Object(to.a)(r,n,kF(n,o,u.style)),Object(to.a)(r,l,kF(l,o,u.style)),r)),uB(n,u[a]),uB(n,u.mark),Object(to.a)({},n,v))}(t,i,"x"===e?"x2":"y2"),c=u[s]?aB(e,a,o):e;return Object.assign(Object.assign({},tB(e,t,{defaultPos:r,vgChannel:c})),u)}function uB(e,t){var n="x2"===e?"width":"height";return t[e]?Object(to.a)({},e,$L(e,t[e])):t[n]?Object(to.a)({},n,{value:t[n]}):void 0}function cB(e,t,n){var r,i,a,o,s=e.config,u=e.encoding,c=e.markDef,l="x"===t?"x2":"y2",f="x"===t?"width":"height",d=u[t],h=u[l],p=e.getScaleComponent(t),m=p?p.get("type"):void 0,v=e.scaleName(t),g=c.orient,b=null!==(o=null!==(a=null!==(i=null!==(r=u[f])&&void 0!==r?r:u.size)&&void 0!==i?i:c[f])&&void 0!==a?a:c.size)&&void 0!==o?o:OF("size",c,s,{vgChannel:f}),y="x"===t?"vertical"===g:"horizontal"===g;return $F(d)&&(EP(d.bin)||_P(d.bin)||d.timeUnit&&!h)&&!b&&!aF(m)?function(e){var t,n=e.fieldDef,r=e.fieldDef2,i=e.channel,a=e.band,o=e.scaleName,s=e.markDef,u=e.spacing,c=void 0===u?0:u,l=e.reverse,f={x:l?c:0,x2:l?0:c,y:l?0:c,y2:l?c:0},d=i===JR?"x2":"y2";return EP(n.bin)||n.timeUnit?(t={},Object(to.a)(t,d,dB({channel:i,fieldDef:n,scaleName:o,markDef:s,band:(1-a)/2,offset:f["".concat(i,"2")]})),Object(to.a)(t,i,dB({channel:i,fieldDef:n,scaleName:o,markDef:s,band:1-(1-a)/2,offset:f[i]})),t):_P(n.bin)&&$F(r)?(h={},Object(to.a)(h,d,qL(n,o,{},{offset:f["".concat(i,"2")]})),Object(to.a)(h,i,qL(r,o,{},{offset:f[i]})),h):void cI(iI.channelRequiredForBinned(d));var h}({fieldDef:d,fieldDef2:h,channel:t,markDef:c,scaleName:v,band:VF(t,d,void 0,c,s),spacing:SR(c.binSpacing,s[n].binSpacing),reverse:p.get("reverse")}):($F(d)&&aF(m)||y)&&!h?$F(d)&&m===KI.BAND?function(e,t,n,r){var i,a,o=n.scaleName(t),s="x"===t?"width":"height",u=n.markDef,c=n.encoding,l=n.config,f=aB(t,u,l),d=Object(to.a)({},f,qL(e,o,{},{band:.5}));if(c.size||null!==u.size&&void 0!==u.size){if(u.orient){if(pP(c.size)||YF(c.size))return Object.assign(Object.assign({},d),KL("size",n,{vgChannel:s}));if(void 0!==u.size)return Object.assign(Object.assign({},d),Object(to.a)({},s,{value:u.size}))}else cI(iI.cannotApplySizeToNonOrientedMark(u.type))}if(void 0!==(null===(a=r)||void 0===a?void 0:a.value))return Object.assign(Object.assign({},d),Object(to.a)({},s,r));var h=e.band,p=void 0===h?1:h;return i={},Object(to.a)(i,t,qL(e,o,{binSuffix:"range"},{band:(1-p)/2})),Object(to.a)(i,s,null!==r&&void 0!==r?r:fB(o,p)),i}(d,t,e,lB(n,c,f,v,p,s,JF(d)?d.band:void 0)):function(e,t,n){var r="x"===e?"xc":"yc",i="x"===e?"width":"height";return Object.assign(Object.assign({},tB(e,t,{defaultPos:"mid",vgChannel:r})),KL("size",t,{defaultRef:n,vgChannel:i}))}(t,e,lB(n,c,f,v,p,s)):sB(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function lB(e,t,n,r,i,a,o){var s=SR(t[n],t.size,OF("size",t,a,{vgChannel:n}));if(void 0!==s)return{value:s};if(i){var u=i.get("type");if("point"===u||"band"===u){if(void 0!==a[e].discreteBandSize)return{value:a[e].discreteBandSize};if(u===KI.POINT){var c=i.get("range");return AL(c)&&Object(A.E)(c.step)?{value:c.step-2}:{value:wz-2}}return fB(r,o)}return{value:a[e].continuousBandSize}}var l=bz(a.view,n);return{value:SR(a[e].discreteBandSize,l-2)}}function fB(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{scale:e,band:t}}function dB(e){var t=e.channel,n=e.fieldDef,r=e.scaleName;return UL({fieldDef:n,channel:t,markDef:e.markDef,ref:HL({scaleName:r,fieldDef:n,band:e.band,offset:e.offset})})}function hB(e,t){var n="include"===t.color?XL(e):{},r=n.fill,i=void 0===r?void 0:r,a=n.stroke,o=void 0===a?void 0:a;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return NL.reduce((function(n,r){return void 0!==e[r]&&"ignore"!==t[r]&&(n[r]={value:e[r]}),n}),{})}(e.markDef,t)),pB(e,"fill",i)),pB(e,"stroke",o)),KL("opacity",e)),KL("fillOpacity",e)),KL("strokeOpacity",e)),KL("strokeWidth",e)),JL(e)),YL(e,"href"))}function pB(e,t,n){var r=e.config,i=e.mark;if("hide"===xF("invalid",e.markDef,r)&&n&&!RR(i)){var a=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),a=e.vgField(n,{expr:"datum"});a&&oF(i)&&(t[a]=!0)}return t}),{}),a=hR(i);if(a.length>0){var o=r?"||":"&&";return a.map((function(e){return VL(e,r)})).join(" ".concat(o," "))}return}(e,{invalid:!0,channels:DM});if(a)return Object(to.a)({},t,[{test:a,value:null}].concat(Object(dh.a)(Object(A.i)(n))))}return n?Object(to.a)({},t,n):{}}function mB(e){var t=e.config;if(xF("invalid",e.markDef,t)){var n=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),a=e.vgField(n,{expr:"datum"});a&&oF(i)&&(t[a]=!0)}return t}),{}),a=hR(i);if(a.length>0){var o=r?"||":"&&";return a.map((function(e){return VL(e,r)})).join(" ".concat(o," "))}return}(e,{channels:["x","y"]});if(n)return{defined:{signal:n}}}return{}}function vB(e,t){if(void 0!==t)return Object(to.a)({},e,{value:t})}var gB={has:function(e){return"interval"!==e.type&&e.nearest},parse:function(e,t){if(t.events){var n,r=Object(Sr.a)(t.events);try{for(r.s();!(n=r.n()).done;){n.value.markname=e.getName("voronoi")}}catch(i){r.e(i)}finally{r.f()}}},marks:function(e,t,n){var r=t.project.hasChannel,i=r.x,a=r.y,o=e.mark;if(RR(o))return cI(iI.nearestNotSupportForContinuous(o)),n;var s={name:e.getName("voronoi"),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},JL(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!a?"datum.datum.x || 0":"0"},y:{expr:a||!i?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},u=0,c=!1;return n.forEach((function(t,n){var r,i=null!==(r=t.name)&&void 0!==r?r:"";i===e.component.mark[0].name?u=n:i.indexOf("voronoi")>=0&&(c=!0)})),c||n.splice(u+1,0,s),n}},bB=function(){function e(t,n){Object(Vk.a)(this,e),this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}return Object(qk.a)(e,[{key:"clone",value:function(){throw new Error("Cannot clone node")}},{key:"numChildren",value:function(){return this._children.length}},{key:"addChild",value:function(e,t){this._children.indexOf(e)>-1?console.warn("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}},{key:"removeChild",value:function(e){var t=this._children.indexOf(e);return this._children.splice(t,1),t}},{key:"remove",value:function(){var e,t=this._parent.removeChild(this),n=Object(Sr.a)(this._children);try{for(n.s();!(e=n.n()).done;){var r=e.value;r._parent=this._parent,this._parent.addChild(r,t++)}}catch(i){n.e(i)}finally{n.f()}}},{key:"insertAsParentOf",value:function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}},{key:"swapWithParent",value:function(){var e,t=this._parent,n=t.parent,r=Object(Sr.a)(this._children);try{for(r.s();!(e=r.n()).done;){e.value.parent=t}}catch(i){r.e(i)}finally{r.f()}this._children=[],t.removeChild(this),t.parent.removeChild(t),this.parent=n,t.parent=this}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e,e&&e.addChild(this)}},{key:"children",get:function(){return this._children}}]),e}(),yB=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i,a){var o;return Object(Vk.a)(this,n),(o=t.call(this,e,r)).type=i,o.refCounts=a,o._source=o._name=r,o.refCounts&&!(o._name in o.refCounts)&&(o.refCounts[o._name]=0),o}return Object(qk.a)(n,[{key:"clone",value:function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return void 0===this._hash&&(this._hash="Output ".concat(CR())),this._hash}},{key:"getSource",value:function(){return this.refCounts[this._name]++,this._source}},{key:"isRequired",value:function(){return!!this.refCounts[this._name]}},{key:"setSource",value:function(e){this._source=e}}]),n}(bB),wB=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,e)).formula=r,i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.formula))}},{key:"merge",value:function(e){for(var t in this.formula=Object.assign({},this.formula),e.formula)this.formula[t]&&!e.formula[t].band||(this.formula[t]=e.formula[t]);var n,r=Object(Sr.a)(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.removeChild(i),i.parent=this}}catch(a){r.e(a)}finally{r.f()}e.remove()}},{key:"producedFields",value:function(){return new Set(pR(this.formula).map((function(e){return e.as})))}},{key:"dependentFields",value:function(){return new Set(pR(this.formula).map((function(e){return e.field})))}},{key:"hash",value:function(){return"TimeUnit ".concat(rR(this.formula))}},{key:"assemble",value:function(){var e,t=[],n=Object(Sr.a)(pR(this.formula));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.timeUnit,a=r.field,o=r.as;t.push({field:a,type:"timeunit",units:CI(i),as:[o,"".concat(o,"_end")]})}}catch(s){n.e(s)}finally{n.f()}return t}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,n,r){var i=n.timeUnit,a=n.field,o=DV(t)?t.encoding[EM(r)]:void 0,s=DV(t)&&qF(r,n,o,t.markDef,t.config);if(i){var u=tP(n,{forAs:!0});e[rR({as:u,timeUnit:i,field:a})]=Object.assign({as:u,timeUnit:i,field:a},s?{band:!0}:{})}return e}),{});return 0===hR(r).length?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t){var r=Object.assign({},t);return new n(e,Object(to.a)({},rR(r),r))}}]),n}(bB),xB=function e(){Object(Vk.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.items=n,this.hasChannel={},this.hasField={}},OB={has:function(e){return"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!cz(e.bind)},parse:function(e,t,n,r){r.on||delete t.events,r.clear||delete t.clear},topLevelSignals:function(e,t,n){var r=t.name,i=t.project,a=t.bind,o=t.init&&t.init[0],s=gB.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((function(e,i){var u,c,l=vR("".concat(r,"_").concat(e.field));n.filter((function(e){return e.name===l})).length||n.unshift(Object.assign(Object.assign({name:l},o?{init:FB(o[i])}:{value:null}),{on:t.events?[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(s,"[").concat(Object(A.Z)(e.field),"] : null")}]:[],bind:(u=a[e.field],c=null!==u&&void 0!==u?u:a[e.channel],null!==c&&void 0!==c?c:a)}))})),n},signals:function(e,t,n){var r=t.name,i=t.project,a=n.filter((function(e){return e.name===r+GB}))[0],o=r+"_tuple_fields",s=i.items.map((function(e){return vR("".concat(r,"_").concat(e.field))})),u=s.map((function(e){return"".concat(e," !== null")})).join(" && ");return s.length&&(a.update="".concat(u," ? {fields: ").concat(o,", values: [").concat(s.join(", "),"]} : null")),delete a.value,delete a.on,n}},kB={has:function(e){return"multi"===e.type&&!!e.toggle},signals:function(e,t,n){return n.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t){var n=t.name+GB,r=t.name+"_toggle";return"".concat(r," ? null : ").concat(n,", ")+("global"===t.resolve?"".concat(r," ? null : true, "):"".concat(r," ? null : {unit: ").concat(JB(e),"}, "))+"".concat(r," ? ").concat(n," : null")}},EB={has:function(e){return void 0!==e.clear&&!1!==e.clear},parse:function(e,t,n){n.clear&&(t.clear=Object(A.H)(n.clear)?sA(n.clear,"scope"):n.clear)},topLevelSignals:function(e,t,n){return OB.has(t)&&t.project.items.forEach((function(e){var r=n.findIndex((function(n){return n.name===vR("".concat(t.name,"_").concat(e.field))}));-1!==r&&n[r].on.push({events:t.clear,update:"null"})})),n},signals:function(e,t,n){function r(e,r){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:r})}if("interval"===t.type)t.project.items.forEach((function(e){var t=n.findIndex((function(t){return t.name===e.signals.visual}));(r(t,"[0, 0]"),-1===t)&&r(n.findIndex((function(t){return t.name===e.signals.data})),"null")}));else{var i=n.findIndex((function(e){return e.name===t.name+GB}));r(i,"null"),kB.has(t)&&r(i=n.findIndex((function(e){return e.name===t.name+"_toggle"})),"false")}return n}},_B={has:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t){var n,r=t.scales=[],i=Object(Sr.a)(t.project.items);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.channel;if(IM(o)){var s=e.getScaleComponent(o),u=s?s.get("type"):void 0;if(s&&oF(u)){var c={selection:t.name,field:a.field};if(s.set("selectionExtent",c,!0),r.push(a),e.repeater&&e.repeater.row===e.repeater.column)e.getScaleComponent(o===JR?QR:JR).set("selectionExtent",c,!0)}else cI(iI.SCALE_BINDINGS_CONTINUOUS)}}}catch(l){i.e(l)}finally{i.f()}},topLevelSignals:function(e,t,n){var r=t.scales.filter((function(e){return 0===n.filter((function(t){return t.name===e.signals.data})).length}));if(!e.parent||jB(e)||0===r.length)return n;var i=n.filter((function(e){return e.name===t.name}))[0],a=i.update;if(a.indexOf(KB)>=0)i.update="{".concat(r.map((function(e){return"".concat(Object(A.Z)(e.field),": ").concat(e.signals.data)})).join(", "),"}");else{var o,s=Object(Sr.a)(r);try{for(s.s();!(o=s.n()).done;){var u=o.value,c="".concat(Object(A.Z)(u.field),": ").concat(u.signals.data);a.indexOf(c)<0&&(a="".concat(a.substring(0,a.length-1),", ").concat(c,"}"))}}catch(l){s.e(l)}finally{s.f()}i.update=a}return n.concat(r.map((function(e){return{name:e.signals.data}})))},signals:function(e,t,n){if(e.parent&&!jB(e)){var r,i=Object(Sr.a)(t.scales);try{var a=function(){var e=r.value,t=n.filter((function(t){return t.name===e.signals.data}))[0];t.push="outer",delete t.value,delete t.update};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}return n}};function SB(e,t){var n=Object(A.Z)(e.scaleName(t));return"domain(".concat(n,")")}function jB(e){var t;return e.parent&&zV(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:jB(e.parent.parent))}var CB={has:function(e){var t="global"===e.resolve&&e.bind&&cz(e.bind),n=1===e.project.items.length&&"_vgsid_"!==e.project.items[0].field;return t&&!n&&cI(iI.LEGEND_BINDINGS_PROJECT_LENGTH),t&&n},parse:function(e,t,n,r){var i;if(r.on||delete t.events,r.clear||delete t.clear,r.on||r.clear){var a,o='event.item && indexof(event.item.mark.role, "legend") < 0',s=Object(Sr.a)(t.events);try{for(s.s();!(a=s.n()).done;){var u=a.value;u.filter=Object(A.i)(null!==(i=u.filter)&&void 0!==i?i:[]),u.filter.indexOf(o)<0&&u.filter.push(o)}}catch(f){s.e(f)}finally{s.f()}}var c=lz(t.bind)?t.bind.legend:"click",l=Object(A.H)(c)?sA(c,"view"):Object(A.i)(c);t.bind={legend:{merge:l}}},topLevelSignals:function(e,t,n){var r,i=t.name,a=lz(t.bind)&&t.bind.legend,o=function(e){return function(t){var n=QN(t);return n.markname=e,n}},s=Object(Sr.a)(t.project.items);try{var u=function(){var e=r.value;if(!e.hasLegend)return"continue";var s="".concat(e.field,"_legend"),u="".concat(i,"_").concat(s);if(0===n.filter((function(e){return e.name===u})).length){var c=a.merge.map(o("".concat(s,"_symbols"))).concat(a.merge.map(o("".concat(s,"_labels")))).concat(a.merge.map(o("".concat(s,"_entries"))));n.unshift(Object.assign(Object.assign({name:u},t.init?{}:{value:null}),{on:[{events:c,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:a.merge,update:"!event.item || !datum ? null : ".concat(u),force:!0}]}))}};for(s.s();!(r=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}return n},signals:function(e,t,n){var r=t.name,i=t.project,a=n.find((function(e){return e.name===r+GB})),o=r+"_tuple_fields",s=i.items.filter((function(e){return e.hasLegend})).map((function(e){return vR("".concat(r,"_").concat(e.field,"_legend"))})),u=s.map((function(e){return"".concat(e," !== null")})).join(" && "),c="".concat(u," ? {fields: ").concat(o,", values: [").concat(s.join(", "),"]} : null");t.events&&s.length>0?a.on.push({events:s.map((function(e){return{signal:e}})),update:c}):s.length>0&&(a.update=c,delete a.value,delete a.on);var l=n.find((function(e){return e.name===r+"_toggle"})),f=lz(t.bind)&&t.bind.legend;return l&&(t.events?l.on.push(Object.assign(Object.assign({},l.on[0]),{events:f})):l.on[0].events=f),n}};var AB="_translate_delta",TB={has:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var r=t.name,i=_B.has(t),a=r+"_translate_anchor",o=t.project.hasChannel,s=o.x,u=o.y,c=sA(t.translate,"scope");return i||(c=c.map((function(e){return e.between[0].markname=r+LB,e}))),n.push({name:a,value:{},on:[{events:c.map((function(e){return e.between[0]})),update:"{x: x(unit), y: y(unit)"+(void 0!==s?", extent_x: "+(i?SB(e,JR):"slice(".concat(s.signals.visual,")")):"")+(void 0!==u?", extent_y: "+(i?SB(e,QR):"slice(".concat(u.signals.visual,")")):"")+"}"}]},{name:r+AB,value:{},on:[{events:c,update:"{x: ".concat(a,".x - x(unit), y: ").concat(a,".y - y(unit)}")}]}),void 0!==s&&NB(e,t,s,"width",n),void 0!==u&&NB(e,t,u,"height",n),n}};function NB(e,t,n,r,i){var a,o=t.name,s=o+"_translate_anchor",u=o+AB,c=n.channel,l=_B.has(t),f=i.filter((function(e){return e.name===n.signals[l?"data":"visual"]}))[0],d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(c),p=h.get("type"),m=l&&c===JR?"-":"",v="".concat(s,".extent_").concat(c),g="".concat(m).concat(u,".").concat(c," / ")+(l?"".concat(d):"span(".concat(v,")")),b="".concat(l?"log"===p?"panLog":"pow"===p?"panPow":"panLinear":"panLinear","(").concat(v,", ").concat(g)+(l&&"pow"===p?", ".concat(null!==(a=h.get("exponent"))&&void 0!==a?a:1):"")+")";f.on.push({events:{signal:u},update:l?b:"clampRange(".concat(b,", 0, ").concat(d,")")})}var RB={has:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var r=t.name,i=_B.has(t),a=r+"_zoom_delta",o=t.project.hasChannel,s=o.x,u=o.y,c=Object(A.Z)(e.scaleName(JR)),l=Object(A.Z)(e.scaleName(QR)),f=sA(t.zoom,"scope");return i||(f=f.map((function(e){return e.markname=r+LB,e}))),n.push({name:r+"_zoom_anchor",on:[{events:f,update:i?"{"+[c?"x: invert(".concat(c,", x(unit))"):"",l?"y: invert(".concat(l,", y(unit))"):""].filter((function(e){return!!e})).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==s&&MB(e,t,s,"width",n),void 0!==u&&MB(e,t,u,"height",n),n}};function MB(e,t,n,r,i){var a,o=t.name,s=n.channel,u=_B.has(t),c=i.filter((function(e){return e.name===n.signals[u?"data":"visual"]}))[0],l=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(s),d=f.get("type"),h=u?SB(e,s):c.name,p=o+"_zoom_delta",m="".concat(o).concat("_zoom_anchor",".").concat(s),v="".concat(u?"log"===d?"zoomLog":"pow"===d?"zoomPow":"zoomLinear":"zoomLinear","(").concat(h,", ").concat(m,", ").concat(p)+(u&&"pow"===d?", ".concat(null!==(a=f.get("exponent"))&&void 0!==a?a:1):"")+")";c.on.push({events:{signal:p},update:u?v:"clampRange(".concat(v,", 0, ").concat(l,")")})}var DB=[{has:function(){return!0},parse:function(e,t,n){var r,i,a,o=t.name,s=null!==(r=t.project)&&void 0!==r?r:t.project=new xB,u={},c={},l=new Set,f=function(e,t){for(var n="visual"===t?e.channel:e.field,r=vR("".concat(o,"_").concat(n)),i=1;l.has(r);i++)r=vR("".concat(o,"_").concat(n,"_").concat(i));return l.add(r),Object(to.a)({},t,r)};if(!n.fields&&!n.encodings){var d=e.config.selection[n.type];if(n.init){var h,p=Object(Sr.a)(Object(A.i)(n.init));try{for(p.s();!(h=p.n()).done;){var m,v=h.value,g=Object(Sr.a)(hR(v));try{for(g.s();!(m=g.n()).done;){var b=m.value;yM[b]?(n.encodings||(n.encodings=[])).push(b):"interval"===n.type?(cI('Interval selections should be initialized using "x" and/or "y" keys.'),n.encodings=d.encodings):(n.fields||(n.fields=[])).push(b)}}catch(D){g.e(D)}finally{g.f()}}}catch(D){p.e(D)}finally{p.f()}}else n.encodings=d.encodings,n.fields=d.fields}var y,w=Object(Sr.a)(null!==(i=n.fields)&&void 0!==i?i:[]);try{for(w.s();!(y=w.n()).done;){var x=y.value,O={type:"E",field:x};O.signals=Object.assign({},f(O,"data")),s.items.push(O),s.hasField[x]=O}}catch(D){w.e(D)}finally{w.f()}var k,E=Object(Sr.a)(null!==(a=n.encodings)&&void 0!==a?a:[]);try{for(E.s();!(k=E.n()).done;){var _=k.value,S=e.fieldDef(_);if(S){var j=S.field;if(S.aggregate){cI(iI.cannotProjectAggregate(_,S.aggregate));continue}if(!j){cI(iI.cannotProjectOnChannelWithoutField(_));continue}if(S.timeUnit){var C={as:j=e.vgField(_),field:S.field,timeUnit:S.timeUnit};c[rR(C)]=C}if(!u[j]){var T="E";if("interval"===t.type)oF(e.getScaleComponent(_).get("type"))&&(T="R");else S.bin&&(T="R-RE");var N={field:j,channel:_,type:T};N.signals=Object.assign(Object.assign({},f(N,"data")),f(N,"visual")),s.items.push(u[j]=N),s.hasField[j]=s.hasChannel[_]=u[j]}}else cI(iI.cannotProjectOnChannelWithoutField(_))}}catch(D){E.e(D)}finally{E.f()}if(n.init){var R=function(e){return s.items.map((function(t){return void 0!==e[t.channel]?e[t.channel]:e[t.field]}))};if("interval"===n.type)t.init=R(n.init);else{var M=Object(A.A)(n.init)?n.init:[n.init];t.init=M.map(R)}}hR(c).length>0&&(s.timeUnit=new wB(null,c))},signals:function(e,t,n){var r=t.name+"_tuple_fields";return n.filter((function(e){return e.name===r})).length>0?n:n.concat({name:r,value:t.project.items.map((function(e){e.signals,e.hasLegend;var t=x(e,["signals","hasLegend"]),n=QN(t);return n.field=OR(n.field),n}))})}},kB,_B,CB,TB,RB,OB,gB,EB];function IB(e,t){var n,r=Object(Sr.a)(DB);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.has(e)&&t(i)}}catch(a){r.e(a)}finally{r.f()}}function FB(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.x;if(Object(A.A)(e)){var r=e.map((function(e){return FB(e,t,n)}));return t?"[".concat(r.join(", "),"]"):r}return lI(e)?n(yI(e,!1,!t)):t?n(JSON.stringify(e)):e}function PB(e,t){return YB(e,(function(n,r){t=r.marks?r.marks(e,n,t):t,IB(n,(function(r){r.marks&&(t=r.marks(e,n,t))}))})),t}function zB(e){return e.map((function(e){return e.on&&!e.on.length&&delete e.on,e}))}var LB="_brush",BB={signals:function(e,t){var n=t.name,r=n+"_tuple_fields",i=_B.has(t),a=[],o=[],s=[];if(t.translate&&!i){var u="!event.item || event.item.mark.name !== ".concat(Object(A.Z)(n+LB));UB(t,(function(e,t){var n,r=Object(A.i)(null!==(n=t.between[0].filter)&&void 0!==n?n:t.between[0].filter=[]);return r.indexOf(u)<0&&r.push(u),e}))}t.project.items.forEach((function(n,r){var i=n.channel;if(i===JR||i===QR){var u=t.init?t.init[r]:null,c=function(e,t,n,r){var i=n.channel,a=n.signals.visual,o=n.signals.data,s=_B.has(t),u=Object(A.Z)(e.scaleName(i)),c=e.getScaleComponent(i),l=c?c.get("type"):void 0,f=function(e){return"scale(".concat(u,", ").concat(e,")")},d=e.getSizeSignalRef(i===JR?"width":"height").signal,h="".concat(i,"(unit)"),p=UB(t,(function(e,t){return[].concat(Object(dh.a)(e),[{events:t.between[0],update:"[".concat(h,", ").concat(h,"]")},{events:t,update:"[".concat(a,"[0], clamp(").concat(h,", 0, ").concat(d,")]")}])}));return p.push({events:{signal:t.name+"_scale_trigger"},update:oF(l)?"[".concat(f("".concat(o,"[0]")),", ").concat(f("".concat(o,"[1]")),"]"):"[0, 0]"}),s?[{name:o,on:[]}]:[Object.assign(Object.assign({name:a},r?{init:FB(r,!0,f)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:o},r?{init:FB(r)}:{}),{on:[{events:{signal:a},update:"".concat(a,"[0] === ").concat(a,"[1] ? null : invert(").concat(u,", ").concat(a,")")}]})]}(e,t,n,u),l=n.signals.data,f=n.signals.visual,d=Object(A.Z)(e.scaleName(i)),h=oF(e.getScaleComponent(i).get("type"))?"+":"";a.push.apply(a,Object(dh.a)(c)),o.push(l),s.push({scaleName:e.scaleName(i),expr:"(!isArray(".concat(l,") || ")+"(".concat(h,"invert(").concat(d,", ").concat(f,")[0] === ").concat(h).concat(l,"[0] && ")+"".concat(h,"invert(").concat(d,", ").concat(f,")[1] === ").concat(h).concat(l,"[1]))")})}else cI("Interval selections only support x and y encoding channels.")})),i||a.push({name:n+"_scale_trigger",value:{},on:[{events:s.map((function(e){return{scale:e.scaleName}})),update:s.map((function(e){return e.expr})).join(" && ")+" ? ".concat(n+"_scale_trigger"," : {}")}]});var c=t.init,l="unit: ".concat(JB(e),", fields: ").concat(r,", values");return a.concat(Object.assign(Object.assign({name:n+GB},c?{init:"{".concat(l,": ").concat(FB(c),"}")}:{}),{on:[{events:[{signal:o.join(" || ")}],update:o.join(" && ")+" ? {".concat(l,": [").concat(o,"]} : null")}]}))},modifyExpr:function(e,t){return t.name+GB+", "+("global"===t.resolve?"true":"{unit: ".concat(JB(e),"}"))},marks:function(e,t,n){var r=t.name,i=t.project.hasChannel,a=i.x,o=i.y,s=a&&a.signals.visual,u=o&&o.signals.visual,c="data(".concat(Object(A.Z)(t.name+HB),")");if(_B.has(t))return n;var l={x:void 0!==a?{signal:"".concat(s,"[0]")}:{value:0},y:void 0!==o?{signal:"".concat(u,"[0]")}:{value:0},x2:void 0!==a?{signal:"".concat(s,"[1]")}:{field:{group:"width"}},y2:void 0!==o?{signal:"".concat(u,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve){var f,d=Object(Sr.a)(hR(l));try{for(d.s();!(f=d.n()).done;){var h=f.value;l[h]=[Object.assign({test:"".concat(c,".length && ").concat(c,"[0].unit === ").concat(JB(e))},l[h]),{value:0}]}}catch(y){d.e(y)}finally{d.f()}}var p=t.mark,m=p.fill,v=p.fillOpacity,g=x(p,["fill","fillOpacity"]),b=hR(g).reduce((function(e,t){return e[t]=[{test:[void 0!==a&&"".concat(s,"[0] !== ").concat(s,"[1]"),void 0!==o&&"".concat(u,"[0] !== ").concat(u,"[1]")].filter((function(e){return e})).join(" && "),value:g[t]},{value:null}],e}),{});return[{name:r+LB+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:m},fillOpacity:{value:v}},update:l}}].concat(Object(dh.a)(n),[{name:r+LB,type:"rect",clip:!0,encode:{enter:{fill:{value:"transparent"}},update:Object.assign(Object.assign({},l),b)}}])}};function UB(e,t){return e.events.reduce((function(e,n){return n.between?t(e,n):(cI("".concat(n," is not an ordered event stream for interval selections.")),e)}),[])}function WB(e,t){var n=t.name,r=n+"_tuple_fields",i=t.project,a="(item().isVoronoi ? datum.datum : datum)",o=i.items.map((function(t){var n=e.fieldDef(t.channel);return n&&n.bin?"[".concat(a,"[").concat(Object(A.Z)(e.vgField(t.channel,{})),"], ")+"".concat(a,"[").concat(Object(A.Z)(e.vgField(t.channel,{binSuffix:"end"})),"]]"):"".concat(a,"[").concat(Object(A.Z)(t.field),"]")})).join(", "),s="unit: ".concat(JB(e),", fields: ").concat(r,", values"),u=t.events;return[{name:n+GB,on:u?[{events:u,update:"datum && item().mark.marktype !== 'group' ? {".concat(s,": [").concat(o,"]} : null"),force:!0}]:[]}]}var VB={signals:WB,modifyExpr:function(e,t){return t.name+GB+", "+("global"===t.resolve?"null":"{unit: ".concat(JB(e),"}"))}},qB={signals:WB,modifyExpr:function(e,t){return t.name+GB+", "+("global"===t.resolve?"true":"{unit: ".concat(JB(e),"}"))}},HB="_store",GB="_tuple",$B="_modify",KB="vlSelectionResolve",XB={single:qB,multi:VB,interval:BB};function YB(e,t){var n=e.component.selection;if(n)for(var r in n)if(Object(A.v)(n,r)){var i=n[r];if(!0===t(i,XB[i.type]))break}}function ZB(e){for(var t=e.parent;t&&!IV(t);)t=t.parent;return t}function JB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=t.escape,r=n?Object(A.Z)(e.name):e.name,i=ZB(e);if(i){var a,o=i.facet,s=Object(Sr.a)(mM);try{for(s.s();!(a=s.n()).done;){var u=a.value;o[u]&&(r+=" + '__facet_".concat(u,"_' + (facet[").concat(Object(A.Z)(i.vgField(u)),"])"))}}catch(c){s.e(c)}finally{s.f()}}return r}function QB(e){var t=!1;return YB(e,(function(e){t=t||e.project.items.some((function(e){return"_vgsid_"===e.field}))})),t}function eU(e){var t=bS(e),n=new Set;return t.visit((function(e){"MemberExpression"===e.type&&function e(t){return"MemberExpression"===t.object.type?e(t.object):"datum"===t.object.name}(e)&&n.add(function e(t){var n=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(n.push.apply(n,Object(dh.a)(e(t.object))),n.push.apply(n,Object(dh.a)(e(t.property)))),n)}(e).slice(1).join("."))})),n}var tU=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i){var a;return Object(Vk.a)(this,n),(a=t.call(this,e)).model=r,a.filter=i,a.expr=iU(a.model,a.filter,Object(eL.a)(a)),a._dependentFields=eU(a.expr),a}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,this.model,QN(this.filter))}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"producedFields",value:function(){return new Set}},{key:"assemble",value:function(){return{type:"filter",expr:this.expr}}},{key:"hash",value:function(){return"Filter ".concat(this.expr)}}]),n}(bB);function nU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum",i=[];function a(t){var a=vR(t),o=e.getSelectionComponent(a,t),s=Object(A.Z)(a+HB);if(o.project.timeUnit){var u=null!==n&&void 0!==n?n:e.component.data.raw,c=o.project.timeUnit.clone();u.parent?c.insertAsParentOf(u):u.parent=c}return"none"!==o.empty&&i.push(s),"vlSelectionTest(".concat(s,", ").concat(r)+("global"===o.resolve?")":", ".concat(Object(A.Z)(o.resolve),")"))}var o=gR(t,a);return(i.length?"!("+i.map((function(e){return"length(data(".concat(e,"))")})).join(" || ")+") || ":"")+"(".concat(o,")")}function rU(e,t){var n=t.encoding,r=t.field;if(n||r){if(n&&!r){var i=e.project.items.filter((function(e){return e.channel===n}));!i.length||i.length>1?(r=e.project.items[0].field,cI((i.length?"Multiple ":"No ")+"matching ".concat(Object(A.Z)(n)," encoding found for selection ").concat(Object(A.Z)(t.selection),". ")+'Using "field": '.concat(Object(A.Z)(r),"."))):r=i[0].field}}else r=e.project.items[0].field,e.project.items.length>1&&cI('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(Object(A.Z)(r),"."));return"".concat(e.name,"[").concat(Object(A.Z)(r),"]")}function iU(e,t,n){return gR(t,(function(t){return Object(A.H)(t)?t:function(e){var t;return null===(t=e)||void 0===t?void 0:t.selection}(t)?nU(e,t.selection,n):qI(t)}))}function aU(e,t){if(e)return yF(e)?e:e.map((function(e){return fP(e,t)})).join(", ")}function oU(e,t,n,r){var i,a,o;e.encode=null!==(i=e.encode)&&void 0!==i?i:{},e.encode[t]=null!==(a=e.encode[t])&&void 0!==a?a:{},e.encode[t].update=null!==(o=e.encode[t].update)&&void 0!==o?o:{},e.encode[t].update[n]=r}function sU(e,t,n){var r,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1},o=e.combine(),s=o.orient,u=o.scale,c=o.labelExpr,l=o.title,f=o.zindex,d=x(o,["orient","scale","labelExpr","title","zindex"]);if(hR(d).forEach((function(e){var n=FL[e],r=d[e];if(n&&n!==t&&"both"!==n)delete d[e];else if(DL(r)){var i=ML[e],a=i.vgProp,o=i.part,s=r.condition,u=r.value,c=[].concat(Object(dh.a)((Object(A.A)(s)?s:[s]).map((function(e){var t=e.value;return{test:iU(null,e.test),value:t}}))),[{value:u}]);oU(d,o,a,c),delete d[e]}})),"grid"===t){if(!d.grid)return;if(d.encode){var h=d.encode.grid;d.encode=Object.assign({},h?{grid:h}:{}),0===hR(d.encode).length&&delete d.encode}return Object.assign(Object.assign({scale:u,orient:s},d),{domain:!1,labels:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:SR(f,0)})}if(a.header||!e.mainExtracted){if(void 0!==c){var p=c;(null===(i=null===(r=d.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&CL(d.encode.labels.update.text)&&(p=kR(c,"datum.label",d.encode.labels.update.text.signal)),oU(d,"labels","text",{signal:p})}if(d.encode){var m,v=Object(Sr.a)(IL);try{for(v.s();!(m=v.n()).done;){var g=m.value;e.hasAxisPart(g)||delete d.encode[g]}}catch(y){v.e(y)}finally{v.f()}0===hR(d.encode).length&&delete d.encode}var b=aU(l,n);return Object.assign(Object.assign(Object.assign({scale:u,orient:s,grid:!1},b?{title:b}:{}),d),{zindex:SR(f,0)})}}function uU(e){var t,n=e.component.axes,r=Object(Sr.a)(CM);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(n[i]){var a,o=Object(Sr.a)(n[i]);try{for(o.s();!(a=o.n()).done;){if(!a.value.get("gridScale")){var s="x"===i?"height":"width";return[{name:s,update:e.getSizeSignalRef(s).signal}]}}}catch(u){o.e(u)}finally{o.f()}}}}catch(u){r.e(u)}finally{r.f()}return[]}var cU={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},lU={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelLimit:"limit",labelOrient:"orient",labelPadding:"offset"},fU=hR(cU),dU=hR(lU);function hU(e,t,n,r,i){var a,o,s=[].concat(Object(dh.a)("band"===i?["axisBand"]:[]),["x"===n?"axisX":"axisY"],Object(dh.a)(r?["axis"+r.substr(0,1).toUpperCase()+r.substr(1)]:[]),["axis"]),u=Object(Sr.a)(s);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(void 0!==(null===(a=t[c])||void 0===a?void 0:a[e]))return t[c][e]}}catch(l){u.e(l)}finally{u.f()}}function pU(e,t){if(void 0!==e)return e=TR(e),"top"===t||"bottom"===t?e<=45||315<=e?"top"===t?"bottom":"top":135<=e&&e<=225?"top"===t?"top":"bottom":"middle":e<=45||315<=e||135<=e&&e<=225?"middle":45<=e&&e<=135?"left"===t?"top":"bottom":"left"===t?"bottom":"top"}function mU(e,t){if(void 0!==e)return e=TR(e),"top"===t||"bottom"===t?e%180===0?"center":0<e&&e<180?"top"===t?"right":"left":"top"===t?"left":"right":(e+90)%180===0?"center":90<=e&&e<270?"left"===t?"left":"right":"left"===t?"right":"left"}function vU(e){switch(e){case JR:return"bottom";case QR:return"left"}throw new Error(iI.INVALID_CHANNEL_FOR_AXIS)}var gU=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,e)).transform=r,i._dependentFields=eU(i.transform.calculate),i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.transform))}},{key:"producedFields",value:function(){return new Set([this.transform.as])}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"assemble",value:function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}},{key:"hash",value:function(){return"Calculate ".concat(rR(this.transform))}}],[{key:"parseAllForSortIndex",value:function(e,t){return t.forEachFieldDef((function(t,r){if(ZF(t)&&zF(t.sort)){var i=t.field,a=t.timeUnit,o=t.sort,s=o.map((function(e,t){return"".concat(qI({field:i,timeUnit:a,equal:e})," ? ").concat(t," : ")})).join("")+o.length;e=new n(e,{calculate:s,as:bU(t,r,{forAs:!0})})}})),e}}]),n}(bB);function bU(e,t,n){return tP(e,Object.assign({prefix:t,suffix:"sort_index"},null!==n&&void 0!==n?n:{}))}function yU(e,t){return aR(["top","bottom"],t)?"column":aR(["left","right"],t)||"row"===e?"row":"column"}function wU(e,t,n,r){var i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return SR(t&&t.header?t.header[e]:void 0,i[e],n.header[e])}function xU(e,t,n,r){var i,a={},o=Object(Sr.a)(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=wU(s,t,n,r);void 0!==u&&(a[s]=u)}}catch(c){o.e(c)}finally{o.f()}return a}var OU=["row","column"],kU=["header","footer"];function EU(e,t){var n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,a=xU(["titleAnchor","titleAngle","titleOrient"],i,r,t),o=a.titleAnchor,s=a.titleAngle,u=yU(t,a.titleOrient);return{name:"".concat(t,"-title"),type:"group",role:"".concat(u,"-title"),title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),SU(s,u)),_U(u,s,o)),MU(r,i,t,fU,cU))}}function _U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}var r=mU(t,"row"===e?"left":"top");return r?{align:r}:{}}function SU(e,t){var n=pU(e,"row"===t?"left":"top");return n?{baseline:n}:{}}function jU(e,t){var n,r=e.component.layoutHeaders[t],i=[],a=Object(Sr.a)(kU);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(r[o]){var s,u=Object(Sr.a)(r[o]);try{for(u.s();!(s=u.n()).done;){var c=s.value;i.push(TU(e,t,o,r,c))}}catch(l){u.e(l)}finally{u.f()}}}}catch(l){a.e(l)}finally{a.f()}return i}function CU(e,t){var n,r=e.sort;return PF(r)?{field:tP(r,{expr:"datum"}),order:(n=r.order,null!==n&&void 0!==n?n:"ascending")}:Object(A.A)(r)?{field:bU(e,t,{expr:"datum"}),order:"ascending"}:{field:tP(e,{expr:"datum"}),order:null!==r&&void 0!==r?r:"ascending"}}function AU(e,t,n){var r=xU(["format","labelAngle","labelAnchor","labelOrient","labelExpr"],e,n,t),i=r.format,a=r.labelAngle,o=r.labelAnchor,s=r.labelOrient,u=r.labelExpr,c=EF(e,i,"parent",n).signal,l=yU(t,s);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:u?kR(kR(u,"datum.label",c),"datum.value",tP(e,{expr:"parent"})):c}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),SU(a,l)),_U(l,a,o)),MU(n,e,t,dU,lU))}function TU(e,t,n,r,i){var a;if(i){var o=null,s=r.facetFieldDef,u=e.config?e.config:void 0;if(s&&i.labels){var c=xU(["labelOrient"],s,u,t).labelOrient;("row"===t&&!aR(["top","bottom"],c)||"column"===t&&!aR(["left","right"],c))&&(o=AU(s,t,u))}var l=IV(e)&&!LF(e.facet),f=i.axes,d=(null===(a=f)||void 0===a?void 0:a.length)>0;if(o||d){var h="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("".concat(t,"_").concat(n)),type:"group",role:"".concat(t,"-").concat(n)},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:CU(s,t)}:{}),d&&l?{from:{data:e.getName("facet_domain_".concat(t))}}:{}),o?{title:o}:{}),i.sizeSignal?{encode:{update:Object(to.a)({},h,i.sizeSignal)}}:{}),d?{axes:f}:{})}}return null}var NU={column:{start:0,end:1},row:{start:1,end:0}};function RU(e,t){return NU[t][e]}function MU(e,t,n,r,i){var a,o={},s=Object(Sr.a)(r);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(i[u]){var c=wU(u,t,e,n);void 0!==c&&(o[i[u]]=c)}}}catch(l){s.e(l)}finally{s.f()}return o}function DU(e){return[].concat(Object(dh.a)(IU(e,"width")),Object(dh.a)(IU(e,"height")))}function IU(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var i=e.getSizeSignalRef(t).signal;if("step"===r){var a=e.getScaleComponent(n);if(a){var o=a.get("type"),s=a.get("range");if(aF(o)&&AL(s)){var u=e.scaleName(n);if(IV(e.parent))if("independent"===e.parent.component.resolve.scale[n])return[FU(u,s)];return[FU(u,s),{name:i,update:PU(u,a,"domain('".concat(u,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){var c=i.endsWith("width"),l=c?"containerSize()[0]":"containerSize()[1]",f=gz(e.config.view,c?"width":"height"),d="isFinite(".concat(l,") ? ").concat(l," : ").concat(f);return[{name:i,init:d,on:[{update:d,events:"window:resize"}]}]}return[{name:i,value:r}]}function FU(e,t){return{name:e+"_step",value:t.step}}function PU(e,t,n){var r=t.get("type"),i=t.get("padding"),a=SR(t.get("paddingOuter"),i),o=t.get("paddingInner");return o="band"===r?void 0!==o?o:i:1,"bandspace(".concat(n,", ").concat(o,", ").concat(a,") * ").concat(e,"_step")}function zU(e,t){return hR(e).reduce((function(n,r){var i=e[r];return Object.assign(Object.assign({},n),LL(t,i,r,(function(e){return{value:e.value}})))}),{})}function LU(e,t){var n=e.scale[t],r=aR(CM,t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&cI(iI.independentScaleMeansIndependentGuide(t)),"independent"):e[r][t]||"shared"}var BU=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(Vk.a)(this,e),this.explicit=t,this.implicit=n}return Object(qk.a)(e,[{key:"clone",value:function(){return new e(QN(this.explicit),QN(this.implicit))}},{key:"combine",value:function(){return Object.assign(Object.assign({},this.explicit),this.implicit)}},{key:"get",value:function(e){return SR(this.explicit[e],this.implicit[e])}},{key:"getWithExplicit",value:function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}},{key:"setWithExplicit",value:function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)}},{key:"set",value:function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}},{key:"copyKeyFromSplit",value:function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)}},{key:"copyKeyFromObject",value:function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}},{key:"copyAll",value:function(e){var t,n=Object(Sr.a)(hR(e.combine()));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=e.getWithExplicit(r);this.setWithExplicit(r,i)}}catch(a){n.e(a)}finally{n.f()}}}]),e}();function UU(e){return{explicit:!0,value:e}}function WU(e){return{explicit:!1,value:e}}function VU(e){return function(t,n,r,i){var a=e(t.value,n.value);return a>0?t:a<0?n:qU(t,n,r,i)}}function qU(e,t,n,r){return e.explicit&&t.explicit&&cI(iI.mergeConflictingProperty(n,r,e.value,t.value)),e}function HU(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qU;return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:JN(e.value,t.value)?e:i(e,t,n,r)}var GU=Object.assign(Object.assign({},sz),{labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),$U=hR(GU),KU=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){return Object(Vk.a)(this,n),t.apply(this,arguments)}return n}(BU);function XU(e){return SR(e.legend.type,YU(e))}function YU(e){var t=e.channel,n=e.timeUnit,r=e.scaleType,i=e.alwaysReturn;if(hM(t)){if(aR(["quarter","month","day"],n))return"symbol";if(sF(r))return i?"gradient":void 0}return i?"symbol":void 0}function ZU(e){var t=e.legend,n=e.legendConfig,r=e.timeUnit,i=e.channel,a=e.scaleType,o=SR(t.orient,n.orient,"right"),s=XU({legend:t,channel:i,timeUnit:r,scaleType:a,alwaysReturn:!0});return SR(t.direction,n[s?"gradientDirection":"symbolDirection"],function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(o,s))}function JU(e,t,n,r){var i=e.getSizeSignalRef(t).signal;return{signal:"clamp(".concat(i,", ").concat(n,", ").concat(r,")")}}function QU(e,t,n){var r=t.getScaleComponent(n).get("type");return SR(e.get("type"),YU({channel:n,scaleType:r,alwaysReturn:!0}))}function eW(e,t,n,r,i){var a,o,s,u,c;if("symbol"===QU(i,n,r)){var l=Object.assign(Object.assign({},function(e,t,n){var r,i=Object(Sr.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=OF(a,t.markDef,t.config);void 0!==o&&(e[a]={value:o})}}catch(s){i.e(s)}finally{i.f()}return e}({},n,FR)),XL(n)),f=n.markDef,d=n.encoding,h=n.config,p=f.filled,m=null!==(a=iW(d.opacity))&&void 0!==a?a:f.opacity,v=sW(n,i,e);if(l.fill)if("fill"===r||p&&r===eM)delete l.fill;else if(l.fill.field)i.get("symbolFillColor")?delete l.fill:(l.fill={value:(o=h.legend.symbolBaseFillColor,null!==o&&void 0!==o?o:"black")},l.fillOpacity={value:null!==m&&void 0!==m?m:1});else if(Object(A.A)(l.fill)){var g=null!==(c=null!==(u=aW(null!==(s=d.fill)&&void 0!==s?s:d.color))&&void 0!==u?u:f.fill)&&void 0!==c?c:p&&f.color;g&&(l.fill={value:g})}if(l.stroke)if("stroke"===r||!p&&r===eM)delete l.stroke;else if(l.stroke.field)delete l.stroke;else if(Object(A.A)(l.stroke)){var b=SR(aW(d.stroke||d.color),f.stroke,p?f.color:void 0);b&&(l.stroke={value:b})}return r!==aM&&(v?l.opacity=[{test:v,value:null!==m&&void 0!==m?m:1},{value:h.legend.unselectedOpacity}]:m&&(l.opacity={value:m})),l=Object.assign(Object.assign({},l),t),hR(l).length>0?l:void 0}}function tW(e,t,n,r,i){if("gradient"===QU(i,n,r)){var a={},o=iW(n.encoding.opacity)||n.markDef.opacity;return o&&(a.opacity={value:o}),a=Object.assign(Object.assign({},a),t),hR(a).length>0?a:void 0}}function nW(e,t,n,r,i){var a=n.legend(r),o=n.config,s=sW(n,i,e),u={};if(yP(e)){var c=n.getScaleComponent(r).get("type")===KI.UTC,l=AF("datum.value",e.timeUnit,a.format,o.timeFormat,c);t=Object.assign(Object.assign({},l?{text:{signal:l}}:{}),t)}return s&&(t.opacity=[{test:s,value:1},{value:o.legend.unselectedOpacity}]),u=Object.assign(Object.assign({},u),t),hR(u).length>0?u:void 0}function rW(e,t,n,r,i){var a;return(null===(a=i.get("selections"))||void 0===a?void 0:a.length)?{fill:{value:"transparent"}}:void 0}function iW(e){return oW(e,(function(e,t){return Math.max(e,t.value)}))}function aW(e){return oW(e,(function(e,t){return SR(e,t.value)}))}function oW(e,t){return function(e){return!!e&&!!e.condition&&(Object(A.A)(e.condition)||YF(e.condition))}(e)?(Object(A.A)(e.condition)?e.condition:[e.condition]).reduce(t,e.value):YF(e)?e.value:void 0}function sW(e,t,n){var r,i=t.get("selections");if(null===(r=i)||void 0===r?void 0:r.length){var a=Object(A.Z)(n.field);return i.map((function(e){var t=Object(A.Z)(vR(e)+HB);return"(!length(data(".concat(t,")) || (").concat(e,"[").concat(a,"] && indexof(").concat(e,"[").concat(a,"], datum.value) >= 0))")})).join(" || ")}}function uW(e){DV(e)?e.component.legends=function(e){var t=e.encoding;return[eM,tM,nM,uM,iM,rM,aM,oM,sM].reduce((function(n,r){var i=t[r];return!e.legend(r)||!e.getScaleComponent(r)||$F(i)&&r===rM&&"geojson"===i.type||(n[r]=function(e,t){var n,r=e.fieldDef(t),i=e.legend(t),a=new KU({},function(e,t){var n=e.scaleName(eM);if("color"===t)return e.markDef.filled?{fill:n}:{stroke:n};return Object(to.a)({},t,e.scaleName(t))}(e,t));!function(e,t,n){var r=e.fieldDef(t).field;YB(e,(function(e){var i,a,o=null!==(i=e.project.hasField[r])&&void 0!==i?i:e.project.hasChannel[t];if(o&&CB.has(e)){var s=null!==(a=n.get("selections"))&&void 0!==a?a:[];s.push(e.name),n.set("selections",s,!1),o.hasLegend=!0}}))}(e,t,a);var o,s=Object(Sr.a)($U);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=lW(u,i,t,e);if(void 0!==c){var l=cW(c,u,i,r);(l||void 0===e.config.legend[u])&&a.set(u,c,l)}}}catch(p){s.e(p)}finally{s.f()}var f=null!==(n=i.encoding)&&void 0!==n?n:{},d=a.get("selections"),h=["labels","legend","title","symbols","gradient","entries"].reduce((function(n,i){var o,s,u,c=zU(null!==(o=f[i])&&void 0!==o?o:{},e),l=v[i]?v[i](r,c,e,t,a):c;return void 0!==l&&hR(l).length>0&&(n[i]=Object.assign(Object.assign(Object.assign({},(null===(s=d)||void 0===s?void 0:s.length)?{name:"".concat(r.field,"_legend_").concat(i)}:{}),(null===(u=d)||void 0===u?void 0:u.length)?{interactive:!!d}:{}),{update:l})),n}),{});hR(h).length>0&&a.set("encode",h,!!i.encoding);return a}(e,r)),n}),{})}(e):e.component.legends=function(e){var t,n=e.component,r=n.legends,i=n.resolve,a=Object(Sr.a)(e.children);try{var o=function(){var n=t.value;uW(n),hR(n.component.legends).forEach((function(t){i.legend[t]=LU(e.component.resolve,t),"shared"===i.legend[t]&&(r[t]=fW(r[t],n.component.legends[t]),r[t]||(i.legend[t]="independent",delete r[t]))}))};for(a.s();!(t=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}return hR(r).forEach((function(t){var n,r=Object(Sr.a)(e.children);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.component.legends[t]&&("shared"===i.legend[t]&&delete a.component.legends[t])}}catch(s){r.e(s)}finally{r.f()}})),r}(e)}function cW(e,t,n,r){switch(t){case"values":return!!n.values;case"title":if("title"===t&&e===r.title)return!0}return e===n[t]}function lW(e,t,n,r){var i=r.encoding,a=r.mark,o=pP(i[n]),s=r.config.legend,u=o.timeUnit,c=r.getScaleComponent(n).get("type");switch(e){case"direction":return ZU({legend:t,legendConfig:s,timeUnit:u,channel:n,scaleType:c});case"format":if(yP(o))return;return _F(o,t.format,r.config);case"formatType":if(yP(o))return;return t.formatType;case"gradientLength":return SR(t.gradientLength,s.gradientLength,function(e){var t=e.legend,n=e.legendConfig,r=e.model,i=e.channel,a=e.scaleType,o=n.gradientHorizontalMaxLength,s=n.gradientHorizontalMinLength,u=n.gradientVerticalMaxLength,c=n.gradientVerticalMinLength;if("horizontal"===ZU({legend:t,legendConfig:n,channel:i,scaleType:a})){var l=SR(t.orient,n.orient);return"top"===l||"bottom"===l?JU(r,"width",s,o):s}return JU(r,"height",c,u)}({model:r,legend:t,legendConfig:s,channel:n,scaleType:c}));case"labelOverlap":return SR(t.labelOverlap,function(e){if(aR(["quantile","threshold","log"],e))return"greedy"}(c));case"symbolType":return SR(t.symbolType,function(e,t,n,r){var i;if("shape"!==t){var a=null!==(i=aW(n))&&void 0!==i?i:r;if(a)return a}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(a,n,i.shape,r.markDef.shape));case"title":return cP(o,r.config,{allowDisabling:!0})||void 0;case"type":return XU({legend:t,channel:n,timeUnit:u,scaleType:c,alwaysReturn:!1});case"values":return function(e,t){var n=e.values;if(n)return xP(t,n)}(t,o)}return t[e]}function fW(e,t){var n,r,i,a,o,s;if(!e)return t.clone();var u=e.getWithExplicit("orient"),c=t.getWithExplicit("orient");if(!u.explicit||!c.explicit||u.value===c.value){var l,f=!1,d=Object(Sr.a)($U);try{var h=function(){var n=l.value,r=HU(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(function(e,t){switch(n){case"symbolType":return function(e,t){if("circle"===t.value)return t;return e}(e,t);case"title":return MF(e,t);case"type":return f=!0,WU("symbol")}return qU(e,t,n,"legend")}));e.setWithExplicit(n,r)};for(d.s();!(l=d.n()).done;)h()}catch(p){d.e(p)}finally{d.f()}return f&&((null===(i=null===(r=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)||void 0===i||i)&&bR(e.implicit,["encode","gradient"]),(null===(s=null===(o=null===(a=e.explicit)||void 0===a?void 0:a.encode)||void 0===o?void 0:o.gradient)||void 0===s||s)&&bR(e.explicit,["encode","gradient"])),e}}function dW(e){var t,n=e.component.legends,r={},i=Object(Sr.a)(hR(n));try{for(i.s();!(t=i.n()).done;){var a=t.value,o=e.getScaleComponent(a),s=nR(o.get("domains"));if(r[s]){var u,c=Object(Sr.a)(r[s]);try{for(c.s();!(u=c.n()).done;){fW(u.value,n[a])||r[s].push(n[a])}}catch(l){c.e(l)}finally{c.f()}}else r[s]=[n[a].clone()]}}catch(l){i.e(l)}finally{i.f()}return pR(r).flat().map((function(e){var t,n,r,i,a=e.combine(),o=a.labelExpr,s=(a.selections,x(a,["labelExpr","selections"]));if(null===(t=s.encode)||void 0===t?void 0:t.symbols){var u=s.encode.symbols.update;!u.fill||"transparent"===u.fill.value||u.stroke||s.stroke||(u.stroke={value:"transparent"}),s.fill&&delete u.fill}if(void 0!==o){var c=o;(null===(i=null===(r=null===(n=s.encode)||void 0===n?void 0:n.labels)||void 0===r?void 0:r.update)||void 0===i?void 0:i.text)&&CL(s.encode.labels.update.text)&&(c=kR(o,"datum.label",s.encode.labels.update.text.signal)),function(e,t,n,r){var i,a,o;e.encode=null!==(i=e.encode)&&void 0!==i?i:{},e.encode[t]=null!==(a=e.encode[t])&&void 0!==a?a:{},e.encode[t].update=null!==(o=e.encode[t].update)&&void 0!==o?o:{},e.encode[t].update[n]=r}(s,"labels","text",{signal:c})}return s}))}function hW(e){return zV(e)||PV(e)||FV(e)?function(e){return e.children.reduce((function(e,t){return e.concat(t.assembleProjections())}),pW(e))}(e):pW(e)}function pW(e){var t=e.component.projection;if(!t||t.merged)return[];var n=t.combine(),r=n.name,i=x(n,["name"]);if(t.data){var a={signal:"[".concat(t.size.map((function(e){return e.signal})).join(", "),"]")},o=t.data.reduce((function(t,n){var r=CL(n)?n.signal:"data('".concat(e.lookupDataSource(n),"')");return aR(t,r)||t.push(r),t}),[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:a,fit:{signal:o.length>1?"[".concat(o.join(", "),"]"):o[0]}},i)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),i)]}var mW=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],vW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i,a){var o;return Object(Vk.a)(this,n),(o=t.call(this,Object.assign({},r),{name:e})).specifiedProjection=r,o.size=i,o.data=a,o.merged=!1,o}return Object(qk.a)(n,[{key:"isFit",get:function(){return!!this.data}}]),n}(BU);function gW(e){e.component.projection=DV(e)?function(e){var t;if(e.hasProjection){var n=e.specifiedProjection,r=!(n&&(null!=n.scale||null!=n.translate)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,a=r?function(e){for(var t=[],n=0,r=[["longitude","latitude"],["longitude2","latitude2"]];n<r.length;n++){var i=r[n];(e.channelHasField(i[0])||e.channelHasField(i[1]))&&t.push({signal:e.getName("geojson_".concat(t.length))})}e.channelHasField(rM)&&"geojson"===e.fieldDef(rM).type&&t.push({signal:e.getName("geojson_".concat(t.length))});0===t.length&&t.push(e.requestDataName(uL));return t}(e):void 0;return new vW(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=e.config.projection)&&void 0!==t?t:{}),null!==n&&void 0!==n?n:{}),i,a)}return}(e):function(e){if(0===e.children.length)return;var t;e.children.forEach((function(e){return gW(e)}));var n=sR(e.children,(function(e){var n=e.component.projection;if(n){if(t){var r=function(e,t){var n=sR(mW,(function(n){return!Object(A.v)(e.explicit,n)&&!Object(A.v)(t.explicit,n)||!(!Object(A.v)(e.explicit,n)||!Object(A.v)(t.explicit,n)||nR(e.get(n))!==nR(t.get(n)))}));if(nR(e.size)===nR(t.size)){if(n)return e;if(nR(e.explicit)===nR({}))return t;if(nR(t.explicit)===nR({}))return e}return null}(t,n);return r&&(t=r),!!r}return t=n,!0}return!0}));if(t&&n){var r=e.projectionName(!0),i=new vW(r,t.specifiedProjection,t.size,QN(t.data));return e.children.forEach((function(e){var t=e.component.projection;if(t){var n;if(t.isFit)(n=i.data).push.apply(n,Object(dh.a)(e.component.projection.data));e.renameProjection(t.get("name"),r),t.merged=!0}})),i}return}(e)}var bW=n(212),yW=n(225),wW=n(93),xW=n(213);function OW(e,t){return"".concat(kP(e),"_").concat(t)}function kW(e,t,n){var r,i=OW(null!==(r=gP(n,void 0))&&void 0!==r?r:{},t);return e.getName("".concat(i,"_bins"))}function EW(e,t,n){var r,i;r=function(e){return"as"in e}(e)?Object(A.H)(e.as)?[e.as,"".concat(e.as,"_end")]:[e.as[0],e.as[1]]:[tP(e,{forAs:!0}),tP(e,{binSuffix:"end",forAs:!0})];var a=Object.assign({},gP(t,void 0)),o=OW(a,e.field),s=function(e,t){return{signal:e.getName("".concat(t,"_bins")),extentSignal:e.getName("".concat(t,"_extent"))}}(n,o),u=s.signal,c=s.extentSignal;if(jP(a.extent)){var l=a.extent,f=l.selection;i=rU(n.getSelectionComponent(vR(f),f),l),delete a.extent}return{key:o,binComponent:Object.assign(Object.assign(Object.assign({bin:a,field:e.field,as:[r]},u?{signal:u}:{}),c?{extentSignal:c}:{}),i?{span:i}:{})}}var _W=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,e)).bins=r,i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.bins))}},{key:"merge",value:function(e,t){var n,r=Object(Sr.a)(hR(e.bins));try{for(r.s();!(n=r.n()).done;){var i=n.value;i in this.bins?(t(e.bins[i].signal,this.bins[i].signal),this.bins[i].as=cR([].concat(Object(dh.a)(this.bins[i].as),Object(dh.a)(e.bins[i].as)),rR)):this.bins[i]=e.bins[i]}}catch(u){r.e(u)}finally{r.f()}var a,o=Object(Sr.a)(e.children);try{for(o.s();!(a=o.n()).done;){var s=a.value;e.removeChild(s),s.parent=this}}catch(u){o.e(u)}finally{o.f()}e.remove()}},{key:"producedFields",value:function(){return new Set(pR(this.bins).map((function(e){return e.as})).flat(2))}},{key:"dependentFields",value:function(){return new Set(pR(this.bins).map((function(e){return e.field})))}},{key:"hash",value:function(){return"Bin ".concat(rR(this.bins))}},{key:"assemble",value:function(){return pR(this.bins).flatMap((function(e){var t,n=[],r=(t=e.as,Object(bW.a)(t)||Object(yW.a)(t)||Object(wW.a)(t)||Object(xW.a)()),i=r[0],a=r.slice(1),o=e.bin,s=o.extent,u=x(o,["extent"]),c=Object.assign(Object.assign(Object.assign({type:"bin",field:OR(e.field),as:i,signal:e.signal},jP(s)?{extent:null}:{extent:s}),e.span?{span:{signal:"span(".concat(e.span,")")}}:{}),u);!s&&e.extentSignal&&(n.push({type:"extent",field:OR(e.field),signal:e.extentSignal}),c.extent={signal:e.extentSignal}),n.push(c);var l,f=Object(Sr.a)(a);try{for(f.s();!(l=f.n()).done;)for(var d=l.value,h=0;h<2;h++)n.push({type:"formula",expr:tP({field:i[h]},{expr:"datum"}),as:d[h]})}catch(p){f.e(p)}finally{f.f()}return e.formula&&n.push({type:"formula",expr:e.formula,as:e.formulaAs}),n}))}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,n,r){if(KF(n)&&EP(n.bin)){var i=EW(n,n.bin,t),a=i.key,o=i.binComponent;e[a]=Object.assign(Object.assign(Object.assign({},o),e[a]),function(e,t,n,r){var i,a;if(OP(t,n)){var o=DV(e)?null!==(a=null!==(i=e.axis(n))&&void 0!==i?i:e.legend(n))&&void 0!==a?a:{}:{},s=tP(t,{expr:"datum"}),u=tP(t,{expr:"datum",binSuffix:"end"});return{formulaAs:tP(t,{binSuffix:"range",forAs:!0}),formula:CF(s,u,o.format,r)}}return{}}(t,n,r,t.config))}return e}),{});return 0===hR(r).length?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t,r){var i=EW(t,t.bin,r),a=i.key,o=i.binComponent;return new n(e,Object(to.a)({},a,o))}}]),n}(bB),SW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e){var r,i;if(Object(Vk.a)(this,n),r=t.call(this,null),iL(e=null!==e&&void 0!==e?e:{name:"source"})||(i=e.format?Object.assign({},tR(e.format,["parse"])):{}),nL(e))r._data={values:e.values};else if(tL(e)){if(r._data={url:e.url},!i.type){var a=/(?:\.([^.]+))?$/.exec(e.url)[1];aR(["json","csv","tsv","dsv","topojson"],a)||(a="json"),i.type=a}}else oL(e)?r._data={values:[{type:"Sphere"}]}:(rL(e)||iL(e))&&(r._data={});return r._generator=iL(e),e.name&&(r._name=e.name),i&&hR(i).length>0&&(r._data.format=i),r}return Object(qk.a)(n,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hasName",value:function(){return!!this._name}},{key:"remove",value:function(){throw new Error("Source nodes are roots and cannot be removed.")}},{key:"hash",value:function(){throw new Error("Cannot hash sources")}},{key:"assemble",value:function(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}},{key:"data",get:function(){return this._data}},{key:"isGenerator",get:function(){return this._generator}},{key:"dataName",get:function(){return this._name},set:function(e){this._name=e}},{key:"parent",set:function(e){throw new Error("Source nodes have to be roots.")}}]),n}(bB);function jW(e){var t,n=Object(Sr.a)(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=Object(Sr.a)(i.children);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.parent!==i)return console.error("Dataflow graph is inconsistent.",i,o),!1}}catch(s){a.e(s)}finally{a.f()}if(!jW(i.children))return!1}}catch(s){n.e(s)}finally{n.f()}return!0}var CW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,e)).params=r,i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hash",value:function(){return"Graticule ".concat(rR(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}]),n}(bB),AW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,e)).params=r,i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){var e;return new Set([(e=this.params.as,null!==e&&void 0!==e?e:"data")])}},{key:"hash",value:function(){return"Hash ".concat(rR(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"sequence"},this.params)}}]),n}(bB);function TW(e){return e instanceof SW||e instanceof CW||e instanceof AW}var NW=function(){function e(){Object(Vk.a)(this,e),this._mutated=!1}return Object(qk.a)(e,[{key:"setMutated",value:function(){this._mutated=!0}},{key:"mutatedFlag",get:function(){return this._mutated}}]),e}(),RW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){var e;return Object(Vk.a)(this,n),(e=t.call(this))._continue=!1,e}return Object(qk.a)(n,[{key:"setContinue",value:function(){this._continue=!0}},{key:"reset",value:function(){}},{key:"optimizeNextFromLeaves",value:function(e){if(TW(e))return!1;var t=e.parent;return this.run(e).continueFlag&&this.optimizeNextFromLeaves(t),this.mutatedFlag}},{key:"continueFlag",get:function(){return this._continue}},{key:"flags",get:function(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}},set:function(e){var t=e.continueFlag,n=e.mutatedFlag;t&&this.setContinue(),n&&this.setMutated()}}]),n}(NW),MW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){return Object(Vk.a)(this,n),t.apply(this,arguments)}return n}(NW);function DW(e,t,n,r){var i=DV(r)?r.encoding[EM(t)]:void 0;if(KF(n)&&DV(r)&&qF(t,n,i,r.markDef,r.config))e.add(tP(n,{})),e.add(tP(n,{suffix:"end"})),OP(n,t)&&e.add(tP(n,{binSuffix:"range"}));else if(t in lM){var a=function(e){switch(e){case"latitude":return"y";case"latitude2":return"y2";case"longitude":return"x";case"longitude2":return"x2"}}(t);e.add(r.getName(a))}else e.add(tP(n));return e}var IW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i){var a;return Object(Vk.a)(this,n),(a=t.call(this,e)).dimensions=r,a.measures=i,a}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,new Set(this.dimensions),QN(this.measures))}},{key:"merge",value:function(e){return function(e,t){if(e.size!==t.size)return!1;var n,r=Object(Sr.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(this.dimensions,e.dimensions)?(function(e,t){var n,r,i=Object(Sr.a)(hR(t));try{for(i.s();!(r=i.n()).done;){var a,o=r.value,s=t[o],u=Object(Sr.a)(hR(s));try{for(u.s();!(a=u.n()).done;){var c=a.value;o in e?e[o][c]=new Set([].concat(Object(dh.a)(null!==(n=e[o][c])&&void 0!==n?n:[]),Object(dh.a)(s[c]))):e[o]=Object(to.a)({},c,s[c])}}catch(l){u.e(l)}finally{u.f()}}}catch(l){i.e(l)}finally{i.f()}}(this.measures,e.measures),!0):(function(){var e;(e=oI).debug.apply(e,arguments)}("different dimensions, cannot merge"),!1)}},{key:"addDimensions",value:function(e){e.forEach(this.dimensions.add,this.dimensions)}},{key:"dependentFields",value:function(){return new Set([].concat(Object(dh.a)(this.dimensions),Object(dh.a)(hR(this.measures))))}},{key:"producedFields",value:function(){var e,t=new Set,n=Object(Sr.a)(hR(this.measures));try{for(n.s();!(e=n.n()).done;){var r,i=e.value,a=Object(Sr.a)(hR(this.measures[i]));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=this.measures[i][o];0===s.size?t.add("".concat(o,"_").concat(i)):s.forEach(t.add,t)}}catch(u){a.e(u)}finally{a.f()}}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"hash",value:function(){return"Aggregate ".concat(rR({dimensions:this.dimensions,measures:this.measures}))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],i=Object(Sr.a)(hR(this.measures));try{for(i.s();!(e=i.n()).done;){var a,o=e.value,s=Object(Sr.a)(hR(this.measures[o]));try{for(s.s();!(a=s.n()).done;){var u,c=a.value,l=Object(Sr.a)(this.measures[o][c]);try{for(l.s();!(u=l.n()).done;){var f=u.value;r.push(f),t.push(c),n.push("*"===o?null:OR(o))}}catch(d){l.e(d)}finally{l.f()}}}catch(d){s.e(d)}finally{s.f()}}}catch(d){i.e(d)}finally{i.f()}return{type:"aggregate",groupby:Object(dh.a)(this.dimensions),ops:t,fields:n,as:r}}},{key:"groupBy",get:function(){return this.dimensions}}],[{key:"makeFromEncoding",value:function(e,t){var r=!1;t.forEachFieldDef((function(e){e.aggregate&&(r=!0)}));var i={},a=new Set;return r?(t.forEachFieldDef((function(e,n){var r,o,s,u,c=e.aggregate,l=e.field;if(c)if("count"===c)i["*"]=null!==(r=i["*"])&&void 0!==r?r:{},i["*"].count=new Set([tP(e,{forAs:!0})]);else{if(qR(c)||HR(c)){var f=qR(c)?"argmin":"argmax",d=c[f];i[d]=null!==(o=i[d])&&void 0!==o?o:{},i[d][f]=new Set([tP({op:f,field:d},{forAs:!0})])}else i[l]=null!==(s=i[l])&&void 0!==s?s:{},i[l][c]=new Set([tP(e,{forAs:!0})]);IM(n)&&"unaggregated"===t.scaleDomain(n)&&(i[l]=null!==(u=i[l])&&void 0!==u?u:{},i[l].min=new Set([tP({field:l,aggregate:"min"},{forAs:!0})]),i[l].max=new Set([tP({field:l,aggregate:"max"},{forAs:!0})]))}else DW(a,n,e,t)})),a.size+hR(i).length===0?null:new n(e,a,i)):null}},{key:"makeFromTransform",value:function(e,t){var r,i,a,o,s=new Set,u={},c=Object(Sr.a)(t.aggregate);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=l.op,d=l.field,h=l.as;f&&("count"===f?(u["*"]=null!==(r=u["*"])&&void 0!==r?r:{},u["*"].count=new Set([h||tP(l,{forAs:!0})])):(u[d]=null!==(i=u[d])&&void 0!==i?i:{},u[d][f]=new Set([h||tP(l,{forAs:!0})])))}}catch(g){c.e(g)}finally{c.f()}var p,m=Object(Sr.a)(null!==(a=t.groupby)&&void 0!==a?a:[]);try{for(m.s();!(p=m.n()).done;){var v=p.value;s.add(v)}}catch(g){m.e(g)}finally{m.f()}return s.size+hR(u).length===0?null:new n(e,s,u)}}]),n}(bB),FW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i,a){var o;Object(Vk.a)(this,n),(o=t.call(this,e)).model=r,o.name=i,o.data=a;var s,u=Object(Sr.a)(mM);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=r.facet[c];if(l){var f=l.bin,d=l.sort;o[c]=Object.assign({name:r.getName("".concat(c,"_domain")),fields:[tP(l)].concat(Object(dh.a)(EP(f)?[tP(l,{binSuffix:"end"})]:[]))},PF(d)?{sortField:d}:Object(A.A)(d)?{sortIndexField:bU(l,c)}:{})}}}catch(h){u.e(h)}finally{u.f()}return o.childModel=r.child,o}return Object(qk.a)(n,[{key:"hash",value:function(){var e,t="Facet",n=Object(Sr.a)(mM);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(t+=" ".concat(r.charAt(0),":").concat(rR(this[r])))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"dependentFields",value:function(){var e,t=new Set(this.fields),n=Object(Sr.a)(mM);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(this[r].sortField&&t.add(this[r].sortField.field),this[r].sortIndexField&&t.add(this[r].sortIndexField))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set}},{key:"getSource",value:function(){return this.name}},{key:"getChildIndependentFieldsWithStep",value:function(){for(var e={},t=0,n=["x","y"];t<n.length;t++){var r=n[t],i=this.childModel.component.scales[r];if(i&&!i.merged){var a=i.get("type"),o=i.get("range");if(aF(a)&&AL(o)){var s=vV(gV(this.childModel,r));s?e[r]=s:cI("Unknown field for ".concat(r,". Cannot calculate view size."))}}}return e}},{key:"assembleRowColumnHeaderData",value:function(e,t,n){var r={row:"y",column:"x"}[e],i=[],a=[],o=[];n&&n[r]&&(t?(i.push("distinct_".concat(n[r])),a.push("max")):(i.push(n[r]),a.push("distinct")),o.push("distinct_".concat(n[r])));var s=this[e],u=s.sortField,c=s.sortIndexField;if(u){var l=u.op,f=void 0===l?"mean":l,d=u.field;i.push(d),a.push(f),o.push(tP(u,{forAs:!0}))}else c&&(i.push(c),a.push("max"),o.push(c));return{name:this[e].name,source:null!==t&&void 0!==t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},i.length?{fields:i,ops:a,as:o}:{})]}}},{key:"assembleFacetHeaderData",value:function(e){var t,n,r,i=this.model.layout.columns,a=this.model.component.layoutHeaders,o=[],s={},u=Object(Sr.a)(OU);try{for(u.s();!(r=u.n()).done;){var c,l=r.value,f=Object(Sr.a)(kU);try{for(f.s();!(c=f.n()).done;){var d,h=c.value,p=null!==(t=a[l]&&a[l][h])&&void 0!==t?t:[],m=Object(Sr.a)(p);try{for(m.s();!(d=m.n()).done;){if((null===(n=d.value.axes)||void 0===n?void 0:n.length)>0){s[l]=!0;break}}}catch(w){m.e(w)}finally{m.f()}}}catch(w){f.e(w)}finally{f.f()}if(s[l]){var v='length(data("'.concat(this.facet.name,'"))'),g="row"===l?i?{signal:"ceil(".concat(v," / ").concat(i,")")}:1:i?{signal:"min(".concat(v,", ").concat(i,")")}:{signal:v};o.push({name:"".concat(this.facet.name,"_").concat(l),transform:[{type:"sequence",start:0,stop:g}]})}}}catch(w){u.e(w)}finally{u.f()}var b=s.row,y=s.column;return(b||y)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,e)),o}},{key:"assemble",value:function(){var e,t,n=[],r=null,i=this.getChildIndependentFieldsWithStep(),a=this.column,o=this.row,s=this.facet;if(a&&o&&(i.x||i.y)){r="cross_".concat(this.column.name,"_").concat(this.row.name);var u=[].concat(null!==(e=i.x)&&void 0!==e?e:[],null!==(t=i.y)&&void 0!==t?t:[]),c=u.map((function(){return"distinct"}));n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:u,ops:c}]})}for(var l=0,f=["column",ZR];l<f.length;l++){var d=f[l];this[d]&&n.push(this.assembleRowColumnHeaderData(d,r,i))}if(s){var h=this.assembleFacetHeaderData(i);h&&n.push.apply(n,Object(dh.a)(h))}return n}},{key:"fields",get:function(){var e,t,n=[],r=Object(Sr.a)(mM);try{for(r.s();!(t=r.n()).done;){var i=t.value;(null===(e=this[i])||void 0===e?void 0:e.fields)&&n.push.apply(n,Object(dh.a)(this[i].fields))}}catch(a){r.e(a)}finally{r.f()}return n}}]),n}(bB);function PW(e){return"'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}function zW(e,t){var n=wR(e);if("number"===t)return"toNumber(".concat(n,")");if("boolean"===t)return"toBoolean(".concat(n,")");if("string"===t)return"toString(".concat(n,")");if("date"===t)return"toDate(".concat(n,")");if("flatten"===t)return n;if(0===t.indexOf("date:")){var r=PW(t.slice(5,t.length));return"timeParse(".concat(n,",'").concat(r,"')")}if(0===t.indexOf("utc:")){var i=PW(t.slice(4,t.length));return"utcParse(".concat(n,",'").concat(i,"')")}return cI(iI.unrecognizedParse(t)),null}function LW(e){var t={};return function e(t,n){if(YN(t))e(t.not,n);else if(XN(t)){var r,i=Object(Sr.a)(t.and);try{for(i.s();!(r=i.n()).done;){e(r.value,n)}}catch(s){i.e(s)}finally{i.f()}}else if(KN(t)){var a,o=Object(Sr.a)(t.or);try{for(o.s();!(a=o.n()).done;){e(a.value,n)}}catch(s){o.e(s)}finally{o.f()}}else n(t)}(e.filter,(function(e){var n;if(UI(e)){var r=null;MI(e)?r=e.equal:zI(e)?r=e.range[0]:LI(e)&&(r=(n=e.oneOf,null!==n&&void 0!==n?n:e.in)[0]),r&&(lI(r)?t[e.field]="date":Object(A.E)(r)?t[e.field]="number":Object(A.H)(r)&&(t[e.field]="string")),e.timeUnit&&(t[e.field]="date")}})),t}function BW(e){var t={};function n(e){var n;yP(e)?t[e.field]="date":"quantitative"===e.type&&(n=e.aggregate,Object(A.H)(n)&&aR(["min","max"],n))?t[e.field]="number":_R(e.field)>1?e.field in t||(t[e.field]="flatten"):ZF(e)&&PF(e.sort)&&_R(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if((DV(e)||IV(e))&&e.forEachFieldDef((function(t,r){if(KF(t))n(t);else{var i=kM(r),a=e.fieldDef(i);n(Object.assign(Object.assign({},t),{type:a.type}))}})),DV(e)){var r=e.mark,i=e.markDef,a=e.encoding;if(RR(r)&&!e.encoding.order){var o=a["horizontal"===i.orient?"y":"x"];$F(o)&&"quantitative"===o.type&&!(o.field in t)&&(t[o.field]="number")}}return t}var UW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,e))._parse=r,i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this._parse))}},{key:"hash",value:function(){return"Parse ".concat(rR(this._parse))}},{key:"merge",value:function(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}},{key:"assembleFormatParse",value:function(){var e,t={},n=Object(Sr.a)(hR(this._parse));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=this._parse[r];1===_R(r)&&(t[r]=i)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set(hR(this._parse))}},{key:"dependentFields",value:function(){return new Set(hR(this._parse))}},{key:"assembleTransforms",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return hR(this._parse).filter((function(e){return!t||_R(e)>1})).map((function(t){var n=zW(t,e._parse[t]);return n?{type:"formula",expr:n,as:ER(t)}:null})).filter((function(e){return null!==e}))}},{key:"parse",get:function(){return this._parse}}],[{key:"makeExplicit",value:function(e,t,n){var r={},i=t.data;return!iL(i)&&i&&i.format&&i.format.parse&&(r=i.format.parse),this.makeWithAncestors(e,r,{},n)}},{key:"makeWithAncestors",value:function(e,t,r,i){var a,o=Object(Sr.a)(hR(r));try{for(o.s();!(a=o.n()).done;){var s=a.value,u=i.getWithExplicit(s);void 0!==u.value&&(u.explicit||u.value===r[s]||"derived"===u.value||"flatten"===r[s]?delete r[s]:cI(iI.differentParse(s,r[s],u.value)))}}catch(y){o.e(y)}finally{o.f()}var c,l=Object(Sr.a)(hR(t));try{for(l.s();!(c=l.n()).done;){var f=c.value,d=i.get(f);void 0!==d&&(d===t[f]?delete t[f]:cI(iI.differentParse(f,t[f],d)))}}catch(y){l.e(y)}finally{l.f()}var h=new BU(t,r);i.copyAll(h);var p,m={},v=Object(Sr.a)(hR(h.combine()));try{for(v.s();!(p=v.n()).done;){var g=p.value,b=h.get(g);null!==b&&(m[g]=b)}}catch(y){v.e(y)}finally{v.f()}return 0===hR(m).length||i.parseNothing?null:new n(e,m)}}]),n}(bB),WW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,e)).transform=r,i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=cR(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e=new Set;return this.transform.groupby&&this.transform.groupby.forEach((function(t){return e.add(t)})),this.transform.joinaggregate.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach((function(t){return e.add(t)})),e}},{key:"producedFields",value:function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:tP(e)}},{key:"hash",value:function(){return"JoinAggregateTransform ".concat(rR(this.transform))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],i=Object(Sr.a)(this.transform.joinaggregate);try{for(i.s();!(e=i.n()).done;){var a=e.value;n.push(a.op),r.push(this.getDefaultName(a)),t.push(void 0===a.field?null:a.field)}}catch(s){i.e(s)}finally{i.f()}var o=this.transform.groupby;return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},void 0!==o?{groupby:o}:{})}}]),n}(bB);var VW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,e))._stack=r,i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this._stack))}},{key:"addDimensions",value:function(e){var t;(t=this._stack.facetby).push.apply(t,Object(dh.a)(e))}},{key:"dependentFields",value:function(){var e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach((function(t){return e.add(t)})),this._stack.facetby.forEach((function(t){return e.add(t)})),this._stack.sort.field.forEach((function(t){return e.add(t)})),e}},{key:"producedFields",value:function(){return new Set(this._stack.as)}},{key:"hash",value:function(){return"Stack ".concat(rR(this._stack))}},{key:"getGroupbyFields",value:function(){var e=this._stack,t=e.dimensionFieldDef,n=e.impute,r=e.groupby;return t?t.bin?n?[tP(t,{binSuffix:"mid"})]:[tP(t,{}),tP(t,{binSuffix:"end"})]:[tP(t)]:null!==r&&void 0!==r?r:[]}},{key:"assemble",value:function(){var e=[],t=this._stack,n=t.facetby,r=t.dimensionFieldDef,i=t.stackField,a=t.stackby,o=t.sort,s=t.offset,u=t.impute,c=t.as;if(u&&r){var l=r.band,f=void 0===l?.5:l;r.bin&&e.push({type:"formula",expr:"".concat(f,"*")+tP(r,{expr:"datum"})+"+".concat(1-f,"*")+tP(r,{expr:"datum",binSuffix:"end"}),as:tP(r,{binSuffix:"mid",forAs:!0})}),e.push({type:"impute",field:i,groupby:[].concat(Object(dh.a)(a),Object(dh.a)(n)),key:tP(r,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[].concat(Object(dh.a)(this.getGroupbyFields()),Object(dh.a)(n)),field:i,sort:o,as:c,offset:s}),e}},{key:"stack",get:function(){return this._stack}}],[{key:"makeFromTransform",value:function(e,t){var r=t.stack,i=t.groupby,a=t.as,o=t.offset,s=void 0===o?"zero":o,u=[],c=[];if(void 0!==t.sort){var l,f=Object(Sr.a)(t.sort);try{for(f.s();!(l=f.n()).done;){var d=l.value;u.push(d.field),c.push(SR(d.order,"ascending"))}}catch(h){f.e(h)}finally{f.f()}}return new n(e,{stackField:r,groupby:i,offset:s,sort:{field:u,order:c},facetby:[],as:function(e){return Object(A.A)(e)&&e.every((function(e){return Object(A.H)(e)}))&&e.length>1}(a)?a:Object(A.H)(a)?[a,a+"_end"]:[t.stack+"_start",t.stack+"_end"]})}},{key:"makeFromEncoding",value:function(e,t){var r,i=t.stack,a=t.encoding;if(!i)return null;i.groupbyChannel&&(r=pP(a[i.groupbyChannel]));var o,s=function(e){return e.stack.stackBy.reduce((function(e,t){var n=tP(t.fieldDef);return n&&e.push(n),e}),[])}(t),u=t.encoding.order;return o=Object(A.A)(u)||$F(u)?TF(u):s.reduce((function(e,t){return e.field.push(t),e.order.push("descending"),e}),{field:[],order:[]}),new n(e,{dimensionFieldDef:r,stackField:t.vgField(i.fieldChannel),facetby:[],stackby:s,sort:o,offset:i.offset,impute:i.impute,as:[t.vgField(i.fieldChannel,{suffix:"start",forAs:!0}),t.vgField(i.fieldChannel,{suffix:"end",forAs:!0})]})}}]),n}(bB),qW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,e)).transform=r,i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=cR(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e,t,n=new Set;return(e=this.transform.groupby,null!==e&&void 0!==e?e:[]).forEach((function(e){return n.add(e)})),(t=this.transform.sort,null!==t&&void 0!==t?t:[]).forEach((function(e){return n.add(e.field)})),this.transform.window.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach((function(e){return n.add(e)})),n}},{key:"producedFields",value:function(){return new Set(this.transform.window.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:tP(e)}},{key:"hash",value:function(){return"WindowTransform ".concat(rR(this.transform))}},{key:"assemble",value:function(){var e,t,n=[],r=[],i=[],a=[],o=Object(Sr.a)(this.transform.window);try{for(o.s();!(t=o.n()).done;){var s=t.value;r.push(s.op),i.push(this.getDefaultName(s)),a.push(void 0===s.param?null:s.param),n.push(void 0===s.field?null:s.field)}}catch(g){o.e(g)}finally{o.f()}var u=this.transform.frame,c=this.transform.groupby;if(u&&null===u[0]&&null===u[1]&&r.every((function(e){return GR(e)})))return Object.assign({type:"joinaggregate",as:i,ops:r,fields:n},void 0!==c?{groupby:c}:{});var l=[],f=[];if(void 0!==this.transform.sort){var d,h=Object(Sr.a)(this.transform.sort);try{for(h.s();!(d=h.n()).done;){var p=d.value;l.push(p.field),f.push(null!==(e=p.order)&&void 0!==e?e:"ascending")}}catch(g){h.e(g)}finally{h.f()}}var m={field:l,order:f},v=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:a,as:i,ops:r,fields:n,sort:m},void 0!==v?{ignorePeers:v}:{}),void 0!==c?{groupby:c}:{}),void 0!==u?{frame:u}:{})}}]),n}(bB),HW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e){return Object(Vk.a)(this,n),t.call(this,e)}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null)}}]),Object(qk.a)(n,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set(["_vgsid_"])}},{key:"hash",value:function(){return"Identifier"}},{key:"assemble",value:function(){return{type:"identifier",as:"_vgsid_"}}}]),n}(bB),GW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){return Object(Vk.a)(this,n),t.apply(this,arguments)}return Object(qk.a)(n,[{key:"run",value:function(e){var t=e.parent;if(e instanceof UW){if(TW(t))return this.flags;if(t.numChildren()>1)return this.setContinue(),this.flags;if(t instanceof UW)this.setMutated(),t.merge(e);else{if(dR(t.producedFields(),e.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),e.swapWithParent()}}return this.setContinue(),this.flags}}]),n}(RW),$W=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){return Object(Vk.a)(this,n),t.apply(this,arguments)}return Object(qk.a)(n,[{key:"mergeNodes",value:function(e,t){var n,r=t.shift(),i=Object(Sr.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;e.removeChild(a),a.parent=r,a.remove()}}catch(o){i.e(o)}finally{i.f()}}},{key:"run",value:function(e){for(var t=e.children.map((function(e){return e.hash()})),n={},r=0;r<t.length;r++)void 0===n[t[r]]?n[t[r]]=[e.children[r]]:n[t[r]].push(e.children[r]);var i,a=Object(Sr.a)(hR(n));try{for(a.s();!(i=a.n()).done;){var o=i.value;n[o].length>1&&(this.setMutated(),this.mergeNodes(e,n[o]))}}catch(l){a.e(l)}finally{a.f()}var s,u=Object(Sr.a)(e.children);try{for(u.s();!(s=u.n()).done;){var c=s.value;this.run(c)}}catch(l){u.e(l)}finally{u.f()}return this.mutatedFlag}}]),n}(MW),KW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){return Object(Vk.a)(this,n),t.apply(this,arguments)}return Object(qk.a)(n,[{key:"run",value:function(e){return e instanceof yB||e.numChildren()>0||e instanceof FW||(this.setMutated(),e.remove()),this.flags}}]),n}(RW),XW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){var e;return Object(Vk.a)(this,n),(e=t.apply(this,arguments)).fields=new Set,e.prev=null,e}return Object(qk.a)(n,[{key:"run",value:function(e){if(this.setContinue(),e instanceof wB){var t=e.producedFields();lR(t,this.fields)?(this.setMutated(),this.prev.remove()):this.fields=new Set([].concat(Object(dh.a)(this.fields),Object(dh.a)(t))),this.prev=e}return this.flags}},{key:"reset",value:function(){this.fields.clear()}}]),n}(RW),YW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){return Object(Vk.a)(this,n),t.apply(this,arguments)}return Object(qk.a)(n,[{key:"run",value:function(e){this.setContinue();var t,n=e.parent.children.filter((function(e){return e instanceof wB})),r=n.pop(),i=Object(Sr.a)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.setMutated(),r.merge(a)}}catch(o){i.e(o)}finally{i.f()}return this.flags}}]),n}(RW);function ZW(e){if(e instanceof FW)if(1!==e.numChildren()||e.children[0]instanceof yB){var t=e.model.component.data.main;!function e(t){if(t instanceof yB&&t.type===uL&&1===t.numChildren()){var n=t.children[0];n instanceof FW||(n.swapWithParent(),e(t))}}(t);var n,r=(s=e,function e(t){if(!(t instanceof FW)){var n=t.clone();if(n instanceof yB){var r=iV+n.getSource();n.setSource(r),s.model.component.data.outputNodes[r]=n}else(n instanceof IW||n instanceof VW||n instanceof qW||n instanceof WW)&&n.addDimensions(s.fields);return t.children.flatMap(e).forEach((function(e){return e.parent=n})),[n]}return t.children.flatMap(e)}),i=e.children.map(r).flat(),a=Object(Sr.a)(i);try{for(a.s();!(n=a.n()).done;){n.value.parent=t}}catch(u){a.e(u)}finally{a.f()}}else{var o=e.children[0];(o instanceof IW||o instanceof VW||o instanceof qW||o instanceof WW)&&o.addDimensions(e.fields),o.swapWithParent(),ZW(e)}else e.children.map(ZW);var s}var JW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){return Object(Vk.a)(this,n),t.call(this)}return Object(qk.a)(n,[{key:"run",value:function(e){e instanceof yB&&!e.isRequired()&&(this.setMutated(),e.remove());var t,n=Object(Sr.a)(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.run(r)}}catch(i){n.e(i)}finally{n.f()}return this.mutatedFlag}}]),n}(MW),QW=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e){var r;return Object(Vk.a)(this,n),(r=t.call(this)).requiresSelectionId=e&&QB(e),r}return Object(qk.a)(n,[{key:"run",value:function(e){e instanceof HW&&(this.requiresSelectionId&&(TW(e.parent)||e.parent instanceof IW||e.parent instanceof UW)||(this.setMutated(),e.remove()));var t,n=Object(Sr.a)(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.run(r)}}catch(i){n.e(i)}finally{n.f()}return this.mutatedFlag}}]),n}(MW),eV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){return Object(Vk.a)(this,n),t.apply(this,arguments)}return Object(qk.a)(n,[{key:"run",value:function(e){var t=e.parent,n=Object(dh.a)(t.children),r=t.children.filter((function(e){return e instanceof UW}));if(t.numChildren()>1&&r.length>=1){var i,a={},o=new Set,s=Object(Sr.a)(r);try{for(s.s();!(i=s.n()).done;){var u,c=i.value.parse,l=Object(Sr.a)(hR(c));try{for(l.s();!(u=l.n()).done;){var f=u.value;f in a?a[f]!==c[f]&&o.add(f):a[f]=c[f]}}catch(x){l.e(x)}finally{l.f()}}}catch(x){s.e(x)}finally{s.f()}var d,h=Object(Sr.a)(o);try{for(h.s();!(d=h.n()).done;){delete a[d.value]}}catch(x){h.e(x)}finally{h.f()}if(0!==hR(a).length){this.setMutated();var p,m=new UW(t,a),v=Object(Sr.a)(n);try{for(v.s();!(p=v.n()).done;){var g=p.value;if(g instanceof UW){var b,y=Object(Sr.a)(hR(a));try{for(y.s();!(b=y.n()).done;){var w=b.value;delete g.parse[w]}}catch(x){y.e(x)}finally{y.f()}}t.removeChild(g),g.parent=m,g instanceof UW&&0===hR(g.parse).length&&g.remove()}}catch(x){v.e(x)}finally{v.f()}}}return this.setContinue(),this.flags}}]),n}(RW),tV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){return Object(Vk.a)(this,n),t.apply(this,arguments)}return Object(qk.a)(n,[{key:"run",value:function(e){var t,n=e.parent,r=n.children.filter((function(e){return e instanceof IW})),i={},a=Object(Sr.a)(r);try{for(a.s();!(t=a.n()).done;){var o=t.value,s=rR(o.groupBy);s in i||(i[s]=[]),i[s].push(o)}}catch(m){a.e(m)}finally{a.f()}var u,c=Object(Sr.a)(hR(i));try{for(c.s();!(u=c.n()).done;){var l=i[u.value];if(l.length>1){var f,d=l.pop(),h=Object(Sr.a)(l);try{for(h.s();!(f=h.n()).done;){var p=f.value;d.merge(p)&&(n.removeChild(p),p.parent=d,p.remove(),this.setMutated())}}catch(m){h.e(m)}finally{h.f()}}}}catch(m){c.e(m)}finally{c.f()}return this.setContinue(),this.flags}}]),n}(RW),nV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e){var r;return Object(Vk.a)(this,n),(r=t.call(this)).model=e,r}return Object(qk.a)(n,[{key:"run",value:function(e){var t,n=e.parent,r=!(TW(n)||n instanceof tU||n instanceof UW||n instanceof HW),i=[],a=[],o=Object(Sr.a)(n.children);try{for(o.s();!(t=o.n()).done;){var s=t.value;s instanceof _W&&(r&&!dR(n.producedFields(),s.dependentFields())?i.push(s):a.push(s))}}catch(v){o.e(v)}finally{o.f()}if(i.length>0){var u,c=i.pop(),l=Object(Sr.a)(i);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.merge(f,this.model.renameSignal.bind(this.model))}}catch(v){l.e(v)}finally{l.f()}this.setMutated(),n instanceof _W?n.merge(c,this.model.renameSignal.bind(this.model)):c.swapWithParent()}if(a.length>1){var d,h=a.pop(),p=Object(Sr.a)(a);try{for(p.s();!(d=p.n()).done;){var m=d.value;h.merge(m,this.model.renameSignal.bind(this.model))}}catch(v){p.e(v)}finally{p.f()}this.setMutated()}return this.setContinue(),this.flags}}]),n}(RW),rV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){return Object(Vk.a)(this,n),t.apply(this,arguments)}return Object(qk.a)(n,[{key:"run",value:function(e){var t=e.parent,n=Object(dh.a)(t.children);if(!oR(n,(function(e){return e instanceof yB}))||t.numChildren()<=1)return this.setContinue(),this.flags;var r,i,a=[],o=Object(Sr.a)(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s instanceof yB){for(var u=s;1===u.numChildren();){var c=u.children[0];if(!(c instanceof yB))break;u=c}a.push.apply(a,Object(dh.a)(u.children)),r?(t.removeChild(s),s.parent=r.parent,r.parent.removeChild(r),r.parent=u,this.setMutated()):r=u}else a.push(s)}}catch(h){o.e(h)}finally{o.f()}if(a.length){this.setMutated();var l,f=Object(Sr.a)(a);try{for(f.s();!(l=f.n()).done;){var d=l.value;d.parent.removeChild(d),d.parent=r}}catch(h){f.e(h)}finally{f.f()}}return this.setContinue(),this.flags}}]),n}(RW),iV="scale_";function aV(e){var t=[];return e.forEach((function e(n){0===n.numChildren()?t.push(n):n.children.forEach(e)})),t}function oV(e){return e}function sV(e,t){return t.map((function(t){if(e instanceof RW){var n=e.optimizeNextFromLeaves(t);return e.reset(),n}return e.run(t)})).some(oV)}function uV(e,t){var n=e.sources,r=new Set;return r.add(sV(new JW,n)),r.add(sV(new QW(t),n)),n=n.filter((function(e){return e.numChildren()>0})),r.add(sV(new KW,aV(n))),n=n.filter((function(e){return e.numChildren()>0})),r.add(sV(new GW,aV(n))),r.add(sV(new nV(t),aV(n))),r.add(sV(new XW,aV(n))),r.add(sV(new eV,aV(n))),r.add(sV(new tV,aV(n))),r.add(sV(new YW,aV(n))),r.add(sV(new $W,n)),r.add(sV(new rV,aV(n))),e.sources=n,r.has(!0)}function cV(e,t){jW(e.sources);for(var n=0,r=0,i=0;i<5&&uV(e,t);i++)n++;e.sources.map(ZW);for(var a=0;a<5&&uV(e,t);a++)r++;jW(e.sources),5===Math.max(n,r)&&cI("Maximum optimization runs(".concat(5,") reached."))}var lV=function(){function e(t){Object(Vk.a)(this,e),Object.defineProperty(this,"signal",{enumerable:!0,get:t})}return Object(qk.a)(e,null,[{key:"fromName",value:function(t,n){return new e((function(){return t(n)}))}}]),e}();function fV(e){DV(e)?function(e){var t=e.component.scales;hR(t).forEach((function(n){var r=function(e,t){var n=e.getScaleComponent(t).get("type"),r=function(e,t,n,r){if("unaggregated"===e){var i=pV(t,n),a=i.valid,o=i.reason;if(!a)return void cI(o)}else if(void 0===e&&r.useUnaggregatedDomain){if(pV(t,n).valid)return"unaggregated"}return e}(e.scaleDomain(t),e.fieldDef(t),n,e.config.scale);r!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:r}));if("x"===t&&e.channelHasField("x2"))return e.channelHasField("x")?HU(dV(n,r,e,"x"),dV(n,r,e,"x2"),"domain","scale",mV):dV(n,r,e,"x2");if("y"===t&&e.channelHasField("y2"))return e.channelHasField("y")?HU(dV(n,r,e,"y"),dV(n,r,e,"y2"),"domain","scale",mV):dV(n,r,e,"y2");return dV(n,r,e,t)}(e,n);if(t[n].setWithExplicit("domains",r),function(e,t){var n=e.component.scales[t],r=e.specifiedScales[t].domain,i=e.fieldDef(t).bin,a=cF(r)&&r,o=SP(i)&&jP(i.extent)&&i.extent;(a||o)&&n.set("selectionExtent",null!==a&&void 0!==a?a:o,!0)}(e,n),e.component.data.isFaceted){for(var i=e;!IV(i)&&i.parent;)i=i.parent;if("shared"===i.component.resolve.scale[n]){var a,o=Object(Sr.a)(r.value);try{for(o.s();!(a=o.n()).done;){var s=a.value;TL(s)&&(s.data=iV+s.data.replace(iV,""))}}catch(u){o.e(u)}finally{o.f()}}}}))}(e):function(e){var t,n=Object(Sr.a)(e.children);try{for(n.s();!(t=n.n()).done;){fV(t.value)}}catch(i){n.e(i)}finally{n.f()}var r=e.component.scales;hR(r).forEach((function(t){var n,a,o=null,s=Object(Sr.a)(e.children);try{for(s.s();!(a=s.n()).done;){var u=a.value.component.scales[t];if(u){n=void 0===n?u.getWithExplicit("domains"):HU(n,u.getWithExplicit("domains"),"domains","scale",mV);var c=u.get("selectionExtent");o&&c&&o.selection!==c.selection&&cI("The same selection must be used to override scale domains in a layered view."),o=c}}}catch(i){s.e(i)}finally{s.f()}r[t].setWithExplicit("domains",n),o&&r[t].set("selectionExtent",o,!0)}))}(e)}function dV(e,t,n,r){var i=n.fieldDef(r);if(t&&"unaggregated"!==t&&!cF(t)){var a=i.type,o=i.timeUnit;return UU("temporal"===a||o?function(e,t,n){return e.map((function(e){var r=wP(e,{timeUnit:n,type:t});return{signal:"{data: ".concat(r,"}")}}))}(t,a,o):[t])}var s=n.stack;if(s&&r===s.fieldChannel){if("normalize"===s.offset)return WU([[0,1]]);var u=n.requestDataName(uL);return WU([{data:u,field:n.vgField(r,{suffix:"start"})},{data:u,field:n.vgField(r,{suffix:"end"})}])}var c=IM(r)?function(e,t,n){if(!aF(n))return;var r=e.fieldDef(t),i=r.sort;if(zF(i))return{op:"min",field:bU(r,t),order:"ascending"};var a=null!==e.stack;if(PF(i))return hV(i,a);if(FF(i)){var o=i.encoding,s=i.order,u=e.fieldDef(o),c=u.aggregate,l=u.field;if(qR(c)||HR(c))return hV({field:tP(u),order:s},a);if(GR(c)||!c)return hV({op:c,field:l,order:s},a)}else{if("descending"===i)return{op:"min",field:e.vgField(t),order:"descending"};if(aR(["ascending",void 0],i))return!0}return}(n,r,e):void 0;if("unaggregated"===t){var l=n.requestDataName(uL),f=i.field;return WU([{data:l,field:tP({field:f,aggregate:"min"})},{data:l,field:tP({field:f,aggregate:"max"})}])}if(EP(i.bin)){if(aF(e))return WU("bin-ordinal"===e?[]:[{data:mR(c)?n.requestDataName(uL):n.requestDataName("raw"),field:n.vgField(r,OP(i,r)?{binSuffix:"range"}:{}),sort:!0!==c&&Object(A.F)(c)?c:{field:n.vgField(r,{}),op:"min"}}]);var d=i.bin;if(EP(d)){var h=kW(n,i.field,d);return WU([new lV((function(){var e=n.getSignalName(h);return"[".concat(e,".start, ").concat(e,".stop]")}))])}return WU([{data:n.requestDataName(uL),field:n.vgField(r,{})}])}if(i.timeUnit&&aR(["time","utc"],e)&&qF(r,i,DV(n)?n.encoding[EM(r)]:void 0,n.markDef,n.config)){var p=n.requestDataName(uL);return WU([{data:p,field:n.vgField(r)},{data:p,field:n.vgField(r,{suffix:"end"})}])}return WU(c?[{data:mR(c)?n.requestDataName(uL):n.requestDataName("raw"),field:n.vgField(r),sort:c}]:[{data:n.requestDataName(uL),field:n.vgField(r)}])}function hV(e,t){var n=e.op,r=e.field,i=e.order;return Object.assign(Object.assign({op:null!==n&&void 0!==n?n:t?"sum":"mean"},r?{field:OR(r)}:{}),i?{order:i}:{})}function pV(e,t){var n=e.aggregate,r=e.type;return n?Object(A.H)(n)&&!YR[n]?{valid:!1,reason:iI.unaggregateDomainWithNonSharedDomainOp(n)}:"quantitative"===r&&"log"===t?{valid:!1,reason:iI.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:iI.unaggregateDomainHasNoEffectForRawField(e)}}function mV(e,t,n,r){return e.explicit&&t.explicit&&cI(iI.mergeConflictingDomainProperty(n,r,e.value,t.value)),{explicit:e.explicit,value:[].concat(Object(dh.a)(e.value),Object(dh.a)(t.value))}}function vV(e){if(TL(e)&&Object(A.H)(e.field))return e.field;if(function(e){return!Object(A.A)(e)&&("fields"in e&&!("data"in e))}(e)){var t,n,r=Object(Sr.a)(e.fields);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(TL(i)&&Object(A.H)(i.field))if(t){if(t!==i.field)return cI("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),t}else t=i.field}}catch(o){r.e(o)}finally{r.f()}return cI("Detected faceted independent scales that union domain of identical fields from different source detected. We will assume that this is the same field from a different fork of the same data source. However, if this is not case, the result view size maybe incorrect."),t}if(function(e){return!Object(A.A)(e)&&("fields"in e&&"data"in e)}(e)){cI("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");var a=e.fields[0];return Object(A.H)(a)?a:void 0}}function gV(e,t){return function(e){var t=cR(e.map((function(e){if(TL(e)){e.sort;return x(e,["sort"])}return e})),rR),n=cR(e.map((function(e){if(TL(e)){var t=e.sort;return void 0===t||mR(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}})).filter((function(e){return void 0!==e})),rR);if(0!==t.length){if(1===t.length){var r=e[0];if(TL(r)&&n.length>0){var i=n[0];return n.length>1&&(cI(iI.MORE_THAN_ONE_SORT),i=!0),Object.assign(Object.assign({},r),{sort:i})}return r}var a,o=cR(n.map((function(e){return mR(e)||!("op"in e)||e.op in VR?e:(cI(iI.domainSortDropped(e)),!0)})),rR);1===o.length?a=o[0]:o.length>1&&(cI(iI.MORE_THAN_ONE_SORT),a=!0);var s=cR(e.map((function(e){return TL(e)?e.data:null})),(function(e){return e}));return 1===s.length&&null!==s[0]?Object.assign({data:s[0],fields:t.map((function(e){return e.field}))},a?{sort:a}:{}):Object.assign({fields:t},a?{sort:a}:{})}}(e.component.scales[t].get("domains").map((function(t){return TL(t)&&(t.data=e.lookupDataSource(t.data)),t})))}function bV(e){return zV(e)||PV(e)||FV(e)?e.children.reduce((function(e,t){return e.concat(bV(t))}),yV(e)):yV(e)}function yV(e){return hR(e.component.scales).reduce((function(t,n){var r=e.component.scales[n];if(r.merged)return t;var i,a=r.combine(),o=a.name,s=a.type,u=a.selectionExtent,c=(a.domains,a.range,x(a,["name","type","selectionExtent","domains","range"])),l=function(e,t,n){if(("x"===n||"y"===n)&&AL(e))return{step:{signal:t+"_step"}};return e}(a.range,o,n);u&&(i=function(e,t){var n=t.selection;return{signal:rU(e.getSelectionComponent(n,vR(n)),t)}}(e,u));var f=gV(e,n);return t.push(Object.assign(Object.assign(Object.assign(Object.assign({name:o,type:s},f?{domain:f}:{}),i?{domainRaw:i}:{}),{range:l}),c)),t}),[])}var wV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,{},{name:e})).merged=!1,i.setWithExplicit("type",r),i}return Object(qk.a)(n,[{key:"domainDefinitelyIncludesZero",value:function(){return!1!==this.get("zero")||oR(this.get("domains"),(function(e){return Object(A.A)(e)&&2===e.length&&e[0]<=0&&e[1]>=0}))}}]),n}(BU),xV=["range","scheme"];function OV(e){return"x"===e?"width":"y"===e?"height":void 0}function kV(e){var t=e.component.scales;DM.forEach((function(n){var r=t[n];if(r){var i=function(e,t){var n,r=t.specifiedScales[e],i=t.size,a=t.getScaleComponent(e).get("type"),o=Object(Sr.a)(xV);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(void 0!==r[s]){var u=hF(a,s),c=pF(e,s);if(u)if(c)cI(c);else switch(s){case"range":return UU(r[s]);case"scheme":return UU(_V(r[s]))}else cI(iI.scalePropertyNotWorkWithScaleType(a,s,e))}}}catch(d){o.e(d)}finally{o.f()}if(e===JR||e===QR){var l=e===JR?"width":"height",f=i[l];if(mz(f)){if(aF(a))return UU({step:f.step});cI(iI.stepDropped(l))}}return WU(function(e,t){var n=t.size,r=t.config,i=t.mark,a=t.getSignalName.bind(t),o=t.fieldDef(e).type,s=t.getScaleComponent(e).get("type"),u=t.specifiedScales[e].domain;switch(e){case JR:case QR:if(aR(["point","band"],s))if(e!==JR||n.width){if(e===QR&&!n.height){var c=yz(r.view,"height");if(mz(c))return c}}else{var l=yz(r.view,"width");if(mz(l))return l}var f=OV(e),d=t.getName(f);return e===QR&&oF(s)?[lV.fromName(a,d),0]:[0,lV.fromName(a,d)];case iM:var h=t.component.scales[e].get("zero"),p=function(e,t,n){if(t)return 0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(iI.incompatibleChannel("size",e))}(i,h,r),m=function(e,t,n,r){var i={x:EV(n,"x"),y:EV(n,"y")};switch(e){case"bar":case"tick":if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;var a=SV(t,i,r.view);return Object(A.E)(a)?a-1:new lV((function(){return"".concat(a.signal," - 1")}));case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":if(r.scale.maxSize)return r.scale.maxSize;var o=SV(t,i,r.view);return Object(A.E)(o)?Math.pow(.95*o,2):new lV((function(){return"pow(".concat(.95," * ").concat(o.signal,", 2)")}))}throw new Error(iI.incompatibleChannel("size",e))}(i,n,t,r);return uF(s)?function(e,t,n){var r=function(){var r=CL(t)?t.signal:t,i="(".concat(r," - ").concat(e,") / (").concat(n," - 1)");return"sequence(".concat(e,", ").concat(t," + ").concat(i,", ").concat(i,")")};return CL(t)?new lV(r):{signal:r()}}(p,m,function(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&Object(A.A)(n)?n.length+1:(cI(iI.domainRequiredForThresholdScale(r)),3)}}(s,r,u,e)):[p,m];case uM:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case rM:return"symbol";case eM:case tM:case nM:return"ordinal"===s?"nominal"===o?"category":"ordinal":"rect"===i||"geoshape"===i?"heatmap":"ramp";case aM:case oM:case sM:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel ".concat(e))}(e,t))}(n,e);r.setWithExplicit("range",i)}}))}function EV(e,t){var n=e.fieldDef(t);if(n&&n.bin&&EP(n.bin)){var r=kW(e,n.field,n.bin),i=OV(t),a=e.getName(i);return new lV((function(){var t=e.getSignalName(r),n="(".concat(t,".stop - ").concat(t,".start) / ").concat(t,".step");return"".concat(e.getSignalName(a)," / (").concat(n,")")}))}}function _V(e){return function(e){return!Object(A.H)(e)&&!!e.name}(e)?Object.assign({scheme:e.name},tR(e,["name"])):{scheme:e}}function SV(e,t,n){var r=mz(e.width)?e.width.step:bz(n,"width"),i=mz(e.height)?e.height.step:bz(n,"height");return t.x||t.y?new lV((function(){var e=[t.x?t.x.signal:r,t.y?t.y.signal:i];return"min(".concat(e.join(", "),")")})):Math.min(r,i)}function jV(e,t){DV(e)?function(e,t){var n=e.component.scales;hR(n).forEach((function(r){var i=e.specifiedScales[r],a=n[r],o=e.getScaleComponent(r),s=e.fieldDef(r),u=e.config,c=i[t],l=o.get("type"),f=hF(l,t),d=pF(r,t);if(void 0!==c&&(f?d&&cI(d):cI(iI.scalePropertyNotWorkWithScaleType(l,t,r))),f&&void 0===d)if(void 0!==c)a.copyKeyFromObject(t,i);else{var h=function(e,t,n,r,i,a,o,s,u,c){var l=c.scale,f=r.type,d=r.sort;switch(e){case"bins":return function(e,t){var n=t.bin;if(EP(n)){var r=kW(e,t.field,n);return new lV((function(){return e.getSignalName(r)}))}if(_P(n)&&SP(n)&&void 0!==n.step)return{step:n.step};return}(t,r);case"interpolate":return function(e,t){if(aR([eM,tM,nM],e)&&"nominal"!==t)return"hcl";return}(n,f);case"nice":return function(e,t,n){if(n.bin||aR([KI.TIME,KI.UTC],e))return;return!!aR([JR,QR],t)||void 0}(i,n,r);case"padding":return function(e,t,n,r,i,a){if(aR([JR,QR],e)){if(sF(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;var o=i.type,s=i.orient;if("bar"===o&&!r.bin&&!r.timeUnit&&("vertical"===s&&"x"===e||"horizontal"===s&&"y"===e))return a.continuousBandSize}if(t===KI.POINT)return n.pointPadding}return}(n,i,l,r,u,c.bar);case"paddingInner":return function(e,t,n,r){if(void 0!==e)return;if(aR([JR,QR],t)){var i=r.bandPaddingInner,a=r.barBandPaddingInner,o=r.rectBandPaddingInner;return SR(i,"bar"===n?a:o)}return}(a,n,u.type,l);case"paddingOuter":return function(e,t,n,r,i,a){if(void 0!==e)return;if(aR([JR,QR],t)){if(n===KI.BAND)return SR(a.bandPaddingOuter,i/2)}return}(a,n,i,u.type,o,l);case"reverse":return function(e,t){if(oF(e)&&"descending"===t)return!0;return}(i,d);case"zero":return function(e,t,n,r,i){if(n&&"unaggregated"!==n&&oF(i)){if(Object(A.A)(n)){var a=n[0],o=n[n.length-1];if(a<=0&&o>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!uF(i))return!0;if(!t.bin&&aR([JR,QR],e)){var s=r.orient;return!aR(["bar","area","line","trail"],r.type)||!("horizontal"===s&&"y"===e||"vertical"===s&&"x"===e)}return!1}(n,r,s,u,i)}return l[e]}(t,e,r,s,o.get("type"),o.get("padding"),o.get("paddingInner"),i.domain,e.markDef,u);void 0!==h&&a.set(t,h,!1)}}))}(e,t):AV(e,t)}function CV(e){DV(e)?kV(e):AV(e,"range")}function AV(e,t){var n,r=e.component.scales,i=Object(Sr.a)(e.children);try{for(i.s();!(n=i.n()).done;){var a=n.value;"range"===t?CV(a):jV(a,t)}}catch(o){i.e(o)}finally{i.f()}hR(r).forEach((function(n){var i,a,s=Object(Sr.a)(e.children);try{for(s.s();!(a=s.n()).done;){var u=a.value.component.scales[n];if(u)i=HU(i,u.getWithExplicit(t),t,"scale",VU((function(e,n){switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0})))}}catch(o){s.e(o)}finally{s.f()}r[n].setWithExplicit(t,i)}))}function TV(e,t,n,r){var i=function(e,t,n){switch(t.type){case"nominal":case"ordinal":return hM(e)||"discrete"===LM(e)?("shape"===e&&"ordinal"===t.type&&cI(iI.discreteChannelCannotEncode(e,"ordinal")),"ordinal"):aR(["x","y"],e)&&aR(["rect","bar","image","rule"],n)?"band":"point";case"temporal":return hM(e)?"time":"discrete"===LM(e)?(cI(iI.discreteChannelCannotEncode(e,"temporal")),"ordinal"):"time";case"quantitative":return hM(e)?EP(t.bin)?"bin-ordinal":"linear":"discrete"===LM(e)?(cI(iI.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(iI.invalidFieldType(t.type))}(t,n,r),a=e.type;return IM(t)?void 0!==a?vF(t,a)?mF(a,n.type)?a:(cI(iI.scaleTypeNotWorkWithFieldDef(a,i)),i):(cI(iI.scaleTypeNotWorkWithChannel(t,a,i)),i):i:null}function NV(e){DV(e)?e.component.scales=function(e){var t=e.encoding,n=e.mark;return DM.reduce((function(r,i){var a,o,s=t[i];if($F(s)&&"geoshape"===n&&i===rM&&"geojson"===s.type)return r;if($F(s)?(a=s,o=s.scale):GF(s)&&(a=s.condition,o=s.condition.scale),a&&null!==o&&!1!==o){var u=TV(o=null!==o&&void 0!==o?o:{},i,a,n);r[i]=new wV(e.scaleName(i+"",!0),{value:u,explicit:o.type===u})}return r}),{})}(e):e.component.scales=function(e){var t,n=e.component.scales={},r={},i=e.component.resolve,a=Object(Sr.a)(e.children);try{var o=function(){var n=t.value;NV(n),hR(n.component.scales).forEach((function(t){var a;if(i.scale[t]=null!==(a=i.scale[t])&&void 0!==a?a:function(e,t){if(zV(t)||IV(t))return"shared";if(PV(t)||FV(t))return aR(CM,e)?"independent":"shared";throw new Error("invalid model type for resolve")}(t,e),"shared"===i.scale[t]){var o=r[t],s=n.component.scales[t].getWithExplicit("type");o?!function(e,t){var n=XI[e],r=XI[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}(o.value,s.value)?(i.scale[t]="independent",delete r[t]):r[t]=HU(o,s,"type","scale",RV):r[t]=s}}))};for(a.s();!(t=a.n()).done;)o()}catch(v){a.e(v)}finally{a.f()}var s,u=Object(Sr.a)(hR(r));try{for(u.s();!(s=u.n()).done;){var c=s.value,l=e.scaleName(c,!0),f=r[c];n[c]=new wV(l,f);var d,h=Object(Sr.a)(e.children);try{for(h.s();!(d=h.n()).done;){var p=d.value,m=p.component.scales[c];m&&(p.renameScale(m.get("name"),l),m.merged=!0)}}catch(v){h.e(v)}finally{h.f()}}}catch(v){u.e(v)}finally{u.f()}return n}(e)}var RV=VU((function(e,t){return JI(e)-JI(t)}));var MV=function(){function e(){Object(Vk.a)(this,e),this.nameMap={}}return Object(qk.a)(e,[{key:"rename",value:function(e,t){this.nameMap[e]=t}},{key:"has",value:function(e){return void 0!==this.nameMap[e]}},{key:"get",value:function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}]),e}();function DV(e){var t;return"unit"===(null===(t=e)||void 0===t?void 0:t.type)}function IV(e){var t;return"facet"===(null===(t=e)||void 0===t?void 0:t.type)}function FV(e){var t;return"repeat"===(null===(t=e)||void 0===t?void 0:t.type)}function PV(e){var t;return"concat"===(null===(t=e)||void 0===t?void 0:t.type)}function zV(e){var t;return"layer"===(null===(t=e)||void 0===t?void 0:t.type)}var LV=function(){function e(t,n,r,i,a,o,s,u){var c,l,f=this;Object(Vk.a)(this,e),this.type=n,this.parent=r,this.config=a,this.repeater=o,this.view=u,this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=f.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=f.lookupDataSource(e.from.facet.data)),e},this.parent=r,this.config=a,this.repeater=o,this.name=null!==(c=t.name)&&void 0!==c?c:i,this.title=yF(t.title)?{text:t.title}:t.title,this.scaleNameMap=r?r.scaleNameMap:new MV,this.projectionNameMap=r?r.projectionNameMap:new MV,this.signalNameMap=r?r.signalNameMap:new MV,this.data=t.data,this.description=t.description,this.transforms=(l=t.transform,(null!==l&&void 0!==l?l:[]).map((function(e){return cL(e)?{filter:ZN(e.filter,GI)}:e}))),this.layout=BR(t)||Cz(t)?{}:function(e,t,n){var r,i,a=n[t],o={},s=a.spacing,u=a.columns;void 0!==s&&(o.spacing=s),void 0!==u&&(BF(e)&&!LF(e.facet)||pz(e)&&Object(A.A)(e.repeat)||fz(e))&&(o.columns=u);var c,l=Object(Sr.a)(vz);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(void 0!==e[f])if("spacing"===f){var d=e[f];o[f]=Object(A.E)(d)?d:{row:(r=d.row,null!==r&&void 0!==r?r:s),column:(i=d.column,null!==i&&void 0!==i?i:s)}}else o[f]=e[f]}}catch(h){l.e(h)}finally{l.f()}return o}(t,n,a),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:BF(t)||r&&r.component.data.isFaceted&&void 0===t.data},layoutSize:new BU,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},s?QN(s):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return Object(qk.a)(e,[{key:"parse",value:function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}},{key:"parseScale",value:function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ignoreRange;NV(e),fV(e);var r,i=Object(Sr.a)(dF);try{for(i.s();!(r=i.n()).done;){var a=r.value;jV(e,a)}}catch(o){i.e(o)}finally{i.f()}n||CV(e)}(this)}},{key:"parseProjection",value:function(){gW(this)}},{key:"renameTopLevelLayoutSizeSignal",value:function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}},{key:"parseLegends",value:function(){uW(this)}},{key:"assembleGroupStyle",value:function(){var e,t;if("unit"===this.type||"layer"===this.type)return null!==(t=null===(e=this.view)||void 0===e?void 0:e.style)&&void 0!==t?t:"cell"}},{key:"assembleEncodeFromView",value:function(e){e.style;var t=x(e,["style"]),n={};for(var r in t)if(Object(A.v)(t,r)){var i=t[r];void 0!==i&&(n[r]={value:i})}return n}},{key:"assembleGroupEncodeEntry",value:function(e){var t=void 0;return this.view&&(t=this.assembleEncodeFromView(this.view)),e||"unit"!==this.type&&"layer"!==this.type?t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==t&&void 0!==t?t:{})}},{key:"assembleLayout",value:function(){if(this.layout){var e=this.layout,t=e.spacing,n=x(e,["spacing"]),r=this.component,i=this.config,a=function(e,t){var n,r,i={},a=Object(Sr.a)(mM);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=e[o];if(null===(n=s)||void 0===n?void 0:n.facetFieldDef){var u=xU(["titleAnchor","titleOrient"],s.facetFieldDef,t,o),c=u.titleAnchor,l=yU(o,u.titleOrient),f=RU(c,l);void 0!==f&&(i[l]=f)}}}catch(d){a.e(d)}finally{a.f()}return hR(i).length>0?i:void 0}(r.layoutHeaders,i);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),a?{titleBand:a}:{})}}},{key:"assembleDefaultLayout",value:function(){return{}}},{key:"assembleHeaderMarks",value:function(){var e,t=this.component.layoutHeaders,n=[],r=Object(Sr.a)(mM);try{for(r.s();!(e=r.n()).done;){var i=e.value;t[i].title&&n.push(EU(this,i))}}catch(u){r.e(u)}finally{r.f()}var a,o=Object(Sr.a)(OU);try{for(o.s();!(a=o.n()).done;){var s=a.value;n=n.concat(jU(this,s))}}catch(u){o.e(u)}finally{o.f()}return n}},{key:"assembleAxes",value:function(){return function(e,t){var n=e.x,r=void 0===n?[]:n,i=e.y,a=void 0===i?[]:i;return[].concat(Object(dh.a)(r.map((function(e){return sU(e,"grid",t)}))),Object(dh.a)(a.map((function(e){return sU(e,"grid",t)}))),Object(dh.a)(r.map((function(e){return sU(e,"main",t)}))),Object(dh.a)(a.map((function(e){return sU(e,"main",t)})))).filter((function(e){return e}))}(this.component.axes,this.config)}},{key:"assembleLegends",value:function(){return dW(this)}},{key:"assembleProjections",value:function(){return hW(this)}},{key:"assembleTitle",value:function(){var e,t,n,r=null!==(e=this.title)&&void 0!==e?e:{},i=r.encoding,a=x(r,["encoding"]),o=Object.assign(Object.assign(Object.assign({},bF(this.config.title).nonMark),a),i?{encode:{update:i}}:{});if(o.text)return aR(["unit","layer"],this.type)?aR(["middle",void 0],o.anchor)&&(o.frame=null!==(t=o.frame)&&void 0!==t?t:"group"):o.anchor=null!==(n=o.anchor)&&void 0!==n?n:"start",hR(o).length>0?o:void 0}},{key:"assembleGroup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||IV(this.parent)?bV(this):[];r.length>0&&(t.scales=r);var i=this.assembleAxes();i.length>0&&(t.axes=i);var a=this.assembleLegends();return a.length>0&&(t.legends=a),t}},{key:"hasDescendantWithFieldOnChannel",value:function(e){var t,n=Object(Sr.a)(this.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(DV(r)){if(r.channelHasField(e))return!0}else if(r.hasDescendantWithFieldOnChannel(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"getName",value:function(e){return vR((this.name?this.name+"_":"")+e)}},{key:"requestDataName",value:function(e){var t,n=this.getName(e),r=this.component.data.outputNodeRefCounts;return r[n]=(null!==(t=r[n])&&void 0!==t?t:0)+1,n}},{key:"getSizeSignalRef",value:function(e){if(IV(this.parent)){var t=TM(e),n=this.component.scales[t];if(n&&!n.merged){var r=n.get("type"),i=n.get("range");if(aF(r)&&AL(i)){var a=n.get("name"),o=vV(gV(this,t));return o?{signal:PU(a,n,tP({aggregate:"distinct",field:o},{expr:"datum"}))}:(cI("Unknown field for ".concat(t,". Cannot calculate view size.")),null)}}}return{signal:this.signalNameMap.get(this.getName(e))}}},{key:"lookupDataSource",value:function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e}},{key:"getSignalName",value:function(e){return this.signalNameMap.get(e)}},{key:"renameSignal",value:function(e,t){this.signalNameMap.rename(e,t)}},{key:"renameScale",value:function(e,t){this.scaleNameMap.rename(e,t)}},{key:"renameProjection",value:function(e,t){this.projectionNameMap.rename(e,t)}},{key:"scaleName",value:function(e,t){return t?this.getName(e):wM(e)&&IM(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}},{key:"projectionName",value:function(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}},{key:"getScaleComponent",value:function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}},{key:"getSelectionComponent",value:function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(iI.selectionNotFound(t));return n}},{key:"width",get:function(){return this.getSizeSignalRef("width")}},{key:"height",get:function(){return this.getSizeSignalRef("height")}}]),e}(),BV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){return Object(Vk.a)(this,n),t.apply(this,arguments)}return Object(qk.a)(n,[{key:"vgField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.fieldDef(e);if(n)return tP(n,t)}},{key:"reduceFieldDef",value:function(e,t){return IP(this.getMapping(),(function(t,n,r){var i=hP(n);return i?e(t,i,r):t}),t)}},{key:"forEachFieldDef",value:function(e,t){DP(this.getMapping(),(function(t,n){var r=hP(t);r&&e(r,n)}),t)}}]),n}(LV),UV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i,a,o,s;Object(Vk.a)(this,n),(i=t.call(this,e)).transform=r,i.transform=QN(r);var u=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[(o=u[0],null!==o&&void 0!==o?o:"value"),(s=u[1],null!==s&&void 0!==s?s:"density")],i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.density].concat(Object(dh.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"DensityTransform ".concat(rR(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.density,n=x(e,["density"]);return Object.assign({type:"kde",field:t},n)}}]),n}(bB),WV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,e)).filter=r,i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,Object.assign({},this.filter))}},{key:"dependentFields",value:function(){return new Set(hR(this.filter))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"FilterInvalid ".concat(rR(this.filter))}},{key:"assemble",value:function(){var e=this,t=hR(this.filter).reduce((function(t,n){var r=e.filter[n],i=tP(r,{expr:"datum"});return null!==r&&("temporal"===r.type?t.push("(isDate(".concat(i,") || (isValid(").concat(i,") && isFinite(+").concat(i,")))")):"quantitative"===r.type&&(t.push("isValid(".concat(i,")")),t.push("isFinite(+".concat(i,")")))),t}),[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}],[{key:"make",value:function(e,t){var r=t.config,i=t.mark;if("filter"!==xF("invalid",t.markDef,r))return null;var a=t.reduceFieldDef((function(e,n,r){var a=IM(r)&&t.getScaleComponent(r);a&&(!oF(a.get("type"))||n.aggregate||RR(i)||(e[n.field]=n));return e}),{});return hR(a).length?new n(e,a):null}}]),n}(bB),VV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;Object(Vk.a)(this,n),(i=t.call(this,e)).transform=r,i.transform=QN(r);var a=i.transform,o=a.flatten,s=a.as,u=void 0===s?[]:s;return i.transform.as=o.map((function(e,t){var n;return null!==(n=u[t])&&void 0!==n?n:e})),i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(this.parent,QN(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.flatten)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FlattenTransform ".concat(rR(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"flatten",fields:e.flatten,as:e.as}}}]),n}(bB),qV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i,a,o,s;Object(Vk.a)(this,n),(i=t.call(this,e)).transform=r,i.transform=QN(r);var u=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[(o=u[0],null!==o&&void 0!==o?o:"key"),(s=u[1],null!==s&&void 0!==s?s:"value")],i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.fold)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FoldTransform ".concat(rR(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"fold",fields:e.fold,as:e.as}}}]),n}(bB),HV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i,a){var o;return Object(Vk.a)(this,n),(o=t.call(this,e)).fields=r,o.geojson=i,o.signal=a,o}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.fields),this.geojson,this.signal)}},{key:"dependentFields",value:function(){var e,t=(e=this.fields,null!==e&&void 0!==e?e:[]).filter(A.H);return new Set([].concat(Object(dh.a)(this.geojson?[this.geojson]:[]),Object(dh.a)(t)))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(rR(this.fields))}},{key:"assemble",value:function(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}],[{key:"parseAll",value:function(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;for(var r=0,i=0,a=[["longitude","latitude"],["longitude2","latitude2"]];i<a.length;i++){var o=a[i].map((function(e){return t.channelHasField(e)?t.fieldDef(e).field:YF(t.encoding[e])?{expr:t.encoding[e].value+""}:void 0}));(o[0]||o[1])&&(e=new n(e,o,null,t.getName("geojson_".concat(r++))))}if(t.channelHasField(rM)){var s=t.fieldDef(rM);"geojson"===s.type&&(e=new n(e,null,s.field,t.getName("geojson_".concat(r++))))}return e}}]),n}(bB),GV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i,a){var o;return Object(Vk.a)(this,n),(o=t.call(this,e)).projection=r,o.fields=i,o.as=a,o}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,this.projection,QN(this.fields),QN(this.as))}},{key:"dependentFields",value:function(){return new Set(this.fields.filter(A.H))}},{key:"producedFields",value:function(){return new Set(this.as)}},{key:"hash",value:function(){return"Geopoint ".concat(this.projection," ").concat(rR(this.fields)," ").concat(rR(this.as))}},{key:"assemble",value:function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}],[{key:"parseAll",value:function(e,t){if(!t.projectionName())return e;for(var r=0,i=[["longitude","latitude"],["longitude2","latitude2"]];r<i.length;r++){var a=i[r],o=a.map((function(e){return t.channelHasField(e)?t.fieldDef(e).field:YF(t.encoding[e])?{expr:t.encoding[e].value+""}:void 0})),s="longitude2"===a[0]?"2":"";(o[0]||o[1])&&(e=new n(e,t.projectionName(),o,[t.getName("x"+s),t.getName("y"+s)]))}return e}}]),n}(bB),$V=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,e)).transform=r,i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.impute,this.transform.key].concat(Object(dh.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set([this.transform.impute])}},{key:"processSequence",value:function(e){var t=e.start,n=void 0===t?0:t,r=e.stop,i=e.step,a=[n,r].concat(Object(dh.a)(i?[i]:[])).join(",");return{signal:"sequence(".concat(a,")")}}},{key:"hash",value:function(){return"Impute ".concat(rR(this.transform))}},{key:"assemble",value:function(){var e,t=this.transform,n=t.impute,r=t.key,i=t.keyvals,a=t.method,o=t.groupby,s=t.value,u=t.frame,c=void 0===u?[null,null]:u,l=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:n,key:r},i?{keyvals:lL(i)?this.processSequence(i):i}:{}),{method:"value"}),o?{groupby:o}:{}),{value:null});a&&"value"!==a?e=[Object.assign({type:"window",as:["imputed_".concat(n,"_value")],ops:[a],fields:[n],frame:c,ignorePeers:!1},o?{groupby:o}:{}),{type:"formula",expr:"datum.".concat(n," === null ? datum.imputed_").concat(n,"_value : datum.").concat(n),as:n}]:e=[{type:"formula",expr:"datum.".concat(n," === null ? ").concat(s," : datum.").concat(n),as:n}];return[l].concat(Object(dh.a)(e))}}],[{key:"makeFromTransform",value:function(e,t){return new n(e,t)}},{key:"makeFromEncoding",value:function(e,t){var r=t.encoding,i=r.x,a=r.y;if($F(i)&&$F(a)){var o=i.impute?i:a.impute?a:void 0;if(void 0===o)return;var s=i.impute?a:a.impute?i:void 0,u=o.impute,c=u.method,l=u.value,f=u.frame,d=u.keyvals,h=FP(t.mark,r);return new n(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:o.field,key:s.field},c?{method:c}:{}),void 0!==l?{value:l}:{}),f?{frame:f}:{}),void 0!==d?{keyvals:d}:{}),h.length?{groupby:h}:{}))}return null}}]),n}(bB),KV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(Vk.a)(this,n),(e=t.call(this,r,i)).explicit=r,e.implicit=i,e.parseNothing=a,e}return Object(qk.a)(n,[{key:"clone",value:function(){var e=Tz(Object(Az.a)(n.prototype),"clone",this).call(this);return e.parseNothing=this.parseNothing,e}}]),n}(BU),XV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i,a,o,s;Object(Vk.a)(this,n),(i=t.call(this,e)).transform=r,i.transform=QN(r);var u=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[(o=u[0],null!==o&&void 0!==o?o:r.on),(s=u[1],null!==s&&void 0!==s?s:r.loess)],i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.loess,this.transform.on].concat(Object(dh.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"LoessTransform ".concat(rR(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.loess,n=e.on,r=x(e,["loess","on"]);return Object.assign({type:"loess",x:n,y:t},r)}}]),n}(bB),YV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i){var a;return Object(Vk.a)(this,n),(a=t.call(this,e)).transform=r,a.secondary=i,a}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.transform),this.secondary)}},{key:"dependentFields",value:function(){return new Set([this.transform.lookup])}},{key:"producedFields",value:function(){return new Set(this.transform.as?Object(A.i)(this.transform.as):this.transform.from.fields)}},{key:"hash",value:function(){return"Lookup ".concat(rR({transform:this.transform,secondary:this.secondary}))}},{key:"assemble",value:function(){var e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Object(A.i)(this.transform.as)}:{});else{var t=this.transform.as;Object(A.H)(t)||(cI(iI.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}],[{key:"make",value:function(e,t,r,i){var a,o=t.component.data.sources,s=r.from,u=null;if(function(e){return void 0!==e.data}(s)){var c=yq(s.data,o);c||(c=new SW(s.data),o.push(c));var l=t.getName("lookup_".concat(i));u=new yB(c,l,"lookup",t.component.data.outputNodeRefCounts),t.component.data.outputNodes[l]=u}else if(function(e){return void 0!==e.selection}(s)){var f=s.selection;if(r.as=null!==(a=r.as)&&void 0!==a?a:f,!(u=t.getSelectionComponent(vR(f),f).materialized))throw new Error(iI.noSameUnitLookup(f))}return new n(e,r,u.getSource())}}]),n}(bB),ZV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i,a,o,s;Object(Vk.a)(this,n),(i=t.call(this,e)).transform=r,i.transform=QN(r);var u=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[(o=u[0],null!==o&&void 0!==o?o:"prob"),(s=u[1],null!==s&&void 0!==s?s:"value")],i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.quantile].concat(Object(dh.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"QuantileTransform ".concat(rR(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.quantile,n=x(e,["quantile"]);return Object.assign({type:"quantile",field:t},n)}}]),n}(bB),JV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i,a,o,s;Object(Vk.a)(this,n),(i=t.call(this,e)).transform=r,i.transform=QN(r);var u=null!==(a=i.transform.as)&&void 0!==a?a:[void 0,void 0];return i.transform.as=[(o=u[0],null!==o&&void 0!==o?o:r.on),(s=u[1],null!==s&&void 0!==s?s:r.regression)],i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.regression,this.transform.on].concat(Object(dh.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"RegressionTransform ".concat(rR(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.regression,n=e.on,r=x(e,["regression","on"]);return Object.assign({type:"regression",x:n,y:t},r)}}]),n}(bB),QV=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,e)).transform=r,i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.transform))}},{key:"addDimensions",value:function(e){var t;this.transform.groupby=cR((t=this.transform.groupby,null!==t&&void 0!==t?t:[]).concat(e),(function(e){return e}))}},{key:"producedFields",value:function(){}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.pivot,this.transform.value].concat(Object(dh.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"hash",value:function(){return"PivotTransform ".concat(rR(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.pivot,n=e.value,r=e.groupby,i=e.limit,a=e.op;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},void 0!==i?{limit:i}:{}),void 0!==a?{op:a}:{}),void 0!==r?{groupby:r}:{})}}]),n}(bB),eq=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r){var i;return Object(Vk.a)(this,n),(i=t.call(this,e)).transform=r,i}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(null,QN(this.transform))}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"SampleTransform ".concat(rR(this.transform))}},{key:"assemble",value:function(){return{type:"sample",size:this.transform.sample}}}]),n}(bB);function tq(e){var t=0;return function n(r,i){var a,o,s,u;if(r instanceof SW&&(r.isGenerator||tL(r.data)||(e.push(i),i={name:null,source:i.name,transform:[]})),r instanceof UW&&(r.parent instanceof SW&&!i.source?(i.format=Object.assign(Object.assign({},null!==(a=i.format)&&void 0!==a?a:{}),{parse:r.assembleFormatParse()}),(o=i.transform).push.apply(o,Object(dh.a)(r.assembleTransforms(!0)))):(s=i.transform).push.apply(s,Object(dh.a)(r.assembleTransforms()))),r instanceof FW)return i.name||(i.name="data_".concat(t++)),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,void r.assemble().forEach((function(t){return e.push(t)}));if((r instanceof CW||r instanceof AW||r instanceof WV||r instanceof tU||r instanceof gU||r instanceof GV||r instanceof HV||r instanceof IW||r instanceof YV||r instanceof qW||r instanceof WW||r instanceof qV||r instanceof VV||r instanceof UV||r instanceof XV||r instanceof ZV||r instanceof JV||r instanceof HW||r instanceof eq||r instanceof QV)&&i.transform.push(r.assemble()),(r instanceof _W||r instanceof wB||r instanceof $V||r instanceof VW)&&(u=i.transform).push.apply(u,Object(dh.a)(r.assemble())),r instanceof yB)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof yB)r.setSource(i.name);else{if(i.name||(i.name="data_".concat(t++)),r.setSource(i.name),1===r.numChildren())e.push(i),i={name:null,source:i.name,transform:[]}}switch(r.numChildren()){case 0:r instanceof yB&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:i.name||(i.name="data_".concat(t++));var c=i.name;!i.source||i.transform.length>0?e.push(i):c=i.source,r.children.forEach((function(e){n(e,{name:null,source:c,transform:[]})}))}}}function nq(e,t){var n,r,i=[],a=tq(i),o=0;e.sources.forEach((function(e){e.hasName()||(e.dataName="source_".concat(o++));var t=e.assemble();a(e,t)})),i.forEach((function(e){0===e.transform.length&&delete e.transform}));var s,u=0,c=Object(Sr.a)(i.entries());try{for(c.s();!(s=c.n()).done;){var l=Object(wi.a)(s.value,2),f=l[0],d=l[1];0!==(n=d.transform,null!==n&&void 0!==n?n:[]).length||d.source||i.splice(u++,0,i.splice(f,1)[0])}}catch(O){c.e(O)}finally{c.f()}for(var h=0,p=i;h<p.length;h++){var m,v=p[h],g=Object(Sr.a)(null!==(r=v.transform)&&void 0!==r?r:[]);try{for(g.s();!(m=g.n()).done;){var b=m.value;"lookup"===b.type&&(b.from=e.outputNodes[b.from].getSource())}}catch(O){g.e(O)}finally{g.f()}}for(var y=0,w=i;y<w.length;y++){var x=w[y];x.name in t&&(x.values=t[x.name])}return i}function rq(e,t){var n;if(e.channelHasField(t)){var r=e.facet[t],i=wU("title",null,e.config,t),a=cP(r,e.config,{allowDisabling:!0,includeDefault:void 0===i||!!i});e.child.component.layoutHeaders[t].title&&(a=Object(A.A)(a)?a.join(", "):a,a+=" / "+e.child.component.layoutHeaders[t].title,e.child.component.layoutHeaders[t].title=null);var o=wU("labelOrient",r,e.config,t),s=SR((null!==(n=r.header)&&void 0!==n?n:{}).labels,!0),u=aR(["bottom","right"],o)?"footer":"header";e.component.layoutHeaders[t]=Object(to.a)({title:a,facetFieldDef:r},u,"facet"===t?[]:[iq(e,t,s)])}}function iq(e,t,n){var r="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function aq(e,t){var n,r,i=e.child;if(i.component.axes[t]){var a=e.component,o=a.layoutHeaders,s=a.resolve;if(s.axis[t]=LU(s,t),"shared"===s.axis[t]){var u,c="x"===t?"column":"row",l=o[c],f=Object(Sr.a)(i.component.axes[t]);try{for(f.s();!(u=f.n()).done;){var d=u.value,h="top"===(r=d.get("orient"))||"left"===r?"header":"footer";l[h]=null!==(n=l[h])&&void 0!==n?n:[iq(e,c,!1)];var p=sU(d,"main",e.config,{header:!0});l[h][0].axes.push(p),d.mainExtracted=!0}}catch(m){f.e(m)}finally{f.f()}}}}function oq(e){cq(e);var t=e.component.layoutSize;t.setWithExplicit("width",lq(e,"width")),t.setWithExplicit("height",lq(e,"height"))}var sq=oq,uq={vconcat:"width",hconcat:"height"};function cq(e){var t,n=Object(Sr.a)(e.children);try{for(n.s();!(t=n.n()).done;){t.value.parseLayoutSize()}}catch(r){n.e(r)}finally{n.f()}}function lq(e,t){var n,r,i="width"===t?"x":"y",a=e.component.resolve,o=Object(Sr.a)(e.children);try{for(o.s();!(r=o.n()).done;){var s=r.value.component.layoutSize.getWithExplicit(t),u=a.scale[i];if("independent"===u&&"step"===s.value){n=void 0;break}if(n){if("independent"===u&&n.value!==s.value){n=void 0;break}n=HU(n,s,t,"")}else n=s}}catch(d){o.e(d)}finally{o.f()}if(n){var c,l=Object(Sr.a)(e.children);try{for(l.s();!(c=l.n()).done;){var f=c.value;e.renameSignal(f.getName(t),e.getName(t)),f.component.layoutSize.set(t,"merged",!1)}}catch(d){l.e(d)}finally{l.f()}return n}return{explicit:!1,value:void 0}}function fq(e,t){var n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){var a=i.get("type"),o=i.get("range");if(aF(a)){var s=yz(r.view,t);return AL(o)||mz(s)?"step":s}return gz(r.view,t)}if(e.hasProjection)return gz(r.view,t);var u=yz(r.view,t);return mz(u)?u.step:u}function dq(e,t){return vq(e,t)}function hq(e,t){return(n=e.field)&&!Object(A.H)(n)&&"repeat"in n?e.field.repeat in t?Object.assign(Object.assign({},e),{field:t[e.field.repeat]}):void cI(iI.noSuchRepeatedValue(e.field.repeat)):e;var n}function pq(e,t){if(void 0!==(e=hq(e,t))){if(null===e)return null;if(WF(e)&&PF(e.sort)){var n=hq(e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function mq(e,t){if(!$F(e)){if(GF(e)){var n=pq(e.condition,t);if(n)return Object.assign(Object.assign({},e),{condition:n});e.condition;return x(e,["condition"])}return e}var r=pq(e,t);return r||(HF(e)?{condition:e.condition}:void 0)}function vq(e,t){var n={};for(var r in e)if(Object(A.v)(e,r)){var i=e[r];if(Object(A.A)(i))n[r]=i.map((function(e){return mq(e,t)})).filter((function(e){return e}));else{var a=mq(i,t);void 0!==a&&(n[r]=a)}}return n}function gq(e,t,n){return tP(t,Object.assign({suffix:"by_".concat(tP(e))},null!==n&&void 0!==n?n:{}))}var bq=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i,a,o){var s;Object(Vk.a)(this,n),(s=t.call(this,e,"facet",r,i,o,a,e.resolve)).child=Gq(e.spec,Object(eL.a)(s),s.getName("child"),void 0,a,o),s.children=[s.child];var u=function(e,t){return LF(e)?vq(e,t):pq(e,t)}(e.facet,a);return s.facet=s.initFacet(u),s}return Object(qk.a)(n,[{key:"initFacet",value:function(e){return LF(e)?IP(e,(function(e,t,n){return aR([ZR,"column"],n)?void 0===t.field?(cI(iI.emptyFieldDef(t,n)),e):(e[n]=mP(t,n),e):(cI(iI.incompatibleChannel(n,"facet")),e)}),{}):{facet:mP(e,"facet")}}},{key:"channelHasField",value:function(e){return!!this.facet[e]}},{key:"fieldDef",value:function(e){return this.facet[e]}},{key:"parseData",value:function(){this.component.data=xq(this),this.child.parseData()}},{key:"parseLayoutSize",value:function(){cq(this)}},{key:"parseSelections",value:function(){this.child.parseSelections(),this.component.selection=this.child.component.selection}},{key:"parseMarkGroup",value:function(){this.child.parseMarkGroup()}},{key:"parseAxesAndHeaders",value:function(){this.child.parseAxesAndHeaders(),function(e){var t,n=Object(Sr.a)(mM);try{for(n.s();!(t=n.n()).done;){rq(e,t.value)}}catch(r){n.e(r)}finally{n.f()}aq(e,"x"),aq(e,"y")}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.child.assembleSelectionTopLevelSignals(e)}},{key:"assembleSignals",value:function(){return this.child.assembleSignals(),[]}},{key:"assembleSelectionData",value:function(e){return this.child.assembleSelectionData(e)}},{key:"getHeaderLayoutMixins",value:function(){var e,t,n,r,i,a={},o=Object(Sr.a)(mM);try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=Object(Sr.a)(kU);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=this.component.layoutHeaders[u],d=f[l],h=f.facetFieldDef;if(h){var p=wU("titleOrient",h,this.config,u);if(aR(["right","bottom"],p)){var m=yU(u,p);a.titleAnchor=null!==(e=a.titleAnchor)&&void 0!==e?e:{},a.titleAnchor[m]="end"}}if(null===(t=d)||void 0===t?void 0:t[0]){var v="row"===u?"height":"width",g="header"===l?"headerBand":"footerBand";"facet"===u||this.child.component.layoutSize.get(v)||(a[g]=null!==(n=a[g])&&void 0!==n?n:{},a[g][u]=.5),f.title&&(a.offset=null!==(r=a.offset)&&void 0!==r?r:{},a.offset["row"===u?"rowTitle":"columnTitle"]=10)}}}catch(b){c.e(b)}finally{c.f()}}}catch(b){o.e(b)}finally{o.f()}return a}},{key:"assembleDefaultLayout",value:function(){var e=this.facet,t=e.column,n=e.row,r=t?this.columnDistinctSignal():n?1:void 0,i="all";return(n||"independent"!==this.component.resolve.scale.x)&&(t||"independent"!==this.component.resolve.scale.y)||(i="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:i})}},{key:"assembleLayoutSignals",value:function(){return this.child.assembleLayoutSignals()}},{key:"columnDistinctSignal",value:function(){if(!(this.parent&&this.parent instanceof n)){var e=this.getName("column_domain");return{signal:"length(data('".concat(e,"'))")}}}},{key:"assembleGroup",value:function(e){return this.parent&&this.parent instanceof n?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:tP(this.facet.column,{prefix:"distinct"})}}}}:{}),Tz(Object(Az.a)(n.prototype),"assembleGroup",this).call(this,e)):Tz(Object(Az.a)(n.prototype),"assembleGroup",this).call(this,e)}},{key:"getCardinalityAggregateForChild",value:function(){var e=[],t=[],r=[];if(this.child instanceof n){if(this.child.channelHasField("column")){var i=tP(this.child.facet.column);e.push(i),t.push("distinct"),r.push("distinct_".concat(i))}}else for(var a=0,o=["x","y"];a<o.length;a++){var s=o[a],u=this.child.component.scales[s];if(u&&!u.merged){var c=u.get("type"),l=u.get("range");if(aF(c)&&AL(l)){var f=vV(gV(this.child,s));f?(e.push(f),t.push("distinct"),r.push("distinct_".concat(f))):cI("Unknown field for ".concat(s,". Cannot calculate view size."))}}}return{fields:e,ops:t,as:r}}},{key:"assembleFacet",value:function(){var e,t=this.component.data.facetRoot,n=t.name,r=t.data,i=this.facet,a=i.row,o=i.column,s=this.getCardinalityAggregateForChild(),u=s.fields,c=s.ops,l=s.as,f=[],d=Object(Sr.a)(mM);try{for(d.s();!(e=d.n()).done;){var h=e.value,p=this.facet[h];if(p){f.push(tP(p));var m=p.bin,v=p.sort;if(EP(m)&&f.push(tP(p,{binSuffix:"end"})),PF(v)){var g=v.field,b=v.op,y=void 0===b?"mean":b,w=gq(p,v);a&&o?(u.push(w),c.push("max"),l.push(w)):(u.push(g),c.push(y),l.push(w))}else if(Object(A.A)(v)){var x=bU(p,h);u.push(x),c.push("max"),l.push(x)}}}}catch(k){d.e(k)}finally{d.f()}var O=!!a&&!!o;return Object.assign({name:n,data:r,groupby:f},O||u.length>0?{aggregate:Object.assign(Object.assign({},O?{cross:O}:{}),u.length?{fields:u,ops:c,as:l}:{})}:{})}},{key:"facetSortFields",value:function(e){var t=this.facet[e];return t?PF(t.sort)?[gq(t,t.sort,{expr:"datum"})]:Object(A.A)(t.sort)?[bU(t,e,{expr:"datum"})]:[tP(t,{expr:"datum"})]:[]}},{key:"facetSortOrder",value:function(e){var t=this.facet[e];if(t){var n=t.sort;return[(PF(n)?n.order:!Object(A.A)(n)&&n)||"ascending"]}return[]}},{key:"assembleLabelTitle",value:function(){var e=this.facet,t=this.config;if(e.facet)return AU(e.facet,"facet",t);var n,r={row:["top","bottom"],column:["left","right"]},i=Object(Sr.a)(OU);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(e[a]){var o=wU("labelOrient",e[a],t,a);if(aR(r[a],o))return AU(e[a],a,t)}}}catch(s){i.e(s)}finally{i.f()}}},{key:"assembleMarks",value:function(){var e=this,t=this.child,n=function(e){var t=[],n=tq(t);return e.children.forEach((function(t){return n(t,{source:e.name,name:null,transform:[]})})),t}(this.component.data.facetRoot),r=t.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||t.assembleTitle(),a=t.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},i?{title:i}:{}),a?{style:a}:{}),{from:{facet:this.assembleFacet()},sort:{field:mM.map((function(t){return e.facetSortFields(t)})).flat(),order:mM.map((function(t){return e.facetSortOrder(t)})).flat()}}),n.length>0?{data:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup(function(e,t){if(e.component.selection&&hR(e.component.selection).length){var n=Object(A.Z)(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:sA("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return zB(t)}(this,[])))]}},{key:"getMapping",value:function(){return this.facet}}]),n}(BV);function yq(e,t){var n,r,i,a,o,s,u,c,l,f,d,h=Object(Sr.a)(t);try{for(h.s();!(d=h.n()).done;){var p=d.value,m=p.data;if((!e.name||!p.hasName()||e.name===p.dataName)&&((!(null===(n=e.format)||void 0===n?void 0:n.mesh)||!(null===(r=m.format)||void 0===r?void 0:r.feature))&&(!(null===(i=e.format)||void 0===i?void 0:i.feature)&&!(null===(a=m.format)||void 0===a?void 0:a.feature)||(null===(o=e.format)||void 0===o?void 0:o.feature)===(null===(s=m.format)||void 0===s?void 0:s.feature))&&(!(null===(u=e.format)||void 0===u?void 0:u.mesh)&&!(null===(c=m.format)||void 0===c?void 0:c.mesh)||(null===(l=e.format)||void 0===l?void 0:l.mesh)===(null===(f=m.format)||void 0===f?void 0:f.mesh))))if(nL(e)&&nL(m)){if(JN(e.values,m.values))return p}else if(tL(e)&&tL(m)){if(e.url===m.url)return p}else if(rL(e)&&e.name===p.dataName)return p}}catch(v){h.e(v)}finally{h.f()}return null}function wq(e,t){if(e.data||!e.parent){if(null===e.data){var n=new SW([]);return t.push(n),n}var r=yq(e.data,t);if(r)return iL(e.data)||(r.data.format=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];uR(e,null!==o&&void 0!==o?o:{})}return e}({},e.data.format,r.data.format)),!r.hasName()&&e.data.name&&(r.dataName=e.data.name),r;var i=new SW(e.data);return t.push(i),i}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function xq(e){var t,n,r,i,a,o,s,u,c,l,f,d=wq(e,e.component.data.sources),h=e.component.data,p=h.outputNodes,m=h.outputNodeRefCounts,v=e.parent?e.parent.component.data.ancestorParse.clone():new KV,g=e.data;iL(g)?(aL(g)?d=new AW(d,g.sequence):sL(g)&&(d=new CW(d,g.graticule)),v.parseNothing=!0):null===(null===(n=null===(t=g)||void 0===t?void 0:t.format)||void 0===n?void 0:n.parse)&&(v.parseNothing=!0),r=UW.makeExplicit(d,e,v),d=new HW(d=null!==r&&void 0!==r?r:d);var b=e.parent&&zV(e.parent);(DV(e)||IV(e))&&b&&(d=null!==(i=_W.makeFromEncoding(d,e))&&void 0!==i?i:d),e.transforms.length>0&&(d=function(e,t,n){var r,i,a,o=0,s=Object(Sr.a)(t.transforms);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=void 0,l=void 0;if(xL(u))l=e=new gU(e,u),c="derived";else if(cL(u)){var f=LW(u);l=e=null!==(r=UW.makeWithAncestors(e,{},f,n))&&void 0!==r?r:e,e=new tU(e,t,u.filter)}else if(OL(u))l=e=_W.makeFromTransform(e,u,t),c="number";else if(EL(u)){c="date",void 0===n.getWithExplicit(u.field).value&&(e=new UW(e,Object(to.a)({},u.field,c)),n.set(u.field,c,!1)),l=e=wB.makeFromTransform(e,u)}else if(_L(u))l=e=IW.makeFromTransform(e,u),c="number",QB(t)&&(e=new HW(e));else if(fL(u))l=e=YV.make(e,t,u,o++),c="derived";else if(bL(u))l=e=new qW(e,u),c="number";else if(yL(u))l=e=new WW(e,u),c="number";else if(SL(u))l=e=VW.makeFromTransform(e,u),c="derived";else if(jL(u))l=e=new qV(e,u),c="derived";else if(wL(u))l=e=new VV(e,u),c="derived";else if(dL(u))l=e=new QV(e,u),c="derived";else if(gL(u))e=new eq(e,u);else if(kL(u))l=e=$V.makeFromTransform(e,u),c="derived";else if(hL(u))l=e=new UV(e,u),c="derived";else if(pL(u))l=e=new ZV(e,u),c="derived";else if(mL(u))l=e=new JV(e,u),c="derived";else{if(!vL(u)){cI(iI.invalidTransformIgnored(u));continue}l=e=new XV(e,u),c="derived"}if(l&&void 0!==c){var d,h=Object(Sr.a)(null!==(i=l.producedFields())&&void 0!==i?i:[]);try{for(h.s();!(d=h.n()).done;){var p=d.value;n.set(p,c,!1)}}catch(m){h.e(m)}finally{h.f()}}}}catch(m){s.e(m)}finally{s.f()}return e}(d,e,v));var y=function(e){var t={};if(DV(e)&&e.component.selection){var n,r=Object(Sr.a)(hR(e.component.selection));try{for(r.s();!(n=r.n()).done;){var i,a=n.value,o=e.component.selection[a],s=Object(Sr.a)(o.project.items);try{for(s.s();!(i=s.n()).done;){var u=i.value;!u.channel&&_R(u.field)>1&&(t[u.field]="flatten")}}catch(c){s.e(c)}finally{s.f()}}}catch(c){r.e(c)}finally{r.f()}}return t}(e),w=BW(e);d=null!==(a=UW.makeWithAncestors(d,{},Object.assign(Object.assign({},y),w),v))&&void 0!==a?a:d,DV(e)&&(d=HV.parseAll(d,e),d=GV.parseAll(d,e)),(DV(e)||IV(e))&&(b||(d=null!==(o=_W.makeFromEncoding(d,e))&&void 0!==o?o:d),d=null!==(s=wB.makeFromEncoding(d,e))&&void 0!==s?s:d,d=gU.parseAllForSortIndex(d,e));var x=e.getName("raw"),O=new yB(d,x,"raw",m);if(p[x]=O,d=O,DV(e)){var k=IW.makeFromEncoding(d,e);k&&(d=k,QB(e)&&(d=new HW(d))),d=null!==(u=$V.makeFromEncoding(d,e))&&void 0!==u?u:d,d=null!==(c=VW.makeFromEncoding(d,e))&&void 0!==c?c:d}DV(e)&&(d=null!==(l=WV.make(d,e))&&void 0!==l?l:d);var E=e.getName(uL),_=new yB(d,E,uL,m);p[E]=_,d=_,DV(e)&&function(e,t){YB(e,(function(n){var r=n.name,i=e.getName("lookup_".concat(r));e.component.data.outputNodes[i]=n.materialized=new yB(new tU(t,e,{selection:r}),i,"lookup",e.component.data.outputNodeRefCounts)}))}(e,_);var S=null;if(IV(e)){var j=e.getName("facet");f=function(e,t){var n=t.row,r=t.column;if(n&&r){for(var i=null,a=0,o=[n,r];a<o.length;a++){var s=o[a];if(PF(s.sort)){var u=s.sort,c=u.field,l=u.op;e=i=new WW(e,{joinaggregate:[{op:void 0===l?"mean":l,field:c,as:gq(s,s.sort,{forAs:!0})}],groupby:[tP(s)]})}}return i}return null}(d=gU.parseAllForSortIndex(d,e),e.facet),S=new FW(d=null!==f&&void 0!==f?f:d,e,j,_.getSource()),p[j]=S,d=S}return Object.assign(Object.assign({},e.component.data),{outputNodes:p,outputNodeRefCounts:m,raw:O,main:_,facetRoot:S,ancestorParse:v})}var Oq=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i,a,o,s,u){return Object(Vk.a)(this,n),t.call(this,e,r,i,a,o,s,u)}return Object(qk.a)(n,[{key:"parseData",value:function(){this.component.data=xq(this),this.children.forEach((function(e){e.parseData()}))}},{key:"parseSelections",value:function(){var e=this;this.component.selection={};var t,n=Object(Sr.a)(this.children);try{var r=function(){var n=t.value;n.parseSelections(),hR(n.component.selection).forEach((function(t){e.component.selection[t]=n.component.selection[t]}))};for(n.s();!(t=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}}},{key:"parseMarkGroup",value:function(){var e,t=Object(Sr.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){var e,t=Object(Sr.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseAxesAndHeaders()}}catch(n){t.e(n)}finally{t.f()}}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.forEach((function(e){return e.assembleSignals()})),[]}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(e,t){return[].concat(Object(dh.a)(e),Object(dh.a)(t.assembleLayoutSignals()))}),DU(this))}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleMarks",value:function(){return this.children.map((function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),e.assembleGroup())}))}}]),n}(LV),kq=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i,a,o){var s,u,c,l,f;return Object(Vk.a)(this,n),s=t.call(this,e,"concat",r,i,o,a,e.resolve),"shared"!==(null===(c=null===(u=e.resolve)||void 0===u?void 0:u.axis)||void 0===c?void 0:c.x)&&"shared"!==(null===(f=null===(l=e.resolve)||void 0===l?void 0:l.axis)||void 0===f?void 0:f.y)||cI(iI.CONCAT_CANNOT_SHARE_AXIS),s.concatType=dz(e)?"vconcat":hz(e)?"hconcat":"concat",s.children=s.getChildren(e).map((function(e,t){return Gq(e,Object(eL.a)(s),s.getName("concat_"+t),void 0,a,o)})),s}return Object(qk.a)(n,[{key:"getChildren",value:function(e){return dz(e)?e.vconcat:hz(e)?e.hconcat:e.concat}},{key:"parseLayoutSize",value:function(){!function(e){cq(e);var t=e.component.layoutSize,n=uq[e.concatType];n&&t.setWithExplicit(n,lq(e,n))}(this)}},{key:"parseAxisGroup",value:function(){return null}},{key:"assembleDefaultLayout",value:function(){return Object.assign(Object.assign({},"vconcat"===this.concatType?{columns:1}:{}),{bounds:"full",align:"each"})}}]),n}(Oq);var Eq=Object.assign(Object.assign({gridScale:1,scale:1},PL),{labelExpr:1,encode:1}),_q=hR(Eq),Sq=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(Vk.a)(this,n),(e=t.call(this)).explicit=r,e.implicit=i,e.mainExtracted=a,e}return Object(qk.a)(n,[{key:"clone",value:function(){return new n(QN(this.explicit),QN(this.implicit),this.mainExtracted)}},{key:"hasAxisPart",value:function(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}}]),n}(BU);var jq={bottom:"top",top:"bottom",left:"right",right:"left"};function Cq(e,t){if(!e)return t.map((function(e){return e.clone()}));if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r],a=t[r];if(!!i!==!!a)return;if(i&&a){var o=i.getWithExplicit("orient"),s=a.getWithExplicit("orient");if(o.explicit&&s.explicit&&o.value!==s.value)return;e[r]=Aq(i,a)}}return e}}function Aq(e,t){var n,r=Object(Sr.a)(_q);try{var i=function(){var r=n.value,i=HU(e.getWithExplicit(r),t.getWithExplicit(r),r,"axis",(function(e,t){switch(r){case"title":return MF(e,t);case"gridScale":return{explicit:e.explicit,value:SR(e.value,t.value)}}return qU(e,t,r,"axis")}));e.setWithExplicit(r,i)};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}return e}function Tq(e,t){var n="x"===t?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),a=r?r.title:void 0,o=i?i.title:void 0;return a&&o?RF(a,o):a||(o||(void 0!==a?a:void 0!==o?o:void 0))}function Nq(e,t){var n,r=t.axis(e),i=new Sq;_q.forEach((function(n){var a=function(e,t,n,r){var i=r.fieldDef(n),a=function(e,t,n,r){if(void 0!==t.labelAngle)return TR(t.labelAngle);var i=hU("labelAngle",e.config,n,vU(n),e.getScaleComponent(n).get("type"));return void 0!==i?TR(i):n===JR&&aR(["nominal","ordinal"],r.type)?270:void 0}(r,t,n,i),o=SR(t.orient,vU(n)),s=r.mark,u=r.config;switch(e){case"scale":return r.scaleName(n);case"gridScale":return function(e,t){var n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}(r,n);case"format":if(yP(i))return;return _F(i,t.format,u);case"formatType":if(yP(i))return;return t.formatType;case"grid":if(_P(r.fieldDef(n).bin))return!1;var c=r.getScaleComponent(n).get("type");return SR(t.grid,function(e,t){return!aF(e)&&!EP(t.bin)}(c,i));case"labelAlign":return SR(t.labelAlign,mU(a,o));case"labelAngle":return a;case"labelBaseline":return SR(t.labelBaseline,pU(a,o));case"labelFlush":return SR(t.labelFlush,function(e,t){if("x"===t&&aR(["quantitative","temporal"],e.type))return!0}(i,n));case"labelOverlap":var l=r.getScaleComponent(n).get("type");return SR(t.labelOverlap,function(e,t){if("nominal"!==e.type)return"log"!==t||"greedy"}(i,l));case"orient":return o;case"tickCount":var f=r.getScaleComponent(n).get("type"),d="x"===n?"width":"y"===n?"height":void 0,h=d?r.getSizeSignalRef(d):void 0;return SR(t.tickCount,function(e){var t=e.fieldDef,n=e.scaleType,r=e.size;if(!aF(n)&&"log"!==n&&!aR(["month","hours","day","quarter"],t.timeUnit))return EP(t.bin)?{signal:"ceil(".concat(r.signal,"/10)")}:{signal:"ceil(".concat(r.signal,"/40)")}}({fieldDef:i,scaleType:f,size:h}));case"title":var p="x"===n?"x2":"y2",m=r.fieldDef(p);return SR(t.title,Tq(r,n),NF([UF(i)],m?[UF(m)]:[]));case"values":return function(e,t,n){var r=e.values;if(r)return xP(n,r)}(t,0,i);case"zindex":return SR(t.zindex,function(e,t){return"rect"===e&&nP(t)?1:0}(s,i))}return v=e,zL[v]?t[e]:void 0;var v}(n,r,e,t);if(void 0!==a){var o=function(e,t,n,r,i){switch(t){case"titleAngle":case"labelAngle":return e===TR(n[t]);case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===Tq(r,i))return!0}return e===n[t]}(a,n,r,t,e),s=hU(n,t.config,e,i.get("orient"),t.getScaleComponent(e).get("type"));o||void 0===s?i.set(n,a,o):aR(["grid","orient"],n)&&s&&i.set(n,s,!1)}}));var a=null!==(n=r.encoding)&&void 0!==n?n:{},o=IL.reduce((function(n,r){var o;if(!i.hasAxisPart(r))return n;var s=zU(null!==(o=a[r])&&void 0!==o?o:{},t),u="labels"===r?function(e,t,n){var r,i=null!==(r=e.fieldDef(t))&&void 0!==r?r:"x"===t?e.fieldDef("x2"):"y"===t?e.fieldDef("y2"):void 0,a=e.axis(t),o={};if(yP(i)){var s=e.getScaleComponent(t).get("type")===KI.UTC,u=AF("datum.value",i.timeUnit,a.format,null,s);u&&(o.text={signal:u})}return o=Object.assign(Object.assign({},o),n),0===hR(o).length?void 0:o}(t,e,s):s;return void 0!==u&&hR(u).length>0&&(n[r]={update:u}),n}),{});return hR(o).length>0&&i.set("encode",o,!!r.encoding||void 0!==r.labelAngle),i}function Rq(e){var t,n=e.encoding,r=e.size,i=Object(Sr.a)(CM);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=AM(a),s=hP(n[a]);mz(r[o])&&s&&rP(s)&&(delete r[o],cI(iI.stepDropped(o)))}}catch(u){i.e(u)}finally{i.f()}return r}function Mq(e,t,n,r){var i,a,o=r.graticule,s=IR(e)?Object.assign({},e):{type:e},u=null!==(i=s.orient)&&void 0!==i?i:OF("orient",s,n);return s.orient=function(e,t,n){switch(e){case"point":case"circle":case"square":case"text":case"rect":case"image":return}var r=t.x,i=t.y,a=t.x2,o=t.y2;switch(e){case"bar":if($F(r)&&(_P(r.bin)||$F(i)&&i.aggregate&&!r.aggregate))return"vertical";if($F(i)&&(_P(i.bin)||$F(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||a){if(n)return n;if(!a&&$F(r)&&"quantitative"===r.type&&!EP(r.bin))return"horizontal";if(!o&&$F(i)&&"quantitative"===i.type&&!EP(i.bin))return"vertical"}case"rule":if(a&&o)return;case"area":if(o)return $F(i)&&_P(i.bin)?"horizontal":"vertical";if(a)return $F(r)&&_P(r.bin)?"vertical":"horizontal";if("rule"===e){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case"line":case"tick":var s=$F(r)&&rP(r),u=$F(i)&&rP(i);if(s&&!u)return"tick"!==e?"horizontal":"vertical";if(!s&&u)return"tick"!==e?"vertical":"horizontal";if(s&&u){var c=r,l=i,f="temporal"===c.type,d="temporal"===l.type;return f&&!d?"tick"!==e?"vertical":"horizontal":!f&&d?"tick"!==e?"horizontal":"vertical":!c.aggregate&&l.aggregate?"tick"!==e?"vertical":"horizontal":c.aggregate&&!l.aggregate?"tick"!==e?"horizontal":"vertical":n||"vertical"}return n||void 0}return"vertical"}(s.type,t,u),void 0!==u&&u!==s.orient&&cI(iI.orientOverridden(s.orient,u)),void 0===SR(s.opacity,OF("opacity",s,n))&&(s.opacity=function(e,t){if(aR(["point","tick","circle","square"],e)&&!TP(t))return.7;return}(s.type,t)),void 0===s.filled&&(s.filled=!o&&function(e,t){var n=OF("filled",e,t),r=e.type;return SR(n,"point"!==r&&"line"!==r&&"rule"!==r)}(s,n)),void 0===(null!==(a=s.cursor)&&void 0!==a?a:OF("cursor",s,n))&&(s.cursor=function(e,t,n){if(t.href||e.href||OF("href",e,n))return"pointer";return e.cursor}(s,t,n)),s}function Dq(e,t){e.config;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hB(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore"})),tB("x",e,{defaultPos:"mid"})),tB("y",e,{defaultPos:"mid"})),KL("size",e)),function(e,t,n){if(n)return{shape:{value:n}};return KL("shape",e)}(e,0,t))}function Iq(e){var t=e.config,n=e.markDef,r=n.orient,i="horizontal"===r?"width":"height",a=e.getScaleComponent("horizontal"===r?"x":"y"),o=SR(n[i],n.size,OF("size",n,t,{vgChannel:i}),t.tick.bandSize);if(void 0!==o)return o;var s=a?a.get("range"):void 0;return s&&AL(s)&&Object(A.E)(s.step)?3*s.step/4:3*bz(t.view,i)/4}var Fq={area:{vgMark:"area",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},hB(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore"})),oB("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),oB("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),mB(e))}},bar:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},hB(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore"})),cB(e,"x","bar")),cB(e,"y","bar"))}},circle:{vgMark:"symbol",encodeEntry:function(e){return Dq(e,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(e){return Object.assign({},hB(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore"}))},postEncodingTransform:function(e){var t=e.encoding.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},t&&$F(t)&&"geojson"===t.type?{field:tP(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},hB(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore"})),cB(e,"x","image")),cB(e,"y","image")),YL(e,"url"))}},line:{vgMark:"line",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hB(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore"})),tB("x",e,{defaultPos:"mid"})),tB("y",e,{defaultPos:"mid"})),KL("size",e,{vgChannel:"strokeWidth"})),mB(e))}},point:{vgMark:"symbol",encodeEntry:function(e){return Dq(e)}},rect:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},hB(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore"})),cB(e,"x","rect")),cB(e,"y","rect"))}},rule:{vgMark:"rule",encodeEntry:function(e){var t=e.markDef.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},hB(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore"})),oB("x",e,{defaultPos:"horizontal"===t?"zeroOrMin":"mid",defaultPos2:"zeroOrMax",range:"vertical"!==t})),oB("y",e,{defaultPos:"vertical"===t?"zeroOrMin":"mid",defaultPos2:"zeroOrMax",range:"horizontal"!==t})),KL("size",e,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:function(e){return Dq(e,"square")}},text:{vgMark:"text",encodeEntry:function(e){var t=e.config;e.encoding;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hB(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore"})),tB("x",e,{defaultPos:"mid"})),tB("y",e,{defaultPos:"mid"})),YL(e)),KL("size",e,{vgChannel:"fontSize"})),vB("align",function(e,t,n){var r;if(void 0===(null!==(r=e.align)&&void 0!==r?r:OF("align",e,n)))return"center";return}(e.markDef,0,t))),vB("baseline",function(e,t,n){var r;if(void 0===(null!==(r=e.baseline)&&void 0!==r?r:OF("baseline",e,n)))return"middle";return}(e.markDef,0,t)))}},tick:{vgMark:"rect",encodeEntry:function(e){var t=e.config,n=e.markDef,r=n.orient,i="horizontal"===r?"width":"height",a="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hB(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore"})),tB("x",e,{defaultPos:"mid",vgChannel:"xc"})),tB("y",e,{defaultPos:"mid",vgChannel:"yc"})),KL("size",e,{defaultValue:Iq(e),vgChannel:i})),Object(to.a)({},a,{value:SR(n.thickness,t.tick.thickness)}))}},trail:{vgMark:"trail",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hB(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore"})),tB("x",e,{defaultPos:"mid"})),tB("y",e,{defaultPos:"mid"})),KL("size",e)),mB(e))}}};function Pq(e){return aR(["line","area","trail"],e.mark)?function(e){var t=FP(e.mark,e.encoding),n=Lq(e,{fromPrefix:t.length>0?"faceted_path_":""});return t.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+e.requestDataName(uL),data:e.requestDataName(uL),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:n}]:n}(e):aR(["bar"],e.mark)?function(e){var t,n=RL.some((function(t){return e.markDef[t]||OF(t,e.markDef,e.config)}));if(e.stack&&!e.fieldDef("size")&&n){var r,i,a=Lq(e,{fromPrefix:"stack_group_"}),o=Object(wi.a)(a,1)[0],s=e.scaleName(e.stack.fieldChannel),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.vgField(e.stack.fieldChannel,t)},c=function(e,t){var n=[u({prefix:"min",suffix:"start",expr:t}),u({prefix:"max",suffix:"start",expr:t}),u({prefix:"min",suffix:"end",expr:t}),u({prefix:"max",suffix:"end",expr:t})];return"".concat(e,"(").concat(n.map((function(e){return"scale('".concat(s,"',").concat(e,")")})).join(","),")")};"x"===e.stack.fieldChannel?(r=Object.assign(Object.assign({},eR(o.encode.update,["y","yc","y2","height"].concat(Object(dh.a)(RL)))),{x:{signal:c("min","datum")},x2:{signal:c("max","datum")},clip:{value:!0}}),i={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},o.encode.update=Object.assign(Object.assign({},tR(o.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(r=Object.assign(Object.assign({},eR(o.encode.update,["x","xc","x2","width"])),{y:{signal:c("min","datum")},y2:{signal:c("max","datum")},clip:{value:!0}}),i={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},o.encode.update=Object.assign(Object.assign({},tR(o.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));var l,f=Object(Sr.a)(RL);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=OF(d,e.markDef,e.config);o.encode.update[d]?(r[d]=o.encode.update[d],delete o.encode.update[d]):h&&(r[d]={value:h}),h&&(o.encode.update[d]={value:0})}}catch(m){f.e(m)}finally{f.f()}var p=e.vgField(e.stack.groupbyChannel)?[e.vgField(e.stack.groupbyChannel)]:[];(null===(t=e.fieldDef(e.stack.groupbyChannel))||void 0===t?void 0:t.bin)&&p.push(e.vgField(e.stack.groupbyChannel,{binSuffix:"end"}));return(r=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((function(t,n){if(o.encode.update[n])return Object.assign(Object.assign({},t),Object(to.a)({},n,o.encode.update[n]));var r=OF(n,e.markDef,e.config);return void 0!==r?Object.assign(Object.assign({},t),Object(to.a)({},n,{value:r})):t}),r)).stroke&&(r.strokeForeground={value:!0},r.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(uL),name:"stack_group_"+e.requestDataName(uL),groupby:p,aggregate:{fields:[u({suffix:"start"}),u({suffix:"start"}),u({suffix:"end"}),u({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:r},marks:[{type:"group",encode:{update:i},marks:[o]}]}]}return Lq(e)}(e):Lq(e)}function zq(e){var t=e.encoding,n=e.stack,r=e.mark,i=e.markDef,a=e.config,o=t.order;if(!(!Object(A.A)(o)&&YF(o)&&iR(o.value)||!o&&iR(i.order)||iR(OF("order",i,a)))){if((Object(A.A)(o)||$F(o))&&!n)return TF(o,{expr:"datum"});if(RR(r)){var s="horizontal"===i.orient?"y":"x",u=t[s];if($F(u)){var c=u.sort;return Object(A.A)(c)?{field:tP(u,{prefix:s,suffix:"sort_index",expr:"datum"})}:PF(c)?{field:tP({aggregate:TP(e.encoding)?c.op:void 0,field:c.field},{expr:"datum"})}:FF(c)?{field:tP(e.fieldDef(c.encoding),{expr:"datum"}),order:c.order}:{field:tP(u,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"})}}}else;}}function Lq(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""},n=e.mark,r=SR(e.markDef.clip,Bq(e),Uq(e)),i=wF(e.markDef),a=e.encoding.key,o=zq(e),s=Wq(e),u=Fq[n].postEncodingTransform?Fq[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:Fq[n].vgMark},r?{clip:!0}:{}),i?{style:i}:{}),a?{key:a.field}:{}),o?{sort:o}:{}),s||{}),{from:{data:t.fromPrefix+e.requestDataName(uL)},encode:{update:Fq[n].encodeEntry(e)}}),u?{transform:u}:{})]}function Bq(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("selectionExtent")||n&&n.get("selectionExtent"))||void 0}function Uq(e){var t=e.component.projection;return!(!t||t.isFit)||void 0}function Wq(e){if(!e.component.selection)return null;for(var t=hR(e.component.selection).length,n=t,r=e.parent;r&&0===n;)n=hR(r.component.selection).length,r=r.parent;return n?{interactive:t>0}:null}var Vq=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i){var a,o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;Object(Vk.a)(this,n),(a=t.call(this,e,"unit",r,i,c,u,void 0,e.view)).specifiedScales={},a.specifiedAxes={},a.specifiedLegends={},a.specifiedProjection={},a.selection={},a.children=[];var l=IR(e.mark)?e.mark.type:e.mark,f=dq(null!==(o=e.encoding)&&void 0!==o?o:{},u);a.markDef=Mq(e.mark,f,c,{graticule:e.data&&sL(e.data)});var d=a.encoding=RP(f,a.markDef);return a.size=Rq({encoding:d,size:Object.assign(Object.assign(Object.assign({},s),e.width?{width:e.width}:{}),e.height?{height:e.height}:{})}),a.stack=Lz(l,d),a.specifiedScales=a.initScales(l,d),a.specifiedAxes=a.initAxes(d),a.specifiedLegends=a.initLegend(d),a.specifiedProjection=e.projection,a.selection=e.selection,a}return Object(qk.a)(n,[{key:"scaleDomain",value:function(e){var t=this.specifiedScales[e];return t?t.domain:void 0}},{key:"axis",value:function(e){return this.specifiedAxes[e]}},{key:"legend",value:function(e){return this.specifiedLegends[e]}},{key:"initScales",value:function(e,t){return DM.reduce((function(e,n){var r,i,a=t[n];return $F(a)?(r=a,i=a.scale):GF(a)&&(r=a.condition,i=a.condition.scale),r&&(e[n]=null!==i&&void 0!==i?i:{}),e}),{})}},{key:"initAxes",value:function(e){return[JR,QR].reduce((function(t,n){var r=e[n];if($F(r)||n===JR&&$F(e.x2)||n===QR&&$F(e.y2)){var i=$F(r)?r.axis:null;null!==i&&(t[n]=Object.assign({},i))}return t}),{})}},{key:"initLegend",value:function(e){return RM.reduce((function(t,n){var r=e[n];if(r){var i=$F(r)?r.legend:GF(r)?r.condition.legend:null;null!==i&&!1!==i&&function(e){switch(e){case eM:case tM:case nM:case iM:case rM:case aM:case uM:return!0;case oM:case sM:return!1}}(n)&&(t[n]=Object.assign({},i))}return t}),{})}},{key:"parseData",value:function(){this.component.data=xq(this)}},{key:"parseLayoutSize",value:function(){!function(e){var t,n=e.size,r=e.component,i=Object(Sr.a)(CM);try{for(i.s();!(t=i.n()).done;){var a=AM(t.value);if(n[a]){var o=n[a];r.layoutSize.set(a,mz(o)?"step":o,!0)}else{var s=fq(e,a);r.layoutSize.set(a,s,!1)}}}catch(u){i.e(u)}finally{i.f()}}(this)}},{key:"parseSelections",value:function(){this.component.selection=function(e,t){var n,r={},i=e.config.selection,a=function(a){if(!Object(A.v)(t,a))return"continue";var o=QN(t[a]),s=i[o.type],u=(s.fields,s.encodings,x(s,["fields","encodings"]));for(var c in u)"encodings"===c&&o.fields||"fields"===c&&o.encodings||("mark"===c&&(o[c]=Object.assign(Object.assign({},u[c]),o[c])),void 0!==o[c]&&!0!==o[c]||(o[c]=null!==(n=u[c])&&void 0!==n?n:o[c]));var l=vR(a),f=r[l]=Object.assign(Object.assign({},o),{name:l,events:Object(A.H)(o.on)?sA(o.on,"scope"):QN(o.on)});IB(f,(function(n){n.has(f)&&n.parse&&n.parse(e,f,o,t[a])}))};for(var o in t)a(o);return r}(this,this.selection)}},{key:"parseMarkGroup",value:function(){this.component.mark=Pq(this)}},{key:"parseAxesAndHeaders",value:function(){var e;this.component.axes=(e=this,CM.reduce((function(t,n){return e.component.scales[n]&&e.axis(n)&&(t[n]=[Nq(n,e)]),t}),{}))}},{key:"assembleSelectionTopLevelSignals",value:function(e){return function(e,t){var n=!1;return YB(e,(function(r,i){var a=r.name,o=Object(A.Z)(a+HB);if(0===t.filter((function(e){return e.name===a})).length){var s="global"===r.resolve?"union":r.resolve,u="multi"===r.type?", true)":")";t.push({name:r.name,update:"".concat(KB,"(").concat(o,", ").concat(Object(A.Z)(s)).concat(u)})}n=!0,i.topLevelSignals&&(t=i.topLevelSignals(e,r,t)),IB(r,(function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))}))})),n&&0===t.filter((function(e){return"unit"===e.name})).length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),zB(t)}(this,e)}},{key:"assembleSignals",value:function(){return[].concat(Object(dh.a)(uU(this)),Object(dh.a)((t=[],YB(e=this,(function(n,r){var i,a=n.name,o=r.modifyExpr(e,n);(i=t).push.apply(i,Object(dh.a)(r.signals(e,n))),IB(n,(function(r){r.signals&&(t=r.signals(e,n,t)),r.modifyExpr&&(o=r.modifyExpr(e,n,o))})),t.push({name:a+$B,on:[{events:{signal:n.name+GB},update:"modify(".concat(Object(A.Z)(n.name+HB),", ").concat(o,")")}]})})),zB(t))));var e,t}},{key:"assembleSelectionData",value:function(e){return function(e,t){var n=Object(dh.a)(t);return YB(e,(function(t){var r={name:t.name+HB};if(t.init){var i=t.project.items.map((function(e){e.signals;return x(e,["signals"])})),a=t.init.map((function(e){return FB(e,!1)}));r.values="interval"===t.type?[{unit:JB(e,{escape:!1}),fields:i,values:a}]:a.map((function(t){return{unit:JB(e,{escape:!1}),fields:i,values:t}}))}n.filter((function(e){return e.name===t.name+HB})).length||n.push(r)})),n}(this,e)}},{key:"assembleLayout",value:function(){return null}},{key:"assembleLayoutSignals",value:function(){return DU(this)}},{key:"assembleMarks",value:function(){var e,t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&zV(this.parent)||(t=PB(this,t)),t.map(this.correctDataNames)}},{key:"getMapping",value:function(){return this.encoding}},{key:"channelHasField",value:function(e){return AP(this.encoding,e)}},{key:"fieldDef",value:function(e){return pP(this.encoding[e])}},{key:"hasProjection",get:function(){var e=this.encoding,t="geoshape"===this.mark,n=e&&fM.some((function(t){return $F(e[t])}));return t||n}},{key:"mark",get:function(){return this.markDef.type}}]),n}(BV),qq=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i,a,o,s){var u;Object(Vk.a)(this,n),u=t.call(this,e,"layer",r,i,s,o,e.resolve,e.view);var c=Object.assign(Object.assign(Object.assign({},a),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});return u.children=e.layer.map((function(e,t){if(Cz(e))return new n(e,Object(eL.a)(u),u.getName("layer_"+t),c,o,s);if(BR(e))return new Vq(e,Object(eL.a)(u),u.getName("layer_"+t),c,o,s);throw new Error(iI.invalidSpec(e))})),u}return Object(qk.a)(n,[{key:"parseData",value:function(){this.component.data=xq(this);var e,t=Object(Sr.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseData()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseLayoutSize",value:function(){oq(this)}},{key:"parseSelections",value:function(){var e=this;this.component.selection={};var t,n=Object(Sr.a)(this.children);try{var r=function(){var n=t.value;n.parseSelections(),hR(n.component.selection).forEach((function(t){e.component.selection[t]=n.component.selection[t]}))};for(n.s();!(t=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}}},{key:"parseMarkGroup",value:function(){var e,t=Object(Sr.a)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){!function(e){var t,n,r=e.component,i=r.axes,a=r.resolve,o={top:0,bottom:0,right:0,left:0},s=Object(Sr.a)(e.children);try{for(s.s();!(n=s.n()).done;){var u=n.value;u.parseAxesAndHeaders();var c,l=Object(Sr.a)(hR(u.component.axes));try{for(l.s();!(c=l.n()).done;){var f=c.value;a.axis[f]=LU(e.component.resolve,f),"shared"===a.axis[f]&&(i[f]=Cq(i[f],u.component.axes[f]),i[f]||(a.axis[f]="independent",delete i[f]))}}catch(C){l.e(C)}finally{l.f()}}}catch(C){s.e(C)}finally{s.f()}for(var d=0,h=[JR,QR];d<h.length;d++){var p,m=h[d],v=Object(Sr.a)(e.children);try{for(v.s();!(p=v.n()).done;){var g=p.value;if(g.component.axes[m]){if("independent"===a.axis[m]){i[m]=(t=i[m],null!==t&&void 0!==t?t:[]).concat(g.component.axes[m]);var b,y=Object(Sr.a)(g.component.axes[m]);try{for(y.s();!(b=y.n()).done;){var w=b.value,x=w.getWithExplicit("orient"),O=x.value,k=x.explicit;if(o[O]>0&&!k){var E=jq[O];o[O]>o[E]&&w.set("orient",E,!1)}o[O]++}}catch(C){y.e(C)}finally{y.f()}}delete g.component.axes[m]}}}catch(C){v.e(C)}finally{v.f()}if("independent"===a.axis[m]&&i[m]&&i[m].length>1){var _,S=Object(Sr.a)(i[m]);try{for(S.s();!(_=S.n()).done;){var j=_.value;j.get("grid")&&!j.explicit.grid&&(j.implicit.grid=!1)}}catch(C){S.e(C)}finally{S.f()}}}}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleSignals())}),uU(this))}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLayoutSignals())}),DU(this))}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleTitle",value:function(){var e=Tz(Object(Az.a)(n.prototype),"assembleTitle",this).call(this);if(e)return e;var t,r=Object(Sr.a)(this.children);try{for(r.s();!(t=r.n()).done;){if(e=t.value.assembleTitle())return e}}catch(i){r.e(i)}finally{r.f()}}},{key:"assembleLayout",value:function(){return null}},{key:"assembleMarks",value:function(){return function(e,t){var n,r=Object(Sr.a)(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;DV(i)&&(t=PB(i,t))}}catch(a){r.e(a)}finally{r.f()}return t}(this,this.children.flatMap((function(e){return e.assembleMarks()})))}},{key:"assembleLegends",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLegends())}),dW(this))}}]),n}(LV),Hq=function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(e,r,i,a,o){var s;return Object(Vk.a)(this,n),s=t.call(this,e,"repeat",r,i,o,a,e.resolve),e.resolve&&e.resolve.axis&&("shared"===e.resolve.axis.x||"shared"===e.resolve.axis.y)&&cI(iI.REPEAT_CANNOT_SHARE_AXIS),s.repeat=e.repeat,s.children=s._initChildren(e,s.repeat,a,o),s}return Object(qk.a)(n,[{key:"_initChildren",value:function(e,t,n,r){var i,a=[],o=!Object(A.A)(t)&&t.row||[n?n.row:null],s=!Object(A.A)(t)&&t.column||[n?n.column:null],u=Object(A.A)(t)&&t||[n?n.repeat:null],c=Object(Sr.a)(u);try{for(c.s();!(i=c.n()).done;){var l,f=i.value,d=Object(Sr.a)(o);try{for(d.s();!(l=d.n()).done;){var h,p=l.value,m=Object(Sr.a)(s);try{for(m.s();!(h=m.n()).done;){var v=h.value,g=(f?"__repeat_repeat_".concat(f):"")+(p?"__repeat_row_".concat(p):"")+(v?"__repeat_column_".concat(v):""),b={repeat:f,row:p,column:v};a.push(Gq(e.spec,this,this.getName("child"+g),void 0,b,r))}}catch(y){m.e(y)}finally{m.f()}}}catch(y){d.e(y)}finally{d.f()}}}catch(y){c.e(y)}finally{c.f()}return a}},{key:"parseLayoutSize",value:function(){sq(this)}},{key:"assembleDefaultLayout",value:function(){var e=this.repeat,t=Object(A.A)(e)?void 0:e.column?e.column.length:1;return Object.assign(Object.assign({},t?{columns:t}:{}),{bounds:"full",align:"all"})}}]),n}(Oq);function Gq(e,t,n,r,i,a){if(BF(e))return new bq(e,t,n,i,a);if(Cz(e))return new qq(e,t,n,r,i,a);if(BR(e))return new Vq(e,t,n,r,i,a);if(pz(e))return new Hq(e,t,n,i,a);if(function(e){return dz(e)||hz(e)||fz(e)}(e))return new kq(e,t,n,i,a);throw new Error(iI.invalidSpec(e))}function $q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.logger&&sI(t.logger),t.fieldTitle&&sP(t.fieldTitle);try{var n=Oz(Object(A.N)({},t.config,e.config)),r=Xz(e,n),i=Gq(r,null,"",void 0,void 0,n);i.parse(),cV(i.component.data,i);var a=Xq(i,Kq(e,r.autosize,n,i),e.datasets,e.usermeta);return{spec:a,normalized:r}}finally{t.logger&&uI(),t.fieldTitle&&uP()}}function Kq(e,t,n,r){var i,a=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(void 0===t?t={type:"pad"}:Object(A.H)(t)&&(t={type:t}),a&&o&&("fit"===(i=t.type)||"fit-x"===i||"fit-y"===i))if("step"===a&&"step"===o)cI(iI.droppingFit()),t.type="pad";else if("step"===a||"step"===o){var s="step"===a?"width":"height";cI(iI.droppingFit(TM(s)));var u="width"===s?"height":"width";t.type=function(e){return e?"fit-".concat(TM(e)):"fit"}(u)}return Object.assign(Object.assign(Object.assign({},1===hR(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),Qz(n)),Qz(e))}function Xq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=e.config?Sz(e.config):void 0,a=[].concat(e.assembleSelectionData([]),nq(e.component.data,n)),o=e.assembleProjections(),s=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0),l=e.assembleLayoutSignals();return l=l.filter((function(e){return"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)})),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),t),s?{title:s}:{}),u?{style:u}:{}),c?{encode:{update:c}}:{}),{data:a}),o.length>0?{projections:o}:{}),e.assembleGroup([].concat(Object(dh.a)(l),Object(dh.a)(e.assembleSelectionTopLevelSignals([]))))),i?{config:i}:{}),r?{usermeta:r}:{})}var Yq=new(function(e){Object(Nz.a)(n,e);var t=Object(Rz.a)(n);function n(){return Object(Vk.a)(this,n),t.apply(this,arguments)}return Object(qk.a)(n,[{key:"mapUnit",value:function(e,t){var n=t.config;if(e.encoding){var r=e.encoding,i=e.transform,a=NP(r,n),o=a.bins,s=a.timeUnits,u=a.aggregate,c=a.groupby,l=a.encoding,f=[].concat(Object(dh.a)(i||[]),Object(dh.a)(o),Object(dh.a)(s),Object(dh.a)(0===u.length?[]:[{aggregate:u,groupby:c}]));return Object.assign(Object.assign(Object.assign({},e),f.length>0?{transform:f}:{}),{encoding:l})}return e}}]),n}(Mz));function Zq(e,t){return Yq.map(e,{config:t})}var Jq=UN.version,Qq=n(294),eH=n.n(Qq),tH=n(432),nH={background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},rH={background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},iH={arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},aH={group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},oH="Benton Gothic Bold, sans-serif",sH={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},uH={background:"#ffffff",title:{anchor:"start",color:"#000000",font:oH,fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:oH,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:oH,titleFontSize:13,titleFontWeight:"normal"},range:{category:sH["category-6"],diverging:sH["fireandice-6"],heatmap:sH["fire-7"],ordinal:sH["fire-7"],ramp:sH["fire-7"]}},cH={background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},lH={background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},fH={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},dH={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:fH["six-groups-cat-1"],diverging:fH["diverging-colors"],heatmap:fH["diverging-colors"],ordinal:fH["six-groups-seq"],ramp:fH["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},hH={arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},pH=tH.version,mH=n(433),vH="vg-tooltip-element",gH={offsetX:10,offsetY:10,id:vH,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};var bH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function yH(e,t){return JSON.stringify(e,function(e){var t=[];return function(n,r){if("object"!==typeof r||null===r)return r;var i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}var wH=function(){function e(t){Object(Vk.a)(this,e),this.options=Object.assign(Object.assign({},gH),t);var n=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace(vH,e)}(n);var i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}this.el=document.getElementById(n),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",n),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}return Object(qk.a)(e,[{key:"tooltipHandler",value:function(e,t,n,r){if(null!=r&&""!==r){this.el.innerHTML=function(e,t,n){if(Object(A.A)(e))return"[".concat(e.map((function(e){return t(Object(A.H)(e)?e:yH(e,n))})).join(", "),"]");if(Object(A.F)(e)){var r="",i=e,a=i.title,o=bH(i,["title"]);a&&(r+="<h2>".concat(t(a),"</h2>"));var s=Object.keys(o);if(s.length>0){r+="<table>";var u,c=Object(Sr.a)(s);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=o[l];void 0!==f&&(Object(A.F)(f)&&(f=yH(f,n)),r+='<tr><td class="key">'.concat(t(l),':</td><td class="value">').concat(t(f),"</td></tr>"))}}catch(d){c.e(d)}finally{c.f()}r+="</table>"}return r||"{}"}return t(e)}(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));var i=function(e,t,n,r){var i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);var a=e.clientY+r;return a+t.height>window.innerHeight&&(a=+e.clientY-r-t.height),{x:i,y:a}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),a=i.x,o=i.y;this.el.setAttribute("style","top: ".concat(o,"px; left: ").concat(a,"px"))}else this.el.classList.remove("visible","".concat(this.options.theme,"-theme"))}}]),e}(),xH=(mH.version,function(e,t,n){var r=e.open(t),i=40;e.addEventListener("message",(function t(n){n.source===r&&(i=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){i<=0||(r.postMessage(n,"*"),setTimeout(e,250),i-=1)}),250)}),OH='.vega-embed {\n  position: relative;\n  display: inline-block;\n  padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5); }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n',kH=p,EH=g,_H=window;void 0===EH&&_H.vl&&_H.vl.compile&&(EH=_H.vl);var SH={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},jH={vega:"Vega","vega-lite":"Vega-Lite"},CH={vega:kH.version,"vega-lite":EH?EH.version:"not available"},AH={vega:function(e){return e},"vega-lite":function(e,t){return EH.compile(e,{config:t}).spec}},TH='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>';function NH(e){return"function"===typeof e}function RH(e,t,n,r){var i="<html><head>".concat(t,'</head><body><pre><code class="json">'),a="</code></pre>".concat(n,"</body></html>"),o=window.open("");o.document.write(i+e+a),o.document.title="".concat(jH[r]," JSON Source")}function MH(e,t){if(e.$schema){var n=eH()(e.$schema);t&&t!==n.library&&console.warn("The given visualization spec is written in ".concat(jH[n.library],", but mode argument sets ").concat(jH[t]||t,"."));var r=n.library;return Object(C.satisfies)(CH[r],"^".concat(n.version.slice(1)))||console.warn("The input spec uses ".concat(jH[r]," ").concat(n.version,", but the current version of ").concat(jH[r]," is v").concat(CH[r],".")),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t||"vega"}function DH(e){return!(!e||!("load"in e))}function IH(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return O(this,void 0,void 0,w.a.mark((function r(){var i,a,o,s,u,c,l,f,d,h,p,m,v,g,y,x,O,S,T,N,R,M,D,I,F,P,z,L,B,U,W,V;return w.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=DH(n.loader)?n.loader:kH.loader(n.loader),!kH.isString(t)){r.next=6;break}return r.next=4,i.load(t);case 4:return a=r.sent,r.abrupt("return",IH(e,JSON.parse(a),n));case 6:if(n=Object(_.a)(n,t.usermeta&&t.usermeta.embedOptions||{}),o=n.config||{},!kH.isString(o)){r.next=13;break}return r.next=11,i.load(o);case 11:return s=r.sent,r.abrupt("return",IH(e,t,Object.assign(Object.assign({},n),{config:JSON.parse(s)})));case 13:if(u=Object(A.B)(n.actions)?n.actions:Object(_.a)({export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},n.actions||{}),c=Object.assign(Object.assign({},SH),n.i18n),l=n.renderer||"canvas",f=n.logLevel||kH.Warn,d=n.downloadFileName||"visualization",!1!==n.defaultStyle&&(h="vega-embed-style",document.getElementById(h)||((p=document.createElement("style")).id=h,p.innerText=void 0===n.defaultStyle||!0===n.defaultStyle?OH.toString():n.defaultStyle,document.head.appendChild(p))),n.theme&&(o=Object(_.a)(b[n.theme],o)),m=MH(t,n.mode),v=AH[m](t,o),"vega-lite"===m&&v.$schema&&(g=eH()(v.$schema),Object(C.satisfies)(CH.vega,"^".concat(g.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(g.version,", but current version is v").concat(CH.vega,"."))),y=k.a(e).classed("vega-embed",!0).html(""),!(x=n.patch)){r.next=38;break}if(!(x instanceof Function)){r.next=30;break}v=x(v),r.next=38;break;case 30:if(!kH.isString(x)){r.next=37;break}return r.next=33,i.load(x);case 33:O=r.sent,v=Object(_.a)(v,JSON.parse(O)),r.next=38;break;case 37:v=Object(_.a)(v,x);case 38:return S=kH.parse(v,"vega-lite"===m?{}:o),T=new kH.View(S,{loader:i,logLevel:f,renderer:l}),!1!==n.tooltip&&(N=NH(n.tooltip)?n.tooltip:new wH(!0===n.tooltip?{}:n.tooltip).call,T.tooltip(N)),void 0===(R=n.hover)&&(R="vega"===m),R&&(D=(M="boolean"===typeof R?{}:R).hoverSet,I=M.updateSet,T.hover(D,I)),n&&(n.width&&T.width(n.width),n.height&&T.height(n.height),n.padding&&T.padding(n.padding)),r.next=47,T.initialize(e).runAsync();case 47:if(!1!==u){if(F=y,!1!==n.defaultStyle&&(P=y.append("details").attr("title",c.CLICK_TO_VIEW_ACTIONS),F=P,P.insert("summary").html(TH),z=P.node(),document.addEventListener("click",(function(e){z.contains(e.target)||z.removeAttribute("open")}))),L=F.insert("div").attr("class","vega-actions"),!0===u||!1!==u.export)for(B=function(){var e=W[U];if(!0===u||!0===u.export||u.export[e]){var t=c["".concat(e.toUpperCase(),"_ACTION")];L.append("a").text(t).attr("href","#").attr("target","_blank").attr("download","".concat(d,".").concat(e)).on("mousedown",(function(){var t=this;T.toImageURL(e,n.scaleFactor).then((function(e){t.href=e})).catch((function(e){throw e})),E.c.preventDefault()}))}},U=0,W=["svg","png"];U<W.length;U++)B();!0!==u&&!1===u.source||L.append("a").text(c.SOURCE_ACTION).attr("href","#").on("mousedown",(function(){RH(j()(t),n.sourceHeader||"",n.sourceFooter||"",m),E.c.preventDefault()})),"vega-lite"!==m||!0!==u&&!1===u.compiled||L.append("a").text(c.COMPILED_ACTION).attr("href","#").on("mousedown",(function(){RH(j()(v),n.sourceHeader||"",n.sourceFooter||"","vega"),E.c.preventDefault()})),!0!==u&&!1===u.editor||(V=n.editorUrl||"https://vega.github.io/editor/",L.append("a").text(c.EDITOR_ACTION).attr("href","#").on("mousedown",(function(){xH(window,V,{config:o,mode:m,renderer:l,spec:j()(t)}),E.c.preventDefault()})))}return r.abrupt("return",{view:T,spec:t,vgSpec:v});case 49:case"end":return r.stop()}}),r)})))}},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"array",(function(){return J})),n.d(t,"Dataset",(function(){return Y})),n.d(t,"zip",(function(){return Q})),n.d(t,"CSVDataset",(function(){return ue})),n.d(t,"TextLineDataset",(function(){return ne})),n.d(t,"csv",(function(){return Ee})),n.d(t,"func",(function(){return _e})),n.d(t,"generator",(function(){return Se})),n.d(t,"microphone",(function(){return Ce})),n.d(t,"webcam",(function(){return je})),n.d(t,"FileDataSource",(function(){return Oe})),n.d(t,"URLDataSource",(function(){return ke})),n.d(t,"version_data",(function(){return Ae}));var i=n(2),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;function c(e,t){return e(t={exports:{}},t.exports),t.exports}var l=c((function(e){!function(e,t,n){function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new function(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}(e),i=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,i&&("object"==typeof i&&r(i,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=i:this.alea=i}(0,e)})),f=c((function(e){!function(e,t,n){function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new function(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&r(i,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=i:this.xor128=i}(0,e)})),d=c((function(e){!function(e,t,n){function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new function(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&r(i,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=i:this.xorwow=i}(0,e)})),h=c((function(e){!function(e,t,n){function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new function(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.x&&r(i,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=i:this.xorshift7=i}(0,e)})),p=c((function(e){!function(e,t,n){function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new function(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.X&&r(i,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=i:this.xor4096=i}(0,e)})),m=c((function(e){!function(e,t,n){function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new function(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&r(i,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=i:this.tychei=i}(0,e)})),v=c((function(e){!function(t,r){var i,a=this,o=256,s="random",u=r.pow(o,6),c=r.pow(2,52),l=2*c,f=255;function d(e,n,d){var v=[],g=p(function e(t,n){var r,i=[],a=typeof t;if(n&&"object"==a)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"string"==a?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,m(t)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(o):(e=new Uint8Array(o),(a.crypto||a.msCrypto).getRandomValues(e)),m(e)}catch(e){var n=a.navigator,r=n&&n.plugins;return[+new Date,a,r,a.screen,m(t)]}}():e,3),v),b=new function(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);i<o;)s[i]=i++;for(i=0;i<o;i++)s[i]=s[a=f&a+e[i%n]+(t=s[i])],s[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,s=r.S;e--;)t=s[i=f&i+1],n=n*o+s[f&(s[i]=s[a=f&a+t])+(s[a]=t)];return r.i=i,r.j=a,n})(o)}(v),y=function(){for(var e=b.g(6),t=u,n=0;e<c;)e=(e+n)*o,t*=o,n=b.g(1);for(;e>=l;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|b.g(4)},y.quick=function(){return b.g(4)/4294967296},y.double=y,p(m(b.S),t),(n.pass||d||function(e,t,n,i){return i&&(i.S&&h(i,b),e.state=function(){return h(b,{})}),n?(r[s]=e,t):e})(y,g,"global"in n?n.global:this==r,n.state)}function h(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){for(var n,r=e+"",i=0;i<r.length;)t[f&i]=f&(n^=19*t[f&i])+r.charCodeAt(i++);return m(t)}function m(e){return String.fromCharCode.apply(0,e)}if(r.seedrandom=d,p(r.random(),t),e.exports){e.exports=d;try{i=n(474)}catch(e){}}}([],Math)}));v.alea=l,v.xor128=f,v.xorwow=d,v.xorshift7=h,v.xor4096=p,v.tychei=m;var g=v.alea;function b(e,t,n,r){if(void 0===n&&(n=new Map),void 0===r&&(r=new Set),null==e)return null;if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(i.recurse){if(O(e)){var a=Array.isArray(e)?[]:{};for(var o in r.add(e),e){var s=b(e[o],t,n,r);a[o]=s}return r.delete(e),a}throw new Error("Can't recurse into non-iterable type: "+e)}return n.set(e,i.value),i.value}function y(e,t){return void 0===t&&(t=w),function e(t,n,r){void 0===r&&(r=new Set);var i=t[0];if(r.has(i))throw new Error("Circular references are not supported.");var a=n(t);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(O(i)){var o=Array.isArray(i)?[]:{};r.add(i);var s=function(i){var a=e(t.map((function(e){return e[i]})),n,r);o[i]=a};for(var u in i)s(u);return r.delete(i),o}throw new Error("Can't recurse into non-iterable type: "+i)}return a.value}(e,t)}function w(e){return null===e?null:O(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function x(e,t){return s(this,void 0,void 0,(function(){var n,r,i,a,o,s;return u(this,(function(u){switch(u.label){case 0:n=new Map,b(e,t,n),r=0,i=Array.from(n.keys()),u.label=1;case 1:return r<i.length?(a=i[r],(o=n.get(a))instanceof Promise?[4,o]:[3,3]):[3,4];case 2:s=u.sent(),n.set(a,s),u.label=3;case 3:return r++,[3,1];case 4:return[2,b(e,t,n)]}}))}))}function O(e){return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"==typeof e&&!(e instanceof i.B))}function k(e){return function(e,t){return b(e,t)}(e,E)}function E(e){return e instanceof i.B?{value:e.clone(),recurse:!1}:O(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var _=function(){function e(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}return e.prototype.wrap=function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity},e.prototype.get=function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]},e.prototype.set=function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t},e.prototype.length=function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e},e.prototype.isFull=function(){return this.length()===this.capacity},e.prototype.isEmpty=function(){return 0===this.length()},e.prototype.push=function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)},e.prototype.pushAll=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];this.push(r)}},e.prototype.pop=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e},e.prototype.unshift=function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)},e.prototype.shift=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e},e.prototype.shuffleExcise=function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n},e}(),S=function(e){function t(){return e.call(this,t.INITIAL_CAPACITY)||this}return o(t,e),t.prototype.isFull=function(){return!1},t.prototype.push=function(t){e.prototype.isFull.call(this)&&this.expand(),e.prototype.push.call(this,t)},t.prototype.unshift=function(t){e.prototype.isFull.call(this)&&this.expand(),e.prototype.unshift.call(this,t)},t.prototype.expand=function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n},t.INITIAL_CAPACITY=32,t}(_);function j(e){return new D(e)}function C(e){return new I(e)}function A(e,t){return new G(e,t)}function T(e,t){return void 0===t&&(t=N.FAIL),new $(e,t)}var N,R,M=function(){function e(){}return e.prototype.toArray=function(){return s(this,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:return e=[],[4,this.next()];case 1:t=n.sent(),n.label=2;case 2:return t.done?[3,4]:(e.push(t.value),[4,this.next()]);case 3:return t=n.sent(),[3,2];case 4:return[2,e]}}))}))},e.prototype.toArrayForTest=function(){return s(this,void 0,void 0,(function(){var e,t,n;return u(this,(function(r){switch(r.label){case 0:return e=this.prefetch(100),t=[],[4,e.next()];case 1:n=r.sent(),r.label=2;case 2:return n.done?[3,4]:(t.push(n.value),[4,e.next()]);case 3:return n=r.sent(),[3,2];case 4:return[2,t]}}))}))},e.prototype.resolveFully=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,this.next()];case 1:e=t.sent(),t.label=2;case 2:return e.done?[3,4]:[4,this.next()];case 3:return e=t.sent(),[3,2];case 4:return[2]}}))}))},e.prototype.resolveWhile=function(e){return s(this,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:return[4,this.next()];case 1:t=r.sent(),n=e(t.value),r.label=2;case 2:return t.done||!n?[3,4]:[4,this.next()];case 3:return t=r.sent(),n=e(t.value),[3,2];case 4:return[2]}}))}))},e.prototype.handleErrors=function(e){return new W(this,e)},e.prototype.filter=function(e){return new B(this,e)},e.prototype.map=function(e){return new U(this,e)},e.prototype.mapAsync=function(e){return new V(this,e)},e.prototype.serialMapAsync=function(e){return new V(this,e).serial()},e.prototype.flatmap=function(e){return new H(this,e)},e.prototype.forEachAsync=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){return[2,this.map(e).resolveFully()]}))}))},e.prototype.serialForEach=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){return[2,this.serialMapAsync(e).resolveWhile((function(e){return!0===e}))]}))}))},e.prototype.rowMajorBatch=function(e,t){return void 0===t&&(t=!0),new L(this,e,t)},e.prototype.columnMajorBatch=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=w),this.rowMajorBatch(e,t).map((function(e){return y(e,n)}))},e.prototype.concatenate=function(e,t){return new G(j([this,e]),t)},e.prototype.take=function(e){return e<0||null==e?this:new z(this,e)},e.prototype.skip=function(e){return e<0||null==e?this:new P(this,e)},e.prototype.prefetch=function(e){return new K(this,e)},e.prototype.shuffle=function(e,t){return new X(this,e,t)},e.prototype.serial=function(){return new F(this)},e}(),D=function(e){function t(t){var n=e.call(this)||this;return n.items=t,n.trav=0,n}return o(t,e),t.prototype.summary=function(){return"Array of "+this.items.length+" items"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){return this.trav>=this.items.length?[2,{value:null,done:!0}]:(e=this.items[this.trav],this.trav++,[2,{value:k(e),done:!1}])}))}))},t}(M),I=function(e){function t(t){var n=e.call(this)||this;return n.nextFn=t,n}return o(t,e),t.prototype.summary=function(){return"Function call"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){try{return[2,this.nextFn()]}catch(e){throw e.message="Error thrown while iterating through a dataset: "+e.message,e}return[2]}))}))},t}(M),F=function(e){function t(t){var n=e.call(this)||this;return n.upstream=t,n.lastRead=Promise.resolve({value:null,done:!1}),n}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Serial"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return[2,this.upstream.next()]}))}))},t}(M),P=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.maxCount=n,r.count=0,r.lastRead=Promise.resolve({value:null,done:!1}),r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Skip"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return this.count++<this.maxCount?[4,this.upstream.next()]:[3,2];case 1:return(e=t.sent()).done?[2,e]:(Object(i.Lb)(e.value),[3,0]);case 2:return[2,this.upstream.next()]}}))}))},t}(M),z=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.maxCount=n,r.count=0,r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Take"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return this.count++>=this.maxCount?[2,{value:null,done:!0}]:[2,this.upstream.next()]}))}))},t}(M),L=function(e){function t(t,n,r){void 0===r&&(r=!0);var i=e.call(this)||this;return i.upstream=t,i.batchSize=n,i.enableSmallLastBatch=r,i.lastRead=Promise.resolve({value:null,done:!1}),i}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> RowMajorBatch"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:e=[],n.label=1;case 1:return e.length<this.batchSize?[4,this.upstream.next()]:[3,3];case 2:return(t=n.sent()).done?this.enableSmallLastBatch&&e.length>0?[2,{value:e,done:!1}]:[2,{value:null,done:!0}]:(e.push(t.value),[3,1]);case 3:return[2,{value:e,done:!1}]}}))}))},t}(M),B=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.predicate=n,r.lastRead=Promise.resolve({value:null,done:!1}),r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Filter"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,this.upstream.next()];case 1:return(e=t.sent()).done||this.predicate(e.value)?[2,e]:(Object(i.Lb)(e.value),[3,0]);case 2:return[2]}}))}))},t}(M),U=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.transform=n,r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Map"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,a,o,s;return u(this,(function(u){switch(u.label){case 0:return[4,this.upstream.next()];case 1:if((e=u.sent()).done)return[2,{value:null,done:!0}];for(t=i.nf.getTensorsInContainer(e.value),n=this.transform(e.value),r=i.nf.getTensorsInContainer(n),a=0,o=t;a<o.length;a++)s=o[a],i.nf.isTensorInList(s,r)||s.dispose();return[2,{value:n,done:!1}]}}))}))},t}(M),W=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.handler=n,r.count=0,r.lastRead=Promise.resolve({value:null,done:!1}),r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> handleErrors"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.upstream.next()];case 2:return[2,t.sent()];case 3:return e=t.sent(),this.handler(e)?[3,4]:[2,{value:null,done:!0}];case 4:return[3,0];case 5:return[2]}}))}))},t}(M),V=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.transform=n,r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> AsyncMap"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,a,o,s;return u(this,(function(u){switch(u.label){case 0:return[4,this.upstream.next()];case 1:return(e=u.sent()).done?[2,{value:null,done:!0}]:(t=i.nf.getTensorsInContainer(e.value),[4,this.transform(e.value)]);case 2:for(n=u.sent(),r=i.nf.getTensorsInContainer(n),a=0,o=t;a<o.length;a++)s=o[a],i.nf.isTensorInList(s,r)||s.dispose();return[2,{value:n,done:!1}]}}))}))},t}(M),q=function(e){function t(){var t=e.call(this)||this;return t.outputQueue=new S,t.lastRead=Promise.resolve({value:null,done:!1}),t}return o(t,e),t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return 0!==this.outputQueue.length()?[3,2]:[4,this.pump()];case 1:return e.sent()?[3,0]:[2,{value:null,done:!0}];case 2:return[2,{value:this.outputQueue.shift(),done:!1}]}}))}))},t}(M),H=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.transform=n,r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Flatmap"},t.prototype.pump=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,a,o,s;return u(this,(function(u){switch(u.label){case 0:return[4,this.upstream.next()];case 1:if((e=u.sent()).done)return[2,!1];for(t=i.nf.getTensorsInContainer(e.value),n=this.transform(e.value),r=i.nf.getTensorsInContainer(n),this.outputQueue.pushAll(n),a=0,o=t;a<o.length;a++)s=o[a],i.nf.isTensorInList(s,r)||s.dispose();return[2,!0]}}))}))},t}(q),G=function(e){function t(t,n){var r=e.call(this)||this;return r.baseErrorHandler=n,r.lastRead=null,r.iterator=null,r.moreIterators=t,r}return o(t,e),t.prototype.summary=function(){return"TODO: fill in upstream of chained summaries -> Chained"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return this.lastRead=this.readFromChain(this.lastRead),[2,this.lastRead]}))}))},t.prototype.readFromChain=function(e){return s(this,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return r.sent(),null!=this.iterator?[3,3]:[4,this.moreIterators.next()];case 2:if((t=r.sent()).done)return[2,{value:null,done:!0}];this.iterator=t.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler)),r.label=3;case 3:return[4,this.iterator.next()];case 4:return(n=r.sent()).done?(this.iterator=null,[2,this.readFromChain(e)]):[2,n]}}))}))},t}(M);(R=N||(N={}))[R.FAIL=0]="FAIL",R[R.SHORTEST=1]="SHORTEST",R[R.LONGEST=2]="LONGEST";var $=function(e){function t(t,n){void 0===n&&(n=N.FAIL);var r=e.call(this)||this;return r.iterators=t,r.mismatchMode=n,r.count=0,r.currentPromise=null,r}return o(t,e),t.prototype.summary=function(){return"{TODO: fill in upstream of zip summaries} -> Zip"},t.prototype.nextState=function(e){return s(this,void 0,void 0,(function(){function t(e){return e instanceof M?{value:e.next().then((function(e){return n++,e.done&&r++,e.value})),recurse:!1}:{value:null,recurse:!0}}var n,r,i;return u(this,(function(a){switch(a.label){case 0:return[4,e];case 1:return a.sent(),n=0,r=0,[4,x(this.iterators,t)];case 2:if(i=a.sent(),n===r)return[2,{value:null,done:!0}];if(r>0)switch(this.mismatchMode){case N.FAIL:throw new Error("Zipped streams should have the same length. Mismatched at element "+this.count+".");case N.SHORTEST:return[2,{value:null,done:!0}];case N.LONGEST:}return this.count++,[2,{value:i,done:!1}]}}))}))},t.prototype.next=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return this.currentPromise=this.nextState(this.currentPromise),[2,this.currentPromise]}))}))},t}(M),K=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.bufferSize=n,r.buffer=new _(n),r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Prefetch"},t.prototype.refill=function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}},t.prototype.next=function(){return this.refill(),this.buffer.shift()},t}(M),X=function(e){function t(t,n,r){var a=e.call(this,t,n)||this;return a.upstream=t,a.windowSize=n,a.upstreamExhausted=!1,a.random=g(r||i.Af.now().toString()),a.lastRead=Promise.resolve({value:null,done:!1}),a}return o(t,e),t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.randomInt=function(e){return Math.floor(this.random()*e)},t.prototype.chooseIndex=function(){return this.randomInt(this.buffer.length())},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:this.upstreamExhausted||this.refill(),n.label=1;case 1:return this.buffer.isEmpty()?[3,3]:(e=this.chooseIndex(),[4,this.buffer.shuffleExcise(e)]);case 2:return(t=n.sent()).done?(this.upstreamExhausted=!0,[3,1]):(this.refill(),[2,t]);case 3:return[2,{value:null,done:!0}]}}))}))},t}(K),Y=function(){function e(){this.size=null}return e.prototype.batch=function(e,t){var n=this;void 0===t&&(t=!0);var r=this;return i.Af.assert(e>0,(function(){return"batchSize needs to be positive, but it is\n      "+e})),Z((function(){return s(n,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,r.iterator()];case 1:return[2,n.sent().columnMajorBatch(e,t,ee)]}}))}))}),this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e))},e.prototype.concatenate=function(e){var t=this,n=this;return Z((function(){return s(t,void 0,void 0,(function(){var t,r;return u(this,(function(i){switch(i.label){case 0:return[4,n.iterator()];case 1:return r=(t=i.sent()).concatenate,[4,e.iterator()];case 2:return[2,r.apply(t,[i.sent()])]}}))}))}),this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null)},e.prototype.filter=function(e){var t=this,n=this;return Z((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().filter((function(t){return Object(i.pf)((function(){return e(t)}))}))]}}))}))}),this.size===1/0?1/0:null)},e.prototype.forEachAsync=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.iterator()];case 1:return[2,t.sent().forEachAsync(e)]}}))}))},e.prototype.forEach=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){return Object(i.Gb)("dataset.forEach() is deprecated and will be removed. Please use dataset.forEachAsync() instead"),[2,this.forEachAsync(e)]}))}))},e.prototype.map=function(e){var t=this,n=this;return Z((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().map((function(t){return Object(i.pf)((function(){return e(t)}))}))]}}))}))}),this.size)},e.prototype.mapAsync=function(e){var t=this,n=this;return Z((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().mapAsync(e)]}}))}))}),this.size)},e.prototype.prefetch=function(e){var t=this;if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var n=this;return Z((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().prefetch(e)]}}))}))}),this.size)},e.prototype.repeat=function(e){var t=this,n=this;return Z((function(){return s(t,void 0,void 0,(function(){var t=this;return u(this,(function(r){return[2,A(C((function(){return s(t,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return e={},[4,n.iterator()];case 1:return[2,(e.value=t.sent(),e.done=!1,e)]}}))}))})).take(e))]}))}))}),null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null)},e.prototype.skip=function(e){var t=this,n=this;return Z((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().skip(e)]}}))}))}),null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null)},e.prototype.shuffle=function(e,t,n){var r=this;if(void 0===n&&(n=!0),null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting bufferSize to the dataset size ("+this.size+" elements)");var a=this,o=g(t||i.Af.now().toString());return Z((function(){return s(r,void 0,void 0,(function(){var t;return u(this,(function(r){switch(r.label){case 0:return t=o.int32(),n&&(t+=o.int32()),[4,a.iterator()];case 1:return[2,r.sent().shuffle(e,t.toString())]}}))}))}),this.size)},e.prototype.take=function(e){var t=this,n=this;return Z((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().take(e)]}}))}))}),null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null)},e.prototype.toArray=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return[4,this.iterator()];case 1:return[2,e.sent().toArray()]}}))}))},e.prototype.toArrayForTest=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return[4,this.iterator()];case 1:return[2,e.sent().toArrayForTest()]}}))}))},e.MAX_BUFFER_SIZE=1e4,e}();function Z(e,t){return void 0===t&&(t=null),new(function(n){function r(){var e=null!==n&&n.apply(this,arguments)||this;return e.size=t,e}return o(r,n),r.prototype.iterator=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){return[2,e()]}))}))},r}(Y))}function J(e){var t=this;return Z((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){return[2,j(e)]}))}))}),e.length)}function Q(e){var t,n=this;if(!O(e))throw new Error("The argument to zip() must be an object or array.");if(Array.isArray(e))for(var r=0;r<e.length;r++)t=null==t?e[r].size:Math.min(t,e[r].size);else if(e instanceof Object)for(var i in e)t=null==t?e[i].size:Math.min(t,e[i].size);return Z((function(){return s(n,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,x(e,(function(e){if(e instanceof Y)return{value:e.iterator(),recurse:!1};if(O(e))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")}))];case 1:return[2,T(t.sent(),N.SHORTEST)]}}))}))}),t)}function ee(e){return null===e?null:function(e){return null==e||function(e){return null===e||"object"!=typeof e&&"function"!=typeof e}(e)||Array.isArray(e)||"object"==typeof e&&e instanceof i.B||i.Af.isTypedArray(e)}(e[0])?{value:te(e),recurse:!1}:{value:null,recurse:!0}}function te(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof i.B?Object(i.We)(e):Object(i.gf)(e)}var ne=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return o(t,e),t.prototype.iterator=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,this.input.iterator()];case 1:return e=t.sent(),[2,e.decodeUTF8().split("\n").map((function(e){return e.endsWith("\r")&&(e=e.slice(0,-1)),e}))]}}))}))},t}(Y),re=Symbol("out"),ie=Symbol("field"),ae=Symbol("quote"),oe=Symbol("quoteafterquote"),se=Symbol("quoteinquote"),ue=function(e){function t(t,n){var r=e.call(this)||this;return r.input=t,r.hasHeader=!0,r.fullColumnNames=null,r.columnNamesValidated=!1,r.columnConfigs=null,r.configuredColumnsOnly=!1,r.delimiter=",",r.delimWhitespace=!1,r.base=new ne(t),n||(n={}),r.hasHeader=!1!==n.hasHeader,r.fullColumnNames=n.columnNames,r.columnConfigs=n.columnConfigs,r.configuredColumnsOnly=n.configuredColumnsOnly,n.delimWhitespace?(i.Af.assert(null==n.delimiter,(function(){return"Delimiter should not be provided when delimWhitespace is true."})),r.delimWhitespace=!0,r.delimiter=" "):r.delimiter=n.delimiter?n.delimiter:",",r}return o(t,e),t.prototype.columnNames=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:e.sent(),e.label=2;case 2:return[2,this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames]}}))}))},t.prototype.setColumnNames=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,a,o,s=this;return u(this,(function(u){switch(u.label){case 0:return[4,this.maybeReadHeaderLine()];case 1:if(e=u.sent(),!this.fullColumnNames&&!e)throw new Error("Column names must be provided if there is no header line.");if(this.fullColumnNames&&e&&i.Af.assert(e.length===this.fullColumnNames.length,(function(){return"The length of provided columnNames ("+s.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+e.length.toString()+")."})),this.fullColumnNames||(this.fullColumnNames=e),t=this.fullColumnNames.reduce((function(e,t){return e[t]=e[t]+1||1,e}),{}),n=Object.keys(t).filter((function(e){return t[e]>1})),i.Af.assert(0===n.length,(function(){return"Duplicate column names found: "+n.toString()})),this.columnConfigs)for(r=0,a=Object.keys(this.columnConfigs);r<a.length;r++)if(o=a[r],-1===this.fullColumnNames.indexOf(o))throw new Error('The key "'+o+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").");return this.columnNamesValidated=!0,[2]}}))}))},t.prototype.maybeReadHeaderLine=function(){return s(this,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:return this.hasHeader?[4,this.base.iterator()]:[3,3];case 1:return[4,n.sent().next()];case 2:if((e=n.sent()).done)throw new Error("No data was found for CSV parsing.");return t=e.value,[2,this.parseRow(t,!1)];case 3:return[2,null]}}))}))},t.prototype.iterator=function(){return s(this,void 0,void 0,(function(){var e,t=this;return u(this,(function(n){switch(n.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:n.sent(),n.label=2;case 2:return[4,this.base.iterator()];case 3:return e=n.sent(),this.hasHeader&&(e=e.skip(1)),[2,e.map((function(e){return t.makeDataElement(e)}))]}}))}))},t.prototype.makeDataElement=function(e){for(var t=this.parseRow(e),n={},r={},i=0;i<this.fullColumnNames.length;i++){var a=this.fullColumnNames[i],o=this.columnConfigs?this.columnConfigs[a]:null;if(!this.configuredColumnsOnly||o){var s=t[i],u=null;if(""===s)if(o&&void 0!==o.default)u=o.default;else{if(o&&(o.required||o.isLabel))throw new Error("Required column "+a+" is empty in this line: "+e);u=void 0}else{var c=Number(s);if(isNaN(c))u=o&&"bool"===o.dtype?this.getBoolean(s):s;else if(o&&o.dtype)switch(o.dtype){case"float32":u=c;break;case"int32":u=Math.floor(c);break;case"bool":u=this.getBoolean(s);break;default:u=c}else u=c}o&&o.isLabel?r[a]=u:n[a]=u}}return 0===Object.keys(r).length?n:{xs:n,ys:r}},t.prototype.getBoolean=function(e){return"1"===e||"true"===e.toLowerCase()?1:0},t.prototype.parseRow=function(e,t){void 0===t&&(t=!0);for(var n=[],r=0,i=e.length,a=re,o=0;o<i;o++)switch(a){case re:switch(e.charAt(o)){case'"':r=o+1,a=ae;break;case this.delimiter:if(r=o+1," "===this.delimiter&&this.delimWhitespace)break;n.push(""),a=re;break;default:a=ie,r=o}break;case ie:switch(e.charAt(o)){case this.delimiter:n.push(e.substring(r,o)),a=re,r=o+1}break;case ae:switch(e.charAt(o)){case'"':a=oe}break;case oe:switch(e.charAt(o)){case this.delimiter:n.push(e.substring(r,o-1)),a=re,r=o+1;break;case'"':a=ae;break;default:a=se}break;case se:switch(e.charAt(o)){case'"':a=ae}}if(a===oe?n.push(e.substring(r,i-1)):n.push(e.substring(r)),t&&n.length!==this.fullColumnNames.length)throw new Error("Invalid row in csv file. Should have "+this.fullColumnNames.length+" elements in a row, but got "+n);return n},t}(Y),ce=function(e){function t(t){var n=e.call(this)||this;n.microphoneConfig=t,n.isClosed=!1,n.fftSize=t.fftSize||1024;var r=Math.log2(n.fftSize);if(n.fftSize<0||r<4||r>14||!Number.isInteger(r))throw new Error("Invalid fftSize: it must be a power of 2 between 2 to 4 and 2 to 14, but got "+n.fftSize);if(n.numFrames=t.numFramesPerSpectrogram||43,n.sampleRateHz=t.sampleRateHz,n.columnTruncateLength=t.columnTruncateLength||n.fftSize,n.audioTrackConstraints=t.audioTrackConstraints,n.smoothingTimeConstant=t.smoothingTimeConstant||0,n.includeSpectrogram=!1!==t.includeSpectrogram,n.includeWaveform=!0===t.includeWaveform,!n.includeSpectrogram&&!n.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.");return n}return o(t,e),t.prototype.summary=function(){return"microphone"},t.create=function(e){return void 0===e&&(e={}),s(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:if(Object(i.Wb)().get("IS_NODE"))throw new Error("microphone API is only supported in browser environment.");return[4,(n=new t(e)).start()];case 1:return r.sent(),[2,n]}}))}))},t.prototype.start=function(){return s(this,void 0,void 0,(function(){var e,t,n,r;return u(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=this,[4,navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1})];case 1:return e.stream=i.sent(),[3,3];case 2:throw t=i.sent(),new Error("Error thrown while initializing video stream: "+t.message);case 3:if(!this.stream)throw new Error("Could not obtain audio from microphone.");if(n=window.AudioContext||window.webkitAudioContext,this.audioContext=new n,this.sampleRateHz){if(this.audioContext.sampleRate!==this.sampleRateHz)throw new Error("Mismatch in sampling rate: Expected: "+this.sampleRateHz+"; Actual: "+this.audioContext.sampleRate)}else this.sampleRateHz=this.audioContext.sampleRate;return r=this.audioContext.createMediaStreamSource(this.stream),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,r.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize),[2]}}))}))},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i;return u(this,(function(a){switch(a.label){case 0:return this.isClosed?[2,{value:null,done:!0}]:[4,this.getAudioData()];case 1:return n=a.sent(),this.includeSpectrogram&&(r=this.flattenQueue(n.freqDataQueue),e=this.getTensorFromAudioDataArray(r,[this.numFrames,this.columnTruncateLength,1])),this.includeWaveform&&(i=this.flattenQueue(n.timeDataQueue),t=this.getTensorFromAudioDataArray(i,[this.numFrames*this.fftSize,1])),[2,{value:{spectrogram:e,waveform:t},done:!1}]}}))}))},t.prototype.capture=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.next()];case 1:return[2,e.sent().value]}}))}))},t.prototype.getAudioData=function(){return s(this,void 0,void 0,(function(){var e,t,n,r=this;return u(this,(function(i){return e=[],t=[],n=0,[2,new Promise((function(i){var a=setInterval((function(){r.includeSpectrogram&&(r.analyser.getFloatFrequencyData(r.freqData),r.freqData[0]===-1/0&&i({freqDataQueue:e,timeDataQueue:t}),e.push(r.freqData.slice(0,r.columnTruncateLength))),r.includeWaveform&&(r.analyser.getFloatTimeDomainData(r.timeData),t.push(r.timeData.slice())),++n===r.numFrames&&(clearInterval(a),i({freqDataQueue:e,timeDataQueue:t}))}),r.fftSize/r.sampleRateHz*1e3)}))]}))}))},t.prototype.stop=function(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())},t.prototype.toArray=function(){throw new Error("Can not convert infinite audio stream to array.")},t.prototype.getSampleRate=function(){return this.sampleRateHz},t.prototype.flattenQueue=function(e){var t=e[0].length,n=new Float32Array(e.length*t);return e.forEach((function(e,r){return n.set(e,r*t)})),n},t.prototype.getTensorFromAudioDataArray=function(e,t){var n=new Float32Array(i.Af.sizeFromShape(t));return n.set(e,n.length-e.length),Object(i.gf)(n,t)},t}(M),le=function(e){function t(t,n){var r=e.call(this)||this;if(r.webcamVideoElement=t,r.webcamConfig=n,r.isClosed=!0,r.resize=!1,r.needToResize())if(r.resize=!0,r.cropSize=[r.webcamConfig.resizeHeight,r.webcamConfig.resizeWidth],r.cropBoxInd=Object(i.hf)([0],"int32"),r.webcamConfig.centerCrop){var a=1*r.webcamConfig.resizeWidth/r.webcamVideoElement.width,o=1*r.webcamConfig.resizeHeight/r.webcamVideoElement.height,s=(1-a)/2,u=(1-o)/2,c=s+a,l=o+u;r.cropBox=Object(i.if)([u,s,l,c],[1,4])}else r.cropBox=Object(i.if)([0,0,1,1],[1,4]);return r}return o(t,e),t.prototype.summary=function(){return"webcam"},t.create=function(e,n){return void 0===n&&(n={}),s(this,void 0,void 0,(function(){var r;return u(this,(function(a){switch(a.label){case 0:if(Object(i.Wb)().get("IS_NODE"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!e){if(e=document.createElement("video"),!n.resizeWidth||!n.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");e.width=n.resizeWidth,e.height=n.resizeHeight}return[4,(r=new t(e,n)).start()];case 1:return a.sent(),[2,r]}}))}))},t.prototype.start=function(){return s(this,void 0,void 0,(function(){var e,t,n=this;return u(this,(function(r){switch(r.label){case 0:this.webcamConfig.facingMode&&i.Af.assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,(function(){return"Invalid webcam facing mode: "+n.webcamConfig.facingMode+". Please provide 'user' or 'environment'"})),r.label=1;case 1:return r.trys.push([1,3,,4]),e=this,[4,navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})];case 2:return e.stream=r.sent(),[3,4];case 3:throw(t=r.sent()).message="Error thrown while initializing video stream: "+t.message,t;case 4:if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(e){console.log(e),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,[2,new Promise((function(e){n.webcamVideoElement.onloadedmetadata=function(){e()}}))]}}))}))},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){if(this.isClosed)return[2,{value:null,done:!0}];try{e=i.lb.fromPixels(this.webcamVideoElement)}catch(e){throw new Error("Error thrown converting video to pixels: "+JSON.stringify(e))}if(!this.resize)return[2,{value:e,done:!1}];try{return[2,{value:this.cropAndResizeFrame(e),done:!1}]}catch(e){throw new Error("Error thrown cropping the video: "+e.message)}finally{e.dispose()}return[2]}))}))},t.prototype.needToResize=function(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)},t.prototype.cropAndResizeFrame=function(e){var t=this;return Object(i.pf)((function(){var n,r=e.toFloat().expandDims(0),a=(n=i.Dc.cropAndResize(r,t.cropBox,t.cropBoxInd,t.cropSize,"bilinear")).shape;return n.reshape(a.slice(1))}))},t.prototype.capture=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.next()];case 1:return[2,e.sent().value]}}))}))},t.prototype.stop=function(){this.stream.getTracks().forEach((function(e){return e.stop()}));try{this.webcamVideoElement.srcObject=null}catch(e){console.log(e),this.webcamVideoElement.src=null}this.isClosed=!0},t.prototype.toArray=function(){throw new Error("Can not convert infinite video stream to array.")},t}(M),fe=function(){},de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.split=function(e){return new he(this,e)},t}(M),he=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.impl=new pe(t,n),r}return o(t,e),t.prototype.summary=function(){return this.impl.summary()},t.prototype.next=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return[2,this.impl.next()]}))}))},t}(de),pe=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.separator=n,r.carryover="",r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Split('"+this.separator+"')"},t.prototype.pump=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i;return u(this,(function(a){switch(a.label){case 0:return[4,this.upstream.next()];case 1:if((e=a.sent()).done)return""===this.carryover?[2,!1]:(this.outputQueue.push(this.carryover),this.carryover="",[2,!0]);for((t=e.value.split(this.separator))[0]=this.carryover+t[0],n=0,r=t.slice(0,-1);n<r.length;n++)i=r[n],this.outputQueue.push(i);return this.carryover=t[t.length-1],[2,!0]}}))}))},t}(q),me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.decodeUTF8=function(){return new ve(this)},t}(M),ve=function(e){function t(t){var n=e.call(this)||this;return n.upstream=t,n.impl=new ge(t),n}return o(t,e),t.prototype.summary=function(){return this.impl.summary()},t.prototype.next=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return[2,this.impl.next()]}))}))},t}(de),ge=function(e){function t(t){var r=e.call(this)||this;if(r.upstream=t,Object(i.Wb)().get("IS_BROWSER"))r.decoder=new TextDecoder("utf-8");else{var a=n(475).StringDecoder;r.decoder=new a("utf8")}return r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Utf8"},t.prototype.pump=function(){return s(this,void 0,void 0,(function(){var e,t,n;return u(this,(function(a){switch(a.label){case 0:return[4,this.upstream.next()];case 1:return(e=a.sent()).done?[2,!1]:(t=e.value,n=Object(i.Wb)().get("IS_BROWSER")?this.decoder.decode(t,{stream:!0}):this.decoder.write(r.from(t.buffer)),this.outputQueue.push(n),[2,!0])}}))}))},t}(q),be=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.file=t,r.options=n,i.Af.assert(t instanceof Uint8Array||!!Object(i.Wb)().get("IS_BROWSER")&&(t instanceof File||t instanceof Blob),(function(){return"FileChunkIterator only supports File, Blob and Uint8Array right now."})),r.offset=n.offset||0,r.chunkSize=n.chunkSize||1048576,r}return o(t,e),t.prototype.summary=function(){return"FileChunks "+this.file},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e,t,n=this;return u(this,(function(r){switch(r.label){case 0:return this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size)?[2,{value:null,done:!0}]:(e=new Promise((function(e,t){var r=n.offset+n.chunkSize;if(n.file instanceof Uint8Array)e(new Uint8Array(n.file.slice(n.offset,r)));else{var i=new FileReader;i.onload=function(n){var r=i.result;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!(r instanceof Uint8Array))return t(new TypeError("FileReader returned unknown type."));e(r)},i.onabort=function(e){return t(new Error("Aborted"))},i.onerror=function(e){return t(new Error(e.type))};var a=n.file.slice(n.offset,r);i.readAsArrayBuffer(a)}n.offset=r})),t={},[4,e]);case 1:return[2,(t.value=r.sent(),t.done=!1,t)]}}))}))},t}(me);function ye(e,t){return void 0===t&&(t={}),s(this,void 0,void 0,(function(){var n,r,a,o,s;return u(this,(function(u){switch(u.label){case 0:return"string"==typeof e?n=e:(n=e.url,r=we(e)),[4,i.Af.fetch(n,r)];case 1:return(a=u.sent()).ok?(s=Uint8Array.bind,[4,a.arrayBuffer()]):[3,3];case 2:return o=new(s.apply(Uint8Array,[void 0,u.sent()])),[2,new be(o,t)];case 3:throw new Error(a.statusText)}}))}))}var we=function(e){return{method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity}};function xe(e){return"string"==typeof e&&"file://"===e.substr(0,7)}var Oe=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.input=t,r.options=n,r}return o(t,e),t.prototype.iterator=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){return xe(this.input)&&Object(i.Wb)().get("IS_NODE")&&(e=n(476),this.input=e.readFileSync(this.input.substr(7))),[2,new be(this.input,this.options)]}))}))},t}(fe),ke=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.url=t,r.fileOptions=n,r}return o(t,e),t.prototype.iterator=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return xe(this.url)?[2,new Oe(this.url,this.fileOptions).iterator()]:[2,ye(this.url,this.fileOptions)]}))}))},t}(fe);function Ee(e,t){return void 0===t&&(t={}),new ue(new ke(e),t)}function _e(e){var t=this,n=C(e);return Z((function(){return s(t,void 0,void 0,(function(){return u(this,(function(e){return[2,n]}))}))}))}function Se(e){var t=this;return Z((function(){return s(t,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),[2,C((function(){return t.next()}))]}}))}))}))}function je(e,t){return s(this,void 0,void 0,(function(){return u(this,(function(n){return[2,le.create(e,t)]}))}))}function Ce(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){return[2,ce.create(e)]}))}))}var Ae="1.7.2"}.call(this,n(42),n(34).Buffer)},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function a(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},function(e,t,n){"use strict";function r(){}t.a=function(e){return null==e?r:function(){return this.querySelector(e)}}},function(e,t,n){"use strict";var r=n(95);t.a=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.a.hasOwnProperty(t)?{space:r.a[t],local:e}:e}},function(e,t,n){"use strict";t.a=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e){var t=r.useState(e),n=t[0],i=t[1],a=e||n;return r.useEffect((function(){null==n&&i("mui-".concat(Math.round(1e5*Math.random())))}),[n]),a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(164);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";t.a={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"}},function(e,t,n){"use strict";t.a={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"}},function(e,t,n){"use strict";t.a={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},function(e,t,n){"use strict";t.a={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},function(e,t,n){"use strict";t.a={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}},function(e,t,n){"use strict";t.a={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},function(e,t,n){"use strict";t.a={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(3),i=n(51),a=n(6),o=n(0),s=(n(8),n(4)),u=n(50),c=n(48),l=n(7),f=n(284),d=o.forwardRef((function(e,t){var n=e.autoFocus,l=e.checked,d=e.checkedIcon,h=e.classes,p=e.className,m=e.defaultChecked,v=e.disabled,g=e.icon,b=e.id,y=e.inputProps,w=e.inputRef,x=e.name,O=e.onBlur,k=e.onChange,E=e.onFocus,_=e.readOnly,S=e.required,j=e.tabIndex,C=e.type,A=e.value,T=Object(a.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),N=Object(u.a)({controlled:l,default:Boolean(m),name:"SwitchBase",state:"checked"}),R=Object(i.a)(N,2),M=R[0],D=R[1],I=Object(c.a)(),F=v;I&&"undefined"===typeof F&&(F=I.disabled);var P="checkbox"===C||"radio"===C;return o.createElement(f.a,Object(r.a)({component:"span",className:Object(s.a)(h.root,p,M&&h.checked,F&&h.disabled),disabled:F,tabIndex:null,role:void 0,onFocus:function(e){E&&E(e),I&&I.onFocus&&I.onFocus(e)},onBlur:function(e){O&&O(e),I&&I.onBlur&&I.onBlur(e)},ref:t},T),o.createElement("input",Object(r.a)({autoFocus:n,checked:l,defaultChecked:m,className:h.input,disabled:F,id:P&&b,name:x,onChange:function(e){var t=e.target.checked;D(t),k&&k(e,t)},readOnly:_,ref:w,required:S,tabIndex:j,type:C,value:A},y)),M?d:g)}));t.a=Object(l.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(d)},,,,,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose=t.merge=t.$=t.style=t.presets=t.keyframes=t.fontFace=t.insertGlobal=t.insertRule=t.plugins=t.styleSheet=void 0,t.speedy=function(e){return f.speedy(e)},t.simulations=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];p=!!e},t.simulate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!(t=(0,o.default)(t)))return{};if(!p)return m||(console.warn("can't simulate without once calling simulations(true)"),m=!0),v||(console.warn("don't use simulation outside dev"),v=!0),{};return t.reduce((function(e,t){return e["data-simulate-"+b(t)]="",e}),{})},t.cssLabels=function(e){g=!!e},t.isLikeRule=w,t.idFor=x,t.css=W,t.rehydrate=function(e){(0,r.default)(C,e.reduce((function(e,t){return e[t]=!0,e}),{}))},t.flush=function(){C=f.inserted={},A=f.registered={},N={},f.flush(),f.inject()},t.select=q,t.parent=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W(l({},e+" &",n))},t.media=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W(l({},"@media "+e,n))},t.pseudo=H,t.active=function(e){return H(":active",e)},t.any=function(e){return H(":any",e)},t.checked=function(e){return H(":checked",e)},t.disabled=function(e){return H(":disabled",e)},t.empty=function(e){return H(":empty",e)},t.enabled=function(e){return H(":enabled",e)},t._default=function(e){return H(":default",e)},t.first=function(e){return H(":first",e)},t.firstChild=function(e){return H(":first-child",e)},t.firstOfType=function(e){return H(":first-of-type",e)},t.fullscreen=function(e){return H(":fullscreen",e)},t.focus=function(e){return H(":focus",e)},t.hover=function(e){return H(":hover",e)},t.indeterminate=function(e){return H(":indeterminate",e)},t.inRange=function(e){return H(":in-range",e)},t.invalid=function(e){return H(":invalid",e)},t.lastChild=function(e){return H(":last-child",e)},t.lastOfType=function(e){return H(":last-of-type",e)},t.left=function(e){return H(":left",e)},t.link=function(e){return H(":link",e)},t.onlyChild=function(e){return H(":only-child",e)},t.onlyOfType=function(e){return H(":only-of-type",e)},t.optional=function(e){return H(":optional",e)},t.outOfRange=function(e){return H(":out-of-range",e)},t.readOnly=function(e){return H(":read-only",e)},t.readWrite=function(e){return H(":read-write",e)},t.required=function(e){return H(":required",e)},t.right=function(e){return H(":right",e)},t.root=function(e){return H(":root",e)},t.scope=function(e){return H(":scope",e)},t.target=function(e){return H(":target",e)},t.valid=function(e){return H(":valid",e)},t.visited=function(e){return H(":visited",e)},t.dir=function(e,t){return H(":dir("+e+")",t)},t.lang=function(e,t){return H(":lang("+e+")",t)},t.not=function(e,t){var n=e.split(",").map((function(e){return e.trim()})).map((function(e){return":not("+e+")"}));if(1===n.length)return H(":not("+e+")",t);return q(n.join(""),t)},t.nthChild=function(e,t){return H(":nth-child("+e+")",t)},t.nthLastChild=function(e,t){return H(":nth-last-child("+e+")",t)},t.nthLastOfType=function(e,t){return H(":nth-last-of-type("+e+")",t)},t.nthOfType=function(e,t){return H(":nth-of-type("+e+")",t)},t.after=function(e){return H("::after",e)},t.before=function(e){return H("::before",e)},t.firstLetter=function(e){return H("::first-letter",e)},t.firstLine=function(e){return H("::first-line",e)},t.selection=function(e){return H("::selection",e)},t.backdrop=function(e){return H("::backdrop",e)},t.placeholder=function(e){return W({"::placeholder":e})},t.cssFor=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(t=(0,o.default)(t))?t.map((function(e){var t={label:[]};return F(t,{src:e}),j(y(t),S(t)).join("")})).join(""):""},t.attribsFor=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(t=(0,o.default)(t))?t.map((function(e){x(e);var t=Object.keys(e)[0];return t+'="'+(e[t]||"")+'"'})).join(" "):"";return r};var r=c(n(146)),i=n(478),a=n(358),o=c(n(487)),s=n(488),u=c(n(504));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=t.styleSheet=new i.StyleSheet;f.inject();var d=t.plugins=f.plugins=new s.PluginSet([s.prefixes,s.contentWrap,s.fallbacks]);d.media=new s.PluginSet,d.fontFace=new s.PluginSet,d.keyframes=new s.PluginSet([s.prefixes,s.fallbacks]);var h="undefined"!==typeof window,p=!1,m=!1,v=!1;var g=!1;function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.toLowerCase().replace(/[^a-z0-9]/g,t)}function y(e){var t=JSON.stringify(e),n=(0,u.default)(t).toString(36);return e.label&&e.label.length,n}function w(e){var t=Object.keys(e).filter((function(e){return"toString"!==e}));return 1===t.length&&!!/data\-css\-([a-zA-Z0-9\-_]+)/.exec(t[0])}function x(e){var t=Object.keys(e).filter((function(e){return"toString"!==e}));if(1!==t.length)throw new Error("not a rule");var n=/data\-css\-([a-zA-Z0-9\-_]+)/.exec(t[0]);if(!n)throw new Error("not a rule");return n[1]}var O=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function k(e){if(-1===e.indexOf(","))return[e];for(var t,n=[],r=[],i=0;t=O.exec(e);)switch(t[0]){case"(":i++;break;case")":i--;break;case",":if(i)break;n.push(t.index)}for(t=n.length;t--;)r.unshift(e.slice(n[t]+1)),e=e.slice(0,n[t]);return r.unshift(e),r}function E(e,t){if(!e)return t.replace(/\&/g,"");if(!t)return".css-"+e+",[data-css-"+e+"]";var n=k(t).map((function(t){return t.indexOf("&")>=0?[t.replace(/\&/gm,".css-"+e),t.replace(/\&/gm,"[data-css-"+e+"]")].join(","):".css-"+e+t+",[data-css-"+e+"]"+t})).join(",");return p&&/^\&\:/.exec(t)&&!/\s/.exec(t)&&(n+=",.css-"+e+"[data-simulate-"+b(t)+"],[data-css-"+e+"][data-simulate-"+b(t)+"]"),n}function _(e){var t=e.selector,n=e.style,r=d.transform({selector:t,style:n});return r.selector+"{"+(0,a.createMarkupForStyles)(r.style)+"}"}function S(e){var t=void 0,n=void 0,r=void 0,i=void 0;return Object.keys(e).forEach((function(a){a.indexOf("&")>=0?(n=n||{})[a]=e[a]:0===a.indexOf("@media")?(r=r||{})[a]=S(e[a]):0===a.indexOf("@supports")?(i=i||{})[a]=S(e[a]):"label"===a?e.label.length>0&&((t=t||{}).label=g?e.label.join("."):""):(t=t||{})[a]=e[a]})),{plain:t,selects:n,medias:r,supports:i}}function j(e,t){var n=[],r=t.plain,i=t.selects,a=t.medias,o=t.supports;return r&&n.push(_({style:r,selector:E(e)})),i&&Object.keys(i).forEach((function(t){return n.push(_({style:i[t],selector:E(e,t)}))})),a&&Object.keys(a).forEach((function(t){return n.push(t+"{"+j(e,a[t]).join("")+"}")})),o&&Object.keys(o).forEach((function(t){return n.push(t+"{"+j(e,o[t]).join("")+"}")})),n}var C=f.inserted={};var A=f.registered={};function T(e){A[e.id]||(A[e.id]=e)}var N={};function R(e){if(T(e),function(e){if(!C[e.id]){C[e.id]=!0;var t=S(e.style),n=j(e.id,t);C[e.id]=!!h||n,n.forEach((function(e){return f.insert(e)}))}}(e),N[e.id])return N[e.id];var t=l({},"data-css-"+e.id,g&&e.label||"");return Object.defineProperty(t,"toString",{enumerable:!1,value:function(){return"css-"+e.id}}),N[e.id]=t,t}function M(e,t){var n=k(e).map((function(e){return e.indexOf("&")>=0?e:"&"+e}));return k(t).map((function(e){return e.indexOf("&")>=0?e:"&"+e})).reduce((function(e,t){return e.concat(n.map((function(e){return t.replace(/\&/g,e)})))}),[]).join(",")}function D(e,t){return e?"@supports "+e.substring(9)+" and "+t.substring(9):t}var I={"::placeholder":["::-webkit-input-placeholder","::-moz-placeholder","::-ms-input-placeholder"],":fullscreen":[":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"]};function F(e,t){var n=t.selector,r=void 0===n?"":n,i=t.mq,a=void 0===i?"":i,s=t.supp,u=void 0===s?"":s,c=t.src,l=void 0===c?{}:c;Array.isArray(l)||(l=[l]),(l=function e(t){for(var n=[],r=0;r<t.length;r++)n=Array.isArray(t[r])?n.concat(e(t[r])):n.concat(t[r]);return n}(l)).forEach((function(t){if(w(t)){var n=function(e){if(w(e)){var t=A[x(e)];if(null==t)throw new Error("[glamor] an unexpected rule cache miss occurred. This is probably a sign of multiple glamor instances in your app. See https://github.com/threepointone/glamor/issues/79");return t}return e}(t);if("css"!==n.type)throw new Error("cannot merge this rule");t=n.style}(t=(0,o.default)(t))&&t.composes&&F(e,{selector:r,mq:a,supp:u,src:t.composes}),Object.keys(t||{}).forEach((function(n){if(function(e){for(var t=[":",".","[",">"," "],n=!1,r=e.charAt(0),i=0;i<t.length;i++)if(r===t[i]){n=!0;break}return n||e.indexOf("&")>=0}(n))I[n]&&I[n].forEach((function(i){return F(e,{selector:M(r,i),mq:a,supp:u,src:t[n]})})),F(e,{selector:M(r,n),mq:a,supp:u,src:t[n]});else if(function(e){return 0===e.indexOf("@media")}(n))F(e,{selector:r,mq:(o=a,s=n,o?"@media "+o.substring(6)+" and "+s.substring(6):s),supp:u,src:t[n]});else if(function(e){return 0===e.indexOf("@supports")}(n))F(e,{selector:r,mq:a,supp:D(u,n),src:t[n]});else if("composes"===n);else{var i=e;u&&(i[u]=i[u]||{},i=i[u]),a&&(i[a]=i[a]||{},i=i[a]),r&&(i[r]=i[r]||{},i=i[r]),"label"===n?g&&(e.label=e.label.concat(t.label)):i[n]=t[n]}var o,s}))}))}function P(e){var t={label:[]};return F(t,{src:e}),R({id:y(t),style:t,label:g?t.label.join("."):"",type:"css"})}var z={};Object.defineProperty(z,"toString",{enumerable:!1,value:function(){return"css-nil"}});var L="undefined"!==typeof WeakMap?[z,new WeakMap,new WeakMap,new WeakMap]:[z];var B,U="undefined"!==typeof WeakMap?(B=P,function(e){if(L[e.length]){for(var t=L[e.length],n=0;n<e.length-1;)t.has(e[n])||t.set(e[n],new WeakMap),t=t.get(e[n]),n++;if(t.has(e[e.length-1])){var r=t.get(e[n]);if(A[r.toString().substring(4)])return r}}var i=B(e);if(L[e.length]){for(var a=0,o=L[e.length];a<e.length-1;)o=o.get(e[a]),a++;try{o.set(e[a],i)}catch(s){}}return i}):P;function W(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0]&&t[0].length&&t[0].raw)throw new Error("you forgot to include glamor/babel in your babel plugins.");return(t=(0,o.default)(t))?U(t):z}W.insert=function(e){var t={id:y(e),css:e,type:"raw"};T(t),C[t.id]||(f.insert(t.css),C[t.id]=!!h||[t.css])};t.insertRule=W.insert;W.global=function(e,t){if(t=(0,o.default)(t))return W.insert(_({selector:e,style:t}))};t.insertGlobal=W.global;W.keyframes=function(e,t){t||(t=e,e="animation");var n={id:y({name:e,kfs:t=(0,o.default)(t)||{}}),type:"keyframes",name:e,keyframes:t};return T(n),function(e){if(!C[e.id]){var t=Object.keys(e.keyframes).map((function(t){var n=d.keyframes.transform({id:e.id,name:t,style:e.keyframes[t]});return n.name+"{"+(0,a.createMarkupForStyles)(n.style)+"}"})).join(""),n=["-webkit-","-moz-","-o-",""].map((function(n){return"@"+n+"keyframes "+e.name+"_"+e.id+"{"+t+"}"}));n.forEach((function(e){return f.insert(e)})),C[e.id]=!!h||n}}(n),e+"_"+n.id},W.fontFace=function(e){var t={id:y(e=(0,o.default)(e)),type:"font-face",font:e};return T(t),function(e){if(!C[e.id]){var t="@font-face{"+(0,a.createMarkupForStyles)(e.font)+"}";f.insert(t),C[e.id]=!!h||[t]}}(t),e.fontFamily};t.fontFace=W.fontFace,t.keyframes=W.keyframes;t.presets={mobile:"(min-width: 400px)",Mobile:"@media (min-width: 400px)",phablet:"(min-width: 550px)",Phablet:"@media (min-width: 550px)",tablet:"(min-width: 750px)",Tablet:"@media (min-width: 750px)",desktop:"(min-width: 1000px)",Desktop:"@media (min-width: 1000px)",hd:"(min-width: 1200px)",Hd:"@media (min-width: 1200px)"};var V=t.style=W;function q(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?W(l({},e,n)):V(n)}t.$=q;t.merge=W,t.compose=W;function H(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W(l({},e,n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&r.test(e)};var r=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,t,n){"use strict";n.r(t);var r=n(370);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(285);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";function r(e,t,n,r,i){return null}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(179);n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return r.c}))},function(e,t,n){"use strict";n.r(t);var r=n(287);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(288);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(351);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(23),i=n(268),a=n(274),o=n(275),s=n(90);function u(e){s.call(this,"digest"),this._hash=e}r(u,s),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new a:new u(o(e))}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,n(34).Buffer)},function(e,t,n){(function(t){e.exports=function(e,n){for(var r=Math.min(e.length,n.length),i=new t(r),a=0;a<r;++a)i[a]=e[a]^n[a];return i}}).call(this,n(34).Buffer)},function(e,t,n){"use strict";var r=n(70),i=n(61);function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=a,a.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,a=8;a<this.padLength;a++)r[i++]=0;return r}},function(e,t,n){var r=t;r.bignum=n(36),r.define=n(604).define,r.base=n(161),r.constants=n(411),r.decoders=n(609),r.encoders=n(611)},function(e,t,n){var r=t;r.Reporter=n(606).Reporter,r.DecoderBuffer=n(410).DecoderBuffer,r.EncoderBuffer=n(410).EncoderBuffer,r.Node=n(607)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p}));var r=n(140),i=n(76),a=n(30),o=n(222),s=n(33),u=n(73);function c(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function l(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat(Object(a.a)(r)),s=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===s.indexOf(e.tagName)&&c(e,i)}))}function d(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function h(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=Object(s.a)(e);return t.body===e?Object(u.a)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var c=Object(o.a)();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(l(a)+c,"px"),n=Object(s.a)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(l(e)+c,"px")}))}var f=a.parentElement,d="HTML"===f.nodeName&&"scroll"===window.getComputedStyle(f)["overflow-y"]?f:a;r.push({value:d.style.overflow,key:"overflow",el:d}),d.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var p=function(){function e(){Object(r.a)(this,e),this.modals=[],this.containers=[]}return Object(i.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&c(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);f(t,e.mountNode,e.modalRef,r,!0);var i=d(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=d(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=h(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=d(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&c(e.modalRef,!0),f(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&c(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}()},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(6),i=n(3),a=n(0),o=(n(8),n(4)),s=n(7),u=a.forwardRef((function(e,t){var n=e.classes,s=e.className,u=e.component,c=void 0===u?"div":u,l=e.square,f=void 0!==l&&l,d=e.elevation,h=void 0===d?1:d,p=e.variant,m=void 0===p?"elevation":p,v=Object(r.a)(e,["classes","className","component","square","elevation","variant"]);return a.createElement(c,Object(i.a)({className:Object(o.a)(n.root,s,"outlined"===m?n.outlined:n["elevation".concat(h)],!f&&n.rounded),ref:t},v))}));t.a=Object(s.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(i.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(u)},function(e,t,n){"use strict";var r=n(0),i=n(29);t.a=Object(i.a)(r.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},function(e,t,n){"use strict";var r=n(0),i=n(29);t.a=Object(i.a)(r.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return a}));var i=n(55);function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?Object(i.a)(e):t}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return p}));var r=n(30),i=n(3),a=n(6),o=n(0),s=(n(8),n(444)),u=n(54),c=n.n(u),l=n(25),f=n(69),d=n(628),h=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?f.b.indexOf(e)<=f.b.indexOf(t):f.b.indexOf(e)<f.b.indexOf(t)},p=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?f.b.indexOf(t)<=f.b.indexOf(e):f.b.indexOf(t)<f.b.indexOf(e)},m="undefined"===typeof window?o.useEffect:o.useLayoutEffect;t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.withTheme,u=void 0!==n&&n,f=e.noSSR,h=void 0!==f&&f,p=e.initialWidth;function v(e){var n=Object(l.a)(),c=e.theme||n,f=Object(s.a)({theme:c,name:"MuiWithWidth",props:Object(i.a)({},e)}),v=f.initialWidth,g=f.width,b=Object(a.a)(f,["initialWidth","width"]),y=o.useState(!1),w=y[0],x=y[1];m((function(){x(!0)}),[]);var O=Object(r.a)(c.breakpoints.keys).reverse().reduce((function(e,t){var n=Object(d.a)(c.breakpoints.up(t));return!e&&n?t:e}),null),k=Object(i.a)({width:g||(w||h?O:void 0)||v||p},u?{theme:c}:{},{},b);return void 0===k.width?null:o.createElement(t,k)}return c()(v,t),v}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var r,i,a,o=n(208);function s(e){return r=Object(o.a)(e),i=r.format,a=r.formatPrefix,r}s({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.assert=r,t.assertShapesMatch=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r(i(e,t),n+" Shapes ".concat(e," and ").concat(t," must match"))},t.arraysEqual=i,t.DECIMAL_PLACES_TO_CHECK=4},function(e,t,n){"use strict";var r=n(13),i=n(365),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var o=n(31),s=n(183);t.arrayStats=function(e){if(!Array.isArray(e))throw new Error("input must be an array");if(0===e.length)return{numVals:0,numNans:0,numZeros:0,max:void 0,min:void 0};for(var t=e.length,n=-1/0,r=1/0,i=0,a=0,o=0,s=0;s<t;s++){var u=e[s];u>n&&(n=u),u<r&&(r=u),0===u&&(i+=1),isNaN(u)?a+=1:isFinite(u)||(o+=1)}var c={numVals:t,numZeros:i,numNans:a,max:n,min:r,numInfs:o};return c.max===-1/0&&(c.max=NaN),c.min===1/0&&(c.min=NaN),c},t.tensorStats=function(e){return a(this,void 0,void 0,r.mark((function t(){var n,a,s,u,c;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.tidy((function(){var t=o.scalar(0,e.dtype);return[e.min(),e.max(),e.equal(t).sum()]})),a=i(n,3),s=a[0],u=a[1],c=a[2],t.abrupt("return",Promise.all([e.data(),s.data(),u.data(),c.data()]).then((function(e){for(var t=i(e,4),n=t[0],r=t[1],a=t[2],o=t[3],s=n.length,u=0,c=0,l=0;l<s;l++){var f=n[l];isNaN(f)?u+=1:isFinite(f)||(c+=1)}var d=r[0],h=a[0];return u===s&&(d=NaN,h=NaN),{numVals:s,numZeros:o[0],numNans:u,min:d,max:h,numInfs:c}})));case 2:case"end":return t.stop()}}),t)})))},t.confusionMatrix=function(e,t,n,u){return a(this,void 0,void 0,r.mark((function a(){var c,l,f;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s.assert(1===e.rank,"labels must be a 1D tensor"),s.assert(1===t.rank,"predictions must be a 1D tensor"),s.assert(e.size===t.size,"labels and predictions must be the same length"),null!=u&&s.assert(u.size===t.size,"labels and predictions must be the same length"),c=e.cast("int32"),l=t.cast("int32"),null==n&&(n=o.tidy((function(){return o.maximum(c.max(),l.max()).cast("int32").dataSync()[0]+1}))),f=Promise.resolve(null),null!=u&&(f=u.data()),r.abrupt("return",Promise.all([c.data(),l.data(),f]).then((function(e){for(var t=i(e,3),r=t[0],a=t[1],o=t[2],s=Array(n).fill(0),u=0;u<n;u++)s[u]=Array(n).fill(0);for(var c=0;c<r.length;c++){var l=r[c],f=a[c];s[l][f]+=null!=o?o[c]:1}return s})));case 10:case"end":return r.stop()}}),a)})))},t.accuracy=function(e,t){return a(this,void 0,void 0,r.mark((function n(){var i,a,u;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s.assertShapesMatch(e.shape,t.shape,"Error computing accuracy."),i=e.equal(t),a=i.mean(),n.next=5,a.data();case 5:return u=n.sent[0],o.dispose([i,a]),n.abrupt("return",u);case 8:case"end":return n.stop()}}),n)})))},t.perClassAccuracy=function(e,t,n){return a(this,void 0,void 0,r.mark((function a(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s.assert(1===e.rank,"labels must be a 1D tensor"),s.assert(1===t.rank,"predictions must be a 1D tensor"),s.assert(e.size===t.size,"labels and predictions must be the same length"),null==n&&(n=o.tidy((function(){return o.maximum(e.max(),t.max()).dataSync()[0]+1}))),r.abrupt("return",Promise.all([e.data(),t.data()]).then((function(e){for(var t=i(e,2),r=t[0],a=t[1],o=Array(n).fill(0),s=Array(n).fill(0),u=0;u<r.length;u++){var c=r[u],l=a[u];o[c]+=1,c===l&&(s[c]+=1)}for(var f=[],d=0;d<o.length;d++)f.push({count:o[d],accuracy:0===o[d]?0:s[d]/o[d]});return f})));case 5:case"end":return r.stop()}}),a)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(99),i=n(419),a=n(147),o=n(68);t.table=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&null==t.headers)throw new Error('Data to render must have a "headers" property');if(t&&null==t.values)throw new Error('Data to render must have a "values" property');var u=o.getDrawArea(e),c=Object.assign({},s,n),l=i.select(u).select("table.tf-table"),f=a.css({fontSize:c.fontSize||".875rem",width:"100%",maxWidth:"64rem",marginRight:"auto",marginLeft:"auto"});if(0===l.size()&&((l=i.select(u).append("table")).attr("class"," ".concat(f," tf-table")),l.append("thead").append("tr"),l.append("tbody")),1!==l.size())throw new Error("Error inserting table");var d=a.css({fontWeight:"600",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )",textAlign:"left",paddingBottom:"1rem",paddingRight:"1rem",backgroundColor:"#fff"}),h=l.select("thead").select("tr").selectAll("th").data(t.headers),p=h.enter().append("th").attr("class","".concat(d));h.merge(p).html((function(e){return e})),h.exit().remove();var m=r.format(",.4~f"),v=l.select("tbody").selectAll("tr").data(t.values),g=v.enter().append("tr"),b=a.css({padding:"0.25rem",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )"}),y=v.merge(g).selectAll("td").data((function(e){return e})),w=y.enter().append("td").attr("class","".concat(b));y.merge(w).html((function(e){return"number"===typeof e?m(e):e})),y.exit().remove(),v.exit().remove()};var s={fontSize:14}},function(e,t,n){"use strict";n.r(t);var r=n(368);n.d(t,"default",(function(){return r.a}))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n.r(t);var r=n(369);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(371);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(421);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(372);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(422);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(373);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(374);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";n.r(t);var r=n(423);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(207);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";(function(t){"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick((function(){e.apply(null,a)}))}}}:e.exports=t}).call(this,n(60))},function(e,t,n){var r=n(24).Buffer;function i(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,n=new Array(t),i=0;i<t;i++)n[i]=e.readUInt32BE(4*i);return n}function a(e){for(;0<e.length;e++)e[0]=0}function o(e,t,n,r,i){for(var a,o,s,u,c=n[0],l=n[1],f=n[2],d=n[3],h=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],v=e[3]^t[3],g=4,b=1;b<i;b++)a=c[h>>>24]^l[p>>>16&255]^f[m>>>8&255]^d[255&v]^t[g++],o=c[p>>>24]^l[m>>>16&255]^f[v>>>8&255]^d[255&h]^t[g++],s=c[m>>>24]^l[v>>>16&255]^f[h>>>8&255]^d[255&p]^t[g++],u=c[v>>>24]^l[h>>>16&255]^f[p>>>8&255]^d[255&m]^t[g++],h=a,p=o,m=s,v=u;return a=(r[h>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&v])^t[g++],o=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[v>>>8&255]<<8|r[255&h])^t[g++],s=(r[m>>>24]<<24|r[v>>>16&255]<<16|r[h>>>8&255]<<8|r[255&p])^t[g++],u=(r[v>>>24]<<24|r[h>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^t[g++],[a>>>=0,o>>>=0,s>>>=0,u>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],i=[[],[],[],[]],a=[[],[],[],[]],o=0,s=0,u=0;u<256;++u){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,n[o]=c,r[c]=o;var l=e[o],f=e[l],d=e[f],h=257*e[c]^16843008*c;i[0][o]=h<<24|h>>>8,i[1][o]=h<<16|h>>>16,i[2][o]=h<<8|h>>>24,i[3][o]=h,h=16843009*d^65537*f^257*l^16843008*o,a[0][c]=h<<24|h>>>8,a[1][c]=h<<16|h>>>16,a[2][c]=h<<8|h>>>24,a[3][c]=h,0===o?o=s=1:(o=l^e[e[e[d^l]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:a}}();function c(e){this._key=i(e),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),i=[],a=0;a<t;a++)i[a]=e[a];for(a=t;a<r;a++){var o=i[a-1];a%t===0?(o=o<<8|o>>>24,o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o],o^=s[a/t|0]<<24):t>6&&a%t===4&&(o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o]),i[a]=i[a-t]^o}for(var c=[],l=0;l<r;l++){var f=r-l,d=i[f-(l%4?0:4)];c[l]=l<4||f<=4?d:u.INV_SUB_MIX[0][u.SBOX[d>>>24]]^u.INV_SUB_MIX[1][u.SBOX[d>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[d>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&d]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(e){return o(e=i(e),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=r.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},c.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var n=o(e,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),a=r.allocUnsafe(16);return a.writeUInt32BE(n[0],0),a.writeUInt32BE(n[3],4),a.writeUInt32BE(n[2],8),a.writeUInt32BE(n[1],12),a},c.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},e.exports.AES=c},function(e,t,n){var r=n(24).Buffer,i=n(268);e.exports=function(e,t,n,a){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=n/8,s=r.alloc(o),u=r.alloc(a||0),c=r.alloc(0);o>0||a>0;){var l=new i;l.update(c),l.update(e),t&&l.update(t),c=l.digest();var f=0;if(o>0){var d=s.length-o;f=Math.min(o,c.length),c.copy(s,d,0,f),o-=f}if(f<c.length&&a>0){var h=u.length-a,p=Math.min(a,c.length-f);c.copy(u,h,f,f+p),a-=p}}return c.fill(0),{key:s,iv:u}}},function(e,t,n){"use strict";var r=n(36),i=n(62),a=i.getNAF,o=i.getJSF,s=i.assert;function u(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),r=a(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;for(var o=[],u=0;u<r.length;u+=n.step){var c=0;for(t=u+n.step-1;t>=u;t--)c=(c<<1)+r[t];o.push(c)}for(var l=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(u=0;u<o.length;u++){(c=o[u])===d?f=f.mixedAdd(n.points[u]):c===-d&&(f=f.mixedAdd(n.points[u].neg()))}l=l.add(f)}return l.toP()},u.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,o=a(t,n,this._bitLength),u=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(t=0;c>=0&&0===o[c];c--)t++;if(c>=0&&t++,u=u.dblp(t),c<0)break;var l=o[c];s(0!==l),u="affine"===e.type?l>0?u.mixedAdd(i[l-1>>1]):u.mixedAdd(i[-l-1>>1].neg()):l>0?u.add(i[l-1>>1]):u.add(i[-l-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,n,r,i){for(var s=this._wnafT1,u=this._wnafT2,c=this._wnafT3,l=0,f=0;f<r;f++){var d=(_=t[f])._getNAFPoints(e);s[f]=d.wnd,u[f]=d.points}for(f=r-1;f>=1;f-=2){var h=f-1,p=f;if(1===s[h]&&1===s[p]){var m=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(m[1]=t[h].add(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].add(t[p].neg())):(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],g=o(n[h],n[p]);l=Math.max(g[0].length,l),c[h]=new Array(l),c[p]=new Array(l);for(var b=0;b<l;b++){var y=0|g[0][b],w=0|g[1][b];c[h][b]=v[3*(y+1)+(w+1)],c[p][b]=0,u[h]=m}}else c[h]=a(n[h],s[h],this._bitLength),c[p]=a(n[p],s[p],this._bitLength),l=Math.max(c[h].length,l),l=Math.max(c[p].length,l)}var x=this.jpoint(null,null,null),O=this._wnafT4;for(f=l;f>=0;f--){for(var k=0;f>=0;){var E=!0;for(b=0;b<r;b++)O[b]=0|c[b][f],0!==O[b]&&(E=!1);if(!E)break;k++,f--}if(f>=0&&k++,x=x.dblp(k),f<0)break;for(b=0;b<r;b++){var _,S=O[b];0!==S&&(S>0?_=u[b][S-1>>1]:S<0&&(_=u[b][-S-1>>1].neg()),x="affine"===_.type?x.mixedAdd(_):x.add(_))}}for(f=0;f<r;f++)u[f]=null;return i?x:x.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*n)return 6===e[0]?s(e[e.length-1]%2===0):7===e[0]&&s(e[e.length-1]%2===1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},c.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},c.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)r=r.dbl();n.push(r)}return{step:e,points:n}},c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},function(e,t,n){var r=n(603),i=n(614),a=n(615),o=n(277),s=n(392),u=n(24).Buffer;function c(e){var t;"object"!==typeof e||u.isBuffer(e)||(t=e.passphrase,e=e.key),"string"===typeof e&&(e=u.from(e));var n,c,l=a(e,t),f=l.tag,d=l.data;switch(f){case"CERTIFICATE":c=r.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=r.PublicKey.decode(d,"der")),n=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=r.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+f);case"ENCRYPTED PRIVATE KEY":d=function(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=i[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,f=parseInt(a.split("-")[1],10)/8,d=s.pbkdf2Sync(t,n,r,f,"sha1"),h=o.createDecipheriv(a,d,c),p=[];return p.push(h.update(l)),p.push(h.final()),u.concat(p)}(d=r.EncryptedPrivateKey.decode(d,"der"),t);case"PRIVATE KEY":switch(n=(c=r.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:r.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=r.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+f);case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=r.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+f)}}e.exports=c,c.signature=r.signature},function(e,t,n){"use strict";var r=n(79);t.a=function(e){return"string"===typeof e?new r.a([[document.querySelector(e)]],[document.documentElement]):new r.a([[e]],r.c)}},function(e,t,n){"use strict";function r(){return[]}t.a=function(e){return null==e?r:function(){return this.querySelectorAll(e)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return this.matches(e)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(130);function i(e){return function(){this.style.removeProperty(e)}}function a(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function s(e,t){return e.style.getPropertyValue(t)||Object(r.a)(e).getComputedStyle(e,null).getPropertyValue(t)}t.a=function(e,t,n){return arguments.length>1?this.each((null==t?i:"function"===typeof t?o:a)(e,t,null==n?"":n)):s(this.node(),e)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return oe})),n.d(t,"c",(function(){return se})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return ue}));var r,i,a,o=n(2),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function u(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(a=r||(r={}))[a.DT_INVALID=0]="DT_INVALID",a[a.DT_FLOAT=1]="DT_FLOAT",a[a.DT_DOUBLE=2]="DT_DOUBLE",a[a.DT_INT32=3]="DT_INT32",a[a.DT_UINT8=4]="DT_UINT8",a[a.DT_INT16=5]="DT_INT16",a[a.DT_INT8=6]="DT_INT8",a[a.DT_STRING=7]="DT_STRING",a[a.DT_COMPLEX64=8]="DT_COMPLEX64",a[a.DT_INT64=9]="DT_INT64",a[a.DT_BOOL=10]="DT_BOOL",a[a.DT_QINT8=11]="DT_QINT8",a[a.DT_QUINT8=12]="DT_QUINT8",a[a.DT_QINT32=13]="DT_QINT32",a[a.DT_BFLOAT16=14]="DT_BFLOAT16",a[a.DT_FLOAT_REF=101]="DT_FLOAT_REF",a[a.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",a[a.DT_INT32_REF=103]="DT_INT32_REF",a[a.DT_UINT8_REF=104]="DT_UINT8_REF",a[a.DT_INT16_REF=105]="DT_INT16_REF",a[a.DT_INT8_REF=106]="DT_INT8_REF",a[a.DT_STRING_REF=107]="DT_STRING_REF",a[a.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",a[a.DT_INT64_REF=109]="DT_INT64_REF",a[a.DT_BOOL_REF=110]="DT_BOOL_REF",a[a.DT_QINT8_REF=111]="DT_QINT8_REF",a[a.DT_QUINT8_REF=112]="DT_QUINT8_REF",a[a.DT_QINT32_REF=113]="DT_QINT32_REF",a[a.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(i||(i={}));var l={};function f(e,t){var n={tfOpName:e,category:"custom",inputs:[],attrs:[],customExecutor:t};l[e]=n}function d(e){return l[e]}function h(e){delete l[e]}function p(e,t,n,r){var i=t.inputParams[e];if(i&&void 0!==i.inputIndexStart){var a=i.inputIndexStart,o=0===i.inputIndexEnd?void 0:void 0===i.inputIndexEnd?a+1:i.inputIndexEnd;if("tensor"===i.type)return m(t.inputNames[i.inputIndexStart],n,r);if("tensors"===i.type)return t.inputNames.slice(a,o).map((function(e){return m(e,n,r)}));var s=Array.prototype.slice.call(m(t.inputNames.slice(a)[0],n,r).dataSync());return"number"===i.type?s[0]:s}var u=t.attrParams[e];return u&&u.value}function m(e,t,n){var r=b(e),i=r[0],a=r[1],o=n.currentContextIds.find((function(e){return!!t[g(i,e)]}));return void 0!==o?t[g(i,o)][a]:void 0}function v(e,t){var n=b(e),r=n[0],i=n[1];return[g(r,t&&t.currentContextId),i]}function g(e,t){return t?e+"-"+t:e}function b(e){var t=e.lastIndexOf(":");return-1===t?[e,0]:[e.substring(0,t),Number(e.substring(t+1))]}function y(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}var w=Object.freeze({json:[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),x=Object.freeze({json:[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"clip_value_min",name:"clipValueMin",type:"number"},{tfName:"clip_value_max",name:"clipValueMax",type:"number"}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"clipValueMin",name:"clipValueMin",type:"number",defaultValue:0},{tfName:"clipValueMax",name:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),O=Object.freeze({json:[{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"}]}]}),k=Object.freeze({json:[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]}]}),E=Object.freeze({json:[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]}),_=Object.freeze({json:[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),S=Object.freeze({json:[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]}]}),j=Object.freeze({json:[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]}),C=Object.freeze({json:[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}]}),A=Object.freeze({json:[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),T=Object.freeze({json:[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),N=Object.freeze({json:[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}]}),R=Object.freeze({json:[{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]}]}),M=Object.freeze({json:[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool",notSupported:!0}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}]}),D=Object.freeze({json:[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]}),I=Object.freeze({json:[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]}]}),F=function(){function e(){var e=[w,x,O,k,E,_,S,A,C,j,T,N,R,M,D,I],t=[].concat.apply([],e.map((function(e){return e.json})));this.opMappers=t.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return Object.defineProperty(e,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),e.prototype.transformGraph=function(e,t){var n=this;void 0===t&&(t={});var r=[],i=[],a=e.node.reduce((function(e,t){return e[t.name]=n.mapNode(t),t.op.startsWith("Placeholder")&&r.push(e[t.name]),"Const"===t.op&&i.push(e[t.name]),e}),{}),o=[],s=[],u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));var l=Object.keys(a);return l.forEach((function(e){var t=a[e];t.inputNames.forEach((function(e){var n=v(e)[0];t.inputs.push(a[n]),a[n].children.push(t)}))})),0===Object.keys(c).length?l.forEach((function(e){var t=a[e];0===t.children.length&&s.push(t)})):Object.keys(c).forEach((function(e){var t=v(e)[0],n=a[t];null!=n&&(n.signatureKey=c[e],s.push(n))})),Object.keys(u).length>0?Object.keys(u).forEach((function(e){var t=v(e)[0],n=a[t];n&&(n.signatureKey=u[e],o.push(n))})):o=r,{nodes:a,inputs:o,outputs:s,weights:i,placeholders:r,signature:t}},e.prototype.mapSignatureEntries=function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})},e.prototype.mapNode=function(e){var t=d(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.substr(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,i=void 0;switch(n.type){case"string":void 0===(i=z(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=z(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(i=$(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=$(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(i=B(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(i=B(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(i=G(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=G(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(i=L(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=L(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(i=X(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=X(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(i=H(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=H(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(i=K(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=K(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(i=W(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=W(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(i=V(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=V(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+n.type+" for op: "+e.op)}return t[n.name]={value:i,type:r},t}),{})),n},e}();function P(t,n){var r=Array.isArray(t)?String.fromCharCode.apply(null,t):function(t){var n=Object(o.Wb)().global;if(void 0!==n.atob)return n.atob(t);if("undefined"!=typeof e)return new e(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(t);return n?r:r.toLowerCase()}function z(e,t,n,r){void 0===r&&(r=!1);var i=e[t];return null!=i?P(i.s,r):n}function L(e,t,n){var r=e[t];return r?r.b:n}function B(e,t,n){var r=e[t]||{},i=null!=r.i?r.i:null!=r.f?r.f:n;return"number"==typeof i?i:parseInt(i,10)}function U(e){switch("string"==typeof e&&(e=r[e]),e){case r.DT_FLOAT:return"float32";case r.DT_INT32:case r.DT_INT64:case r.DT_INT8:case r.DT_UINT8:return"int32";case r.DT_BOOL:return"bool";case r.DT_DOUBLE:return"float32";case r.DT_STRING:return"string";default:return null}}function W(e,t,n){var r=e[t];return r&&r.type?U(r.type):n}function V(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return U(e)})):n}function q(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"==typeof e.size?e.size:parseInt(e.size,10)})):[]}function H(e,t,n){var r=e[t];return r&&r.shape?q(r.shape):n}function G(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"==typeof e?e:parseInt(e,10)})):n}function $(e,t,n,r){void 0===r&&(r=!1);var i=e[t];return i&&i.list&&i.list.s?i.list.s.map((function(e){return P(e,r)})):n}function K(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return q(e)})):n}function X(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var Y=function(){function e(e,t,n){var r=this;this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((function(e){return r.getInput(e)})),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce((function(e,t){return e[t]=r.getAttr(t),e}),{}))}return e.prototype.getInput=function(e){return m(e,this.tensorMap,this.context)},e.prototype.getAttr=function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return m(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return B(this.node.rawAttrs,e,t);if(null!=n.s)return z(this.node.rawAttrs,e,t);if(null!=n.b)return L(this.node.rawAttrs,e,t);if(null!=n.shape)return H(this.node.rawAttrs,e,t);if(null!=n.type)return W(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return G(this.node.rawAttrs,e,t);if(null!=n.list.s)return $(this.node.rawAttrs,e,t);if(null!=n.list.shape)return K(this.node.rawAttrs,e,t);if(null!=n.list.b)return X(this.node.rawAttrs,e,t);if(null!=n.list.type)return V(this.node.rawAttrs,e,t)}return t},e}(),Z=function(){function e(t,n,r,i,a,o,s){this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=i,this.identicalElementShapes=a,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.id=e.nextId++}return Object.defineProperty(e.prototype,"closed",{get:function(){return this.closed_},enumerable:!0,configurable:!0}),e.prototype.clearAndClose=function(){this.tensors.forEach((function(e){return e.tensor.dispose()})),this.tensors=[],this.closed_=!0},e.prototype.size=function(){return this.tensors.length},e.prototype.read=function(e){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||e>=this.tensors.length)throw new Error("Tried to read from index "+e+", but array size is: "+this.tensors.length);var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray "+this.name+": Could not read index "+e+" twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor},e.prototype.readMany=function(e){var t=this;return e.map((function(e){return t.read(e)}))},e.prototype.write=function(e,t){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index "+e+", but array is not resizeable and size is: "+this.maxSize);var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+",\n          because the value dtype is "+t.dtype+", but TensorArray dtype is "+this.dtype+".");if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),this.assertShapesMatchAllowUndefinedSize(this.elementShape,t.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+e+"."),n&&n.read)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been read.");if(n&&n.written)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been written.");n.tensor=t,n.written=!0,this.tensors[e]=n},e.prototype.writeMany=function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray "+this.name+": could not write multiple tensors,because the index size: "+e.length+" is not the same as tensors size: "+t.length+".");e.forEach((function(e,r){return n.write(e,t[r])}))},e.prototype.gather=function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+t);if(!e){e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return Object(o.gf)([],[0].concat(this.elementShape));var r=this.readMany(e);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Object(o.We)(r,0)},e.prototype.concat=function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+e);if(0===this.size())return Object(o.gf)([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+r[0].shape+")"),Object(o.sb)(r,0)},e.prototype.scatter=function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+e.length+" vs. "+t.shape[0]);var n=Math.max.apply(Math,e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size ("+n+"  vs. "+this.maxSize+")");this.writeMany(e,Object(o.zf)(t,0))},e.prototype.split=function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);var r=0,i=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        "+r+", and tensor's shape is: "+t.shape);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+e.length+"), and the TensorArray is not marked as dynamically resizeable");var a=0===r?0:t.size/r,s=[];Object(o.pf)((function(){t=t.reshape([1,r,a]);for(var u=0;u<e.length;++u){var c=[0,0===u?0:i[u-1],0],l=[1,e[u],a];s[u]=Object(o.Fe)(t,c,l).reshape(n.elementShape)}return s}));for(var u=[],c=0;c<e.length;c++)u[c]=c;this.writeMany(u,s)},e.prototype.assertShapesMatchAllowUndefinedSize=function(e,t,n){void 0===n&&(n=""),o.Af.assert(this.shapesEqualAllowUndefinedSize(e,t),(function(){return n+" Shapes "+e+" and "+t+" must match"}))},e.prototype.shapesEqualAllowUndefinedSize=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(-1!==e[n]&&-1!==t[n]&&e[n]!==t[n])return!1;return!0},e.nextId=0,e}();function J(e,t,n){var r=function(e,t,n){switch(e.category){case"arithmetic":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[Object(o.J)(p("a",e,t,n),p("b",e,t,n))];case"AddN":return[Object(o.K)(p("tensors",e,t,n))];case"FloorMod":case"Mod":return[Object(o.qd)(p("a",e,t,n),p("b",e,t,n))];case"Mul":return[Object(o.ud)(p("a",e,t,n),p("b",e,t,n))];case"RealDiv":case"Div":return[Object(o.Nb)(p("a",e,t,n),p("b",e,t,n))];case"DivNoNan":return[Object(o.Ob)(p("a",e,t,n),p("b",e,t,n))];case"FloorDiv":return[Object(o.jc)(p("a",e,t,n),p("b",e,t,n))];case"Sub":return[Object(o.af)(p("a",e,t,n),p("b",e,t,n))];case"Minimum":return[Object(o.od)(p("a",e,t,n),p("b",e,t,n))];case"Maximum":return[Object(o.jd)(p("a",e,t,n),p("b",e,t,n))];case"Pow":return[Object(o.Od)(p("a",e,t,n),p("b",e,t,n))];case"SquaredDifference":return[Object(o.Te)(p("a",e,t,n),p("b",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"basic_math":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"Abs":case"ComplexAbs":return[Object(o.G)(p("x",e,t,n))];case"Acos":return[Object(o.H)(p("x",e,t,n))];case"Acosh":return[Object(o.I)(p("x",e,t,n))];case"Asin":return[Object(o.Q)(p("x",e,t,n))];case"Asinh":return[Object(o.R)(p("x",e,t,n))];case"Atan":return[Object(o.S)(p("x",e,t,n))];case"Atan2":return[Object(o.T)(p("x",e,t,n),p("y",e,t,n))];case"Atanh":return[Object(o.U)(p("x",e,t,n))];case"Ceil":return[Object(o.ob)(p("x",e,t,n))];case"Complex":return[Object(o.rb)(p("real",e,t,n),p("imag",e,t,n))];case"Cos":return[Object(o.Cb)(p("x",e,t,n))];case"Cosh":return[Object(o.Db)(p("x",e,t,n))];case"Elu":return[Object(o.Sb)(p("x",e,t,n))];case"Erf":return[Object(o.Zb)(p("x",e,t,n))];case"Exp":return[Object(o.ac)(p("x",e,t,n))];case"Expm1":return[Object(o.cc)(p("x",e,t,n))];case"Floor":return[Object(o.ic)(p("x",e,t,n))];case"Log":return[Object(o.Tc)(p("x",e,t,n))];case"Log1p":return[Object(o.Uc)(p("x",e,t,n))];case"Imag":return[Object(o.Cc)(p("x",e,t,n))];case"Neg":return[Object(o.yd)(p("x",e,t,n))];case"Reciprocal":return[Object(o.be)(p("x",e,t,n))];case"Real":return[Object(o.ae)(p("x",e,t,n))];case"Relu":return[Object(o.fe)(p("x",e,t,n))];case"Round":return[Object(o.pe)(p("x",e,t,n))];case"Selu":return[Object(o.ue)(p("x",e,t,n))];case"Sigmoid":return[Object(o.Ae)(p("x",e,t,n))];case"Sin":return[Object(o.De)(p("x",e,t,n))];case"Sign":return[Object(o.Be)(p("x",e,t,n))];case"Sinh":return[Object(o.Ee)(p("x",e,t,n))];case"Softplus":return[Object(o.Me)(p("x",e,t,n))];case"Sqrt":return[Object(o.Re)(p("x",e,t,n))];case"Square":return[Object(o.Se)(p("x",e,t,n))];case"Tanh":return[Object(o.ff)(p("x",e,t,n))];case"Tan":return[Object(o.ef)(p("x",e,t,n))];case"Relu6":case"ClipByValue":return[Object(o.pb)(p("x",e,t,n),p("clipValueMin",e,t,n),p("clipValueMax",e,t,n))];case"Rsqrt":return[Object(o.qe)(m(e.inputNames[0],t,n))];case"Prod":return[Object(o.Sd)(p("x",e,t,n),p("axes",e,t,n))];case"LeakyRelu":return[Object(o.Lc)(p("x",e,t,n),p("alpha",e,t,n))];case"Prelu":return[Object(o.Qd)(p("x",e,t,n),p("alpha",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"control":return function(e,t,n){return u(void 0,void 0,void 0,(function(){var r,i,a,s,u,l,f,d,h,v,g,b,y,w,x,O,k,E,_,S,j,C,A,T,N,R,M,D,I,F,P,z,L,B,U;return c(this,(function(c){switch(c.label){case 0:switch(e.op){case"LoopCond":return[3,1];case"Switch":return[3,2];case"Merge":return[3,4];case"Enter":return[3,5];case"Exit":return[3,6];case"NextIteration":return[3,7];case"TensorArrayV3":return[3,8];case"TensorArrayWriteV3":return[3,9];case"TensorArrayReadV3":return[3,10];case"TensorArrayGatherV3":return[3,11];case"TensorArrayScatterV3":return[3,12];case"TensorArrayConcatV3":return[3,13];case"TensorArraySplitV3":return[3,14];case"TensorArraySizeV3":return[3,15];case"TensorArrayCloseV3":return[3,16]}return[3,17];case 1:return[2,[p("pred",e,t,n).clone()]];case 2:return r=p("pred",e,t,n),i=p("data",e,t,n),[4,r.data()];case 3:return[2,c.sent()[0]?[void 0,i.clone()]:[i.clone(),void 0]];case 4:return[2,(a=e.inputNames.find((function(e){return void 0!==m(e,t,n)})))?[m(a,t,n).clone()]:void 0];case 5:return s=p("frameName",e,t,n),u=p("tensor",e,t,n),n.enterFrame(s),[2,[u.clone()]];case 6:return l=p("tensor",e,t,n),n.exitFrame(),[2,[l.clone()]];case 7:return f=p("tensor",e,t,n),n.nextIteration(),[2,[f.clone()]];case 8:return d=p("size",e,t,n),h=p("dtype",e,t,n),v=p("elementShape",e,t,n),g=p("dynamicSize",e,t,n),b=p("clearAfterRead",e,t,n),y=p("identicalElementShapes",e,t,n),w=p("name",e,t,n),x=new Z(w,h,d,v,y,g,b),n.addTensorArray(x),[2,[Object(o.re)(x.id),Object(o.re)(1)]];case 9:return O=p("tensorArrayId",e,t,n),k=p("index",e,t,n),E=p("tensor",e,t,n),n.getTensorArray(O).write(k,E),[2,[Object(o.re)(1)]];case 10:return _=p("tensorArrayId",e,t,n),S=p("index",e,t,n),[2,[n.getTensorArray(_).read(S)]];case 11:return j=p("tensorArrayId",e,t,n),C=p("indices",e,t,n),A=p("dtype",e,t,n),[2,[n.getTensorArray(j).gather(C,A)]];case 12:return T=p("tensorArrayId",e,t,n),N=p("indices",e,t,n),R=p("tensor",e,t,n),n.getTensorArray(T).scatter(N,R),[2,[Object(o.re)(1)]];case 13:return M=p("tensorArrayId",e,t,n),D=n.getTensorArray(M),I=p("dtype",e,t,n),[2,[D.concat(I)]];case 14:return F=p("tensorArrayId",e,t,n),P=p("tensor",e,t,n),z=p("lengths",e,t,n),n.getTensorArray(F).split(z,P),[2,[Object(o.re)(1)]];case 15:return L=p("tensorArrayId",e,t,n),B=n.getTensorArray(L),[2,[Object(o.re)(B.size(),"int32")]];case 16:return U=p("tensorArrayId",e,t,n),n.getTensorArray(U).clearAndClose(),[2,[Object(o.re)(0)]];case 17:throw TypeError("Node type "+e.op+" is not implemented")}}))}))}(e,t,n);case"convolution":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"Conv1D":var r=p("stride",e,t,n),i=p("pad",e,t,n),a=p("dataFormat",e,t,n).toUpperCase(),s=p("dilation",e,t,n);return[Object(o.xb)(p("x",e,t,n),p("filter",e,t,n),r,i,a,s)];case"Conv2D":r=p("strides",e,t,n),i=p("pad",e,t,n),a=p("dataFormat",e,t,n).toUpperCase();var u=p("dilations",e,t,n);return[Object(o.yb)(p("x",e,t,n),p("filter",e,t,n),[r[1],r[2]],i,a,[u[1],u[2]])];case"_FusedConv2D":case"FusedDepthwiseConv2dNative":var c=p("fusedOps",e,t,n),l=c[0],f=c[1],d="biasadd"===l,h="prelu"===f,m="fusedbatchnorm"===l,v=p("numArgs",e,t,n);if(d){if(h&&2!==v)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!h&&1!==v)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(m)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported.");r=p("strides",e,t,n),i=p("pad",e,t,n),a=p("dataFormat",e,t,n).toUpperCase(),u=p("dilations",e,t,n);var g=p("args",e,t,n),b=g[0],y=g[1];return[("_FusedConv2D"===e.op?o.lc.conv2d:o.lc.depthwiseConv2d)({x:p("x",e,t,n),filter:p("filter",e,t,n),strides:[r[1],r[2]],pad:i,dataFormat:a,dilations:[u[1],u[2]],bias:b,activation:f,preluActivationWeights:y})];case"Conv2DBackpropInput":case"Conv2dTranspose":var w=p("outputShape",e,t,n);return r=p("strides",e,t,n),i=p("pad",e,t,n),[Object(o.zb)(p("x",e,t,n),p("filter",e,t,n),w,[r[1],r[2]],i)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":return r=p("strides",e,t,n),i=p("pad",e,t,n),u=p("dilations",e,t,n),a=p("dataFormat",e,t,n).toUpperCase(),[Object(o.Ib)(p("input",e,t,n),p("filter",e,t,n),[r[1],r[2]],i,a,[u[1],u[2]])];case"Conv3D":return r=p("strides",e,t,n),i=p("pad",e,t,n),a=p("dataFormat",e,t,n).toUpperCase(),u=p("dilations",e,t,n),[Object(o.Ab)(p("x",e,t,n),p("filter",e,t,n),[r[1],r[2],r[3]],i,a,[u[1],u[2],u[3]])];case"AvgPool":r=p("strides",e,t,n),i=p("pad",e,t,n);var x=p("kernelSize",e,t,n);return[Object(o.V)(p("x",e,t,n),[x[1],x[2]],[r[1],r[2]],i)];case"MaxPool":return r=p("strides",e,t,n),i=p("pad",e,t,n),x=p("kernelSize",e,t,n),[Object(o.gd)(p("x",e,t,n),[x[1],x[2]],[r[1],r[2]],i)];case"MaxPoolWithArgmax":r=p("strides",e,t,n),i=p("pad",e,t,n),x=p("kernelSize",e,t,n);var O=p("includeBatchInIndex",e,t,n),k=Object(o.id)(p("x",e,t,n),[x[1],x[2]],[r[1],r[2]],i,O);return[k.result,k.indexes];case"AvgPool3D":return r=p("strides",e,t,n),i=p("pad",e,t,n),x=p("kernelSize",e,t,n),[Object(o.W)(p("x",e,t,n),[x[1],x[2],x[3]],[r[1],r[2],r[3]],i)];case"MaxPool3D":return r=p("strides",e,t,n),i=p("pad",e,t,n),x=p("kernelSize",e,t,n),[Object(o.hd)(p("x",e,t,n),[x[1],x[2],x[3]],[r[1],r[2],r[3]],i)];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"creation":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"Fill":var r=p("shape",e,t,n),i=p("dtype",e,t,n),a=p("value",e,t,n);return[Object(o.fc)(r,a,i)];case"LinSpace":var s=p("start",e,t,n),u=p("stop",e,t,n),c=p("num",e,t,n);return[Object(o.Rc)(s,u,c)];case"Multinomial":var l=p("logits",e,t,n),f=p("numSamples",e,t,n),d=p("seed",e,t,n);return[Object(o.xd)(l,f,d)];case"OneHot":var h=p("indices",e,t,n),m=p("depth",e,t,n),v=p("onValue",e,t,n),g=p("offValue",e,t,n);return[Object(o.Dd)(h,m,v,g)];case"Ones":return[Object(o.Ed)(p("shape",e,t,n),p("dtype",e,t,n))];case"OnesLike":return[Object(o.Fd)(p("x",e,t,n))];case"RandomUniform":return[Object(o.Xd)(p("shape",e,t,n),p("minval",e,t,n),p("maxval",e,t,n),p("dtype",e,t,n))];case"Range":s=p("start",e,t,n);var b=p("stop",e,t,n),y=p("step",e,t,n);return[Object(o.Yd)(s,b,y,p("dtype",e,t,n))];case"TruncatedNormal":r=p("shape",e,t,n);var w=p("mean",e,t,n),x=p("stdDev",e,t,n);return d=p("seed",e,t,n),[Object(o.vf)(r,w,x,p("dtype",e,t,n),d)];case"Zeros":return[Object(o.Jf)(p("shape",e,t,n),p("dtype",e,t,n))];case"ZerosLike":return[Object(o.Kf)(p("x",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"dynamic":return function(e,t,n){return u(void 0,void 0,void 0,(function(){var r,i,a,s,u,l,f,d;return c(this,(function(c){switch(c.label){case 0:switch(e.op){case"NonMaxSuppressionV5":case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":return[3,1];case"Where":return[3,5];case"ListDiff":return[3,7]}return[3,8];case 1:return r=p("boxes",e,t,n),i=p("scores",e,t,n),a=p("maxOutputSize",e,t,n),s=p("iouThreshold",e,t,n),u=p("scoreThreshold",e,t,n),"NonMaxSuppressionV5"!==e.op?[3,3]:(l=p("softNmsSigma",e,t,n),[4,o.Dc.nonMaxSuppressionWithScoreAsync(r,i,a,s,u,l)]);case 2:return[2,[(d=c.sent()).selectedIndices,d.selectedScores]];case 3:return[4,o.Dc.nonMaxSuppressionAsync(r,i,a,s,u)];case 4:return[2,[c.sent()]];case 5:return f=p("condition",e,t,n).asType("bool"),[4,Object(o.If)(f)];case 6:return d=[c.sent()],f.dispose(),[2,d];case 7:return[2,Object(o.ze)(p("x",e,t,n),p("y",e,t,n))];case 8:throw TypeError("Node type "+e.op+" is not implemented")}}))}))}(e,t,n);case"evaluation":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"TopKV2":var r=p("x",e,t,n),i=p("k",e,t,n),a=p("sorted",e,t,n),s=Object(o.sf)(r,i,a);return[s.values,s.indices];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"image":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"ResizeBilinear":var r=p("images",e,t,n),i=p("size",e,t,n),a=p("alignCorners",e,t,n);return[o.Dc.resizeBilinear(r,[i[0],i[1]],a)];case"ResizeNearestNeighbor":return r=p("images",e,t,n),i=p("size",e,t,n),a=p("alignCorners",e,t,n),[o.Dc.resizeNearestNeighbor(r,[i[0],i[1]],a)];case"CropAndResize":var s=p("image",e,t,n),u=p("boxes",e,t,n),c=p("boxInd",e,t,n),l=p("cropSize",e,t,n),f=p("method",e,t,n),d=p("extrapolationValue",e,t,n);return[o.Dc.cropAndResize(s,u,c,l,f,d)];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"graph":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var r=p("default",e,t,n);return[m(e.name,t,n)||r];case"Placeholder":return[m(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":return[p("x",e,t,n).clone()];case"IdentityN":return p("x",e,t,n).map((function(e){return e.clone()}));case"Snapshot":return[p("x",e,t,n).clone()];case"Shape":return[Object(o.hf)(p("x",e,t,n).shape,"int32")];case"ShapeN":return p("x",e,t,n).map((function(e){return Object(o.hf)(e.shape)}));case"Size":return[Object(o.re)(p("x",e,t,n).size,"int32")];case"Rank":return[Object(o.re)(p("x",e,t,n).rank,"int32")];case"NoOp":return[Object(o.re)(1)];case"Print":var i=p("x",e,t,n),a=p("data",e,t,n),s=p("message",e,t,n),u=p("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(var c=0;c<a.length;c++)console.log(Array.prototype.slice.call(a[c].dataSync()).slice(0,u));return[i];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"logical":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"Equal":return[Object(o.Xb)(p("a",e,t,n),p("b",e,t,n))];case"NotEqual":return[Object(o.Bd)(p("a",e,t,n),p("b",e,t,n))];case"Greater":return[Object(o.vc)(p("a",e,t,n),p("b",e,t,n))];case"GreaterEqual":return[Object(o.wc)(p("a",e,t,n),p("b",e,t,n))];case"Less":return[Object(o.Mc)(p("a",e,t,n),p("b",e,t,n))];case"LessEqual":return[Object(o.Nc)(p("a",e,t,n),p("b",e,t,n))];case"LogicalAnd":return[Object(o.Yc)(p("a",e,t,n),p("b",e,t,n))];case"LogicalNot":return[Object(o.Zc)(p("a",e,t,n))];case"LogicalOr":return[Object(o.ad)(p("a",e,t,n),p("b",e,t,n))];case"Select":return[Object(o.Hf)(p("condition",e,t,n),p("a",e,t,n),p("b",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"matrices":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[Object(o.dd)(p("a",e,t,n),p("b",e,t,n),p("transposeA",e,t,n),p("transposeB",e,t,n))];case"Transpose":return[Object(o.uf)(p("x",e,t,n),p("perm",e,t,n))];case"_FusedMatMul":var r=p("fusedOps",e,t,n),i=r[0],a=r[1],s="biasadd"===i,u="prelu"===a,c=p("numArgs",e,t,n);if(s){if(u&&2!==c)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&1!==c)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var l=p("args",e,t,n),f=l[0],d=l[1];return[o.lc.matMul({a:p("a",e,t,n),b:p("b",e,t,n),transposeA:p("transposeA",e,t,n),transposeB:p("transposeB",e,t,n),bias:f,activation:a,preluActivationWeights:d})];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"normalization":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[Object(o.ab)(p("x",e,t,n),p("mean",e,t,n),p("variance",e,t,n),p("offset",e,t,n),p("scale",e,t,n),p("epsilon",e,t,n))];case"LRN":return[Object(o.Sc)(p("x",e,t,n),p("radius",e,t,n),p("bias",e,t,n),p("alpha",e,t,n),p("beta",e,t,n))];case"Softmax":return[Object(o.Le)(p("x",e,t,n))];case"LogSoftmax":return[Object(o.Wc)(p("x",e,t,n))];case"SparseToDense":return[Object(o.Oe)(p("sparseIndices",e,t,n),p("outputShape",e,t,n),p("sparseValues",e,t,n),p("defaultValue",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"reduction":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"Max":var r=p("axis",e,t,n),i=p("keepDims",e,t,n);return[Object(o.fd)(p("x",e,t,n),r,i)];case"Mean":return r=p("axis",e,t,n),i=p("keepDims",e,t,n),[Object(o.ld)(p("x",e,t,n),r,i)];case"Min":return r=p("axis",e,t,n),i=p("keepDims",e,t,n),[Object(o.nd)(p("x",e,t,n),r,i)];case"Sum":return r=p("axis",e,t,n),i=p("keepDims",e,t,n),[Object(o.cf)(p("x",e,t,n),r,i)];case"All":return r=p("axis",e,t,n),i=p("keepDims",e,t,n),[Object(o.M)(p("x",e,t,n),r,i)];case"Any":return r=p("axis",e,t,n),i=p("keepDims",e,t,n),[Object(o.N)(p("x",e,t,n),r,i)];case"ArgMax":return r=p("axis",e,t,n),[Object(o.O)(p("x",e,t,n),r)];case"ArgMin":return r=p("axis",e,t,n),[Object(o.P)(p("x",e,t,n),r)];case"Prod":return r=p("axis",e,t,n),i=p("keepDims",e,t,n),[Object(o.Sd)(p("x",e,t,n),r,i)];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"slice_join":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"ConcatV2":case"Concat":var r=p("n",e,t,n),i=p("axis",e,t,n),a=p("tensors",e,t,n);return a=a.slice(0,r),[Object(o.sb)(a,i)];case"GatherV2":case"Gather":i=p("axis",e,t,n);var s=p("x",e,t,n),u=p("indices",e,t,n);return[Object(o.mc)(s,u.asType("int32"),i)];case"ReverseV2":case"Reverse":return i=p("axis",e,t,n),s=p("x",e,t,n),[Object(o.je)(s,i)];case"Slice":var c=p("begin",e,t,n),l=p("size",e,t,n);return[Object(o.Fe)(p("x",e,t,n),c,l)];case"StridedSlice":c=p("begin",e,t,n);var f=p("end",e,t,n),d=p("strides",e,t,n),h=p("beginMask",e,t,n),m=p("endMask",e,t,n),v=p("ellipsisMask",e,t,n),g=p("newAxisMask",e,t,n),b=p("shrinkAxisMask",e,t,n),y=p("x",e,t,n);if(1===c.length&&y.shape.length>1)for(var w=1;w<y.shape.length;w++)c.push(0),f.push(y.shape[w]),d.push(d[0]);return[Object(o.Ze)(y,c,f,d,h,m,v,g,b)];case"Pack":return Object(o.pf)((function(){var r=p("axis",e,t,n),i=p("tensors",e,t,n),a=i[0].shape,s=i[0].squeeze().shape,u=i.map((function(e){var t=o.Af.arraysEqual(e.shape,a);if(!t&&!o.Af.arraysEqual(e.squeeze().shape,s))throw new Error("the input tensors shape does not match");return t?e:e.reshape(a)}));return[Object(o.We)(u,r)]}));case"Unpack":return Object(o.pf)((function(){var r=p("axis",e,t,n),i=p("tensor",e,t,n);return Object(o.zf)(i,r)}));case"Tile":var x=p("reps",e,t,n);return[Object(o.qf)(p("x",e,t,n),x)];case"Split":case"SplitV":i=p("axis",e,t,n);var O=p("numOrSizeSplits",e,t,n);return Object(o.Qe)(p("x",e,t,n),O,i);case"ScatterNd":u=p("indices",e,t,n);var k=p("values",e,t,n),E=p("shape",e,t,n);return[Object(o.se)(u,k,E)];case"GatherNd":var _=p("x",e,t,n);return u=p("indices",e,t,n),[Object(o.nc)(_,u)];case"SparseToDense":u=p("sparseIndices",e,t,n),E=p("outputShape",e,t,n);var S=p("sparseValues",e,t,n),j=p("defaultValue",e,t,n);return[Object(o.Oe)(u,S,E,S.dtype===j.dtype?j:j.asType(S.dtype))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"spectral":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"FFT":return[Object(o.ec)(p("x",e,t,n))];case"IFFT":return[Object(o.Bc)(p("x",e,t,n))];case"RFFT":return[Object(o.oe)(p("x",e,t,n))];case"IRFFT":return[Object(o.Gc)(p("x",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"transformation":return Object(o.pf)((function(){return function(e,t,n){switch(e.op){case"Cast":return[Object(o.nb)(p("x",e,t,n),p("dtype",e,t,n))];case"ExpandDims":var r=p("axis",e,t,n);return[Object(o.bc)(p("x",e,t,n),r)];case"Squeeze":return r=p("axis",e,t,n),[Object(o.Ve)(p("x",e,t,n),r)];case"Reshape":return[Object(o.ie)(p("x",e,t,n),p("shape",e,t,n))];case"PadV2":case"Pad":return[Object(o.Id)(p("x",e,t,n),y(p("padding",e,t,n),2),p("constantValue",e,t,n))];case"SpaceToBatchND":var i=p("blockShape",e,t,n),a=y(p("paddings",e,t,n),2);return[Object(o.Ne)(p("x",e,t,n),i,a)];case"BatchToSpaceND":i=p("blockShape",e,t,n);var s=y(p("crops",e,t,n),2);return[Object(o.ib)(p("x",e,t,n),i,s)];case"DepthToSpace":var u=p("blockSize",e,t,n),c=p("dataFormat",e,t,n).toUpperCase();return[Object(o.Hb)(p("x",e,t,n),u,c)];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"custom":var r=d(e.op);if(r&&r.customExecutor)return r.customExecutor(new Y(e,t,n));throw TypeError("Custom op "+e.op+" is not registered.");default:throw TypeError("Unknown op '"+e.op+"'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return r instanceof Promise?r.then((function(e){return[].concat(e)})):[].concat(r)}var Q=function(){function e(e,t){this.weightMap=e,this.tensorArrayMap=t,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return e.prototype.newFrame=function(e,t){return{id:e,frameName:t,iterationId:0}},Object.defineProperty(e.prototype,"currentContext",{get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),e.prototype.generateCurrentContextIds=function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e},e.prototype.contextIdforContexts=function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":e.frameName+"-"+e.iterationId})).join("/"):""},e.prototype.enterFrame=function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},e.prototype.exitFrame=function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()},e.prototype.nextIteration=function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))},e.prototype.getWeight=function(e){return this.weightMap[e]},e.prototype.addTensorArray=function(e){this.tensorArrayMap[e.id]=e},e.prototype.getTensorArray=function(e){return this.tensorArrayMap[e]},e}();function ee(e,t,n){for(var r=new Set,i=[],a=null,o=null,s=new Set,u=Object.keys(e).map((function(e){return b(e)[0]})),c=t.slice();c.length>0;){var l=c.pop();(re(l)||ie(l))&&null==a&&(o=(a=l).children.map((function(e){return e.name})).filter((function(e){return r.has(e)}))),r.add(l.name),null==n[l.name]&&-1===u.indexOf(l.name)&&(0!==l.inputs.length?l.inputs.forEach((function(e){s.has(e.name)||(s.add(e.name),c.push(e))})):i.push(l.name))}return{inputs:e,outputs:t,usedNodes:r,missingInputs:i,dynamicNode:a,syncInputs:o}}var te=["Switch","Merge","Enter","Exit","NextIteration"],ne=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"];function re(e){return te.indexOf(e.op)>=0}function ie(e){return ne.indexOf(e.op)>=0}var ae=function(){function e(e){this.graph=e,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._outputs=e.outputs,this._inputs=e.inputs,this._signature=e.signature}return Object.defineProperty(e.prototype,"weightMap",{get:function(){return this._weightMap},set:function(e){var t=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this.weightIds=[].concat.apply([],t),this._weightMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this._outputs.map((function(e){return e.signatureKey||e.name}))},enumerable:!0,configurable:!0}),e.prototype.getCompilationKey=function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)},e.prototype.compile=function(e,t){var n=ee(e,t,this.weightMap),r=n.missingInputs,i=n.dynamicNode,a=n.syncInputs;if(null!=i)throw new Error("This execution contains the node '"+i.name+"', which has the dynamic op '"+i.op+"'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs ["+a+"]");if(r.length>0){var o=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error("Cannot compute the outputs ["+o+"] from the provided inputs ["+s+"]. Missing the following inputs: ["+r+"]")}return function(e,t,n){var r=n.usedNodes,i=n.inputs,a=[];Object.keys(i).map((function(e){return b(e)[0]})).map((function(t){return e.nodes[t]})).forEach((function(e){r.has(e.name)&&a.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&a.push(e)}));for(var o=new Set,s=[];a.length>0;){var u=a.pop();o.add(u.name),t[u.name]||s.push(u),u.children.forEach((function(e){!o.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return o.has(e.name)}))&&a.push(e)}))}return s}(this.graph,this.weightMap,n)},e.prototype.execute=function(e,t){var n=this;e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var i=r.map((function(e){return n.graph.nodes[b(e)[0]]})),a=t.map((function(e){return n.graph.nodes[b(e)[0]]})),u=this.getCompilationKey(i,a),c=this.compiledMap.get(u);null==c&&(c=this.compile(e,a),this.compiledMap.set(u,c));var l={};return Object(o.pf)((function(){var r=new Q(n._weightMap,l),i=s({},n.weightMap);Object.keys(e).forEach((function(t){var n=b(t),r=n[0],a=[];a[n[1]]=e[t],i[r]=a}));for(var a=n.getFrozenTensorIds(i),o={},u=0;u<c.length;u++){var f=c[u];if(!i[f.name]){var d=J(f,i,r);if(d instanceof Promise)throw new Error("The execution of the op '"+f.op+"' returned a promise. Please use model.executeAsync() instead.");i[f.name]=d,n.checkTensorForDisposal(f.name,f,i,r,a,t,o)}}return t.map((function(e){return m(e,i,r)}))}))},e.prototype.getFrozenTensorIds=function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)},e.prototype.checkTensorForDisposal=function(e,t,n,r,i,a,o){"control"!==t.category&&-1===a.indexOf(e)&&(n[e].forEach((function(e){null!=e&&(o[e.id]=(o[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var t=function(e,t,n){return t[g(e,n.currentContextId)]}(e.name,n,r);null!=t&&t.forEach((function(e){if(e&&!i.has(e.id)){var t=o[e.id];1===t?(e.dispose(),delete o[e.id]):null!=t&&o[e.id]--}}))}})))},e.prototype.executeAsync=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,a,o,s,u=this;return c(this,(function(c){switch(c.label){case 0:return e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t),n={},r=new Q(this._weightMap,n),[4,this.executeWithControlFlow(e,r,t)];case 1:return i=c.sent(),a=t.map((function(e){return m(e,i,r)})),o=new Set(a.map((function(e){return e.id}))),s=new Set(Object.keys(e).map((function(t){return e[t].id}))),Object.keys(i).forEach((function(e){i[e].forEach((function(e){!e||e.isDisposed||o.has(e.id)||s.has(e.id)||-1!==u.weightIds.indexOf(e.id)||e.dispose()}))})),[2,a]}}))}))},e.prototype.executeWithControlFlow=function(e,t,n){return u(this,void 0,void 0,(function(){var r,i,a,o,u,l,f,d,h,p,v,g,y,w,x,O,k=this;return c(this,(function(c){switch(c.label){case 0:r=Object.keys(e),i=r.map((function(e){return k.graph.nodes[b(e)[0]]})),a=n.map((function(e){return k.graph.nodes[b(e)[0]]})),o=ee(e,a,this.weightMap),u=o.usedNodes,l=o.missingInputs,f=o.dynamicNode,d=o.syncInputs,h=i.concat(this.graph.weights).map((function(e){return{node:e,contexts:t.currentContext}})),p=s({},this.weightMap),Object.keys(e).forEach((function(t){var n=b(t),r=n[0],i=[];i[n[1]]=e[t],p[r]=i})),v={},g=this.getFrozenTensorIds(p),y={},c.label=1;case 1:return h.length>0?(w=this.processStack(i,h,t,p,y,g,n,v,u),[4,Promise.all(w)]):[3,3];case 2:return c.sent(),[3,1];case 3:if(null==f&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),(x=a.filter((function(e){return!re(e)&&!m(e.name,p,t)})).map((function(e){return e.name}))).length>0)throw O="",null!=f&&(O="Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs ["+d+"]"),new Error("Cannot compute the outputs ["+x+"] from the provided inputs ["+r+"]. Consider providing the following inputs: ["+l+"]. "+O);return[2,p]}}))}))},e.prototype.processStack=function(e,t,n,r,i,a,o,s,u){for(var c=this,l=[],f=function(){var f=t.pop();n.currentContext=f.contexts;var h="";if("Enter"===f.node.op&&p("isConstant",f.node,r,n)&&(h=v(f.node.name,n)[0]),-1===e.indexOf(f.node)){var m=J(f.node,r,n);h||(h=v(f.node.name,n)[0]);var g=n.currentContext;m instanceof Promise?l.push(m.then((function(e){return r[h]=e,n.currentContext=g,c.checkTensorForDisposal(h,f.node,r,n,a,o,s),c.processChildNodes(f.node,t,n,r,i,u),e}))):(r[h]=m,d.checkTensorForDisposal(h,f.node,r,n,a,o,s),d.processChildNodes(f.node,t,n,r,i,u))}else d.processChildNodes(f.node,t,n,r,i,u)},d=this;t.length>0;)f();return l},e.prototype.processChildNodes=function(e,t,n,r,i,a){e.children.forEach((function(e){var o=v(e.name,n)[0];!i[o]&&a.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!m(e,r,n)}))&&(i[o]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!m(e,r,n)}))&&(i[o]=!0,t.push({contexts:n.currentContext,node:e})))}))},e.prototype.dispose=function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))},e.prototype.checkInputShapeAndType=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=b(n)[0],a=t.graph.nodes[i];if(a.attrParams.shape&&a.attrParams.shape.value){var s=a.attrParams.shape.value,u=s.length===r.shape.length&&r.shape.every((function(e,t){return-1===s[t]||s[t]===e}));o.Af.assert(u,(function(){return"The shape of dict['"+a.name+"'] provided in model.execute(dict) must be ["+s+"], but was ["+r.shape+"]"}))}a.attrParams.dtype&&a.attrParams.dtype.value&&o.Af.assert(r.dtype===a.attrParams.dtype.value,(function(){return"The dtype of dict['"+a.name+"'] provided in model.execute(dict) must be "+a.attrParams.dtype.value+", but was "+r.dtype}))}))},e.prototype.mapInputs=function(e){var t={};for(var n in e)null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]?t[this._signature.inputs[n].name]=e[n]:t[n]=e[n];return t},e.prototype.checkInputs=function(e){var t=this,n=Object.keys(e).filter((function(e){var n=b(e)[0];return null==t.graph.nodes[n]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has keys: ["+n+"] that are not part of graph")},e.prototype.mapOutputs=function(e){var t=this;return e.map((function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e}),{})},e.prototype.checkOutputs=function(e){var t=this;e.forEach((function(e){var n=b(e)[0];if(!t.graph.nodes[n])throw new Error("The output '"+e+"' is not found in the graph")}))},e}(),oe=function(){function e(e,t){void 0===t&&(t={}),this.modelUrl=e,this.loadOptions=t,this.version="n/a",null==t&&(this.loadOptions={})}return Object.defineProperty(e.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:!0,configurable:!0}),e.prototype.findIOHandler=function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=o.Fc.browserHTTPRequest(e,this.loadOptions);else{var t=o.Fc.getLoadHandlers(e,this.loadOptions.onProgress);if(0===t.length)t.push(o.Fc.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one ("+t.length+") load handlers for URL '"+[e]+"'");this.handler=t[0]}},e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n,r;return c(this,(function(i){switch(i.label){case 0:if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return e=this,[4,this.handler.load()];case 1:return e.artifacts=i.sent(),t=this.artifacts.modelTopology,n={},null!=this.artifacts.userDefinedMetadata&&(n=this.artifacts.userDefinedMetadata.signature),this.version=t.versions.producer+"."+t.versions.minConsumer,r=o.Fc.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs),this.executor=new ae(F.Instance.transformGraph(t,n)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),[2,!0]}}))}))},e.prototype.save=function(e,t){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){if("string"==typeof e){if(0===(t=o.Fc.getSaveHandlers(e)).length)throw new Error("Cannot find any save handlers for URL '"+e+"'");if(t.length>1)throw new Error("Found more than one ("+t.length+") save handlers for URL '"+e+"'");e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[2,e.save(this.artifacts)]}))}))},e.prototype.predict=function(e,t){return this.execute(e,this.outputNodes)},e.prototype.normalizeInputs=function(e){if(!(e instanceof o.B||Array.isArray(e)))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,the graph model has "+this.inputNodes.length+" placeholders, while there are "+e.length+" input tensors.");return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})},e.prototype.normalizeOutputs=function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]},e.prototype.execute=function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]},e.prototype.executeAsync=function(e,t){return u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return e=this.normalizeInputs(e),t=this.normalizeOutputs(t),[4,this.executor.executeAsync(e,t)];case 1:return[2,(n=r.sent()).length>1?n:n[0]]}}))}))},e.prototype.convertTensorMapToTensorsMap=function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})},e.prototype.dispose=function(){this.executor.dispose()},e}();function se(e,t){return void 0===t&&(t={}),u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");return null==t&&(t={}),t.fromTFHub&&null==e.load&&(e.endsWith("/")||(e+="/"),e+="model.json?tfjs-format=file"),[4,(n=new oe(e,t)).load()];case 1:return r.sent(),[2,n]}}))}))}var ue="1.7.2"}).call(this,n(34).Buffer)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(231);function a(){return r.useContext(i.a)}},function(e,t,n){"use strict";var r,i=n(77),a=n(127),o=n(109),s=function(e,t){var n=Object(o.a)(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},u={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return s(100*e,t)},r:s,s:function(e,t){var n=Object(o.a)(e,t);if(!n)return e+"";var i=n[0],a=n[1],s=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,u=i.length;return s===u?i:s>u?i+new Array(s-u+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+Object(o.a)(e,Math.max(0,t+s-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},c=function(e){return e},l=Array.prototype.map,f=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];t.a=function(e){var t,n,o=void 0===e.grouping||void 0===e.thousands?c:(t=l.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),s=void 0===e.currency?"":e.currency[0]+"",d=void 0===e.currency?"":e.currency[1]+"",h=void 0===e.decimal?".":e.decimal+"",p=void 0===e.numerals?c:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(l.call(e.numerals,String)),m=void 0===e.percent?"%":e.percent+"",v=void 0===e.minus?"-":e.minus+"",g=void 0===e.nan?"NaN":e.nan+"";function b(e){var t=(e=Object(a.b)(e)).fill,n=e.align,i=e.sign,c=e.symbol,l=e.zero,b=e.width,y=e.comma,w=e.precision,x=e.trim,O=e.type;"n"===O?(y=!0,O="g"):u[O]||(void 0===w&&(w=12),x=!0,O="g"),(l||"0"===t&&"="===n)&&(l=!0,t="0",n="=");var k="$"===c?s:"#"===c&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",E="$"===c?d:/[%p]/.test(O)?m:"",_=u[O],S=/[defgprs%]/.test(O);function j(e){var a,s,u,c=k,d=E;if("c"===O)d=_(e)+d,e="";else{var m=(e=+e)<0||1/e<0;if(e=isNaN(e)?g:_(Math.abs(e),w),x&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),m&&0===+e&&"+"!==i&&(m=!1),c=(m?"("===i?i:v:"-"===i||"("===i?"":i)+c,d=("s"===O?f[8+r/3]:"")+d+(m&&"("===i?")":""),S)for(a=-1,s=e.length;++a<s;)if(48>(u=e.charCodeAt(a))||u>57){d=(46===u?h+e.slice(a+1):e.slice(a))+d,e=e.slice(0,a);break}}y&&!l&&(e=o(e,1/0));var j=c.length+e.length+d.length,C=j<b?new Array(b-j+1).join(t):"";switch(y&&l&&(e=o(C+e,C.length?b-d.length:1/0),C=""),n){case"<":e=c+e+d+C;break;case"=":e=c+C+e+d;break;case"^":e=C.slice(0,j=C.length>>1)+c+e+d+C.slice(j);break;default:e=C+c+e+d}return p(e)}return w=void 0===w?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),j.toString=function(){return e+""},j}return{format:b,formatPrefix:function(e,t){var n=b(((e=Object(a.b)(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Object(i.a)(t)/3))),o=Math.pow(10,-r),s=f[8+r/3];return function(e){return n(o*e)+s}}}}},function(e,t,n){"use strict";var r=n(19),i=n(6),a=n(443),o=n(69),s=n(3);function u(e,t,n){var i;return Object(s.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(s.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,e.up("sm"),{minHeight:64}),i)},n)}var c=n(108),l=n(133),f=n(134),d=n(135),h=n(136),p=n(137),m=n(138),v=n(139),g=n(17),b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.a.white,default:l.a[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},y={text:{primary:c.a.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:l.a[800],default:"#303030"},action:{active:c.a.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w(e,t,n,r){e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(g.i)(e.main,r):"dark"===t&&(e.dark=Object(g.a)(e.main,1.5*r)))}function x(e){var t=e.primary,n=void 0===t?{light:f.a[300],main:f.a[500],dark:f.a[700]}:t,r=e.secondary,o=void 0===r?{light:d.a.A200,main:d.a.A400,dark:d.a.A700}:r,u=e.error,x=void 0===u?{light:h.a[300],main:h.a[500],dark:h.a[700]}:u,O=e.warning,k=void 0===O?{light:p.a[300],main:p.a[500],dark:p.a[700]}:O,E=e.info,_=void 0===E?{light:m.a[300],main:m.a[500],dark:m.a[700]}:E,S=e.success,j=void 0===S?{light:v.a[300],main:v.a[500],dark:v.a[700]}:S,C=e.type,A=void 0===C?"light":C,T=e.contrastThreshold,N=void 0===T?3:T,R=e.tonalOffset,M=void 0===R?.2:R,D=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function I(e){return Object(g.e)(e,y.text.primary)>=N?y.text.primary:b.text.primary}var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(s.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(["Material-UI: the color provided to augmentColor(color) is invalid.","The color object needs to have a `main` property or a `".concat(t,"` property.")].join("\n"));if("string"!==typeof e.main)throw new Error(["Material-UI: the color provided to augmentColor(color) is invalid.","`color.main` should be a string, but `".concat(JSON.stringify(e.main),"` was provided instead."),"","Did you intend to use one of the following approaches?","",'import {\xa0green } from "@material-ui/core/colors";',"","const theme1 = createMuiTheme({ palette: {","  primary: green,","} });","","const theme2 = createMuiTheme({ palette: {","  primary: { main: green[500] },","} });"].join("\n"));return w(e,"light",n,M),w(e,"dark",r,M),e.contrastText||(e.contrastText=I(e.main)),e},P={dark:y,light:b};return Object(a.a)(Object(s.a)({common:c.a,type:A,primary:F(n),secondary:F(o,"A400","A200","A700"),error:F(x),warning:F(k),info:F(_),success:F(j),grey:l.a,contrastThreshold:N,getContrastText:I,augmentColor:F,tonalOffset:M},P[A]),D)}function O(e){return Math.round(1e5*e)/1e5}var k={textTransform:"uppercase"};function E(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,o=void 0===r?'"Roboto", "Helvetica", "Arial", sans-serif':r,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,f=void 0===l?300:l,d=n.fontWeightRegular,h=void 0===d?400:d,p=n.fontWeightMedium,m=void 0===p?500:p,v=n.fontWeightBold,g=void 0===v?700:v,b=n.htmlFontSize,y=void 0===b?16:b,w=n.allVariants,x=n.pxToRem,E=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var _=c/14,S=x||function(e){return"".concat(e/y*_,"rem")},j=function(e,t,n,r,i){return Object(s.a)({fontFamily:o,fontWeight:e,fontSize:S(t),lineHeight:n},'"Roboto", "Helvetica", "Arial", sans-serif'===o?{letterSpacing:"".concat(O(r/t),"em")}:{},{},i,{},w)},C={h1:j(f,96,1.167,-1.5),h2:j(f,60,1.2,-.5),h3:j(h,48,1.167,0),h4:j(h,34,1.235,.25),h5:j(h,24,1.334,0),h6:j(m,20,1.6,.15),subtitle1:j(h,16,1.75,.15),subtitle2:j(m,14,1.57,.1),body1:j(h,16,1.5,.15),body2:j(h,14,1.43,.15),button:j(m,14,1.75,.4,k),caption:j(h,12,1.66,.4),overline:j(h,12,2.66,1,k)};return Object(a.a)(Object(s.a)({htmlFontSize:y,pxToRem:S,round:O,fontFamily:o,fontSize:c,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:m,fontWeightBold:g},C),E,{clone:!1})}function _(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var S=["none",_(0,2,1,-1,0,1,1,0,0,1,3,0),_(0,3,1,-2,0,2,2,0,0,1,5,0),_(0,3,3,-2,0,3,4,0,0,1,8,0),_(0,2,4,-1,0,4,5,0,0,1,10,0),_(0,3,5,-1,0,5,8,0,0,1,14,0),_(0,3,5,-1,0,6,10,0,0,1,18,0),_(0,4,5,-2,0,7,10,1,0,2,16,1),_(0,5,5,-3,0,8,10,1,0,3,14,2),_(0,5,6,-3,0,9,12,1,0,3,16,2),_(0,6,6,-3,0,10,14,1,0,4,18,3),_(0,6,7,-4,0,11,15,1,0,4,20,3),_(0,7,8,-4,0,12,17,2,0,5,22,4),_(0,7,8,-4,0,13,19,2,0,5,24,4),_(0,7,9,-4,0,14,21,2,0,5,26,4),_(0,8,9,-5,0,15,22,2,0,6,28,5),_(0,8,10,-5,0,16,24,2,0,6,30,5),_(0,8,11,-5,0,17,26,2,0,6,32,5),_(0,9,11,-5,0,18,28,2,0,7,34,6),_(0,9,12,-6,0,19,29,2,0,7,36,6),_(0,10,13,-6,0,20,31,3,0,8,38,7),_(0,10,13,-6,0,21,33,3,0,8,40,7),_(0,10,14,-6,0,22,35,3,0,8,42,7),_(0,11,14,-7,0,23,36,3,0,9,44,8),_(0,11,15,-7,0,24,38,3,0,9,46,8)],j={borderRadius:4},C=n(662);function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(C.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var T=n(32),N=n(221);t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,s=void 0===r?{}:r,c=e.palette,l=void 0===c?{}:c,f=e.spacing,d=e.typography,h=void 0===d?{}:d,p=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),m=x(l),v=Object(o.a)(n),g=A(f),b=Object(a.a)({breakpoints:v,direction:"ltr",mixins:u(v,g,s),overrides:{},palette:m,props:{},shadows:S,typography:E(m,h),spacing:g,shape:j,transitions:T.a,zIndex:N.a},p),y=arguments.length,w=new Array(y>1?y-1:0),O=1;O<y;O++)w[O-1]=arguments[O];return b=w.reduce((function(e,t){return Object(a.a)(e,t)}),b)}},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=n.n(a),s=n(4),u=(n(8),n(54)),c=n.n(u),l=n(639);function f(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var d=n(74);t.a=function(e){var t=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.name,u=Object(i.a)(n,["name"]);var d,h=a,p="function"===typeof t?function(e){return{root:function(n){return t(Object(r.a)({theme:e},n))}}}:{root:t},m=Object(l.a)(p,Object(r.a)({Component:e,name:a||e.displayName,classNamePrefix:h},u));t.filterProps&&(d=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var v=o.a.forwardRef((function(t,n){var a=t.children,u=t.className,c=t.clone,l=t.component,h=Object(i.a)(t,["children","className","clone","component"]),p=m(t),v=Object(s.a)(p.root,u),g=h;if(d&&(g=f(g,d)),c)return o.a.cloneElement(a,Object(r.a)({className:Object(s.a)(a.props.className,v)},g));if("function"===typeof a)return a(Object(r.a)({className:v},g));var b=l||e;return o.a.createElement(b,Object(r.a)({ref:n,className:v},g),a)}));return c()(v,e),v}}(e);return function(e,n){return t(e,Object(r.a)({defaultTheme:d.a},n))}}},function(e,t,n){"use strict";e.exports=n(458)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(0),i=n.n(r).a.createContext(null);t.a=i},function(e,t,n){"use strict";n.r(t);var r=/[A-Z]/g,i=/^ms-/,a={};function o(e){return"-"+e.toLowerCase()}t.default=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(r,o);return a[e]=i.test(t)?"-"+t:t}},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for;t.a=r?Symbol.for("mui.nested"):"__THEME_NESTED__"},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(30),n(3);var r=n(83),i=(n(8),n(94),{xs:0,sm:600,md:960,lg:1280,xl:1920}),a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function o(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||a;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===Object(r.a)(t)){var o=e.theme.breakpoints||a;return Object.keys(t).reduce((function(e,r){return e[o.up(r)]=n(t[r]),e}),{})}return n(t)}},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";function r(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(14),c=a.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,l=e.color,f=void 0===l?"inherit":l,d=e.component,h=void 0===d?"svg":d,p=e.fontSize,m=void 0===p?"default":p,v=e.htmlColor,g=e.titleAccess,b=e.viewBox,y=void 0===b?"0 0 24 24":b,w=Object(i.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return a.createElement(h,Object(r.a)({className:Object(o.a)(s.root,c,"inherit"!==f&&s["color".concat(Object(u.a)(f))],"default"!==m&&s["fontSize".concat(Object(u.a)(m))]),focusable:"false",viewBox:y,color:v,"aria-hidden":g?void 0:"true",role:g?"img":void 0,ref:t},w),n,g?a.createElement("title",null,g):null)}));c.muiName="SvgIcon",t.a=Object(s.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(1);function i(t,n){var i,a=n&&n.property?Object(r.t)(n.property):r.x;return!Object(r.F)(t)||(i=t,"function"===typeof e&&Object(r.D)(e.isBuffer)&&e.isBuffer(i))?a(JSON.parse(t)):function(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(a(t))}i.responseType="json"}).call(this,n(34).Buffer)},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(0),i=r.createContext();t.a=i},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(296)),s=n(25),u=n(35),c=n(21);function l(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var f={entering:{opacity:1,transform:l(1)},entered:{opacity:1,transform:"none"}},d=a.forwardRef((function(e,t){var n=e.children,d=e.in,h=e.onEnter,p=e.onExit,m=e.style,v=e.timeout,g=void 0===v?"auto":v,b=Object(i.a)(e,["children","in","onEnter","onExit","style","timeout"]),y=a.useRef(),w=a.useRef(),x=Object(c.a)(n.ref,t),O=Object(s.a)();return a.useEffect((function(){return function(){clearTimeout(y.current)}}),[]),a.createElement(o.a,Object(r.a)({appear:!0,in:d,onEnter:function(e,t){Object(u.b)(e);var n,r=Object(u.a)({style:m,timeout:g},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===g?(n=O.transitions.getAutoHeightDuration(e.clientHeight),w.current=n):n=i,e.style.transition=[O.transitions.create("opacity",{duration:n,delay:a}),O.transitions.create("transform",{duration:.666*n,delay:a})].join(","),h&&h(e,t)},onExit:function(e){var t,n=Object(u.a)({style:m,timeout:g},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===g?(t=O.transitions.getAutoHeightDuration(e.clientHeight),w.current=t):t=r,e.style.transition=[O.transitions.create("opacity",{duration:t,delay:i}),O.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=l(.75),p&&p(e)},addEndListener:function(e,t){"auto"===g&&(y.current=setTimeout(t,w.current||0))},timeout:"auto"===g?null:g},b),(function(e,t){return a.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,transform:l(.75),visibility:"exited"!==e||d?void 0:"hidden"},f[e],{},m,{},n.props.style),ref:x},t))}))}));d.muiSupportAuto=!0,t.a=d},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(445),u=n(7),c=a.forwardRef((function(e,t){var n=e.disableUnderline,u=e.classes,c=e.fullWidth,l=void 0!==c&&c,f=e.inputComponent,d=void 0===f?"input":f,h=e.multiline,p=void 0!==h&&h,m=e.type,v=void 0===m?"text":m,g=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(s.a,Object(r.a)({classes:Object(r.a)({},u,{root:Object(o.a)(u.root,!n&&u.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:p,ref:t,type:v},g))}));c.muiName="Input",t.a=Object(u.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(c)},function(e,t,n){"use strict";var r=n(0),i=n(29);t.a=Object(i.a)(r.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown")},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(14),u=a.forwardRef((function(e,t){var n=e.classes,u=e.className,c=e.disabled,l=e.IconComponent,f=e.inputRef,d=e.variant,h=void 0===d?"standard":d,p=Object(i.a)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return a.createElement(a.Fragment,null,a.createElement("select",Object(r.a)({className:Object(o.a)(n.root,n.select,n[h],u,c&&n.disabled),disabled:c,ref:f||t},p)),e.multiple?null:a.createElement(l,{className:Object(o.a)(n.icon,n["icon".concat(Object(s.a)(h))],c&&n.disabled)}))}));t.a=u},function(e,t,n){"use strict";var r=n(0),i=r.createContext();t.a=i},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(42))},function(e,t,n){"use strict";(function(e){var r=n(37),i=n(438),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.a.Buffer:void 0,u=(s?s.isBuffer:void 0)||i.a;t.a=u}).call(this,n(267)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return Gn}));var r=n(0),i=n(85),a=n.n(i),o=n(80),s=n(37),u=s.a.Symbol,c=Object.prototype,l=c.hasOwnProperty,f=c.toString,d=u?u.toStringTag:void 0;var h=function(e){var t=l.call(e,d),n=e[d];try{e[d]=void 0;var r=!0}catch(a){}var i=f.call(e);return r&&(t?e[d]=n:delete e[d]),i},p=Object.prototype.toString;var m=function(e){return p.call(e)},v=u?u.toStringTag:void 0;var g=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":v&&v in Object(e)?h(e):m(e)};var b=function(e,t){return function(n){return e(t(n))}},y=b(Object.getPrototypeOf,Object);var w=function(e){return null!=e&&"object"==typeof e},x=Function.prototype,O=Object.prototype,k=x.toString,E=O.hasOwnProperty,_=k.call(Object);var S=function(e){if(!w(e)||"[object Object]"!=g(e))return!1;var t=y(e);if(null===t)return!0;var n=E.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&k.call(n)==_};var j=function(){this.__data__=[],this.size=0};var C=function(e,t){return e===t||e!==e&&t!==t};var A=function(e,t){for(var n=e.length;n--;)if(C(e[n][0],t))return n;return-1},T=Array.prototype.splice;var N=function(e){var t=this.__data__,n=A(t,e);return!(n<0)&&(n==t.length-1?t.pop():T.call(t,n,1),--this.size,!0)};var R=function(e){var t=this.__data__,n=A(t,e);return n<0?void 0:t[n][1]};var M=function(e){return A(this.__data__,e)>-1};var D=function(e,t){var n=this.__data__,r=A(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function I(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}I.prototype.clear=j,I.prototype.delete=N,I.prototype.get=R,I.prototype.has=M,I.prototype.set=D;var F=I;var P=function(){this.__data__=new F,this.size=0};var z=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var L=function(e){return this.__data__.get(e)};var B=function(e){return this.__data__.has(e)};var U=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var W=function(e){if(!U(e))return!1;var t=g(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},V=s.a["__core-js_shared__"],q=function(){var e=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var H=function(e){return!!q&&q in e},G=Function.prototype.toString;var $=function(e){if(null!=e){try{return G.call(e)}catch(t){}try{return e+""}catch(t){}}return""},K=/^\[object .+?Constructor\]$/,X=Function.prototype,Y=Object.prototype,Z=X.toString,J=Y.hasOwnProperty,Q=RegExp("^"+Z.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ee=function(e){return!(!U(e)||H(e))&&(W(e)?Q:K).test($(e))};var te=function(e,t){return null==e?void 0:e[t]};var ne=function(e,t){var n=te(e,t);return ee(n)?n:void 0},re=ne(s.a,"Map"),ie=ne(Object,"create");var ae=function(){this.__data__=ie?ie(null):{},this.size=0};var oe=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},se=Object.prototype.hasOwnProperty;var ue=function(e){var t=this.__data__;if(ie){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return se.call(t,e)?t[e]:void 0},ce=Object.prototype.hasOwnProperty;var le=function(e){var t=this.__data__;return ie?void 0!==t[e]:ce.call(t,e)};var fe=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ie&&void 0===t?"__lodash_hash_undefined__":t,this};function de(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}de.prototype.clear=ae,de.prototype.delete=oe,de.prototype.get=ue,de.prototype.has=le,de.prototype.set=fe;var he=de;var pe=function(){this.size=0,this.__data__={hash:new he,map:new(re||F),string:new he}};var me=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ve=function(e,t){var n=e.__data__;return me(t)?n["string"==typeof t?"string":"hash"]:n.map};var ge=function(e){var t=ve(this,e).delete(e);return this.size-=t?1:0,t};var be=function(e){return ve(this,e).get(e)};var ye=function(e){return ve(this,e).has(e)};var we=function(e,t){var n=ve(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xe.prototype.clear=pe,xe.prototype.delete=ge,xe.prototype.get=be,xe.prototype.has=ye,xe.prototype.set=we;var Oe=xe;var ke=function(e,t){var n=this.__data__;if(n instanceof F){var r=n.__data__;if(!re||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Oe(r)}return n.set(e,t),this.size=n.size,this};function Ee(e){var t=this.__data__=new F(e);this.size=t.size}Ee.prototype.clear=P,Ee.prototype.delete=z,Ee.prototype.get=L,Ee.prototype.has=B,Ee.prototype.set=ke;var _e=Ee;var Se=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},je=function(){try{var e=ne(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Ce=function(e,t,n){"__proto__"==t&&je?je(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ae=Object.prototype.hasOwnProperty;var Te=function(e,t,n){var r=e[t];Ae.call(e,t)&&C(r,n)&&(void 0!==n||t in e)||Ce(e,t,n)};var Ne=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Ce(n,s,u):Te(n,s,u)}return n};var Re=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Me=function(e){return w(e)&&"[object Arguments]"==g(e)},De=Object.prototype,Ie=De.hasOwnProperty,Fe=De.propertyIsEnumerable,Pe=Me(function(){return arguments}())?Me:function(e){return w(e)&&Ie.call(e,"callee")&&!Fe.call(e,"callee")},ze=Array.isArray,Le=n(233),Be=/^(?:0|[1-9]\d*)$/;var Ue=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Be.test(e))&&e>-1&&e%1==0&&e<t};var We=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ve={};Ve["[object Float32Array]"]=Ve["[object Float64Array]"]=Ve["[object Int8Array]"]=Ve["[object Int16Array]"]=Ve["[object Int32Array]"]=Ve["[object Uint8Array]"]=Ve["[object Uint8ClampedArray]"]=Ve["[object Uint16Array]"]=Ve["[object Uint32Array]"]=!0,Ve["[object Arguments]"]=Ve["[object Array]"]=Ve["[object ArrayBuffer]"]=Ve["[object Boolean]"]=Ve["[object DataView]"]=Ve["[object Date]"]=Ve["[object Error]"]=Ve["[object Function]"]=Ve["[object Map]"]=Ve["[object Number]"]=Ve["[object Object]"]=Ve["[object RegExp]"]=Ve["[object Set]"]=Ve["[object String]"]=Ve["[object WeakMap]"]=!1;var qe=function(e){return w(e)&&We(e.length)&&!!Ve[g(e)]};var He=function(e){return function(t){return e(t)}},Ge=n(84),$e=Ge.a&&Ge.a.isTypedArray,Ke=$e?He($e):qe,Xe=Object.prototype.hasOwnProperty;var Ye=function(e,t){var n=ze(e),r=!n&&Pe(e),i=!n&&!r&&Object(Le.a)(e),a=!n&&!r&&!i&&Ke(e),o=n||r||i||a,s=o?Re(e.length,String):[],u=s.length;for(var c in e)!t&&!Xe.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ue(c,u))||s.push(c);return s},Ze=Object.prototype;var Je=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ze)},Qe=b(Object.keys,Object),et=Object.prototype.hasOwnProperty;var tt=function(e){if(!Je(e))return Qe(e);var t=[];for(var n in Object(e))et.call(e,n)&&"constructor"!=n&&t.push(n);return t};var nt=function(e){return null!=e&&We(e.length)&&!W(e)};var rt=function(e){return nt(e)?Ye(e):tt(e)};var it=function(e,t){return e&&Ne(t,rt(t),e)};var at=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},ot=Object.prototype.hasOwnProperty;var st=function(e){if(!U(e))return at(e);var t=Je(e),n=[];for(var r in e)("constructor"!=r||!t&&ot.call(e,r))&&n.push(r);return n};var ut=function(e){return nt(e)?Ye(e,!0):st(e)};var ct=function(e,t){return e&&Ne(t,ut(t),e)},lt=n(439);var ft=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var dt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var ht=function(){return[]},pt=Object.prototype.propertyIsEnumerable,mt=Object.getOwnPropertySymbols,vt=mt?function(e){return null==e?[]:(e=Object(e),dt(mt(e),(function(t){return pt.call(e,t)})))}:ht;var gt=function(e,t){return Ne(e,vt(e),t)};var bt=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},yt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)bt(t,vt(e)),e=y(e);return t}:ht;var wt=function(e,t){return Ne(e,yt(e),t)};var xt=function(e,t,n){var r=t(e);return ze(e)?r:bt(r,n(e))};var Ot=function(e){return xt(e,rt,vt)};var kt=function(e){return xt(e,ut,yt)},Et=ne(s.a,"DataView"),_t=ne(s.a,"Promise"),St=ne(s.a,"Set"),jt=ne(s.a,"WeakMap"),Ct=$(Et),At=$(re),Tt=$(_t),Nt=$(St),Rt=$(jt),Mt=g;(Et&&"[object DataView]"!=Mt(new Et(new ArrayBuffer(1)))||re&&"[object Map]"!=Mt(new re)||_t&&"[object Promise]"!=Mt(_t.resolve())||St&&"[object Set]"!=Mt(new St)||jt&&"[object WeakMap]"!=Mt(new jt))&&(Mt=function(e){var t=g(e),n="[object Object]"==t?e.constructor:void 0,r=n?$(n):"";if(r)switch(r){case Ct:return"[object DataView]";case At:return"[object Map]";case Tt:return"[object Promise]";case Nt:return"[object Set]";case Rt:return"[object WeakMap]"}return t});var Dt=Mt,It=Object.prototype.hasOwnProperty;var Ft=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&It.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Pt=s.a.Uint8Array;var zt=function(e){var t=new e.constructor(e.byteLength);return new Pt(t).set(new Pt(e)),t};var Lt=function(e,t){var n=t?zt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Bt=/\w*$/;var Ut=function(e){var t=new e.constructor(e.source,Bt.exec(e));return t.lastIndex=e.lastIndex,t},Wt=u?u.prototype:void 0,Vt=Wt?Wt.valueOf:void 0;var qt=function(e){return Vt?Object(Vt.call(e)):{}};var Ht=function(e,t){var n=t?zt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Gt=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return zt(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Lt(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ht(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Ut(e);case"[object Set]":return new r;case"[object Symbol]":return qt(e)}},$t=Object.create,Kt=function(){function e(){}return function(t){if(!U(t))return{};if($t)return $t(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Xt=function(e){return"function"!=typeof e.constructor||Je(e)?{}:Kt(y(e))};var Yt=function(e){return w(e)&&"[object Map]"==Dt(e)},Zt=Ge.a&&Ge.a.isMap,Jt=Zt?He(Zt):Yt;var Qt=function(e){return w(e)&&"[object Set]"==Dt(e)},en=Ge.a&&Ge.a.isSet,tn=en?He(en):Qt,nn={};nn["[object Arguments]"]=nn["[object Array]"]=nn["[object ArrayBuffer]"]=nn["[object DataView]"]=nn["[object Boolean]"]=nn["[object Date]"]=nn["[object Float32Array]"]=nn["[object Float64Array]"]=nn["[object Int8Array]"]=nn["[object Int16Array]"]=nn["[object Int32Array]"]=nn["[object Map]"]=nn["[object Number]"]=nn["[object Object]"]=nn["[object RegExp]"]=nn["[object Set]"]=nn["[object String]"]=nn["[object Symbol]"]=nn["[object Uint8Array]"]=nn["[object Uint8ClampedArray]"]=nn["[object Uint16Array]"]=nn["[object Uint32Array]"]=!0,nn["[object Error]"]=nn["[object Function]"]=nn["[object WeakMap]"]=!1;var rn=function e(t,n,r,i,a,o){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!U(t))return t;var f=ze(t);if(f){if(s=Ft(t),!u)return ft(t,s)}else{var d=Dt(t),h="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(Le.a)(t))return Object(lt.a)(t,u);if("[object Object]"==d||"[object Arguments]"==d||h&&!a){if(s=c||h?{}:Xt(t),!u)return c?wt(t,ct(s,t)):gt(t,it(s,t))}else{if(!nn[d])return a?t:{};s=Gt(t,d,u)}}o||(o=new _e);var p=o.get(t);if(p)return p;o.set(t,s),tn(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):Jt(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var m=l?c?kt:Ot:c?keysIn:rt,v=f?void 0:m(t);return Se(v||t,(function(i,a){v&&(i=t[a=i]),Te(s,a,e(i,n,r,a,t,o))})),s};var an=function(e){return rn(e,4)};var on=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var sn=function(e){return"symbol"==typeof e||w(e)&&"[object Symbol]"==g(e)};function un(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(un.Cache||Oe),n}un.Cache=Oe;var cn=un;var ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fn=/\\(\\)?/g,dn=function(e){var t=cn(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ln,(function(e,n,r,i){t.push(r?i.replace(fn,"$1"):n||e)})),t}));var hn=function(e){if("string"==typeof e||sn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},pn=u?u.prototype:void 0,mn=pn?pn.toString:void 0;var vn=function e(t){if("string"==typeof t)return t;if(ze(t))return on(t,e)+"";if(sn(t))return mn?mn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var gn=function(e){return null==e?"":vn(e)};var bn=function(e){return ze(e)?on(e,hn):sn(e)?[e]:ft(dn(gn(e)))},yn=n(40),wn=n(211),xn=n(54),On=n.n(xn);var kn=function(e){return rn(e,5)};function En(){return(En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Sn(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Cn=function(e){return Array.isArray(e)&&0===e.length},An=function(e){return"function"===typeof e},Tn=function(e){return null!==e&&"object"===typeof e},Nn=function(e){return String(Math.floor(Number(e)))===e},Rn=function(e){return"[object String]"===Object.prototype.toString.call(e)},Mn=function(e){return 0===r.Children.count(e)},Dn=function(e){return Tn(e)&&An(e.then)};function In(e,t,n,r){void 0===r&&(r=0);for(var i=bn(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e}function Fn(e,t,n){for(var r=an(e),i=r,a=0,o=bn(t);a<o.length-1;a++){var s=o[a],u=In(e,o.slice(0,a+1));if(u&&(Tn(u)||Array.isArray(u)))i=i[s]=an(u);else{var c=o[a+1];i=i[s]=Nn(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function Pn(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];Tn(s)?n.get(s)||(n.set(s,!0),r[o]=Array.isArray(s)?[]:{},Pn(s,t,n,r[o])):r[o]=t}return r}var zn=Object(r.createContext)(void 0),Ln=zn.Provider,Bn=zn.Consumer;function Un(){var e=Object(r.useContext)(zn);return e||Object(yn.a)(!1),e}function Wn(e,t){switch(t.type){case"SET_VALUES":return En({},e,{values:t.payload});case"SET_TOUCHED":return En({},e,{touched:t.payload});case"SET_ERRORS":return a()(e.errors,t.payload)?e:En({},e,{errors:t.payload});case"SET_STATUS":return En({},e,{status:t.payload});case"SET_ISSUBMITTING":return En({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return En({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return En({},e,{values:Fn(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return En({},e,{touched:Fn(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return En({},e,{errors:Fn(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return En({},e,{},t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return En({},e,{touched:Pn(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return En({},e,{isSubmitting:!1});default:return e}}var Vn={},qn={};function Hn(e){var t=e.validateOnChange,n=void 0===t||t,i=e.validateOnBlur,s=void 0===i||i,u=e.validateOnMount,c=void 0!==u&&u,l=e.isInitialValid,f=e.enableReinitialize,d=void 0!==f&&f,h=e.onSubmit,p=Sn(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=En({validateOnChange:n,validateOnBlur:s,validateOnMount:c,onSubmit:h},p),v=Object(r.useRef)(m.initialValues),g=Object(r.useRef)(m.initialErrors||Vn),b=Object(r.useRef)(m.initialTouched||qn),y=Object(r.useRef)(m.initialStatus),w=Object(r.useRef)(!1),x=Object(r.useRef)({});Object(r.useEffect)((function(){0}),[]),Object(r.useEffect)((function(){return w.current=!0,function(){w.current=!1}}),[]);var O=Object(r.useReducer)(Wn,{values:m.initialValues,errors:m.initialErrors||Vn,touched:m.initialTouched||qn,status:m.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),k=O[0],E=O[1],_=Object(r.useCallback)((function(e,t){return new Promise((function(n,r){var i=m.validate(e,t);null==i?n(Vn):Dn(i)?i.then((function(e){n(e||Vn)}),(function(e){r(e)})):n(i)}))}),[m.validate]),j=Object(r.useCallback)((function(e,t){var n=m.validationSchema,r=An(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=function e(t){var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=String(r);!0===Array.isArray(t[i])?n[i]=t[i].map((function(t){return!0===Array.isArray(t)||S(t)?e(t):""!==t?t:void 0})):S(t[i])?n[i]=e(t[i]):n[i]=""!==t[i]?t[i]:void 0}return n}(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){i.then((function(){e(Vn)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return Fn(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;In(t,o.path)||(t=Fn(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[m.validationSchema]),C=Object(r.useCallback)((function(e,t){return new Promise((function(n){return n(x.current[e].validate(t))}))}),[]),A=Object(r.useCallback)((function(e){var t=Object.keys(x.current).filter((function(e){return An(x.current[e].validate)})),n=t.length>0?t.map((function(t){return C(t,In(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=Fn(e,t[r],n)),e}),{})}))}),[C]),T=Object(r.useCallback)((function(e){return Promise.all([A(e),m.validationSchema?j(e):{},m.validate?_(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return o.a.all([t,n,r],{arrayMerge:$n})}))}),[m.validate,m.validationSchema,A,_,j]),N=Xn((function(e){return void 0===e&&(e=k.values),Object(wn.unstable_runWithPriority)(wn.LowPriority,(function(){return T(e).then((function(e){return w.current&&E({type:"SET_ERRORS",payload:e}),e})).catch((function(e){0}))}))})),R=Xn((function(e){return void 0===e&&(e=k.values),E({type:"SET_ISVALIDATING",payload:!0}),T(e).then((function(e){return w.current&&(E({type:"SET_ISVALIDATING",payload:!1}),a()(k.errors,e)||E({type:"SET_ERRORS",payload:e})),e}))}));Object(r.useEffect)((function(){c&&!0===w.current&&N(v.current)}),[c,N]);var M=Object(r.useCallback)((function(e){var t=e&&e.values?e.values:v.current,n=e&&e.errors?e.errors:g.current?g.current:m.initialErrors||{},r=e&&e.touched?e.touched:b.current?b.current:m.initialTouched||{},i=e&&e.status?e.status:y.current?y.current:m.initialStatus;v.current=t,g.current=n,b.current=r,y.current=i;var a=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(m.onReset){var o=m.onReset(k.values,J);Dn(o)?o.then(a):a()}else a()}),[m.initialErrors,m.initialStatus,m.initialTouched]);Object(r.useEffect)((function(){d||(v.current=m.initialValues)}),[d,m.initialValues]),Object(r.useEffect)((function(){d&&!0===w.current&&!a()(v.current,m.initialValues)&&(v.current=m.initialValues,M())}),[d,m.initialValues,M]),Object(r.useEffect)((function(){d&&!0===w.current&&!a()(g.current,m.initialErrors)&&(g.current=m.initialErrors||Vn,E({type:"SET_ERRORS",payload:m.initialErrors||Vn}))}),[d,m.initialErrors]),Object(r.useEffect)((function(){d&&!0===w.current&&!a()(b.current,m.initialTouched)&&(b.current=m.initialTouched||qn,E({type:"SET_TOUCHED",payload:m.initialTouched||qn}))}),[d,m.initialTouched]),Object(r.useEffect)((function(){d&&!0===w.current&&!a()(y.current,m.initialStatus)&&(y.current=m.initialStatus,E({type:"SET_STATUS",payload:m.initialStatus}))}),[d,m.initialStatus,m.initialTouched]);var D=Xn((function(e){if(An(x.current[e].validate)){var t=In(k.values,e),n=x.current[e].validate(t);return Dn(n)?(E({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){E({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),E({type:"SET_ISVALIDATING",payload:!1})}))):(E({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return m.validationSchema?(E({type:"SET_ISVALIDATING",payload:!0}),j(k.values,e).then((function(e){return e})).then((function(t){E({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),E({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),I=Object(r.useCallback)((function(e,t){var n=t.validate;x.current[e]={validate:n}}),[]),F=Object(r.useCallback)((function(e){delete x.current[e]}),[]),P=Xn((function(e,t){return E({type:"SET_TOUCHED",payload:e}),(void 0===t?s:t)?N(k.values):Promise.resolve()})),z=Object(r.useCallback)((function(e){E({type:"SET_ERRORS",payload:e})}),[]),L=Xn((function(e,t){return E({type:"SET_VALUES",payload:e}),(void 0===t?n:t)?N(e):Promise.resolve()})),B=Object(r.useCallback)((function(e,t){E({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),U=Xn((function(e,t,r){return E({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===r?n:r)?N(Fn(k.values,e,t)):Promise.resolve()})),W=Object(r.useCallback)((function(e,t){var n,r=t,i=e;if(!Rn(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,u=a.id,c=a.value,l=a.checked,f=(a.outerHTML,a.options),d=a.multiple;r=t||(s||u),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,a=e.indexOf(n),i=a>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(In(k.values,r),l,c):d?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):c}r&&U(r,i)}),[U,k.values]),V=Xn((function(e){if(Rn(e))return function(t){return W(t,e)};W(e)})),q=Xn((function(e,t,n){return void 0===t&&(t=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?s:n)?N(k.values):Promise.resolve()})),H=Object(r.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));q(a,!0)}),[q]),G=Xn((function(e){if(Rn(e))return function(t){return H(t,e)};H(e)})),$=Object(r.useCallback)((function(e){An(e)?E({type:"SET_FORMIK_STATE",payload:e}):E({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),K=Object(r.useCallback)((function(e){E({type:"SET_STATUS",payload:e})}),[]),X=Object(r.useCallback)((function(e){E({type:"SET_ISSUBMITTING",payload:e})}),[]),Y=Xn((function(){return E({type:"SUBMIT_ATTEMPT"}),R().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Q()))return}catch(r){throw r}return Promise.resolve(n).then((function(){w.current&&E({type:"SUBMIT_SUCCESS"})})).catch((function(e){if(w.current)throw E({type:"SUBMIT_FAILURE"}),e}))}if(w.current&&(E({type:"SUBMIT_FAILURE"}),t))throw e}))})),Z=Xn((function(e){e&&e.preventDefault&&An(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&An(e.stopPropagation)&&e.stopPropagation(),Y().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),J={resetForm:M,validateForm:R,validateField:D,setErrors:z,setFieldError:B,setFieldTouched:q,setFieldValue:U,setStatus:K,setSubmitting:X,setTouched:P,setValues:L,setFormikState:$,submitForm:Y},Q=Xn((function(){return h(k.values,J)})),ee=Xn((function(e){e&&e.preventDefault&&An(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&An(e.stopPropagation)&&e.stopPropagation(),M()})),te=Object(r.useCallback)((function(e){return{value:In(k.values,e),error:In(k.errors,e),touched:!!In(k.touched,e),initialValue:In(v.current,e),initialTouched:!!In(b.current,e),initialError:In(g.current,e)}}),[k.errors,k.touched,k.values]),ne=Object(r.useCallback)((function(e){return{setValue:function(t){return U(e,t)},setTouched:function(t){return q(e,t)},setError:function(t){return B(e,t)}}}),[U,q,B]),re=Object(r.useCallback)((function(e){var t=Tn(e),n=t?e.name:e,r=In(k.values,n),i={name:n,value:r,onChange:V,onBlur:G};if(t){var a=e.type,o=e.value,s=e.as,u=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===s&&u&&(i.value=i.value||[],i.multiple=!0)}return i}),[G,V,k.values]),ie=Object(r.useMemo)((function(){return!a()(v.current,k.values)}),[v.current,k.values]),ae=Object(r.useMemo)((function(){return"undefined"!==typeof l?ie?k.errors&&0===Object.keys(k.errors).length:!1!==l&&An(l)?l(m):l:k.errors&&0===Object.keys(k.errors).length}),[l,ie,k.errors,m]);return En({},k,{initialValues:v.current,initialErrors:g.current,initialTouched:b.current,initialStatus:y.current,handleBlur:G,handleChange:V,handleReset:ee,handleSubmit:Z,resetForm:M,setErrors:z,setFormikState:$,setFieldTouched:q,setFieldValue:U,setFieldError:B,setStatus:K,setSubmitting:X,setTouched:P,setValues:L,submitForm:Y,validateForm:R,validateField:D,isValid:ae,dirty:ie,unregisterField:F,registerField:I,getFieldProps:re,getFieldMeta:te,getFieldHelpers:ne,validateOnBlur:s,validateOnChange:n,validateOnMount:c})}function Gn(e){var t=Hn(e),n=e.component,i=e.children,a=e.render,o=e.innerRef;return Object(r.useImperativeHandle)(o,(function(){return t})),Object(r.useEffect)((function(){0}),[]),Object(r.createElement)(Ln,{value:t},n?Object(r.createElement)(n,t):a?a(t):i?An(i)?i(t):Mn(i)?null:r.Children.only(i):null)}function $n(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?Object(o.a)(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=Object(o.a)(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var Kn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;function Xn(e){var t=Object(r.useRef)(e);return Kn((function(){t.current=e})),Object(r.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(void 0,n)}),[])}function Yn(e){var t=function(t){return Object(r.createElement)(Bn,null,(function(n){return n||Object(yn.a)(!1),Object(r.createElement)(e,Object.assign({},t,{formik:n}))}))},n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+n+")",On()(t,e)}Object(r.forwardRef)((function(e,t){var n=e.action,i=Sn(e,["action"]),a=n||"#",o=Un(),s=o.handleReset,u=o.handleSubmit;return Object(r.createElement)("form",Object.assign({onSubmit:u,ref:t,onReset:s,action:a},i))})).displayName="Form";var Zn=function(e,t,n){var r=Jn(e);return r.splice(t,0,n),r},Jn=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(En({},e,{length:t+1}))}return[]},Qn=function(e){function t(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i="function"===typeof r?r:e,o="function"===typeof t?t:e,s=Fn(n.values,a,e(In(n.values,a))),u=r?i(In(n.errors,a)):void 0,c=t?o(In(n.touched,a)):void 0;return Cn(u)&&(u=void 0),Cn(c)&&(c=void 0),En({},n,{values:s,errors:r?Fn(n.errors,a,u):n.errors,touched:t?Fn(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(Jn(t),[kn(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=Jn(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=Jn(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return Zn(n,e,t)}),(function(t){return Zn(t,e,null)}),(function(t){return Zn(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=Jn(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(jn(n)),n.pop=n.pop.bind(jn(n)),n}_n(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){!a()(In(e.formik.values,e.name),In(this.props.formik.values,this.props.name))&&this.props.formik.validateOnChange&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?Jn(n):[];return t||(t=r[e]),An(r.splice)&&r.splice(e,1),r}),!0,!0),t},n.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},n.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,n=t.component,i=t.render,a=t.children,o=t.name,s=En({},e,{form:Sn(t.formik,["validate","validationSchema"]),name:o});return n?Object(r.createElement)(n,s):i?i(s):a?"function"===typeof a?a(s):Mn(a)?null:r.Children.only(a):null},t}(r.Component);Qn.defaultProps={validateOnChange:!0};r.Component,r.Component},function(e,t,n){"use strict";var r=n(6),i=n(3),a=n(0),o=n(26),s=(n(8),n(237)),u=n(444),c=n(33),l=n(630),f=n(56),d=n(21),h=n(27),p=n(221),m=n(162);var v=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,s=void 0!==i&&i,u=e.disableRestoreFocus,l=void 0!==u&&u,f=e.getDoc,h=e.isEnabled,p=e.open,m=a.useRef(),v=a.useRef(null),g=a.useRef(null),b=a.useRef(),y=a.useRef(null),w=a.useCallback((function(e){y.current=o.findDOMNode(e)}),[]),x=Object(d.a)(t.ref,w);return a.useMemo((function(){p&&"undefined"!==typeof window&&(b.current=f().activeElement)}),[p]),a.useEffect((function(){if(p){var e=Object(c.a)(y.current);r||!y.current||y.current.contains(e.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex",-1),y.current.focus());var t=function(){s||!h()||m.current?m.current=!1:y.current&&!y.current.contains(e.activeElement)&&y.current.focus()},n=function(t){!s&&h()&&9===t.keyCode&&e.activeElement===y.current&&(m.current=!0,t.shiftKey?g.current.focus():v.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),l||(b.current&&b.current.focus&&b.current.focus(),b.current=null)}}}),[r,s,l,h,p]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelStart"}),a.cloneElement(t,{ref:x}),a.createElement("div",{tabIndex:0,ref:g,"data-test":"sentinelEnd"}))},g={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},b=a.forwardRef((function(e,t){var n=e.invisible,o=void 0!==n&&n,s=e.open,u=Object(r.a)(e,["invisible","open"]);return s?a.createElement("div",Object(i.a)({"aria-hidden":!0,ref:t},u,{style:Object(i.a)({},g.root,{},o?g.invisible:{},{},u.style)})):null}));var y=new m.b,w=a.forwardRef((function(e,t){var n=Object(s.a)(),g=Object(u.a)({name:"MuiModal",props:Object(i.a)({},e),theme:n}),w=g.BackdropComponent,x=void 0===w?b:w,O=g.BackdropProps,k=g.children,E=g.closeAfterTransition,_=void 0!==E&&E,S=g.container,j=g.disableAutoFocus,C=void 0!==j&&j,A=g.disableBackdropClick,T=void 0!==A&&A,N=g.disableEnforceFocus,R=void 0!==N&&N,M=g.disableEscapeKeyDown,D=void 0!==M&&M,I=g.disablePortal,F=void 0!==I&&I,P=g.disableRestoreFocus,z=void 0!==P&&P,L=g.disableScrollLock,B=void 0!==L&&L,U=g.hideBackdrop,W=void 0!==U&&U,V=g.keepMounted,q=void 0!==V&&V,H=g.manager,G=void 0===H?y:H,$=g.onBackdropClick,K=g.onClose,X=g.onEscapeKeyDown,Y=g.onRendered,Z=g.open,J=Object(r.a)(g,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Q=a.useState(!0),ee=Q[0],te=Q[1],ne=a.useRef({}),re=a.useRef(null),ie=a.useRef(null),ae=Object(d.a)(ie,t),oe=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(g),se=function(){return Object(c.a)(re.current)},ue=function(){return ne.current.modalRef=ie.current,ne.current.mountNode=re.current,ne.current},ce=function(){G.mount(ue(),{disableScrollLock:B}),ie.current.scrollTop=0},le=Object(h.a)((function(){var e=function(e){return e="function"===typeof e?e():e,o.findDOMNode(e)}(S)||se().body;G.add(ue(),e),ie.current&&ce()})),fe=a.useCallback((function(){return G.isTopModal(ue())}),[G]),de=Object(h.a)((function(e){re.current=e,e&&(Y&&Y(),Z&&fe()?ce():Object(m.a)(ie.current,!0))})),he=a.useCallback((function(){G.remove(ue())}),[G]);if(a.useEffect((function(){return function(){he()}}),[he]),a.useEffect((function(){Z?le():oe&&_||he()}),[Z,he,oe,_,le]),!q&&!Z&&(!oe||ee))return null;var pe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:p.a}),me={};return void 0===k.props.tabIndex&&(me.tabIndex=k.props.tabIndex||"-1"),oe&&(me.onEnter=Object(f.a)((function(){te(!1)}),k.props.onEnter),me.onExited=Object(f.a)((function(){te(!0),_&&he()}),k.props.onExited)),a.createElement(l.a,{ref:de,container:S,disablePortal:F},a.createElement("div",Object(i.a)({ref:ae,onKeyDown:function(e){"Escape"===e.key&&fe()&&(e.stopPropagation(),X&&X(e),!D&&K&&K(e,"escapeKeyDown"))},role:"presentation"},J,{style:Object(i.a)({},pe.root,{},!Z&&ee?pe.hidden:{},{},J.style)}),W?null:a.createElement(x,Object(i.a)({open:Z,onClick:function(e){e.target===e.currentTarget&&($&&$(e),!T&&K&&K(e,"backdropClick"))}},O)),a.createElement(v,{disableEnforceFocus:R,disableAutoFocus:C,disableRestoreFocus:z,getDoc:se,isEnabled:fe,open:Z},a.cloneElement(k,me))))}));t.a=w},function(e,t,n){"use strict";var r=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,t){var n,i,a;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),i=""===n?1/0:void 0===t.maxLength?80:t.maxLength,a=t.replacer,function e(t,o,s){var u,c,l,f,d,h,p,m,v,g,b,y;if(t&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0===(b=JSON.stringify(t,a)))return b;if(p=i-o.length-s,b.length<=p&&(v=b.replace(r,(function(e,t){return t||e+" "}))).length<=p)return v;if(null!=a&&(t=JSON.parse(b),a=void 0),"object"===typeof t&&null!==t){if(m=o+n,l=[],c=0,Array.isArray(t))for(g="[",u="]",p=t.length;c<p;c++)l.push(e(t[c],m,c===p-1?0:1)||"null");else for(g="{",u="}",p=(h=Object.keys(t)).length;c<p;c++)f=h[c],d=JSON.stringify(f)+": ",void 0!==(y=e(t[f],m,d.length+(c===p-1?0:1)))&&l.push(d+y);if(l.length>0)return[g,n+l.join(",\n"+m),u].join("\n"+o)}return b}(e,"",0)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n.n(r),a=n(214);function o(){return i.a.useContext(a.a)}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(261);e.exports=function(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=r(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}},function(e,t,n){var r=n(363);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){var r=n(506);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(507),i=n(508),a=n(509);e.exports=function(e){return function(){var t,n=r(e);if(i()){var o=r(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return a(this,t)}}},function(e,t,n){"use strict";function r(){}n.r(t),n.d(t,"h",(function(){return s})),n.d(t,"createElement",(function(){return s})),n.d(t,"cloneElement",(function(){return l})),n.d(t,"Component",(function(){return F})),n.d(t,"render",(function(){return P})),n.d(t,"rerender",(function(){return p})),n.d(t,"options",(function(){return i}));var i={},a=[],o=[];function s(e,t){var n,s,u,c,l=o;for(c=arguments.length;c-- >2;)a.push(arguments[c]);for(t&&null!=t.children&&(a.length||a.push(t.children),delete t.children);a.length;)if((s=a.pop())&&void 0!==s.pop)for(c=s.length;c--;)a.push(s[c]);else"boolean"===typeof s&&(s=null),(u="function"!==typeof e)&&(null==s?s="":"number"===typeof s?s=String(s):"string"!==typeof s&&(u=!1)),u&&n?l[l.length-1]+=s:l===o?l=[s]:l.push(s),n=u;var f=new r;return f.nodeName=e,f.children=l,f.attributes=null==t?void 0:t,f.key=null==t?void 0:t.key,void 0!==i.vnode&&i.vnode(f),f}function u(e,t){for(var n in t)e[n]=t[n];return e}var c="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function l(e,t){return s(e.nodeName,u(u({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var f=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,d=[];function h(e){!e._dirty&&(e._dirty=!0)&&1==d.push(e)&&(i.debounceRendering||c)(p)}function p(){var e,t=d;for(d=[];e=t.pop();)e._dirty&&D(e)}function m(e,t,n){return"string"===typeof t||"number"===typeof t?void 0!==e.splitText:"string"===typeof t.nodeName?!e._componentConstructor&&v(e,t.nodeName):n||e._componentConstructor===t.nodeName}function v(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function g(e){var t=u({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function b(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n,r,i){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||i)if("style"===t){if(r&&"string"!==typeof r&&"string"!==typeof n||(e.style.cssText=r||""),r&&"object"===typeof r){if("string"!==typeof n)for(var a in n)a in r||(e.style[a]="");for(var a in r)e.style[a]="number"===typeof r[a]&&!1===f.test(a)?r[a]+"px":r[a]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var o=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,w,o):e.removeEventListener(t,w,o),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!i&&t in e)!function(e,t,n){try{e[t]=n}catch(r){}}(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var s=i&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!==typeof r&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function w(e){return this._listeners[e.type](i.event&&i.event(e)||e)}var x=[],O=0,k=!1,E=!1;function _(){for(var e;e=x.pop();)i.afterMount&&i.afterMount(e),e.componentDidMount&&e.componentDidMount()}function S(e,t,n,r,i,a){O++||(k=null!=i&&void 0!==i.ownerSVGElement,E=null!=e&&!("__preactattr_"in e));var o=j(e,t,n,r,a);return i&&o.parentNode!==i&&i.appendChild(o),--O||(E=!1,a||_()),o}function j(e,t,n,r,i){var a=e,o=k;if(null!=t&&"boolean"!==typeof t||(t=""),"string"===typeof t||"number"===typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||i)?e.nodeValue!=t&&(e.nodeValue=t):(a=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(a,e),C(e,!0))),a.__preactattr_=!0,a;var s=t.nodeName;if("function"===typeof s)return function(e,t,n,r){var i=e&&e._component,a=i,o=e,s=i&&e._componentConstructor===t.nodeName,u=s,c=g(t);for(;i&&!u&&(i=i._parentComponent);)u=i.constructor===t.nodeName;i&&u&&(!r||i._component)?(M(i,c,3,n,r),e=i.base):(a&&!s&&(I(a),e=o=null),i=N(t.nodeName,c,n),e&&!i.nextBase&&(i.nextBase=e,o=null),M(i,c,1,n,r),e=i.base,o&&e!==o&&(o._component=null,C(o,!1)));return e}(e,t,n,r);if(k="svg"===s||"foreignObject"!==s&&k,s=String(s),(!e||!v(e,s))&&(a=function(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}(s,k),e)){for(;e.firstChild;)a.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(a,e),C(e,!0)}var u=a.firstChild,c=a.__preactattr_,l=t.children;if(null==c){c=a.__preactattr_={};for(var f=a.attributes,d=f.length;d--;)c[f[d].name]=f[d].value}return!E&&l&&1===l.length&&"string"===typeof l[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=l[0]&&(u.nodeValue=l[0]):(l&&l.length||null!=u)&&function(e,t,n,r,i){var a,o,s,u,c,l=e.childNodes,f=[],d={},h=0,p=0,v=l.length,g=0,y=t?t.length:0;if(0!==v)for(var w=0;w<v;w++){var x=l[w],O=x.__preactattr_;null!=(k=y&&O?x._component?x._component.__key:O.key:null)?(h++,d[k]=x):(O||(void 0!==x.splitText?!i||x.nodeValue.trim():i))&&(f[g++]=x)}if(0!==y)for(w=0;w<y;w++){var k;if(u=t[w],c=null,null!=(k=u.key))h&&void 0!==d[k]&&(c=d[k],d[k]=void 0,h--);else if(!c&&p<g)for(a=p;a<g;a++)if(void 0!==f[a]&&m(o=f[a],u,i)){c=o,f[a]=void 0,a===g-1&&g--,a===p&&p++;break}c=j(c,u,n,r),s=l[w],c&&c!==e&&c!==s&&(null==s?e.appendChild(c):c===s.nextSibling?b(s):e.insertBefore(c,s))}if(h)for(var w in d)void 0!==d[w]&&C(d[w],!1);for(;p<=g;)void 0!==(c=f[g--])&&C(c,!1)}(a,l,n,r,E||null!=c.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||y(e,r,n[r],n[r]=void 0,k);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||y(e,r,n[r],n[r]=t[r],k)}(a,t.attributes,c),k=o,a}function C(e,t){var n=e._component;n?I(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||b(e),A(e))}function A(e){for(e=e.lastChild;e;){var t=e.previousSibling;C(e,!0),e=t}}var T={};function N(e,t,n){var r,i=T[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),F.call(r,t,n)):((r=new F(t,n)).constructor=e,r.render=R),i)for(var a=i.length;a--;)if(i[a].constructor===e){r.nextBase=i[a].nextBase,i.splice(a,1);break}return r}function R(e,t,n){return this.constructor(e,n)}function M(e,t,n,r,a){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||a?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===i.syncComponentUpdates&&e.base?h(e):D(e,1,a)),e.__ref&&e.__ref(e))}function D(e,t,n,r){if(!e._disable){var a,o,s,c=e.props,l=e.state,f=e.context,d=e.prevProps||c,h=e.prevState||l,p=e.prevContext||f,m=e.base,v=e.nextBase,b=m||v,y=e._component,w=!1;if(m&&(e.props=d,e.state=h,e.context=p,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,l,f)?w=!0:e.componentWillUpdate&&e.componentWillUpdate(c,l,f),e.props=c,e.state=l,e.context=f),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!w){a=e.render(c,l,f),e.getChildContext&&(f=u(u({},f),e.getChildContext()));var k,E,j=a&&a.nodeName;if("function"===typeof j){var A=g(a);(o=y)&&o.constructor===j&&A.key==o.__key?M(o,A,1,f,!1):(k=o,e._component=o=N(j,A,f),o.nextBase=o.nextBase||v,o._parentComponent=e,M(o,A,0,f,!1),D(o,1,n,!0)),E=o.base}else s=b,(k=y)&&(s=e._component=null),(b||1===t)&&(s&&(s._component=null),E=S(s,a,f,n||!m,b&&b.parentNode,!0));if(b&&E!==b&&o!==y){var T=b.parentNode;T&&E!==T&&(T.replaceChild(E,b),k||(b._component=null,C(b,!1)))}if(k&&I(k),e.base=E,E&&!r){for(var R=e,F=e;F=F._parentComponent;)(R=F).base=E;E._component=R,E._componentConstructor=R.constructor}}if(!m||n?x.unshift(e):w||(e.componentDidUpdate&&e.componentDidUpdate(d,h,p),i.afterUpdate&&i.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);O||r||_()}}function I(e){i.beforeUnmount&&i.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?I(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,b(t),function(e){var t=e.constructor.name;(T[t]||(T[t]=[])).push(e)}(e),A(t)),e.__ref&&e.__ref(null)}function F(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function P(e,t,n){return S(n,e,{},!1,t,!1)}u(F.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=u({},n)),u(n,"function"===typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),h(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),D(this,2)},render:function(){}});var z={h:s,createElement:s,cloneElement:l,Component:F,render:P,rerender:p,options:i};t.default=z},function(e,t,n){"use strict";var r=n(13),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(99),s=a(n(125)),u=n(87),c=n(184),l=n(185),f={maxBins:12,fontSize:11};function d(e,t,n){var r=o.format(",.4~f"),i=o.format(".4~p"),a=[],s=[];if(null!=e.numVals&&(a.push("Num Vals"),s.push(r(e.numVals))),null!=e.min&&(a.push("Min"),s.push(r(e.min))),null!=e.max&&(a.push("Max"),s.push(r(e.max))),null!=e.numZeros){a.push("# Zeros");var u="";e.numVals&&(u=e.numZeros>0?"(".concat(i(e.numZeros/e.numVals),")"):""),s.push("".concat(r(e.numZeros)," ").concat(u))}if(null!=e.numNans){a.push("# NaNs");var c="";e.numVals&&(c=e.numNans>0?"(".concat(i(e.numNans/e.numVals),")"):""),s.push("".concat(r(e.numNans)," ").concat(c))}if(null!=e.numInfs){a.push("# Infinity");var f="";e.numVals&&(f=e.numInfs>0?"(".concat(i(e.numInfs/e.numVals),")"):""),s.push("".concat(r(e.numInfs)," ").concat(f))}l.table(t,{headers:a,values:[s]},n)}function h(e){if(null==e.length)throw new Error("input data must be an array");if(0===e.length)return[];if("object"===typeof e[0]){if(null==e[0].value)throw new Error("input data must have a value field");return e}for(var t=Array(e.length),n=0;n<e.length;n++)t[n]={value:e[n]};return t}t.histogram=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,void 0,void 0,r.mark((function i(){var a,o,l,p,m,v,g,b,y;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(a=h(t),o=Object.assign({},f,n),l={actions:!1,mode:"vega-lite",defaultStyle:!1},p=u.subSurface(e,"histogram"),!1!==n.stats&&(m=u.subSurface(e,"stats",{prepend:!0}),d(n.stats?n.stats:c.arrayStats(a.map((function(e){return e.value}))),m,{fontSize:o.fontSize})),v=[],g=0;g<a.length;g++)null!=(b=a[g].value)&&isFinite(b)&&v.push(a[g]);return y={width:o.width||u.getDefaultWidth(p),height:o.height||u.getDefaultHeight(p),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},data:{values:v},mark:{type:"bar",tooltip:!0},config:{axis:{labelFontSize:o.fontSize,titleFontSize:o.fontSize},text:{fontSize:o.fontSize},legend:{labelFontSize:o.fontSize,titleFontSize:o.fontSize}},encoding:{x:{bin:{maxbins:o.maxBins},field:"value",type:"quantitative"},y:{aggregate:"count",type:"quantitative"},color:{value:o.color||"#001B44"}}},r.abrupt("return",s.default(p,y,l));case 9:case"end":return r.stop()}}),i)})))}},function(e,t,n){"use strict";function r(e){return function(){return null}}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var r=n(23),i=n(382),a=n(24).Buffer,o=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function c(e,t,n,r,i,a,o){return u(e+(t&n|~t&r)+i+a|0,o)+t|0}function l(e,t,n,r,i,a,o){return u(e+(t&r|n&~r)+i+a|0,o)+t|0}function f(e,t,n,r,i,a,o){return u(e+(t^n^r)+i+a|0,o)+t|0}function d(e,t,n,r,i,a,o){return u(e+(n^(t|~r))+i+a|0,o)+t|0}r(s,i),s.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,a=this._d;n=c(n,r,i,a,e[0],3614090360,7),a=c(a,n,r,i,e[1],3905402710,12),i=c(i,a,n,r,e[2],606105819,17),r=c(r,i,a,n,e[3],3250441966,22),n=c(n,r,i,a,e[4],4118548399,7),a=c(a,n,r,i,e[5],1200080426,12),i=c(i,a,n,r,e[6],2821735955,17),r=c(r,i,a,n,e[7],4249261313,22),n=c(n,r,i,a,e[8],1770035416,7),a=c(a,n,r,i,e[9],2336552879,12),i=c(i,a,n,r,e[10],4294925233,17),r=c(r,i,a,n,e[11],2304563134,22),n=c(n,r,i,a,e[12],1804603682,7),a=c(a,n,r,i,e[13],4254626195,12),i=c(i,a,n,r,e[14],2792965006,17),n=l(n,r=c(r,i,a,n,e[15],1236535329,22),i,a,e[1],4129170786,5),a=l(a,n,r,i,e[6],3225465664,9),i=l(i,a,n,r,e[11],643717713,14),r=l(r,i,a,n,e[0],3921069994,20),n=l(n,r,i,a,e[5],3593408605,5),a=l(a,n,r,i,e[10],38016083,9),i=l(i,a,n,r,e[15],3634488961,14),r=l(r,i,a,n,e[4],3889429448,20),n=l(n,r,i,a,e[9],568446438,5),a=l(a,n,r,i,e[14],3275163606,9),i=l(i,a,n,r,e[3],4107603335,14),r=l(r,i,a,n,e[8],1163531501,20),n=l(n,r,i,a,e[13],2850285829,5),a=l(a,n,r,i,e[2],4243563512,9),i=l(i,a,n,r,e[7],1735328473,14),n=f(n,r=l(r,i,a,n,e[12],2368359562,20),i,a,e[5],4294588738,4),a=f(a,n,r,i,e[8],2272392833,11),i=f(i,a,n,r,e[11],1839030562,16),r=f(r,i,a,n,e[14],4259657740,23),n=f(n,r,i,a,e[1],2763975236,4),a=f(a,n,r,i,e[4],1272893353,11),i=f(i,a,n,r,e[7],4139469664,16),r=f(r,i,a,n,e[10],3200236656,23),n=f(n,r,i,a,e[13],681279174,4),a=f(a,n,r,i,e[0],3936430074,11),i=f(i,a,n,r,e[3],3572445317,16),r=f(r,i,a,n,e[6],76029189,23),n=f(n,r,i,a,e[9],3654602809,4),a=f(a,n,r,i,e[12],3873151461,11),i=f(i,a,n,r,e[15],530742520,16),n=d(n,r=f(r,i,a,n,e[2],3299628645,23),i,a,e[0],4096336452,6),a=d(a,n,r,i,e[7],1126891415,10),i=d(i,a,n,r,e[14],2878612391,15),r=d(r,i,a,n,e[5],4237533241,21),n=d(n,r,i,a,e[12],1700485571,6),a=d(a,n,r,i,e[3],2399980690,10),i=d(i,a,n,r,e[10],4293915773,15),r=d(r,i,a,n,e[1],2240044497,21),n=d(n,r,i,a,e[8],1873313359,6),a=d(a,n,r,i,e[15],4264355552,10),i=d(i,a,n,r,e[6],2734768916,15),r=d(r,i,a,n,e[13],1309151649,21),n=d(n,r,i,a,e[4],4149444226,6),a=d(a,n,r,i,e[11],3174756917,10),i=d(i,a,n,r,e[2],718787259,15),r=d(r,i,a,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+a|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=a.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},function(e,t,n){e.exports=i;var r=n(270).EventEmitter;function i(){r.call(this)}n(23)(i,r),i.Readable=n(271),i.Writable=n(552),i.Duplex=n(553),i.Transform=n(554),i.PassThrough=n(555),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var o=!1;function s(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",c),e.on("error",c),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,a,o,s;if(c(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):v(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"===typeof u)a(u,this,t);else{var c=u.length,l=v(u,c);for(n=0;n<c;++n)a(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){(t=e.exports=n(383)).Stream=t,t.Readable=t,t.Writable=n(272),t.Duplex=n(106),t.Transform=n(386),t.PassThrough=n(551)},function(e,t,n){"use strict";(function(t,r,i){var a=n(197);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:a.nextTick;b.WritableState=g;var c=Object.create(n(157));c.inherits=n(23);var l={deprecate:n(550)},f=n(384),d=n(24).Buffer,h=i.Uint8Array||function(){};var p,m=n(385);function v(){}function g(e,t){s=s||n(106),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(a.nextTick(i,r),a.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),E(e,t))}(e,n,r,t,i);else{var o=O(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),r?u(w,e,n,o,i):w(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(s=s||n(106),!p.call(b,this)&&!(this instanceof s))return new b(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),f.call(this)}function y(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),E(e,t)}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,y(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(y(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function O(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var n=O(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(b,f),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===b&&(e&&e._writableState instanceof g)}})):p=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,d.isBuffer(r)||r instanceof h);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=v),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,a){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=d.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,r,i,a);return u}(this,i,s,e,t,n)),o},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,n){var r=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(60),n(353).setImmediate,n(42))},function(e,t,n){"use strict";var r=n(24).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";var r=n(34).Buffer,i=n(23),a=n(382),o=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function h(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,n,r,i,a,o,s){return p(e+(t^n^r)+a+o|0,s)+i|0}function v(e,t,n,r,i,a,o,s){return p(e+(t&n|~t&r)+a+o|0,s)+i|0}function g(e,t,n,r,i,a,o,s){return p(e+((t|~n)^r)+a+o|0,s)+i|0}function b(e,t,n,r,i,a,o,s){return p(e+(t&r|n&~r)+a+o|0,s)+i|0}function y(e,t,n,r,i,a,o,s){return p(e+(t^(n|~r))+a+o|0,s)+i|0}i(h,a),h.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,r=0|this._b,i=0|this._c,a=0|this._d,h=0|this._e,w=0|this._a,x=0|this._b,O=0|this._c,k=0|this._d,E=0|this._e,_=0;_<80;_+=1){var S,j;_<16?(S=m(n,r,i,a,h,e[s[_]],f[0],c[_]),j=y(w,x,O,k,E,e[u[_]],d[0],l[_])):_<32?(S=v(n,r,i,a,h,e[s[_]],f[1],c[_]),j=b(w,x,O,k,E,e[u[_]],d[1],l[_])):_<48?(S=g(n,r,i,a,h,e[s[_]],f[2],c[_]),j=g(w,x,O,k,E,e[u[_]],d[2],l[_])):_<64?(S=b(n,r,i,a,h,e[s[_]],f[3],c[_]),j=v(w,x,O,k,E,e[u[_]],d[3],l[_])):(S=y(n,r,i,a,h,e[s[_]],f[4],c[_]),j=m(w,x,O,k,E,e[u[_]],d[4],l[_])),n=h,h=a,a=p(i,10),i=r,r=S,w=E,E=k,k=p(O,10),O=x,x=j}var C=this._b+i+k|0;this._b=this._c+a+E|0,this._c=this._d+h+w|0,this._d=this._e+n+x|0,this._e=this._a+r+O|0,this._a=C},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=h},function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n(556),t.sha1=n(557),t.sha224=n(558),t.sha256=n(387),t.sha384=n(559),t.sha512=n(388)},function(e,t,n){"use strict";var r=n(61);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var a=e.length-(e.length-t)%this.blockSize;t<a;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,n){var r=n(568),i=n(576),a=n(400);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(a)}},function(e,t,n){var r={ECB:n(569),CBC:n(570),CFB:n(571),CFB8:n(572),CFB1:n(573),OFB:n(574),CTR:n(398),GCM:n(398)},i=n(400);for(var a in i)i[a].module=r[i[a].mode];e.exports=i},function(e,t,n){var r;function i(e){this.rand=e}if(e.exports=function(e){return r||(r=new i(null)),r.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=n(580);if("function"!==typeof a.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return a.randomBytes(e)}}catch(o){}},function(e,t,n){(function(t){var r=n(36),i=n(123);function a(e,n){var i=function(e){var t=o(e);return{blinder:t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(n),a=n.modulus.byteLength(),s=(r.mont(n.modulus),new r(e).mul(i.blinder).umod(n.modulus)),u=s.toRed(r.mont(n.prime1)),c=s.toRed(r.mont(n.prime2)),l=n.coefficient,f=n.prime1,d=n.prime2,h=u.redPow(n.exponent1),p=c.redPow(n.exponent2);h=h.fromRed(),p=p.fromRed();var m=h.isub(p).imul(l).umod(f);return m.imul(d),p.iadd(m),new t(p.imul(i.unblinder).umod(n.modulus).toArray(!1,a))}function o(e){for(var t=e.modulus.byteLength(),n=new r(i(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new r(i(t));return n}e.exports=a,a.getr=o}).call(this,n(34).Buffer)},function(e,t,n){"use strict";var r=t;r.version=n(585).version,r.utils=n(62),r.rand=n(279),r.curve=n(406),r.curves=n(282),r.ec=n(596),r.eddsa=n(600)},function(e,t,n){"use strict";var r,i=t,a=n(283),o=n(406),s=n(62).assert;function u(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new u(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(595)}catch(l){r=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},function(e,t,n){var r=t;r.utils=n(70),r.common=n(159),r.sha=n(589),r.ripemd=n(593),r.hmac=n(594),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(17),c=n(295),l=n(14),f=a.forwardRef((function(e,t){var n=e.edge,s=void 0!==n&&n,u=e.children,f=e.classes,d=e.className,h=e.color,p=void 0===h?"default":h,m=e.disabled,v=void 0!==m&&m,g=e.disableFocusRipple,b=void 0!==g&&g,y=e.size,w=void 0===y?"medium":y,x=Object(i.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return a.createElement(c.a,Object(r.a)({className:Object(o.a)(f.root,d,"default"!==p&&f["color".concat(Object(l.a)(p))],v&&f.disabled,"small"===w&&f["size".concat(Object(l.a)(w))],{start:f.edgeStart,end:f.edgeEnd}[s]),centerRipple:!0,focusRipple:!b,disabled:v,ref:t},x),a.createElement("span",{className:f.label},u))}));t.a=Object(s.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(u.d)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(f)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(26)),s=n(47),u=n(4),c=n(33),l=n(73),f=n(56),d=n(7),h=n(235),p=n(227),m=n(165);function v(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function g(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function b(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function y(e){return"function"===typeof e?e():e}var w=a.forwardRef((function(e,t){var n=e.action,d=e.anchorEl,w=e.anchorOrigin,x=void 0===w?{vertical:"top",horizontal:"left"}:w,O=e.anchorPosition,k=e.anchorReference,E=void 0===k?"anchorEl":k,_=e.children,S=e.classes,j=e.className,C=e.container,A=e.elevation,T=void 0===A?8:A,N=e.getContentAnchorEl,R=e.marginThreshold,M=void 0===R?16:R,D=e.onEnter,I=e.onEntered,F=e.onEntering,P=e.onExit,z=e.onExited,L=e.onExiting,B=e.open,U=e.PaperProps,W=void 0===U?{}:U,V=e.transformOrigin,q=void 0===V?{vertical:"top",horizontal:"left"}:V,H=e.TransitionComponent,G=void 0===H?p.a:H,$=e.transitionDuration,K=void 0===$?"auto":$,X=e.TransitionProps,Y=void 0===X?{}:X,Z=Object(i.a)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),J=a.useRef(),Q=a.useCallback((function(e){if("anchorPosition"===E)return O;var t=y(d),n=(t instanceof Object(l.a)(t).Element?t:Object(c.a)(J.current).body).getBoundingClientRect(),r=0===e?x.vertical:"center";return{top:n.top+v(n,r),left:n.left+g(n,x.horizontal)}}),[d,x.horizontal,x.vertical,O,E]),ee=a.useCallback((function(e){var t=0;if(N&&"anchorEl"===E){var n=N(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[x.vertical,E,N]),te=a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:v(e,q.vertical)+t,horizontal:g(e,q.horizontal)}}),[q.horizontal,q.vertical]),ne=a.useCallback((function(e){var t=ee(e),n={width:e.offsetWidth,height:e.offsetHeight},r=te(n,t);if("none"===E)return{top:null,left:null,transformOrigin:b(r)};var i=Q(t),a=i.top-r.vertical,o=i.left-r.horizontal,s=a+n.height,u=o+n.width,c=Object(l.a)(y(d)),f=c.innerHeight-M,h=c.innerWidth-M;if(a<M){var p=a-M;a-=p,r.vertical+=p}else if(s>f){var m=s-f;a-=m,r.vertical+=m}if(o<M){var v=o-M;o-=v,r.horizontal+=v}else if(u>h){var g=u-h;o-=g,r.horizontal+=g}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:b(r)}}),[d,E,Q,ee,te,M]),re=a.useCallback((function(){var e=J.current;if(e){var t=ne(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[ne]),ie=a.useCallback((function(e){J.current=o.findDOMNode(e)}),[]);a.useEffect((function(){B&&re()})),a.useImperativeHandle(n,(function(){return B?{updatePosition:function(){re()}}:null}),[B,re]),a.useEffect((function(){if(B){var e=Object(s.a)((function(){re()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[B,re]);var ae=K;"auto"!==K||G.muiSupportAuto||(ae=void 0);var oe=C||(d?Object(c.a)(y(d)).body:void 0);return a.createElement(h.a,Object(r.a)({container:oe,open:B,ref:t,BackdropProps:{invisible:!0},className:Object(u.a)(S.root,j)},Z),a.createElement(G,Object(r.a)({appear:!0,in:B,onEnter:D,onEntered:I,onExit:P,onExited:z,onExiting:L,timeout:ae},Y,{onEntering:Object(f.a)((function(e,t){F&&F(e,t),re()}),Y.onEntering)}),a.createElement(m.a,Object(r.a)({elevation:T,ref:ie},W,{className:Object(u.a)(S.paper,W.className)}),_)))}));t.a=Object(d.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(w)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(110),u=n(7),c=n(14),l=n(63),f=n(78),d=a.forwardRef((function(e,t){var n=e.children,u=e.classes,d=e.className,h=e.color,p=void 0===h?"primary":h,m=e.component,v=void 0===m?"div":m,g=e.disabled,b=void 0!==g&&g,y=e.error,w=void 0!==y&&y,x=e.fullWidth,O=void 0!==x&&x,k=e.focused,E=e.hiddenLabel,_=void 0!==E&&E,S=e.margin,j=void 0===S?"none":S,C=e.required,A=void 0!==C&&C,T=e.size,N=e.variant,R=void 0===N?"standard":N,M=Object(i.a)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),D=a.useState((function(){var e=!1;return n&&a.Children.forEach(n,(function(t){if(Object(l.a)(t,["Input","Select"])){var n=Object(l.a)(t,["Select"])?t.props.input:t;n&&Object(s.a)(n.props)&&(e=!0)}})),e})),I=D[0],F=D[1],P=a.useState((function(){var e=!1;return n&&a.Children.forEach(n,(function(t){Object(l.a)(t,["Input","Select"])&&Object(s.b)(t.props,!0)&&(e=!0)})),e})),z=P[0],L=P[1],B=a.useState(!1),U=B[0],W=B[1],V=void 0!==k?k:U;b&&V&&W(!1);var q=a.useCallback((function(){L(!0)}),[]),H={adornedStart:I,setAdornedStart:F,color:p,disabled:b,error:w,filled:z,focused:V,fullWidth:O,hiddenLabel:_,margin:("small"===T?"dense":void 0)||j,onBlur:function(){W(!1)},onEmpty:a.useCallback((function(){L(!1)}),[]),onFilled:q,onFocus:function(){W(!0)},registerEffect:void 0,required:A,variant:R};return a.createElement(f.a.Provider,{value:H},a.createElement(v,Object(r.a)({className:Object(o.a)(u.root,d,"none"!==j&&u["margin".concat(Object(c.a)(j))],O&&u.fullWidth),ref:t},M),n))}));t.a=Object(u.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(d)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=a.forwardRef((function(e,t){var n=e.classes,s=e.className,u=e.row,c=void 0!==u&&u,l=Object(i.a)(e,["classes","className","row"]);return a.createElement("div",Object(r.a)({className:Object(o.a)(n.root,s,c&&n.row),ref:t},l))}));t.a=Object(s.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(u)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(64),u=n(48),c=n(7),l=n(638),f=a.forwardRef((function(e,t){var n=e.classes,c=e.className,f=e.disableAnimation,d=void 0!==f&&f,h=(e.margin,e.shrink),p=(e.variant,Object(i.a)(e,["classes","className","disableAnimation","margin","shrink","variant"])),m=Object(u.a)(),v=h;"undefined"===typeof v&&m&&(v=m.filled||m.focused||m.adornedStart);var g=Object(s.a)({props:e,muiFormControl:m,states:["margin","variant"]});return a.createElement(l.a,Object(r.a)({"data-shrink":v,className:Object(o.a)(n.root,c,m&&n.formControl,!d&&n.animated,v&&n.shrink,"dense"===g.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[g.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},p))}));t.a=Object(c.a)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(f)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(97),i=n(44),a=n(0),o=n.n(a),s=n(67),u=(n(8),n(3)),c=n(49),l=n(57);o.a.Component;var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.b)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return o.a.createElement(r.c,{history:this.history,children:this.props.children})},t}(o.a.Component);var d=function(e,t){return"function"===typeof e?e(t):e},h=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},m=o.a.forwardRef;"undefined"===typeof m&&(m=p);var v=m((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=Object(c.a)(e,["innerRef","navigate","onClick"]),s=a.target,l=Object(u.a)({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==m&&t||n,o.a.createElement("a",l)}));var g=m((function(e,t){var n=e.component,i=void 0===n?v:n,a=e.replace,s=e.to,f=e.innerRef,g=Object(c.a)(e,["component","replace","to","innerRef"]);return o.a.createElement(r.e.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=h(d(s,e.location),e.location),c=r?n.createHref(r):"",v=Object(u.a)({},g,{href:c,navigate:function(){var t=d(s,e.location);(a?n.replace:n.push)(t)}});return p!==m?v.ref=t||f:v.innerRef=f,o.a.createElement(i,v)}))})),b=function(e){return e},y=o.a.forwardRef;"undefined"===typeof y&&(y=b);y((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.activeClassName,s=void 0===a?"active":a,f=e.activeStyle,p=e.className,m=e.exact,v=e.isActive,w=e.location,x=e.strict,O=e.style,k=e.to,E=e.innerRef,_=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return o.a.createElement(r.e.Consumer,null,(function(e){e||Object(l.a)(!1);var n=w||e.location,a=h(d(k,n),n),c=a.pathname,S=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),j=S?Object(r.f)(n.pathname,{path:S,exact:m,strict:x}):null,C=!!(v?v(j,n):j),A=C?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,s):p,T=C?Object(u.a)({},O,{},f):O,N=Object(u.a)({"aria-current":C&&i||null,className:A,style:T,to:a},_);return b!==y?N.ref=t||E:N.innerRef=E,o.a.createElement(g,N)}))}))},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(651)),s=n(30),u=n(51),c=n(83),l=(n(58),n(4)),f=n(14),d=n(437),h=n(110),p=n(21),m=n(50);function v(e,t){return"object"===Object(c.a)(t)&&null!==t?e===t:String(e)===String(t)}var g=a.forwardRef((function(e,t){var n=e["aria-label"],o=e.autoFocus,c=e.autoWidth,g=e.children,b=e.classes,y=e.className,w=e.defaultValue,x=e.disabled,O=e.displayEmpty,k=e.IconComponent,E=e.inputRef,_=e.labelId,S=e.MenuProps,j=void 0===S?{}:S,C=e.multiple,A=e.name,T=e.onBlur,N=e.onChange,R=e.onClose,M=e.onFocus,D=e.onOpen,I=e.open,F=e.readOnly,P=e.renderValue,z=(e.required,e.SelectDisplayProps),L=void 0===z?{}:z,B=e.tabIndex,U=(e.type,e.value),W=e.variant,V=void 0===W?"standard":W,q=Object(i.a)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","required","SelectDisplayProps","tabIndex","type","value","variant"]),H=Object(m.a)({controlled:U,default:w,name:"SelectInput"}),G=Object(u.a)(H,2),$=G[0],K=G[1],X=a.useRef(null),Y=a.useState(null),Z=Y[0],J=Y[1],Q=a.useRef(null!=I).current,ee=a.useState(),te=ee[0],ne=ee[1],re=a.useState(!1),ie=re[0],ae=re[1],oe=Object(p.a)(t,E);a.useImperativeHandle(oe,(function(){return{focus:function(){Z.focus()},node:X.current,value:$}}),[Z,$]),a.useEffect((function(){o&&Z&&Z.focus()}),[o,Z]);var se,ue,ce=function(e,t){e?D&&D(t):R&&R(t),Q||(ne(c?null:Z.clientWidth),ae(e))},le=function(e){return function(t){var n;if(C||ce(!1,t),C){n=Array.isArray($)?Object(s.a)($):[];var r=$.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;$!==n&&(K(n),N&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:A}}),N(t,e)))}},fe=null!==Z&&(Q?I:ie);delete q["aria-invalid"];var de=[],he=!1;(Object(h.b)({value:$})||O)&&(P?se=P($):he=!0);var pe=a.Children.map(g,(function(e){if(!a.isValidElement(e))return null;var t;if(C){if(!Array.isArray($))throw new Error("Material-UI: the `value` prop must be an array when using the `Select` component with `multiple`.");(t=$.some((function(t){return v(t,e.props.value)})))&&he&&de.push(e.props.children)}else(t=v($,e.props.value))&&he&&(ue=e.props.children);return t&&!0,a.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:le(e),onKeyUp:function(t){" "===t.key&&t.preventDefault();var n=e.props.onKeyUp;"function"===typeof n&&n(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));he&&(se=C?de.join(", "):ue);var me,ve=te;!c&&Q&&Z&&(ve=Z.clientWidth),me="undefined"!==typeof B?B:x?null:0;var ge=L.id||(A?"mui-component-select-".concat(A):void 0);return a.createElement(a.Fragment,null,a.createElement("div",Object(r.a)({className:Object(l.a)(b.root,b.select,b.selectMenu,b[V],y,x&&b.disabled),ref:J,tabIndex:me,role:"button","aria-disabled":x?"true":void 0,"aria-expanded":fe?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[_,ge].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!F){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ce(!0,e))}},onMouseDown:x||F?null:function(e){0===e.button&&(e.preventDefault(),Z.focus(),ce(!0,e))},onBlur:function(e){!fe&&T&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:$,name:A}}),T(e))},onFocus:M},L,{id:ge}),function(e){return null==e||"string"===typeof e&&!e.trim()}(se)?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):se),a.createElement("input",Object(r.a)({value:Array.isArray($)?$.join(","):$,name:A,ref:X,type:"hidden",autoFocus:o},q)),a.createElement(k,{className:Object(l.a)(b.icon,b["icon".concat(Object(f.a)(V))],fe&&b.iconOpen,x&&b.disabled)}),a.createElement(d.a,Object(r.a)({id:"menu-".concat(A||""),anchorEl:Z,open:fe,onClose:function(e){ce(!1,e)}},j,{MenuListProps:Object(r.a)({"aria-labelledby":_,role:"listbox",disableListWrap:!0},j.MenuListProps),PaperProps:Object(r.a)({},j.PaperProps,{style:Object(r.a)({minWidth:ve},null!=j.PaperProps?j.PaperProps.style:null)})}),pe))})),b=n(64),y=n(48),w=n(7),x=n(229),O=n(228),k=n(436),E=n(230),_=n(635),S=n(640),j=k.b,C=a.createElement(O.a,null),A=a.createElement(_.a,null),T=a.forwardRef((function e(t,n){var s=t.autoWidth,u=void 0!==s&&s,c=t.children,l=t.classes,f=t.displayEmpty,d=void 0!==f&&f,h=t.IconComponent,p=void 0===h?x.a:h,m=t.id,v=t.input,w=t.inputProps,O=t.label,k=t.labelId,_=t.labelWidth,j=void 0===_?0:_,T=t.MenuProps,N=t.multiple,R=void 0!==N&&N,M=t.native,D=void 0!==M&&M,I=t.onClose,F=t.onOpen,P=t.open,z=t.renderValue,L=t.SelectDisplayProps,B=t.variant,U=void 0===B?"standard":B,W=Object(i.a)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),V=D?E.a:g,q=Object(y.a)(),H=Object(b.a)({props:t,muiFormControl:q,states:["variant"]}).variant||U,G=v||{standard:C,outlined:a.createElement(S.a,{label:O,labelWidth:j}),filled:A}[H];return a.cloneElement(G,Object(r.a)({inputComponent:V,inputProps:Object(r.a)({children:c,IconComponent:p,variant:H,type:void 0,multiple:R},D?{id:m}:{autoWidth:u,displayEmpty:d,labelId:k,MenuProps:T,onClose:I,onOpen:F,open:P,renderValue:z,SelectDisplayProps:Object(r.a)({id:m},L)},{},w,{classes:w?Object(o.a)({baseClasses:l,newClasses:w.classes,Component:e}):l},v?v.props.inputProps:{}),ref:n},W))}));T.muiName="Select";t.a=Object(w.a)(j,{name:"MuiSelect"})(T)},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var r=n(350);e.exports=h,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],d=n[1],h=n.index;if(s+=e.slice(o,h),o=h+f.length,d)s+=d[1];else{var p=e[o],m=n[2],v=n[3],g=n[4],b=n[5],y=n[6],w=n[7];s&&(r.push(s),s="");var x=null!=m&&null!=p&&p!==m,O="+"===y||"*"===y,k="?"===y||"*"===y,E=n[2]||l,_=g||b;r.push({name:v||a++,prefix:m||"",delimiter:E,optional:k,repeat:O,partial:x,asterisk:!!w,pattern:_?c(_):w?".*":"[^"+u(E)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,d=s[l.name];if(null==d){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=u(d[h]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===h?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(d),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var d=u(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+d+h+")*"),o+=h=c.optional?c.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var p=u(n.delimiter||"/"),m=o.slice(-p.length)===p;return i||(o=(m?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&m?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(a(e,n),t,n)}(e,t,n)}},function(e,t,n){(function(n){var r;t=e.exports=d,r="object"===typeof n&&Object({NODE_ENV:"production",PUBLIC_URL:"/Reactive-Miner",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})&&Object({NODE_ENV:"production",PUBLIC_URL:"/Reactive-Miner",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production",PUBLIC_URL:"/Reactive-Miner",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var i=Number.MAX_SAFE_INTEGER||9007199254740991,a=t.re=[],o=t.src=[],s=t.tokens={},u=0;function c(e){s[e]=u++}c("NUMERICIDENTIFIER"),o[s.NUMERICIDENTIFIER]="0|[1-9]\\d*",c("NUMERICIDENTIFIERLOOSE"),o[s.NUMERICIDENTIFIERLOOSE]="[0-9]+",c("NONNUMERICIDENTIFIER"),o[s.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",c("MAINVERSION"),o[s.MAINVERSION]="("+o[s.NUMERICIDENTIFIER]+")\\.("+o[s.NUMERICIDENTIFIER]+")\\.("+o[s.NUMERICIDENTIFIER]+")",c("MAINVERSIONLOOSE"),o[s.MAINVERSIONLOOSE]="("+o[s.NUMERICIDENTIFIERLOOSE]+")\\.("+o[s.NUMERICIDENTIFIERLOOSE]+")\\.("+o[s.NUMERICIDENTIFIERLOOSE]+")",c("PRERELEASEIDENTIFIER"),o[s.PRERELEASEIDENTIFIER]="(?:"+o[s.NUMERICIDENTIFIER]+"|"+o[s.NONNUMERICIDENTIFIER]+")",c("PRERELEASEIDENTIFIERLOOSE"),o[s.PRERELEASEIDENTIFIERLOOSE]="(?:"+o[s.NUMERICIDENTIFIERLOOSE]+"|"+o[s.NONNUMERICIDENTIFIER]+")",c("PRERELEASE"),o[s.PRERELEASE]="(?:-("+o[s.PRERELEASEIDENTIFIER]+"(?:\\."+o[s.PRERELEASEIDENTIFIER]+")*))",c("PRERELEASELOOSE"),o[s.PRERELEASELOOSE]="(?:-?("+o[s.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+o[s.PRERELEASEIDENTIFIERLOOSE]+")*))",c("BUILDIDENTIFIER"),o[s.BUILDIDENTIFIER]="[0-9A-Za-z-]+",c("BUILD"),o[s.BUILD]="(?:\\+("+o[s.BUILDIDENTIFIER]+"(?:\\."+o[s.BUILDIDENTIFIER]+")*))",c("FULL"),c("FULLPLAIN"),o[s.FULLPLAIN]="v?"+o[s.MAINVERSION]+o[s.PRERELEASE]+"?"+o[s.BUILD]+"?",o[s.FULL]="^"+o[s.FULLPLAIN]+"$",c("LOOSEPLAIN"),o[s.LOOSEPLAIN]="[v=\\s]*"+o[s.MAINVERSIONLOOSE]+o[s.PRERELEASELOOSE]+"?"+o[s.BUILD]+"?",c("LOOSE"),o[s.LOOSE]="^"+o[s.LOOSEPLAIN]+"$",c("GTLT"),o[s.GTLT]="((?:<|>)?=?)",c("XRANGEIDENTIFIERLOOSE"),o[s.XRANGEIDENTIFIERLOOSE]=o[s.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",c("XRANGEIDENTIFIER"),o[s.XRANGEIDENTIFIER]=o[s.NUMERICIDENTIFIER]+"|x|X|\\*",c("XRANGEPLAIN"),o[s.XRANGEPLAIN]="[v=\\s]*("+o[s.XRANGEIDENTIFIER]+")(?:\\.("+o[s.XRANGEIDENTIFIER]+")(?:\\.("+o[s.XRANGEIDENTIFIER]+")(?:"+o[s.PRERELEASE]+")?"+o[s.BUILD]+"?)?)?",c("XRANGEPLAINLOOSE"),o[s.XRANGEPLAINLOOSE]="[v=\\s]*("+o[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+o[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+o[s.XRANGEIDENTIFIERLOOSE]+")(?:"+o[s.PRERELEASELOOSE]+")?"+o[s.BUILD]+"?)?)?",c("XRANGE"),o[s.XRANGE]="^"+o[s.GTLT]+"\\s*"+o[s.XRANGEPLAIN]+"$",c("XRANGELOOSE"),o[s.XRANGELOOSE]="^"+o[s.GTLT]+"\\s*"+o[s.XRANGEPLAINLOOSE]+"$",c("COERCE"),o[s.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",c("COERCERTL"),a[s.COERCERTL]=new RegExp(o[s.COERCE],"g"),c("LONETILDE"),o[s.LONETILDE]="(?:~>?)",c("TILDETRIM"),o[s.TILDETRIM]="(\\s*)"+o[s.LONETILDE]+"\\s+",a[s.TILDETRIM]=new RegExp(o[s.TILDETRIM],"g");c("TILDE"),o[s.TILDE]="^"+o[s.LONETILDE]+o[s.XRANGEPLAIN]+"$",c("TILDELOOSE"),o[s.TILDELOOSE]="^"+o[s.LONETILDE]+o[s.XRANGEPLAINLOOSE]+"$",c("LONECARET"),o[s.LONECARET]="(?:\\^)",c("CARETTRIM"),o[s.CARETTRIM]="(\\s*)"+o[s.LONECARET]+"\\s+",a[s.CARETTRIM]=new RegExp(o[s.CARETTRIM],"g");c("CARET"),o[s.CARET]="^"+o[s.LONECARET]+o[s.XRANGEPLAIN]+"$",c("CARETLOOSE"),o[s.CARETLOOSE]="^"+o[s.LONECARET]+o[s.XRANGEPLAINLOOSE]+"$",c("COMPARATORLOOSE"),o[s.COMPARATORLOOSE]="^"+o[s.GTLT]+"\\s*("+o[s.LOOSEPLAIN]+")$|^$",c("COMPARATOR"),o[s.COMPARATOR]="^"+o[s.GTLT]+"\\s*("+o[s.FULLPLAIN]+")$|^$",c("COMPARATORTRIM"),o[s.COMPARATORTRIM]="(\\s*)"+o[s.GTLT]+"\\s*("+o[s.LOOSEPLAIN]+"|"+o[s.XRANGEPLAIN]+")",a[s.COMPARATORTRIM]=new RegExp(o[s.COMPARATORTRIM],"g");c("HYPHENRANGE"),o[s.HYPHENRANGE]="^\\s*("+o[s.XRANGEPLAIN]+")\\s+-\\s+("+o[s.XRANGEPLAIN]+")\\s*$",c("HYPHENRANGELOOSE"),o[s.HYPHENRANGELOOSE]="^\\s*("+o[s.XRANGEPLAINLOOSE]+")\\s+-\\s+("+o[s.XRANGEPLAINLOOSE]+")\\s*$",c("STAR"),o[s.STAR]="(<|>)?=?\\s*\\*";for(var l=0;l<u;l++)r(l,o[l]),a[l]||(a[l]=new RegExp(o[l]));function f(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof d)return e;if("string"!==typeof e)return null;if(e.length>256)return null;if(!(t.loose?a[s.LOOSE]:a[s.FULL]).test(e))return null;try{return new d(e,t)}catch(n){return null}}function d(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof d){if(e.loose===t.loose)return e;e=e.version}else if("string"!==typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof d))return new d(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?a[s.LOOSE]:a[s.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}t.parse=f,t.valid=function(e,t){var n=f(e,t);return n?n.version:null},t.clean=function(e,t){var n=f(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=d,d.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},d.prototype.toString=function(){return this.version},d.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof d||(e=new d(e,this.options)),this.compareMain(e)||this.comparePre(e)},d.prototype.compareMain=function(e){return e instanceof d||(e=new d(e,this.options)),p(this.major,e.major)||p(this.minor,e.minor)||p(this.patch,e.patch)},d.prototype.comparePre=function(e){if(e instanceof d||(e=new d(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return p(n,i)}while(++t)},d.prototype.compareBuild=function(e){e instanceof d||(e=new d(e,this.options));var t=0;do{var n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return p(n,i)}while(++t)},d.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"===typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"===typeof n&&(r=n,n=void 0);try{return new d(e,n).inc(t,r).version}catch(i){return null}},t.diff=function(e,t){if(b(e,t))return null;var n=f(e),r=f(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var a="prerelease"}for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==r[o])return i+o;return a},t.compareIdentifiers=p;var h=/^[0-9]+$/;function p(e,t){var n=h.test(e),r=h.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function m(e,t,n){return new d(e,n).compare(new d(t,n))}function v(e,t,n){return m(e,t,n)>0}function g(e,t,n){return m(e,t,n)<0}function b(e,t,n){return 0===m(e,t,n)}function y(e,t,n){return 0!==m(e,t,n)}function w(e,t,n){return m(e,t,n)>=0}function x(e,t,n){return m(e,t,n)<=0}function O(e,t,n,r){switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return b(e,n,r);case"!=":return y(e,n,r);case">":return v(e,n,r);case">=":return w(e,n,r);case"<":return g(e,n,r);case"<=":return x(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function k(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof k){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof k))return new k(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===E?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return p(t,e)},t.major=function(e,t){return new d(e,t).major},t.minor=function(e,t){return new d(e,t).minor},t.patch=function(e,t){return new d(e,t).patch},t.compare=m,t.compareLoose=function(e,t){return m(e,t,!0)},t.compareBuild=function(e,t,n){var r=new d(e,n),i=new d(t,n);return r.compare(i)||r.compareBuild(i)},t.rcompare=function(e,t,n){return m(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compareBuild(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.compareBuild(r,e,n)}))},t.gt=v,t.lt=g,t.eq=b,t.neq=y,t.gte=w,t.lte=x,t.cmp=O,t.Comparator=k;var E={};function _(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof _)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new _(e.raw,t);if(e instanceof k)return new _(e.value,t);if(!(this instanceof _))return new _(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function S(e,t){for(var n=!0,r=e.slice(),i=r.pop();n&&r.length;)n=r.every((function(e){return i.intersects(e,t)})),i=r.pop();return n}function j(e){return!e||"x"===e.toLowerCase()||"*"===e}function C(e,t,n,r,i,a,o,s,u,c,l,f,d){return((t=j(n)?"":j(r)?">="+n+".0.0":j(i)?">="+n+"."+r+".0":">="+t)+" "+(s=j(u)?"":j(c)?"<"+(+u+1)+".0.0":j(l)?"<"+u+"."+(+c+1)+".0":f?"<="+u+"."+c+"."+l+"-"+f:"<="+s)).trim()}function A(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==E&&e[i].semver.prerelease.length>0){var a=e[i].semver;if(a.major===t.major&&a.minor===t.minor&&a.patch===t.patch)return!0}return!1}return!0}function T(e,t,n){try{t=new _(t,n)}catch(r){return!1}return t.test(e)}function N(e,t,n,r){var i,a,o,s,u;switch(e=new d(e,r),t=new _(t,r),n){case">":i=v,a=x,o=g,s=">",u=">=";break;case"<":i=g,a=w,o=v,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(T(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],f=null,h=null;if(l.forEach((function(e){e.semver===E&&(e=new k(">=0.0.0")),f=f||e,h=h||e,i(e.semver,f.semver,r)?f=e:o(e.semver,h.semver,r)&&(h=e)})),f.operator===s||f.operator===u)return!1;if((!h.operator||h.operator===s)&&a(e,h.semver))return!1;if(h.operator===u&&o(e,h.semver))return!1}return!0}k.prototype.parse=function(e){var t=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new d(n[2],this.options.loose):this.semver=E},k.prototype.toString=function(){return this.value},k.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===E||e===E)return!0;if("string"===typeof e)try{e=new d(e,this.options)}catch(t){return!1}return O(e,this.operator,this.semver,this.options)},k.prototype.intersects=function(e,t){if(!(e instanceof k))throw new TypeError("a Comparator is required");var n;if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(n=new _(e.value,t),T(this.value,n,t));if(""===e.operator)return""===e.value||(n=new _(this.value,t),T(e.semver,n,t));var r=(">="===this.operator||">"===this.operator)&&(">="===e.operator||">"===e.operator),i=("<="===this.operator||"<"===this.operator)&&("<="===e.operator||"<"===e.operator),a=this.semver.version===e.semver.version,o=(">="===this.operator||"<="===this.operator)&&(">="===e.operator||"<="===e.operator),s=O(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=O(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||a&&o||s||u},t.Range=_,_.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},_.prototype.toString=function(){return this.range},_.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?a[s.HYPHENRANGELOOSE]:a[s.HYPHENRANGE];e=e.replace(n,C),r("hyphen replace",e),e=e.replace(a[s.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,a[s.COMPARATORTRIM]),e=(e=(e=e.replace(a[s.TILDETRIM],"$1~")).replace(a[s.CARETTRIM],"$1^")).split(/\s+/).join(" ");var i=t?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],o=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?a[s.CARETLOOSE]:a[s.CARET];return e.replace(n,(function(t,n,i,a,o){var s;return r("caret",e,t,n,i,a,o),j(n)?s="":j(i)?s=">="+n+".0.0 <"+(+n+1)+".0.0":j(a)?s="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":o?(r("replaceCaret pr",o),s="0"===n?"0"===i?">="+n+"."+i+"."+a+"-"+o+" <"+n+"."+i+"."+(+a+1):">="+n+"."+i+"."+a+"-"+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+a+"-"+o+" <"+(+n+1)+".0.0"):(r("no pr"),s="0"===n?"0"===i?">="+n+"."+i+"."+a+" <"+n+"."+i+"."+(+a+1):">="+n+"."+i+"."+a+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+a+" <"+(+n+1)+".0.0"),r("caret return",s),s}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?a[s.TILDELOOSE]:a[s.TILDE];return e.replace(n,(function(t,n,i,a,o){var s;return r("tilde",e,t,n,i,a,o),j(n)?s="":j(i)?s=">="+n+".0.0 <"+(+n+1)+".0.0":j(a)?s=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":o?(r("replaceTilde pr",o),s=">="+n+"."+i+"."+a+"-"+o+" <"+n+"."+(+i+1)+".0"):s=">="+n+"."+i+"."+a+" <"+n+"."+(+i+1)+".0",r("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?a[s.XRANGELOOSE]:a[s.XRANGE];return e.replace(n,(function(n,i,a,o,s,u){r("xRange",e,n,i,a,o,s,u);var c=j(a),l=c||j(o),f=l||j(s),d=f;return"="===i&&d&&(i=""),u=t.includePrerelease?"-0":"",c?n=">"===i||"<"===i?"<0.0.0-0":"*":i&&d?(l&&(o=0),s=0,">"===i?(i=">=",l?(a=+a+1,o=0,s=0):(o=+o+1,s=0)):"<="===i&&(i="<",l?a=+a+1:o=+o+1),n=i+a+"."+o+"."+s+u):l?n=">="+a+".0.0"+u+" <"+(+a+1)+".0.0"+u:f&&(n=">="+a+"."+o+".0"+u+" <"+a+"."+(+o+1)+".0"+u),r("xRange return",n),n}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(a[s.STAR],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter((function(e){return!!e.match(i)}))),o=o.map((function(e){return new k(e,this.options)}),this)},_.prototype.intersects=function(e,t){if(!(e instanceof _))throw new TypeError("a Range is required");return this.set.some((function(n){return S(n,t)&&e.set.some((function(e){return S(e,t)&&n.every((function(n){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new _(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},_.prototype.test=function(e){if(!e)return!1;if("string"===typeof e)try{e=new d(e,this.options)}catch(n){return!1}for(var t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1},t.satisfies=T,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var a=new _(t,n)}catch(o){return null}return e.forEach((function(e){a.test(e)&&(r&&-1!==i.compare(e)||(i=new d(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var a=new _(t,n)}catch(o){return null}return e.forEach((function(e){a.test(e)&&(r&&1!==i.compare(e)||(i=new d(r=e,n)))})),r},t.minVersion=function(e,t){e=new _(e,t);var n=new d("0.0.0");if(e.test(n))return n;if(n=new d("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r){e.set[r].forEach((function(e){var t=new d(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!v(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(n&&e.test(n))return n;return null},t.validRange=function(e,t){try{return new _(e,t).range||"*"}catch(n){return null}},t.ltr=function(e,t,n){return N(e,t,"<",n)},t.gtr=function(e,t,n){return N(e,t,">",n)},t.outside=N,t.prerelease=function(e,t){var n=f(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new _(e,n),t=new _(t,n),e.intersects(t)},t.coerce=function(e,t){if(e instanceof d)return e;"number"===typeof e&&(e=String(e));if("string"!==typeof e)return null;var n=null;if((t=t||{}).rtl){for(var r;(r=a[s.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),a[s.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;a[s.COERCERTL].lastIndex=-1}else n=e.match(a[s.COERCE]);if(null===n)return null;return f(n[2]+"."+(n[3]||"0")+"."+(n[4]||"0"),t)}}).call(this,n(60))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=n.n(a),s=(n(8),n(26)),u=n(4),c=n(21),l=n(27),f=n(7),d=n(72),h=n(30),p=n(49),m=n(44),v=n(96),g=n(113);function b(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(a.isValidElement)(e)?t(e):e}(e)})),n}function y(e,t,n){return null!=n[t]?n[t]:e.props[t]}function w(e,t,n){var r=b(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(t,r);return Object.keys(i).forEach((function(o){var s=i[o];if(Object(a.isValidElement)(s)){var u=o in t,c=o in r,l=t[o],f=Object(a.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&Object(a.isValidElement)(l)&&(i[o]=Object(a.cloneElement)(s,{onExited:n.bind(null,s),in:l.props.in,exit:y(s,"exit",e),enter:y(s,"enter",e)})):i[o]=Object(a.cloneElement)(s,{in:!1}):i[o]=Object(a.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:y(s,"exit",e),enter:y(s,"enter",e)})}})),i}var x=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},O=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(v.a)(Object(v.a)(r)));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(m.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,b(n.children,(function(e){return Object(a.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:y(e,"appear",n),enter:y(e,"enter",n),exit:y(e,"exit",n)})}))):w(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=b(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(r.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(p.a)(e,["component","childFactory"]),i=this.state.contextValue,a=x(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.a.createElement(g.a.Provider,{value:i},a):o.a.createElement(g.a.Provider,{value:i},o.a.createElement(t,r,a))},t}(o.a.Component);O.propTypes={},O.defaultProps={component:"div",childFactory:function(e){return e}};var k=O,E="undefined"===typeof window?a.useEffect:a.useLayoutEffect;var _=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,o=e.rippleY,s=e.rippleSize,c=e.in,f=e.onExited,d=void 0===f?function(){}:f,h=e.timeout,p=a.useState(!1),m=p[0],v=p[1],g=Object(u.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),b={width:s,height:s,top:-s/2+o,left:-s/2+i},y=Object(u.a)(t.child,m&&t.childLeaving,r&&t.childPulsate),w=Object(l.a)(d);return E((function(){if(!c){v(!0);var e=setTimeout(w,h);return function(){clearTimeout(e)}}}),[w,c,h]),a.createElement("span",{className:g,style:b},a.createElement("span",{className:y}))},S=a.forwardRef((function(e,t){var n=e.center,o=void 0!==n&&n,s=e.classes,c=e.className,l=Object(i.a)(e,["center","classes","className"]),f=a.useState([]),d=f[0],p=f[1],m=a.useRef(0),v=a.useRef(null);a.useEffect((function(){v.current&&(v.current(),v.current=null)}),[d]);var g=a.useRef(!1),b=a.useRef(null),y=a.useRef(null),w=a.useRef(null);a.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);var x=a.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;p((function(e){return[].concat(Object(h.a)(e),[a.createElement(_,{key:m.current,classes:s,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])})),m.current+=1,v.current=o}),[s]),O=a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,s=void 0===a?o||t.pulsate:a,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&g.current)g.current=!1;else{"touchstart"===e.type&&(g.current=!0);var l,f,d,h=c?null:w.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var m=e.clientX?e.clientX:e.touches[0].clientX,v=e.clientY?e.clientY:e.touches[0].clientY;l=Math.round(m-p.left),f=Math.round(v-p.top)}if(s)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var O=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,k=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(O,2)+Math.pow(k,2))}e.touches?null===y.current&&(y.current=function(){x({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},b.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):x({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[o,x]),E=a.useCallback((function(){O({},{pulsate:!0})}),[O]),S=a.useCallback((function(e,t){if(clearTimeout(b.current),"touchend"===e.type&&y.current)return e.persist(),y.current(),y.current=null,void(b.current=setTimeout((function(){S(e,t)})));y.current=null,p((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return a.useImperativeHandle(t,(function(){return{pulsate:E,start:O,stop:S}}),[E,O,S]),a.createElement("span",Object(r.a)({className:Object(u.a)(s.root,c),ref:w},l),a.createElement(k,{component:null,exit:!0},d))})),j=Object(f.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(a.memo(S)),C=a.forwardRef((function(e,t){var n=e.action,o=e.buttonRef,f=e.centerRipple,h=void 0!==f&&f,p=e.children,m=e.classes,v=e.className,g=e.component,b=void 0===g?"button":g,y=e.disabled,w=void 0!==y&&y,x=e.disableRipple,O=void 0!==x&&x,k=e.disableTouchRipple,E=void 0!==k&&k,_=e.focusRipple,S=void 0!==_&&_,C=e.focusVisibleClassName,A=e.onBlur,T=e.onClick,N=e.onFocus,R=e.onFocusVisible,M=e.onKeyDown,D=e.onKeyUp,I=e.onMouseDown,F=e.onMouseLeave,P=e.onMouseUp,z=e.onTouchEnd,L=e.onTouchMove,B=e.onTouchStart,U=e.onDragLeave,W=e.tabIndex,V=void 0===W?0:W,q=e.TouchRippleProps,H=e.type,G=void 0===H?"button":H,$=Object(i.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),K=a.useRef(null);var X=a.useRef(null),Y=a.useState(!1),Z=Y[0],J=Y[1];w&&Z&&J(!1);var Q=Object(d.a)(),ee=Q.isFocusVisible,te=Q.onBlurVisible,ne=Q.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;return Object(l.a)((function(r){return t&&t(r),!n&&X.current&&X.current[e](r),!0}))}a.useImperativeHandle(n,(function(){return{focusVisible:function(){J(!0),K.current.focus()}}}),[]),a.useEffect((function(){Z&&S&&!O&&X.current.pulsate()}),[O,S,Z]);var ie=re("start",I),ae=re("stop",U),oe=re("stop",P),se=re("stop",(function(e){Z&&e.preventDefault(),F&&F(e)})),ue=re("start",B),ce=re("stop",z),le=re("stop",L),fe=re("stop",(function(e){Z&&(te(e),J(!1)),A&&A(e)}),!1),de=Object(l.a)((function(e){K.current||(K.current=e.currentTarget),ee(e)&&(J(!0),R&&R(e)),N&&N(e)})),he=function(){var e=s.findDOMNode(K.current);return b&&"button"!==b&&!("A"===e.tagName&&e.href)},pe=a.useRef(!1),me=Object(l.a)((function(e){S&&!pe.current&&Z&&X.current&&" "===e.key&&(pe.current=!0,e.persist(),X.current.stop(e,(function(){X.current.start(e)}))),e.target===e.currentTarget&&he()&&" "===e.key&&e.preventDefault(),M&&M(e),e.target===e.currentTarget&&he()&&"Enter"===e.key&&!w&&(e.preventDefault(),T&&T(e))})),ve=Object(l.a)((function(e){S&&" "===e.key&&X.current&&Z&&!e.defaultPrevented&&(pe.current=!1,e.persist(),X.current.stop(e,(function(){X.current.pulsate(e)}))),D&&D(e),T&&e.target===e.currentTarget&&he()&&" "===e.key&&!e.defaultPrevented&&T(e)})),ge=b;"button"===ge&&$.href&&(ge="a");var be={};"button"===ge?(be.type=G,be.disabled=w):("a"===ge&&$.href||(be.role="button"),be["aria-disabled"]=w);var ye=Object(c.a)(o,t),we=Object(c.a)(ne,K),xe=Object(c.a)(ye,we),Oe=a.useState(!1),ke=Oe[0],Ee=Oe[1];a.useEffect((function(){Ee(!0)}),[]);var _e=ke&&!O&&!w;return a.createElement(ge,Object(r.a)({className:Object(u.a)(m.root,v,Z&&[m.focusVisible,C],w&&m.disabled),onBlur:fe,onClick:T,onFocus:de,onKeyDown:me,onKeyUp:ve,onMouseDown:ie,onMouseLeave:se,onMouseUp:oe,onDragLeave:ae,onTouchEnd:ce,onTouchMove:le,onTouchStart:ue,ref:xe,tabIndex:w?-1:V},be,$),p,_e?a.createElement(j,Object(r.a)({ref:X,center:h},q)):null)}));t.a=Object(f.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(C)},function(e,t,n){"use strict";var r=n(49),i=n(44),a=(n(8),n(0)),o=n.n(a),s=n(26),u=n.n(s),c=!1,l=n(113),f=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=u.a.findDOMNode(this);"entering"===t?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:t,a=this.getTimeouts(),o=i?a.appear:a.enter;!t&&!r||c?this.safeSetState({status:"entered"},(function(){n.props.onEntered(e)})):(this.props.onEnter(e,i),this.safeSetState({status:"entering"},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,o,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(e,i)}))}))})))},n.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n&&!c?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,i=Object(r.a)(t,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"===typeof n)return o.a.createElement(l.a.Provider,{value:null},n(e,i));var a=o.a.Children.only(n);return o.a.createElement(l.a.Provider,{value:null},o.a.cloneElement(a,i))},t}(o.a.Component);function d(){}f.contextType=l.a,f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:d,onEntering:d,onEntered:d,onExit:d,onExiting:d,onExited:d},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;t.a=f},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(3),i=n(639),a=n(74);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(e,Object(r.a)({defaultTheme:a.a},t))}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(114),c=n(65),l=a.forwardRef((function(e,t){var n=e.children,s=e.classes,l=e.className,f=e.disableTypography,d=void 0!==f&&f,h=e.inset,p=void 0!==h&&h,m=e.primary,v=e.primaryTypographyProps,g=e.secondary,b=e.secondaryTypographyProps,y=Object(i.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),w=a.useContext(c.a).dense,x=null!=m?m:n;null==x||x.type===u.a||d||(x=a.createElement(u.a,Object(r.a)({variant:w?"body2":"body1",className:s.primary,component:"span",display:"block"},v),x));var O=g;return null==O||O.type===u.a||d||(O=a.createElement(u.a,Object(r.a)({variant:"body2",className:s.secondary,color:"textSecondary",display:"block"},b),O)),a.createElement("div",Object(r.a)({className:Object(o.a)(s.root,l,w&&s.dense,p&&s.inset,x&&O&&s.multiline),ref:t},y),x,O)}));t.a=Object(s.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(l)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(19),o=n(0),s=(n(8),n(4)),u=n(7),c=o.forwardRef((function(e,t){var n=e.classes,a=e.className,u=e.component,c=void 0===u?"div":u,l=e.disableGutters,f=void 0!==l&&l,d=e.variant,h=void 0===d?"regular":d,p=Object(i.a)(e,["classes","className","component","disableGutters","variant"]);return o.createElement(c,Object(r.a)({className:Object(s.a)(n.root,n[h],a,!f&&n.gutters),ref:t},p))}));t.a=Object(u.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(a.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(c)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(470),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(42))},function(e,t,n){"use strict";var r=n(77);t.a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(t)/3)))-Object(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(77);t.a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Object(r.a)(t)-Object(r.a)(e))+1}},function(e,t,n){"use strict";var r=n(77);t.a=function(e){return Math.max(0,-Object(r.a)(Math.abs(e)))}},function(e){e.exports=JSON.parse('{"a":"5.10.1"}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processStyleName=void 0,t.createMarkupForStyles=function(e,t){var n="";for(var i in e){var a=0===i.indexOf("--");if(e.hasOwnProperty(i)&&"label"!==i){var o=e[i];0,null!=o&&(a?n+=i+":"+o+";":(n+=s(i)+":",n+=(0,r.default)(i,o,t)+";"))}}return n||null};o(n(479));var r=o(n(481)),i=o(n(484)),a=o(n(486));o(n(359));function o(e){return e&&e.__esModule?e:{default:e}}var s=t.processStyleName=(0,a.default)(i.default)},function(e,t,n){"use strict";var r=n(483);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSurfaceInfo=function(e){return null!=e.name},t.isSurface=function(e){return e.drawArea instanceof HTMLElement}},function(e,t,n){"use strict";var r=n(181),i=n(182);Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(505);t.visor=function(){if("undefined"===typeof document)throw new Error("No document defined. This library needs a browser/dom to work");if(document.getElementById("tfjs-visor-container")&&null!=a)return a;var e,t=document.getElementById("tfjs-visor-container");function n(t,n){var r=null;return e=o.VisorComponent.render(t,e,{ref:function(e){return r=e},surfaceList:Array.from(n.values())}),r}null==t&&((t=document.createElement("div")).id="tfjs-visor-container",document.body.appendChild(t));var r=new Map,i=n(t,r);return a=new s(i,t,r,n)};var s=function(){function e(t,n,i,a){r(this,e),this.visorComponent=t,this.el=n,this.surfaceList=i,this.renderVisor=a}return i(e,[{key:"surface",value:function(e){var t=e.name,n=null==e.tab?"Visor":e.tab;if(null==t||!("string"===typeof t||t instanceof String))throw new Error("You must pass a config object with a 'name' property to create or retrieve a surface");var r=Object.assign({},e,{tab:n}),i="".concat(t,"-").concat(n);return this.surfaceList.has(i)||this.surfaceList.set(i,r),this.renderVisor(this.el,this.surfaceList),this.visorComponent.getSurface(t,n)}},{key:"isFullscreen",value:function(){return this.visorComponent.isFullscreen()}},{key:"isOpen",value:function(){return this.visorComponent.isOpen()}},{key:"close",value:function(){return this.visorComponent.close()}},{key:"open",value:function(){return this.visorComponent.open()}},{key:"toggle",value:function(){return this.visorComponent.toggle()}},{key:"toggleFullScreen",value:function(){return this.visorComponent.toggleFullScreen()}},{key:"bindKeys",value:function(){return this.visorComponent.bindKeys()}},{key:"unbindKeys",value:function(){return this.visorComponent.unbindKeys()}},{key:"setActiveTab",value:function(e){if(!this.visorComponent.state.tabs.has(e))throw new Error("Tab '".concat(e,"' does not exist"));this.visorComponent.setState({activeTab:e})}}]),e}();t.Visor=s},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var r=n(515),i=n(516),a=n(261),o=n(517);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},function(e,t,n){"use strict";var r=n(13),i=n(367),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(125)),u=n(87),c=n(183),l=n(68);t.linechart=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(this,void 0,void 0,r.mark((function a(){var o,d,h,p,m,v,g,b,y,w,x,O,k,E;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(o=Array.isArray(t.values[0])?t.values:[t.values],d=o[0].length,h=t.series?t.series:o.map((function(e,t){return"Series ".concat(t+1)})),c.assert(h.length===o.length,"Must have an equal number of series labels as there are data series"),null!=n.seriesColors&&c.assert(n.seriesColors.length===o.length,"Must have an equal number of series colors as there are data series"),p=[],m=function(e){var t={x:e};h.forEach((function(n,r){var i=o[r][e].y;t[n]=i,t["".concat(n,"-name")]=n})),p.push(t)},v=0;v<d;v++)m(v);return g=Object.assign({},f,n),b=function(){return g.zoomToFit?{zero:!1}:null!=g.yAxisDomain?{domain:g.yAxisDomain}:void 0},y={x:{field:"x",type:g.xType,title:g.xLabel},tooltip:[{field:"x",type:"quantitative"}].concat(i(h.map((function(e){return{field:e,type:"quantitative"}}))))},w=h.map((function(e){return{data:void 0,mark:{type:"line",clip:!0},encoding:{y:{field:e,type:g.yType,title:g.yLabel,scale:b()},color:{field:"".concat(e,"-name"),type:"nominal",legend:{values:h,title:null},scale:{range:g.seriesColors}}}}})),x={mark:"rule",selection:{hover:{type:"single",on:"mouseover",nearest:!0,clear:"mouseout"}},encoding:{color:{value:"grey",condition:{selection:{not:"hover"},value:"transparent"}}}},O=l.getDrawArea(e),k={width:g.width||u.getDefaultWidth(O),height:g.height||u.getDefaultHeight(O),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:g.fontSize,titleFontSize:g.fontSize},text:{fontSize:g.fontSize},legend:{labelFontSize:g.fontSize,titleFontSize:g.fontSize}},data:{values:p},encoding:y,layer:[].concat(i(w),[x])},E={actions:!1,mode:"vega-lite",defaultStyle:!1},r.next=18,s.default(O,k,E);case 18:return r.abrupt("return",Promise.resolve());case 19:case"end":return r.stop()}}),a)})))};var f={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11}},function(e,t,n){var r=n(518),i=n(519),a=n(261),o=n(520);e.exports=function(e){return r(e)||i(e)||a(e)||o()}},function(e,t,n){"use strict";var r=n(6),i=n(3),a=n(0),o=(n(8),n(4)),s=n(7),u=n(226),c=a.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.component,l=void 0===c?"table":c,f=e.padding,d=void 0===f?"default":f,h=e.size,p=void 0===h?"medium":h,m=e.stickyHeader,v=void 0!==m&&m,g=Object(r.a)(e,["classes","className","component","padding","size","stickyHeader"]),b=a.useMemo((function(){return{padding:d,size:p,stickyHeader:v}}),[d,p,v]);return a.createElement(u.a.Provider,{value:b},a.createElement(l,Object(i.a)({role:"table"===l?null:"table",ref:t,className:Object(o.a)(n.root,s,v&&n.stickyHeader)},g)))}));t.a=Object(s.a)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(i.a)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(c)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(75),c={variant:"body"},l=a.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.component,f=void 0===l?"tbody":l,d=Object(i.a)(e,["classes","className","component"]);return a.createElement(u.a.Provider,{value:c},a.createElement(f,Object(r.a)({className:Object(o.a)(n.root,s),ref:t,role:"tbody"===f?null:"rowgroup"},d)))}));t.a=Object(s.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(l)},function(e,t,n){"use strict";var r=n(6),i=n(3),a=n(0),o=(n(8),n(4)),s=n(7),u=n(14),c=n(17),l=n(226),f=n(75),d=a.forwardRef((function(e,t){var n,s,c=e.align,d=void 0===c?"inherit":c,h=e.classes,p=e.className,m=e.component,v=e.padding,g=e.scope,b=e.size,y=e.sortDirection,w=e.variant,x=Object(r.a)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),O=a.useContext(l.a),k=a.useContext(f.a),E=k&&"head"===k.variant;m?(s=m,n=E?"columnheader":"cell"):s=E?"th":"td";var _=g;!_&&E&&(_="col");var S=v||(O&&O.padding?O.padding:"default"),j=b||(O&&O.size?O.size:"medium"),C=w||k&&k.variant,A=null;return y&&(A="asc"===y?"ascending":"descending"),a.createElement(s,Object(i.a)({ref:t,className:Object(o.a)(h.root,h[C],p,"inherit"!==d&&h["align".concat(Object(u.a)(d))],"default"!==S&&h["padding".concat(Object(u.a)(S))],"medium"!==j&&h["size".concat(Object(u.a)(j))],"head"===C&&O&&O.stickyHeader&&h.stickyHeader),"aria-sort":A,role:n,scope:_},x))}));t.a=Object(s.a)((function(e){return{root:Object(i.a)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(c.i)(Object(c.d)(e.palette.divider,1),.88):Object(c.a)(Object(c.d)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0px 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(d)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(75),c=n(17),l=a.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.component,l=void 0===c?"tr":c,f=e.hover,d=void 0!==f&&f,h=e.selected,p=void 0!==h&&h,m=Object(i.a)(e,["classes","className","component","hover","selected"]),v=a.useContext(u.a);return a.createElement(l,Object(r.a)({ref:t,className:Object(o.a)(n.root,s,v&&{head:n.head,footer:n.footer}[v.variant],d&&n.hover,p&&n.selected),role:"tr"===l?null:"row"},m))}));t.a=Object(s.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(c.d)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(l)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(75),c={variant:"head"},l=a.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.component,f=void 0===l?"thead":l,d=Object(i.a)(e,["classes","className","component"]);return a.createElement(u.a.Provider,{value:c},a.createElement(f,Object(r.a)({className:Object(o.a)(n.root,s),ref:t,role:"thead"===f?null:"rowgroup"},d)))}));t.a=Object(s.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(l)},function(e,t,n){"use strict";var r=n(3),i=n(51),a=n(6),o=n(19),s=n(0),u=n(26),c=(n(8),n(4)),l=n(443),f=n(17),d=n(7),h=n(14),p=n(227),m=n(633),v=n(21),g=n(131),b=n(38),y=n(72),w=n(50),x=n(25);function O(e){return Math.round(1e5*e)/1e5}var k=!1,E=null;var _=s.forwardRef((function(e,t){var n=e.arrow,o=void 0!==n&&n,f=e.children,d=e.classes,O=e.disableFocusListener,_=void 0!==O&&O,S=e.disableHoverListener,j=void 0!==S&&S,C=e.disableTouchListener,A=void 0!==C&&C,T=e.enterDelay,N=void 0===T?100:T,R=e.enterNextDelay,M=void 0===R?0:R,D=e.enterTouchDelay,I=void 0===D?700:D,F=e.id,P=e.interactive,z=void 0!==P&&P,L=e.leaveDelay,B=void 0===L?0:L,U=e.leaveTouchDelay,W=void 0===U?1500:U,V=e.onClose,q=e.onOpen,H=e.open,G=e.placement,$=void 0===G?"bottom":G,K=e.PopperProps,X=e.title,Y=e.TransitionComponent,Z=void 0===Y?p.a:Y,J=e.TransitionProps,Q=Object(a.a)(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperProps","title","TransitionComponent","TransitionProps"]),ee=Object(x.a)(),te=s.useState(),ne=te[0],re=te[1],ie=s.useState(null),ae=ie[0],oe=ie[1],se=s.useRef(!1),ue=s.useRef(),ce=s.useRef(),le=s.useRef(),fe=s.useRef(),de=Object(w.a)({controlled:H,default:!1,name:"Tooltip",state:"open"}),he=Object(i.a)(de,2),pe=he[0],me=he[1],ve=pe,ge=Object(g.a)(F);s.useEffect((function(){return function(){clearTimeout(ue.current),clearTimeout(ce.current),clearTimeout(le.current),clearTimeout(fe.current)}}),[]);var be=function(e){clearTimeout(E),k=!0,me(!0),q&&q(e)},ye=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=f.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),se.current&&"touchstart"!==t.type||(ne&&ne.removeAttribute("title"),clearTimeout(ce.current),clearTimeout(le.current),N||k&&M?(t.persist(),ce.current=setTimeout((function(){be(t)}),k?M:N)):be(t))}},we=Object(y.a)(),xe=we.isFocusVisible,Oe=we.onBlurVisible,ke=we.ref,Ee=s.useState(!1),_e=Ee[0],Se=Ee[1],je=function(){_e&&(Se(!1),Oe())},Ce=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){ne||re(t.currentTarget),xe(t)&&(Se(!0),ye()(t));var n=f.props;n.onFocus&&e&&n.onFocus(t)}},Ae=function(e){clearTimeout(E),E=setTimeout((function(){k=!1}),800+B),me(!1),V&&V(e),clearTimeout(ue.current),ue.current=setTimeout((function(){se.current=!1}),ee.transitions.duration.shortest)},Te=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=f.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),je()),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===ne&&n.onMouseLeave(t),clearTimeout(ce.current),clearTimeout(le.current),t.persist(),le.current=setTimeout((function(){Ae(t)}),B)}},Ne=Object(v.a)(re,t),Re=Object(v.a)(ke,Ne),Me=s.useCallback((function(e){Object(b.a)(Re,u.findDOMNode(e))}),[Re]),De=Object(v.a)(f.ref,Me);""===X&&(ve=!1);var Ie=!ve&&!j,Fe=Object(r.a)({"aria-describedby":ve?ge:null,title:Ie&&"string"===typeof X?X:null},Q,{},f.props,{className:Object(c.a)(Q.className,f.props.className),ref:De}),Pe={};A||(Fe.onTouchStart=function(e){se.current=!0;var t=f.props;t.onTouchStart&&t.onTouchStart(e),clearTimeout(le.current),clearTimeout(ue.current),clearTimeout(fe.current),e.persist(),fe.current=setTimeout((function(){ye()(e)}),I)},Fe.onTouchEnd=function(e){f.props.onTouchEnd&&f.props.onTouchEnd(e),clearTimeout(fe.current),clearTimeout(le.current),e.persist(),le.current=setTimeout((function(){Ae(e)}),W)}),j||(Fe.onMouseOver=ye(),Fe.onMouseLeave=Te(),z&&(Pe.onMouseOver=ye(!1),Pe.onMouseLeave=Te(!1))),_||(Fe.onFocus=Ce(),Fe.onBlur=Te(),z&&(Pe.onFocus=Ce(!1),Pe.onBlur=Te(!1)));var ze=s.useMemo((function(){return Object(l.a)({popperOptions:{modifiers:{arrow:{enabled:Boolean(ae),element:ae}}}},K)}),[ae,K]);return s.createElement(s.Fragment,null,s.cloneElement(f,Fe),s.createElement(m.a,Object(r.a)({className:Object(c.a)(d.popper,z&&d.popperInteractive,o&&d.popperArrow),placement:$,anchorEl:ne,open:!!ne&&ve,id:Fe["aria-describedby"],transition:!0},Pe,ze),(function(e){var t=e.placement,n=e.TransitionProps;return s.createElement(Z,Object(r.a)({timeout:ee.transitions.duration.shorter},n,J),s.createElement("div",{className:Object(c.a)(d.tooltip,d["tooltipPlacement".concat(Object(h.a)(t.split("-")[0]))],se.current&&d.touch,o&&d.tooltipArrow)},X,o?s.createElement("span",{className:d.arrow,ref:oe}):null))})))}));t.a=Object(d.a)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none",flip:!1},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{flip:!1,top:0,left:0,marginTop:"-0.95em",marginLeft:4,marginRight:4,width:"2em",height:"1em","&::before":{flip:!1,borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent currentcolor transparent"}},'&[x-placement*="top"] $arrow':{flip:!1,bottom:0,left:0,marginBottom:"-0.95em",marginLeft:4,marginRight:4,width:"2em",height:"1em","&::before":{flip:!1,borderWidth:"1em 1em 0 1em",borderColor:"currentcolor transparent transparent transparent"}},'&[x-placement*="right"] $arrow':{flip:!1,left:0,marginLeft:"-0.95em",marginTop:4,marginBottom:4,height:"2em",width:"1em","&::before":{flip:!1,borderWidth:"1em 1em 1em 0",borderColor:"transparent currentcolor transparent transparent"}},'&[x-placement*="left"] $arrow':{flip:!1,right:0,marginRight:"-0.95em",marginTop:4,marginBottom:4,height:"2em",width:"1em","&::before":{flip:!1,borderWidth:"1em 0 1em 1em",borderColor:"transparent transparent transparent currentcolor"}}},tooltip:{backgroundColor:Object(f.d)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(O(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{position:"absolute",fontSize:6,color:Object(f.d)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(O(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:Object(o.a)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:Object(o.a)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:Object(o.a)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:Object(o.a)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip"})(_)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(75),c={variant:"footer"},l=a.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.component,f=void 0===l?"tfoot":l,d=Object(i.a)(e,["classes","className","component"]);return a.createElement(u.a.Provider,{value:c},a.createElement(f,Object(r.a)({className:Object(o.a)(n.root,s),ref:t,role:"tfoot"===f?null:"rowgroup"},d)))}));t.a=Object(s.a)({root:{display:"table-footer-group"}},{name:"MuiTableFooter"})(l)},function(e,t,n){"use strict";var r=n(6),i=n(19),a=n(3),o=n(0),s=(n(8),n(4)),u=n(7),c=n(626),l=o.forwardRef((function(e,t){var n,i=e.classes,u=e.className,l=e.component,f=void 0===l?"li":l,d=e.disableGutters,h=void 0!==d&&d,p=e.ListItemClasses,m=e.role,v=void 0===m?"menuitem":m,g=e.selected,b=e.tabIndex,y=Object(r.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==b?b:-1),o.createElement(c.a,Object(a.a)({button:!0,role:v,tabIndex:n,component:f,selected:g,disableGutters:h,classes:Object(a.a)({dense:i.dense},p),className:Object(s.a)(i.root,u,g&&i.selected,!h&&i.gutters),ref:t},y))}));t.a=Object(u.a)((function(e){return{root:Object(a.a)({},e.typography.body1,Object(i.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(a.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(l)},function(e,t,n){"use strict";var r=n(6),i=n(3),a=n(0),o=(n(8),n(4)),s=n(7),u=n(17),c=n(295),l=n(14),f=a.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,f=e.color,d=void 0===f?"default":f,h=e.component,p=void 0===h?"button":h,m=e.disabled,v=void 0!==m&&m,g=e.disableElevation,b=void 0!==g&&g,y=e.disableFocusRipple,w=void 0!==y&&y,x=e.endIcon,O=e.focusVisibleClassName,k=e.fullWidth,E=void 0!==k&&k,_=e.size,S=void 0===_?"medium":_,j=e.startIcon,C=e.type,A=void 0===C?"button":C,T=e.variant,N=void 0===T?"text":T,R=Object(r.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),M=j&&a.createElement("span",{className:Object(o.a)(s.startIcon,s["iconSize".concat(Object(l.a)(S))])},j),D=x&&a.createElement("span",{className:Object(o.a)(s.endIcon,s["iconSize".concat(Object(l.a)(S))])},x);return a.createElement(c.a,Object(i.a)({className:Object(o.a)(s.root,s[N],u,"inherit"===d?s.colorInherit:"default"!==d&&s["".concat(N).concat(Object(l.a)(d))],"medium"!==S&&[s["".concat(N,"Size").concat(Object(l.a)(S))],s["size".concat(Object(l.a)(S))]],b&&s.disableElevation,v&&s.disabled,E&&s.fullWidth),component:p,disabled:v,focusRipple:!w,focusVisibleClassName:Object(o.a)(s.focusVisible,O),ref:t,type:A},R),a.createElement("span",{className:s.label},M,n,D))}));t.a=Object(s.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(u.d)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(u.d)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(u.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(u.d)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(u.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(f)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(48),u=n(7),c=n(114),l=n(14),f=a.forwardRef((function(e,t){e.checked;var n=e.classes,u=e.className,f=e.control,d=e.disabled,h=(e.inputRef,e.label),p=e.labelPlacement,m=void 0===p?"end":p,v=(e.name,e.onChange,e.value,Object(i.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),g=Object(s.a)(),b=d;"undefined"===typeof b&&"undefined"!==typeof f.props.disabled&&(b=f.props.disabled),"undefined"===typeof b&&g&&(b=g.disabled);var y={disabled:b};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof f.props[t]&&"undefined"!==typeof e[t]&&(y[t]=e[t])})),a.createElement("label",Object(r.a)({className:Object(o.a)(n.root,u,"end"!==m&&n["labelPlacement".concat(Object(l.a)(m))],b&&n.disabled),ref:t},v),a.cloneElement(f,y),a.createElement(c.a,{component:"span",className:Object(o.a)(n.label,b&&n.disabled)},h))}));t.a=Object(u.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(f)},function(e,t,n){"use strict";var r=n(3),i=n(51),a=n(6),o=n(0),s=(n(8),n(287)),u=n(21),c=n(50),l=n(231),f=n(131),d=o.forwardRef((function(e,t){var n=e.actions,d=e.children,h=e.name,p=e.value,m=e.onChange,v=Object(a.a)(e,["actions","children","name","value","onChange"]),g=o.useRef(null),b=Object(c.a)({controlled:p,default:e.defaultValue,name:"RadioGroup"}),y=Object(i.a)(b,2),w=y[0],x=y[1];o.useImperativeHandle(n,(function(){return{focus:function(){var e=g.current.querySelector("input:not(:disabled):checked");e||(e=g.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var O=Object(u.a)(t,g),k=Object(f.a)(h);return o.createElement(l.a.Provider,{value:{name:k,onChange:function(e){x(e.target.value),m&&m(e,e.target.value)},value:w}},o.createElement(s.a,Object(r.a)({role:"radiogroup",ref:O},v),d))}));t.a=d},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(228),u=n(635),c=n(640),l=n(288),f=n(286),d=n(637),h=n(290),p=n(7),m={standard:s.a,filled:u.a,outlined:c.a},v=a.forwardRef((function(e,t){var n=e.autoComplete,s=e.autoFocus,u=void 0!==s&&s,c=e.children,p=e.classes,v=e.className,g=e.color,b=void 0===g?"primary":g,y=e.defaultValue,w=e.disabled,x=void 0!==w&&w,O=e.error,k=void 0!==O&&O,E=e.FormHelperTextProps,_=e.fullWidth,S=void 0!==_&&_,j=e.helperText,C=e.hiddenLabel,A=e.id,T=e.InputLabelProps,N=e.inputProps,R=e.InputProps,M=e.inputRef,D=e.label,I=e.multiline,F=void 0!==I&&I,P=e.name,z=e.onBlur,L=e.onChange,B=e.onFocus,U=e.placeholder,W=e.required,V=void 0!==W&&W,q=e.rows,H=e.rowsMax,G=e.select,$=void 0!==G&&G,K=e.SelectProps,X=e.type,Y=e.value,Z=e.variant,J=void 0===Z?"standard":Z,Q=Object(i.a)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var ee={};"outlined"===J&&(T&&"undefined"!==typeof T.shrink&&(ee.notched=T.shrink),D&&(ee.label=a.createElement(a.Fragment,null,D,V&&"\xa0*"))),$&&(K&&K.native||(ee.id=void 0),ee["aria-describedby"]=void 0);var te=j&&A?"".concat(A,"-helper-text"):void 0,ne=D&&A?"".concat(A,"-label"):void 0,re=m[J],ie=a.createElement(re,Object(r.a)({"aria-describedby":te,autoComplete:n,autoFocus:u,defaultValue:y,fullWidth:S,multiline:F,name:P,rows:q,rowsMax:H,type:X,value:Y,id:A,inputRef:M,onBlur:z,onChange:L,onFocus:B,placeholder:U,inputProps:N},ee,R));return a.createElement(f.a,Object(r.a)({className:Object(o.a)(p.root,v),disabled:x,error:k,fullWidth:S,hiddenLabel:C,ref:t,required:V,color:b,variant:J},Q),D&&a.createElement(l.a,Object(r.a)({htmlFor:A,id:ne},T),D),$?a.createElement(h.a,Object(r.a)({"aria-describedby":te,id:A,labelId:ne,value:Y,input:ie},K),c):ie,j&&a.createElement(d.a,Object(r.a)({id:te},E),j))}));t.a=Object(p.a)({root:{}},{name:"MuiTextField"})(v)},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var a=t.isAbsolute(e),o="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(a.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(60))},function(e,t,n){"use strict";var r=n(24).Buffer,i=n(269).Transform;function a(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(23)(a,i),a.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(i){r=i}n(r)},a.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(n){t=n}e(t)},a.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!==typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)n[a++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var o=0,s=8*e.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},a.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=a},function(e,t,n){"use strict";(function(t,r){var i=n(197);e.exports=y;var a,o=n(350);y.ReadableState=b;n(270).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=n(384),c=n(24).Buffer,l=t.Uint8Array||function(){};var f=Object.create(n(157));f.inherits=n(23);var d=n(547),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,m=n(548),v=n(385);f.inherits(y,u);var g=["error","close","destroy","pause","resume"];function b(e,t){e=e||{};var r=t instanceof(a=a||n(106));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(273).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(a=a||n(106),!(this instanceof y))return new y(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function w(e,t,n,r,i){var a,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,k(e)}(e,o)):(i||(a=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof l||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?x(e,o,t,!1):_(e,o)):x(e,o,t,!1))):r||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),_(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},y.prototype.unshift=function(e){return w(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(273).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function O(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(E,e):E(e))}function E(e){h("emit readable"),e.emit("readable"),A(e)}function _(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(S,e,t))}function S(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function j(e){h("readable nexttick read 0"),e.read(0)}function C(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0===(e-=o)){o===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function N(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):k(this),null;if(0===(e=O(e,t))&&t.ended)return 0===t.length&&N(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=O(n,t))),null===(r=e>0?T(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&N(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,h("pipe count=%d opts=%j",a.pipesCount,t);var u=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:y;function c(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",b),e.removeListener("drain",f),e.removeListener("error",v),e.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",m),d=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){h("onend"),e.end()}a.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",c);var f=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(n);e.on("drain",f);var d=!1;var p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==M(a.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function v(t){h("onerror",t),y(),e.removeListener("error",v),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",b),y()}function b(){h("onfinish"),e.removeListener("close",g),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",v),e.once("close",g),e.once("finish",b),e.emit("pipe",n),a.flowing||(h("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var o=M(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},y.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&k(this):i.nextTick(j,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(C,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<g.length;a++)e.on(g[a],this.emit.bind(this,g[a]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=T}).call(this,n(42),n(60))},function(e,t,n){e.exports=n(270).EventEmitter},function(e,t,n){"use strict";var r=n(197);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";e.exports=o;var r=n(106),i=Object.create(n(157));function a(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){u(e,t,n)})):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(23),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){var r=n(23),i=n(124),a=n(24).Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,u=0|this._e,p=0|this._f,m=0|this._g,v=0|this._h,g=0;g<16;++g)n[g]=e.readInt32BE(4*g);for(;g<64;++g)n[g]=0|(((t=n[g-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[g-7]+h(n[g-15])+n[g-16];for(var b=0;b<64;++b){var y=v+d(u)+c(u,p,m)+o[b]+n[b]|0,w=f(r)+l(r,i,a)|0;v=m,m=p,p=u,u=s+y|0,s=a,a=i,i=r,r=y+w|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=v+this._h|0},u.prototype._hash=function(){var e=a.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},function(e,t,n){var r=n(23),i=n(124),a=n(24).Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function u(){this.init(),this._w=s,i.call(this,128,112)}function c(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function v(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function g(e,t){return e>>>0<t>>>0?1:0}r(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,a=0|this._dh,s=0|this._eh,u=0|this._fh,b=0|this._gh,y=0|this._hh,w=0|this._al,x=0|this._bl,O=0|this._cl,k=0|this._dl,E=0|this._el,_=0|this._fl,S=0|this._gl,j=0|this._hl,C=0;C<32;C+=2)t[C]=e.readInt32BE(4*C),t[C+1]=e.readInt32BE(4*C+4);for(;C<160;C+=2){var A=t[C-30],T=t[C-30+1],N=h(A,T),R=p(T,A),M=m(A=t[C-4],T=t[C-4+1]),D=v(T,A),I=t[C-14],F=t[C-14+1],P=t[C-32],z=t[C-32+1],L=R+F|0,B=N+I+g(L,R)|0;B=(B=B+M+g(L=L+D|0,D)|0)+P+g(L=L+z|0,z)|0,t[C]=B,t[C+1]=L}for(var U=0;U<160;U+=2){B=t[U],L=t[U+1];var W=l(n,r,i),V=l(w,x,O),q=f(n,w),H=f(w,n),G=d(s,E),$=d(E,s),K=o[U],X=o[U+1],Y=c(s,u,b),Z=c(E,_,S),J=j+$|0,Q=y+G+g(J,j)|0;Q=(Q=(Q=Q+Y+g(J=J+Z|0,Z)|0)+K+g(J=J+X|0,X)|0)+B+g(J=J+L|0,L)|0;var ee=H+V|0,te=q+W+g(ee,H)|0;y=b,j=S,b=u,S=_,u=s,_=E,s=a+Q+g(E=k+J|0,k)|0,a=i,k=O,i=r,O=x,r=n,x=w,n=Q+te+g(w=J+ee|0,J)|0}this._al=this._al+w|0,this._bl=this._bl+x|0,this._cl=this._cl+O|0,this._dl=this._dl+k|0,this._el=this._el+E|0,this._fl=this._fl+_|0,this._gl=this._gl+S|0,this._hl=this._hl+j|0,this._ah=this._ah+n+g(this._al,w)|0,this._bh=this._bh+r+g(this._bl,x)|0,this._ch=this._ch+i+g(this._cl,O)|0,this._dh=this._dh+a+g(this._dl,k)|0,this._eh=this._eh+s+g(this._el,E)|0,this._fh=this._fh+u+g(this._fl,_)|0,this._gh=this._gh+b+g(this._gl,S)|0,this._hh=this._hh+y+g(this._hl,j)|0},u.prototype._hash=function(){var e=a.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},function(e,t,n){"use strict";var r=n(23),i=n(560),a=n(90),o=n(24).Buffer,s=n(390),u=n(274),c=n(275),l=o.alloc(128);function f(e,t){a.call(this,"digest"),"string"===typeof t&&(t=o.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new u:c(e)).update(t).digest():t.length<n&&(t=o.concat([t,l],n));for(var r=this._ipad=o.allocUnsafe(n),i=this._opad=o.allocUnsafe(n),s=0;s<n;s++)r[s]=54^t[s],i[s]=92^t[s];this._hash="rmd160"===e?new u:c(e),this._hash.update(r)}r(f,a),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new u:c(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new f("rmd160",t):"md5"===e?new i(s,t):new f(e,t)}},function(e,t,n){var r=n(268);e.exports=function(e){return(new r).update(e).digest()}},function(e){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(e,t,n){t.pbkdf2=n(562),t.pbkdf2Sync=n(395)},function(e,t,n){(function(t){var n=Math.pow(2,30)-1;function r(e,n){if("string"!==typeof e&&!t.isBuffer(e))throw new TypeError(n+" must be a buffer or string")}e.exports=function(e,t,i,a){if(r(e,"Password"),r(t,"Salt"),"number"!==typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!==typeof a)throw new TypeError("Key length not a number");if(a<0||a>n||a!==a)throw new TypeError("Bad key length")}}).call(this,n(34).Buffer)},function(e,t,n){(function(t){var n;t.browser?n="utf-8":n=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";e.exports=n}).call(this,n(60))},function(e,t,n){var r=n(390),i=n(274),a=n(275),o=n(393),s=n(394),u=n(24).Buffer,c=u.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(e,t,n){var o=function(e){function t(t){return a(e).update(t).digest()}return"rmd160"===e||"ripemd160"===e?function(e){return(new i).update(e).digest()}:"md5"===e?r:t}(e),s="sha512"===e||"sha384"===e?128:64;t.length>s?t=o(t):t.length<s&&(t=u.concat([t,c],s));for(var f=u.allocUnsafe(s+l[e]),d=u.allocUnsafe(s+l[e]),h=0;h<s;h++)f[h]=54^t[h],d[h]=92^t[h];var p=u.allocUnsafe(s+n+4);f.copy(p,0,0,s),this.ipad1=p,this.ipad2=f,this.opad=d,this.alg=e,this.blocksize=s,this.hash=o,this.size=l[e]}f.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,r,i){o(e,t,n,r),u.isBuffer(e)||(e=u.from(e,s)),u.isBuffer(t)||(t=u.from(t,s));var a=new f(i=i||"sha1",e,t.length),c=u.allocUnsafe(r),d=u.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var h=0,p=l[i],m=Math.ceil(r/p),v=1;v<=m;v++){d.writeUInt32BE(v,t.length);for(var g=a.run(d,a.ipad1),b=g,y=1;y<n;y++){b=a.run(b,a.ipad2);for(var w=0;w<p;w++)g[w]^=b[w]}g.copy(c,h),h+=p}return c}},function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,r){for(var i=0,a=0,o=6;o>=0;o-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+o&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>>s+o&1}for(o=6;o>=0;o-=2){for(s=1;s<=25;s+=8)a<<=1,a|=t>>>s+o&1;for(s=1;s<=25;s+=8)a<<=1,a|=e>>>s+o&1}n[r+0]=i>>>0,n[r+1]=a>>>0},t.rip=function(e,t,n,r){for(var i=0,a=0,o=0;o<4;o++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+o&1,i<<=1,i|=e>>>s+o&1;for(o=4;o<8;o++)for(s=24;s>=0;s-=8)a<<=1,a|=t>>>s+o&1,a<<=1,a|=e>>>s+o&1;n[r+0]=i>>>0,n[r+1]=a>>>0},t.pc1=function(e,t,n,r){for(var i=0,a=0,o=7;o>=5;o--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+o&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+o&1}for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+o&1;for(o=1;o<=3;o++){for(s=0;s<=24;s+=8)a<<=1,a|=t>>s+o&1;for(s=0;s<=24;s+=8)a<<=1,a|=e>>s+o&1}for(s=0;s<=24;s+=8)a<<=1,a|=e>>s+o&1;n[r+0]=i>>>0,n[r+1]=a>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var a=0,o=0,s=r.length>>>1,u=0;u<s;u++)a<<=1,a|=e>>>r[u]&1;for(u=s;u<r.length;u++)o<<=1,o|=t>>>r[u]&1;n[i+0]=a>>>0,n[i+1]=o>>>0},t.expand=function(e,t,n){var r=0,i=0;r=(1&e)<<5|e>>>27;for(var a=23;a>=15;a-=4)r<<=6,r|=e>>>a&63;for(a=11;a>=3;a-=4)i|=e>>>a&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,r=0;r<4;r++){n<<=4,n|=i[64*r+(e>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=i[256+64*r+(t>>>18-6*r&63)]}return n>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<a.length;n++)t<<=1,t|=e>>>a[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var i=[],a=0;a<t;a+=n)i.push(r.slice(a,a+n));return i.join(" ")}},function(e,t,n){"use strict";var r=n(61),i=n(23),a=n(396),o=n(276);function s(){this.tmp=new Array(2),this.keys=null}function u(e){o.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}i(u,o),e.exports=u,u.create=function(e){return new u(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var n=a.readUInt32BE(t,0),i=a.readUInt32BE(t,4);a.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=c[o>>>1];n=a.r28shl(n,s),i=a.r28shl(i,s),a.pc2(n,i,e.keys,o)}},u.prototype._update=function(e,t,n,r){var i=this._desState,o=a.readUInt32BE(e,t),s=a.readUInt32BE(e,t+4);a.ip(o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,s,i.tmp,0):this._decrypt(i,o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],a.writeUInt32BE(n,o,r),a.writeUInt32BE(n,s,r+4)},u.prototype._pad=function(e,t){for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},u.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)r.equal(e[n],t);return e.slice(0,e.length-t)},u.prototype._encrypt=function(e,t,n,r,i){for(var o=t,s=n,u=0;u<e.keys.length;u+=2){var c=e.keys[u],l=e.keys[u+1];a.expand(s,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var f=a.substitute(c,l),d=s;s=(o^a.permute(f))>>>0,o=d}a.rip(s,o,r,i)},u.prototype._decrypt=function(e,t,n,r,i){for(var o=n,s=t,u=e.keys.length-2;u>=0;u-=2){var c=e.keys[u],l=e.keys[u+1];a.expand(o,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var f=a.substitute(c,l),d=o;o=(s^a.permute(f))>>>0,s=d}a.rip(o,s,r,i)}},function(e,t,n){var r=n(158),i=n(24).Buffer,a=n(399);function o(e){var t=e._cipher.encryptBlockRaw(e._prev);return a(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),a=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var u=o(e),c=a+16*s;e._cache.writeUInt32BE(u[0],c+0),e._cache.writeUInt32BE(u[1],c+4),e._cache.writeUInt32BE(u[2],c+8),e._cache.writeUInt32BE(u[3],c+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,l)}},function(e,t){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},function(e){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(e,t,n){var r=n(198),i=n(24).Buffer,a=n(90),o=n(23),s=n(575),u=n(158),c=n(399);function l(e,t,n,o){a.call(this);var u=i.alloc(4,0);this._cipher=new r.AES(t);var l=this._cipher.encryptBlock(u);this._ghash=new s(l),n=function(e,t,n){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var r=new s(n),a=t.length,o=a%16;r.update(t),o&&(o=16-o,r.update(i.alloc(o,0))),r.update(i.alloc(8,0));var u=8*a,l=i.alloc(8);l.writeUIntBE(u,0,8),r.update(l),e._finID=r.state;var f=i.from(e._finID);return c(f),f}(this,n,l),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}o(l,a),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),i=0;i<r;++i)n+=e[i]^t[i];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=l},function(e,t,n){var r=n(198),i=n(24).Buffer,a=n(90);function o(e,t,n,o){a.call(this),this._cipher=new r.AES(t),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._mode=e}n(23)(o,a),o.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},e.exports=o},function(e,t,n){var r=n(123);e.exports=b,b.simpleSieve=v,b.fermatTest=g;var i=n(36),a=new i(24),o=new(n(404)),s=new i(1),u=new i(2),c=new i(5),l=(new i(16),new i(8),new i(10)),f=new i(3),d=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function m(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<t&&e[i]<=r&&n%e[i]!==0;i++);t!==i&&e[i]<=r||(e[t++]=n)}return p=e,e}function v(e){for(var t=m(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function g(e){var t=i.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function b(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var n,p;for(t=new i(t);;){for(n=new i(r(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(u),t.cmp(u)){if(!t.cmp(c))for(;n.mod(l).cmp(f);)n.iadd(h)}else for(;n.mod(a).cmp(d);)n.iadd(h);if(v(p=n.shrn(1))&&v(n)&&g(p)&&g(n)&&o.test(p)&&o.test(n))return n}}},function(e,t,n){var r=n(36),i=n(279);function a(e){this.rand=e||new i.Rand}e.exports=a,a.create=function(e){return new a(e)},a.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(e)>=0);return i},a.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},a.prototype.test=function(e,t,n){var i=e.bitLength(),a=r.mont(e),o=new r(1).toRed(a);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),u=0;!s.testn(u);u++);for(var c=e.shrn(u),l=s.toRed(a);t>0;t--){var f=this._randrange(new r(2),s);n&&n(f);var d=f.toRed(a).redPow(c);if(0!==d.cmp(o)&&0!==d.cmp(l)){for(var h=1;h<u;h++){if(0===(d=d.redSqr()).cmp(o))return!1;if(0===d.cmp(l))break}if(h===u)return!1}}return!0},a.prototype.getDivisor=function(e,t){var n=e.bitLength(),i=r.mont(e),a=new r(1).toRed(i);t||(t=Math.max(1,n/48|0));for(var o=e.subn(1),s=0;!o.testn(s);s++);for(var u=e.shrn(s),c=o.toRed(i);t>0;t--){var l=this._randrange(new r(2),o),f=e.gcd(l);if(0!==f.cmpn(1))return f;var d=l.toRed(i).redPow(u);if(0!==d.cmp(a)&&0!==d.cmp(c)){for(var h=1;h<s;h++){if(0===(d=d.redSqr()).cmp(a))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(c))break}if(h===s)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,n){"use strict";var r=t;function i(e){return 1===e.length?"0"+e:e}function a(e){for(var t="",n=0;n<e.length;n++)t+=i(e[n].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!==typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),a=i>>8,o=255&i;a?n.push(a,o):n.push(o)}return n},r.zero2=i,r.toHex=a,r.encode=function(e,t){return"hex"===t?a(e):e}},function(e,t,n){"use strict";var r=t;r.base=n(200),r.short=n(586),r.mont=n(587),r.edwards=n(588)},function(e,t,n){"use strict";var r=n(70).rotr32;function i(e,t,n){return e&t^~e&n}function a(e,t,n){return e&t^e&n^t&n}function o(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?o(t,n,r):2===e?a(t,n,r):void 0},t.ch32=i,t.maj32=a,t.p32=o,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},function(e,t,n){"use strict";var r=n(70),i=n(159),a=n(407),o=n(61),s=r.sum32,u=r.sum32_4,c=r.sum32_5,l=a.ch32,f=a.maj32,d=a.s0_256,h=a.s1_256,p=a.g0_256,m=a.g1_256,v=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}r.inherits(b,v),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=u(m(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],a=this.h[1],v=this.h[2],g=this.h[3],b=this.h[4],y=this.h[5],w=this.h[6],x=this.h[7];for(o(this.k.length===n.length),r=0;r<n.length;r++){var O=c(x,h(b),l(b,y,w),this.k[r],n[r]),k=s(d(i),f(i,a,v));x=w,w=y,y=b,b=s(g,O),g=v,v=a,a=i,i=s(O,k)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],v),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],b),this.h[5]=s(this.h[5],y),this.h[6]=s(this.h[6],w),this.h[7]=s(this.h[7],x)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(70),i=n(159),a=n(61),o=r.rotr64_hi,s=r.rotr64_lo,u=r.shr64_hi,c=r.shr64_lo,l=r.sum64,f=r.sum64_hi,d=r.sum64_lo,h=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,v=r.sum64_5_lo,g=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function w(e,t,n,r,i){var a=e&n^~e&i;return a<0&&(a+=4294967296),a}function x(e,t,n,r,i,a){var o=t&r^~t&a;return o<0&&(o+=4294967296),o}function O(e,t,n,r,i){var a=e&n^e&i^n&i;return a<0&&(a+=4294967296),a}function k(e,t,n,r,i,a){var o=t&r^t&a^r&a;return o<0&&(o+=4294967296),o}function E(e,t){var n=o(e,t,28)^o(t,e,2)^o(t,e,7);return n<0&&(n+=4294967296),n}function _(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function S(e,t){var n=o(e,t,14)^o(e,t,18)^o(t,e,9);return n<0&&(n+=4294967296),n}function j(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function C(e,t){var n=o(e,t,1)^o(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=s(e,t,1)^s(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function T(e,t){var n=o(e,t,19)^o(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}function N(e,t){var n=s(e,t,19)^s(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(y,g),e.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=T(n[r-4],n[r-3]),a=N(n[r-4],n[r-3]),o=n[r-14],s=n[r-13],u=C(n[r-30],n[r-29]),c=A(n[r-30],n[r-29]),l=n[r-32],f=n[r-31];n[r]=h(i,a,o,s,u,c,l,f),n[r+1]=p(i,a,o,s,u,c,l,f)}},y.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],p=this.h[7],g=this.h[8],b=this.h[9],y=this.h[10],C=this.h[11],A=this.h[12],T=this.h[13],N=this.h[14],R=this.h[15];a(this.k.length===n.length);for(var M=0;M<n.length;M+=2){var D=N,I=R,F=S(g,b),P=j(g,b),z=w(g,b,y,C,A),L=x(g,b,y,C,A,T),B=this.k[M],U=this.k[M+1],W=n[M],V=n[M+1],q=m(D,I,F,P,z,L,B,U,W,V),H=v(D,I,F,P,z,L,B,U,W,V);D=E(r,i),I=_(r,i),F=O(r,i,o,s,u),P=k(r,i,o,s,u,c);var G=f(D,I,F,P),$=d(D,I,F,P);N=A,R=T,A=y,T=C,y=g,C=b,g=f(h,p,q,H),b=d(p,p,q,H),h=u,p=c,u=o,c=s,o=r,s=i,r=f(q,H,G,$),i=d(q,H,G,$)}l(this.h,0,r,i),l(this.h,2,o,s),l(this.h,4,u,c),l(this.h,6,h,p),l(this.h,8,g,b),l(this.h,10,y,C),l(this.h,12,A,T),l(this.h,14,N,R)},y.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){var r=n(23),i=n(161).Reporter,a=n(34).Buffer;function o(e,t){i.call(this,t),a.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return e instanceof s||(e=new s(e,t)),this.length+=e.length,e}),this);else if("number"===typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"===typeof e)this.value=e,this.length=a.byteLength(e);else{if(!a.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(o,i),t.DecoderBuffer=o,o.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},o.prototype.restore=function(e){var t=new o(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},o.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new o(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},o.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=s,s.prototype.join=function(e,t){return e||(e=new a(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(e,t),t+=n.length})):("number"===typeof this.value?e[t]=this.value:"string"===typeof this.value?e.write(this.value,t):a.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},function(e,t,n){var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n})),t},r.der=n(608)},function(e,t,n){var r=n(23),i=n(160),a=i.base,o=i.bignum,s=i.constants.der;function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){a.Node.call(this,"der",e)}function l(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var r=s.tagClass[n>>6],i=0===(32&n);if(31===(31&n)){var a=n;for(n=0;128===(128&a);){if(a=e.readUInt8(t),e.isError(a))return a;n<<=7,n|=127&a}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:s.tag[n]}}function f(e,t,n){var r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0===(128&r))return r;var i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(var a=0;a<i;a++){r<<=8;var o=e.readUInt8(n);if(e.isError(o))return o;r|=o}return r}e.exports=u,u.prototype.decode=function(e,t){return e instanceof a.DecoderBuffer||(e=new a.DecoderBuffer(e,t)),this.tree._decode(e,t)},r(c,a.Node),c.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var r=e.save(),i=l(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},c.prototype._decodeTag=function(e,t,n){var r=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var i=f(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var a=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(i=e.offset-a.offset,e.restore(a),e.skip(i,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){for(;;){var n=l(e,t);if(e.isError(n))return n;var r,i=f(e,n.primitive,t);if(e.isError(i))return i;if(r=n.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===n.tagStr)break}},c.prototype._decodeList=function(e,t,n,r){for(var i=[];!e.isEmpty();){var a=this._peekTag(e,"end");if(e.isError(a))return a;var o=n.decode(e,"der",r);if(e.isError(o)&&a)break;i.push(o)}return i},c.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",a=0;a<r.length/2;a++)i+=String.fromCharCode(r.readUInt16BE(2*a));return i}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,n){for(var r,i=[],a=0;!e.isEmpty();){var o=e.readUInt8();a<<=7,a|=127&o,0===(128&o)&&(i.push(a),a=0)}128&o&&i.push(a);var s=i[0]/40|0,u=i[0]%40;if(r=n?i:[s,u].concat(i.slice(1)),t){var c=t[r.join(" ")];void 0===c&&(c=t[r.join(".")]),void 0!==c&&(r=c)}return r},c.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var r=0|n.slice(0,4),i=0|n.slice(4,6),a=0|n.slice(6,8),o=0|n.slice(8,10),s=0|n.slice(10,12),u=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|n.slice(0,2),i=0|n.slice(2,4),a=0|n.slice(4,6),o=0|n.slice(6,8),s=0|n.slice(8,10),u=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,a,o,s,u,0)},c.prototype._decodeNull=function(e){return null},c.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){var n=e.raw(),r=new o(n);return t&&(r=t[r.toString(10)]||r),r},c.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e,t,n){var r=n(23),i=n(34).Buffer,a=n(160),o=a.base,s=a.constants.der;function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.Node.call(this,"der",e)}function l(e){return e<10?"0"+e:e}e.exports=u,u.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(c,o.Node),c.prototype._encodeComposite=function(e,t,n,r){var a,o=function(e,t,n,r){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(s.tagByName.hasOwnProperty(e))i=s.tagByName[e];else{if("number"!==typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}if(i>=31)return r.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=s.tagClassByName[n||"universal"]<<6}(e,t,n,this.reporter);if(r.length<128)return(a=new i(2))[0]=o,a[1]=r.length,this._createEncoderBuffer([a,r]);for(var u=1,c=r.length;c>=256;c>>=8)u++;(a=new i(2+u))[0]=o,a[1]=128|u;c=1+u;for(var l=r.length;l>0;c--,l>>=8)a[c]=255&l;return this._createEncoderBuffer([a,r])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new i(2*e.length),r=0;r<e.length;r++)n.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,n){if("string"===typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(r=0;r<e.length;r++)e[r]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var a=0;for(r=0;r<e.length;r++){var o=e[r];for(a++;o>=128;o>>=7)a++}var s=new i(a),u=s.length-1;for(r=e.length-1;r>=0;r--){o=e[r];for(s[u--]=127&o;(o>>=7)>0;)s[u--]=128|127&o}return this._createEncoderBuffer(s)},c.prototype._encodeTime=function(e,t){var n,r=new Date(e);return"gentime"===t?n=[l(r.getFullYear()),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[l(r.getFullYear()%100),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"===typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!==typeof e&&!i.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new i(n)}if(i.isBuffer(e)){var r=e.length;0===e.length&&r++;var a=new i(r);return e.copy(a),0===e.length&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);r=1;for(var o=e;o>=256;o>>=8)r++;for(o=(a=new Array(r)).length-1;o>=0;o--)a[o]=255&e,e>>=8;return 128&a[0]&&a.unshift(0),this._createEncoderBuffer(new i(a))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,n){var r,i=this._baseState;if(null===i.default)return!1;var a=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),a.length!==i.defaultBuffer.length)return!1;for(r=0;r<a.length;r++)if(a[r]!==i.defaultBuffer[r])return!1;return!0}},function(e){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(e,t,n){var r=n(156),i=n(24).Buffer;function a(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var n,o=i.alloc(0),s=0;o.length<t;)n=a(s++),o=i.concat([o,r("sha1").update(e).update(n).digest()]);return o.slice(0,t)}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=-1;++r<n;)e[r]^=t[r];return e}},function(e,t,n){var r=n(36),i=n(24).Buffer;e.exports=function(e,t){return i.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},function(e,t,n){"use strict";n.r(t),n.d(t,"colors",(function(){return r})),n.d(t,"hexToRgb",(function(){return E.hexToRgb})),n.d(t,"rgbToHex",(function(){return E.rgbToHex})),n.d(t,"hslToRgb",(function(){return E.hslToRgb})),n.d(t,"decomposeColor",(function(){return E.decomposeColor})),n.d(t,"recomposeColor",(function(){return E.recomposeColor})),n.d(t,"getContrastRatio",(function(){return E.getContrastRatio})),n.d(t,"getLuminance",(function(){return E.getLuminance})),n.d(t,"emphasize",(function(){return E.emphasize})),n.d(t,"fade",(function(){return E.fade})),n.d(t,"darken",(function(){return E.darken})),n.d(t,"lighten",(function(){return E.lighten})),n.d(t,"createMuiTheme",(function(){return E.createMuiTheme})),n.d(t,"createStyles",(function(){return E.createStyles})),n.d(t,"makeStyles",(function(){return E.makeStyles})),n.d(t,"responsiveFontSizes",(function(){return E.responsiveFontSizes})),n.d(t,"styled",(function(){return E.styled})),n.d(t,"easing",(function(){return E.easing})),n.d(t,"duration",(function(){return E.duration})),n.d(t,"useTheme",(function(){return E.useTheme})),n.d(t,"withStyles",(function(){return E.withStyles})),n.d(t,"withTheme",(function(){return E.withTheme})),n.d(t,"createGenerateClassName",(function(){return E.createGenerateClassName})),n.d(t,"jssPreset",(function(){return E.jssPreset})),n.d(t,"ServerStyleSheets",(function(){return E.ServerStyleSheets})),n.d(t,"StylesProvider",(function(){return E.StylesProvider})),n.d(t,"MuiThemeProvider",(function(){return E.MuiThemeProvider})),n.d(t,"ThemeProvider",(function(){return E.ThemeProvider})),n.d(t,"capitalize",(function(){return _.a})),n.d(t,"createChainedFunction",(function(){return _.b})),n.d(t,"createSvgIcon",(function(){return _.c})),n.d(t,"debounce",(function(){return _.d})),n.d(t,"deprecatedPropType",(function(){return _.e})),n.d(t,"isMuiElement",(function(){return _.f})),n.d(t,"ownerDocument",(function(){return _.g})),n.d(t,"ownerWindow",(function(){return _.h})),n.d(t,"requirePropFactory",(function(){return _.i})),n.d(t,"setRef",(function(){return _.j})),n.d(t,"unsupportedProp",(function(){return _.l})),n.d(t,"useControlled",(function(){return _.m})),n.d(t,"useEventCallback",(function(){return _.n})),n.d(t,"useForkRef",(function(){return _.o})),n.d(t,"unstable_useId",(function(){return _.k})),n.d(t,"useIsFocusVisible",(function(){return _.p})),n.d(t,"AppBar",(function(){return S.a})),n.d(t,"Avatar",(function(){return I})),n.d(t,"Backdrop",(function(){return F.a})),n.d(t,"Badge",(function(){return L})),n.d(t,"BottomNavigation",(function(){return U})),n.d(t,"BottomNavigationAction",(function(){return q})),n.d(t,"Box",(function(){return ye})),n.d(t,"styleFunction",(function(){return be})),n.d(t,"Breadcrumbs",(function(){return _e})),n.d(t,"Button",(function(){return Se.a})),n.d(t,"ButtonBase",(function(){return W.a})),n.d(t,"ButtonGroup",(function(){return Ce})),n.d(t,"Card",(function(){return Ne})),n.d(t,"CardActionArea",(function(){return Me})),n.d(t,"CardActions",(function(){return Ie})),n.d(t,"CardContent",(function(){return Pe})),n.d(t,"CardHeader",(function(){return Le})),n.d(t,"CardMedia",(function(){return We})),n.d(t,"Checkbox",(function(){return Ve.a})),n.d(t,"Chip",(function(){return qe.a})),n.d(t,"CircularProgress",(function(){return $e})),n.d(t,"ClickAwayListener",(function(){return Qe})),n.d(t,"Collapse",(function(){return at})),n.d(t,"Container",(function(){return st})),n.d(t,"CssBaseline",(function(){return ut.a})),n.d(t,"Dialog",(function(){return ht})),n.d(t,"DialogActions",(function(){return mt})),n.d(t,"DialogContent",(function(){return gt})),n.d(t,"DialogContentText",(function(){return yt})),n.d(t,"DialogTitle",(function(){return xt})),n.d(t,"Divider",(function(){return Ot.a})),n.d(t,"Drawer",(function(){return kt.a})),n.d(t,"ExpansionPanel",(function(){return Rt})),n.d(t,"ExpansionPanelActions",(function(){return Dt})),n.d(t,"ExpansionPanelDetails",(function(){return Ft})),n.d(t,"ExpansionPanelSummary",(function(){return Lt})),n.d(t,"Fab",(function(){return Ut})),n.d(t,"Fade",(function(){return lt.a})),n.d(t,"FilledInput",(function(){return Wt.a})),n.d(t,"FormControl",(function(){return Vt.a})),n.d(t,"useFormControl",(function(){return qt.useFormControl})),n.d(t,"FormControlLabel",(function(){return Ht.a})),n.d(t,"FormGroup",(function(){return Gt.a})),n.d(t,"FormHelperText",(function(){return $t.a})),n.d(t,"FormLabel",(function(){return Kt.a})),n.d(t,"Grid",(function(){return Xt.a})),n.d(t,"GridList",(function(){return Zt})),n.d(t,"GridListTile",(function(){return nn})),n.d(t,"GridListTileBar",(function(){return an})),n.d(t,"Grow",(function(){return on.a})),n.d(t,"Hidden",(function(){return sn.a})),n.d(t,"Icon",(function(){return cn})),n.d(t,"IconButton",(function(){return Pt.a})),n.d(t,"Input",(function(){return ln.a})),n.d(t,"InputAdornment",(function(){return hn})),n.d(t,"InputBase",(function(){return pn.a})),n.d(t,"InputLabel",(function(){return mn.a})),n.d(t,"LinearProgress",(function(){return gn})),n.d(t,"Link",(function(){return wn})),n.d(t,"List",(function(){return xn.a})),n.d(t,"ListItem",(function(){return On.a})),n.d(t,"ListItemAvatar",(function(){return _n})),n.d(t,"ListItemIcon",(function(){return jn})),n.d(t,"ListItemSecondaryAction",(function(){return An})),n.d(t,"ListItemText",(function(){return Tn.a})),n.d(t,"ListSubheader",(function(){return Nn.a})),n.d(t,"Menu",(function(){return Rn.a})),n.d(t,"MenuItem",(function(){return Mn.a})),n.d(t,"MenuList",(function(){return Dn.a})),n.d(t,"MobileStepper",(function(){return Fn})),n.d(t,"Modal",(function(){return ct.a})),n.d(t,"ModalManager",(function(){return Pn.a})),n.d(t,"NativeSelect",(function(){return zn.a})),n.d(t,"NoSsr",(function(){return Bn})),n.d(t,"OutlinedInput",(function(){return Un.a})),n.d(t,"Paper",(function(){return Ae.a})),n.d(t,"Popover",(function(){return Wn.a})),n.d(t,"Popper",(function(){return Vn.a})),n.d(t,"Portal",(function(){return qn.a})),n.d(t,"Radio",(function(){return Hn.a})),n.d(t,"RadioGroup",(function(){return Gn.a})),n.d(t,"useRadioGroup",(function(){return $n.a})),n.d(t,"RootRef",(function(){return rr})),n.d(t,"Select",(function(){return ir.a})),n.d(t,"Slide",(function(){return ar.a})),n.d(t,"Slider",(function(){return br})),n.d(t,"Snackbar",(function(){return kr})),n.d(t,"SnackbarContent",(function(){return xr})),n.d(t,"Step",(function(){return _r})),n.d(t,"StepButton",(function(){return Ir})),n.d(t,"StepConnector",(function(){return Pr})),n.d(t,"StepContent",(function(){return Lr})),n.d(t,"StepIcon",(function(){return Nr})),n.d(t,"StepLabel",(function(){return Mr})),n.d(t,"Stepper",(function(){return Wr})),n.d(t,"SvgIcon",(function(){return Cr.a})),n.d(t,"SwipeableDrawer",(function(){return ti})),n.d(t,"Switch",(function(){return ii})),n.d(t,"Tab",(function(){return oi})),n.d(t,"Table",(function(){return si.a})),n.d(t,"TableBody",(function(){return ui.a})),n.d(t,"TableCell",(function(){return ci.a})),n.d(t,"TableContainer",(function(){return fi})),n.d(t,"TableFooter",(function(){return di.a})),n.d(t,"TableHead",(function(){return hi.a})),n.d(t,"TablePagination",(function(){return pi.a})),n.d(t,"TableRow",(function(){return mi.a})),n.d(t,"TableSortLabel",(function(){return vi.a})),n.d(t,"Tabs",(function(){return Ri})),n.d(t,"TextField",(function(){return Mi.a})),n.d(t,"TextareaAutosize",(function(){return Di.a})),n.d(t,"Toolbar",(function(){return Ii.a})),n.d(t,"Tooltip",(function(){return Fi.a})),n.d(t,"Typography",(function(){return we.a})),n.d(t,"useMediaQuery",(function(){return Pi.a})),n.d(t,"useScrollTrigger",(function(){return Bi})),n.d(t,"withMobileDialog",(function(){return Wi})),n.d(t,"withWidth",(function(){return Ui.a})),n.d(t,"isWidthUp",(function(){return Vi.b})),n.d(t,"isWidthDown",(function(){return Vi.a})),n.d(t,"Zoom",(function(){return Gi}));var r={};n.r(r),n.d(r,"common",(function(){return i.a})),n.d(r,"red",(function(){return a.a})),n.d(r,"pink",(function(){return o.a})),n.d(r,"purple",(function(){return s})),n.d(r,"deepPurple",(function(){return u})),n.d(r,"indigo",(function(){return c.a})),n.d(r,"blue",(function(){return l.a})),n.d(r,"lightBlue",(function(){return f})),n.d(r,"cyan",(function(){return d})),n.d(r,"teal",(function(){return h})),n.d(r,"green",(function(){return p.a})),n.d(r,"lightGreen",(function(){return m})),n.d(r,"lime",(function(){return v})),n.d(r,"yellow",(function(){return g})),n.d(r,"amber",(function(){return b})),n.d(r,"orange",(function(){return y.a})),n.d(r,"deepOrange",(function(){return w})),n.d(r,"brown",(function(){return x})),n.d(r,"grey",(function(){return O.a})),n.d(r,"blueGrey",(function(){return k}));var i=n(108),a=n(136),o=n(135),s={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},u={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"},c=n(134),l=n(138),f={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},d={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4"},h={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5"},p=n(139),m={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17"},v={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00"},g={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"},b={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},y=n(137),w={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"},x={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"},O=n(133),k={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64"},E=n(71),_=n(91),S=n(656),j=n(3),C=n(6),A=n(0),T=(n(8),n(4)),N=n(7),R=n(29),M=Object(R.a)(A.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var D=A.forwardRef((function(e,t){var n=e.alt,r=e.children,i=e.classes,a=e.className,o=e.component,s=void 0===o?"div":o,u=e.imgProps,c=e.sizes,l=e.src,f=e.srcSet,d=e.variant,h=void 0===d?"circle":d,p=Object(C.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),m=null,v=function(e){var t=e.src,n=e.srcSet,r=A.useState(!1),i=r[0],a=r[1];return A.useEffect((function(){if(t||n){a(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&a("loaded")},r.onerror=function(){e&&a("error")},function(){e=!1}}}),[t,n]),i}({src:l,srcSet:f}),g=l||f,b=g&&"error"!==v;return m=b?A.createElement("img",Object(j.a)({alt:n,src:l,srcSet:f,sizes:c,className:i.img},u)):null!=r?r:g&&n?n[0]:A.createElement(M,{className:i.fallback}),A.createElement(s,Object(j.a)({className:Object(T.a)(i.root,i.system,i[h],a,!b&&i.colorDefault),ref:t},p),m)})),I=Object(N.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(D),F=n(631),P=n(14),z=A.forwardRef((function(e,t){var n=e.anchorOrigin,r=void 0===n?{vertical:"top",horizontal:"right"}:n,i=e.badgeContent,a=e.children,o=e.classes,s=e.className,u=e.color,c=void 0===u?"default":u,l=e.component,f=void 0===l?"span":l,d=e.invisible,h=e.max,p=void 0===h?99:h,m=e.overlap,v=void 0===m?"rectangle":m,g=e.showZero,b=void 0!==g&&g,y=e.variant,w=void 0===y?"standard":y,x=Object(C.a)(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),O=d;null==d&&(0===i&&!b||null==i&&"dot"!==w)&&(O=!0);var k="";return"dot"!==w&&(k=i>p?"".concat(p,"+"):i),A.createElement(f,Object(j.a)({className:Object(T.a)(o.root,s),ref:t},x),a,A.createElement("span",{className:Object(T.a)(o.badge,o["".concat(r.horizontal).concat(Object(P.a)(r.vertical),"}")],o["anchorOrigin".concat(Object(P.a)(r.vertical)).concat(Object(P.a)(r.horizontal)).concat(Object(P.a)(v))],"default"!==c&&o["color".concat(Object(P.a)(c))],O&&o.invisible,"dot"===w&&o.dot)},k))})),L=Object(N.a)((function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:4,height:8,minWidth:8,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}}),{name:"MuiBadge"})(z),B=(n(58),A.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,a=e.component,o=void 0===a?"div":a,s=e.onChange,u=e.showLabels,c=void 0!==u&&u,l=e.value,f=Object(C.a)(e,["children","classes","className","component","onChange","showLabels","value"]);return A.createElement(o,Object(j.a)({className:Object(T.a)(r.root,i),ref:t},f),A.Children.map(n,(function(e,t){if(!A.isValidElement(e))return null;var n=void 0===e.props.value?t:e.props.value;return A.cloneElement(e,{selected:n===l,showLabel:void 0!==e.props.showLabel?e.props.showLabel:c,value:n,onChange:s})})))}))),U=Object(N.a)((function(e){return{root:{display:"flex",justifyContent:"center",height:56,backgroundColor:e.palette.background.paper}}}),{name:"MuiBottomNavigation"})(B),W=n(295),V=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.icon,a=e.label,o=e.onChange,s=e.onClick,u=e.selected,c=e.showLabel,l=e.value,f=Object(C.a)(e,["classes","className","icon","label","onChange","onClick","selected","showLabel","value"]);return A.createElement(W.a,Object(j.a)({ref:t,className:Object(T.a)(n.root,r,u?n.selected:!c&&n.iconOnly),focusRipple:!0,onClick:function(e){o&&o(e,l),s&&s(e)}},f),A.createElement("span",{className:n.wrapper},i,A.createElement("span",{className:Object(T.a)(n.label,u?n.selected:!c&&n.iconOnly)},a)))})),q=Object(N.a)((function(e){return{root:{transition:e.transitions.create(["color","padding-top"],{duration:e.transitions.duration.short}),padding:"6px 12px 8px",minWidth:80,maxWidth:168,color:e.palette.text.secondary,flex:"1","&$iconOnly":{paddingTop:16},"&$selected":{paddingTop:6,color:e.palette.primary.main}},selected:{},iconOnly:{},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"},label:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s","&$iconOnly":{opacity:0,transitionDelay:"0s"},"&$selected":{fontSize:e.typography.pxToRem(14)}}}}),{name:"MuiBottomNavigationAction"})(V),H=n(30),G=n(94);var $=function(e){var t=function(t){var n=e(t);return t.css?Object(j.a)({},Object(G.a)(n,e(Object(j.a)({theme:t.theme},t.css))),{},function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(t.css,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css"].concat(Object(H.a)(e.filterProps)),t};var K=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?Object(G.a)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},X=n(19),Y=n(220);function Z(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var J=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=Z(e.theme,i)||{};return Object(Y.a)(e,n,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=Z(o,e)||e,a&&(t=a(t))),!1===r?t:Object(X.a)({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function Q(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var ee=K(J({prop:"border",themeKey:"borders",transform:Q}),J({prop:"borderTop",themeKey:"borders",transform:Q}),J({prop:"borderRight",themeKey:"borders",transform:Q}),J({prop:"borderBottom",themeKey:"borders",transform:Q}),J({prop:"borderLeft",themeKey:"borders",transform:Q}),J({prop:"borderColor",themeKey:"palette"}),J({prop:"borderRadius",themeKey:"shape"})),te=K(J({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),J({prop:"display"}),J({prop:"overflow"}),J({prop:"textOverflow"}),J({prop:"visibility"}),J({prop:"whiteSpace"})),ne=K(J({prop:"flexBasis"}),J({prop:"flexDirection"}),J({prop:"flexWrap"}),J({prop:"justifyContent"}),J({prop:"alignItems"}),J({prop:"alignContent"}),J({prop:"order"}),J({prop:"flex"}),J({prop:"flexGrow"}),J({prop:"flexShrink"}),J({prop:"alignSelf"}),J({prop:"justifyItems"}),J({prop:"justifySelf"})),re=K(J({prop:"gridGap"}),J({prop:"gridColumnGap"}),J({prop:"gridRowGap"}),J({prop:"gridColumn"}),J({prop:"gridRow"}),J({prop:"gridAutoFlow"}),J({prop:"gridAutoColumns"}),J({prop:"gridAutoRows"}),J({prop:"gridTemplateColumns"}),J({prop:"gridTemplateRows"}),J({prop:"gridTemplateAreas"}),J({prop:"gridArea"})),ie=K(J({prop:"position"}),J({prop:"zIndex",themeKey:"zIndex"}),J({prop:"top"}),J({prop:"right"}),J({prop:"bottom"}),J({prop:"left"})),ae=K(J({prop:"color",themeKey:"palette"}),J({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),oe=J({prop:"boxShadow",themeKey:"shadows"});function se(e){return e<=1?"".concat(100*e,"%"):e}var ue=J({prop:"width",transform:se}),ce=J({prop:"maxWidth",transform:se}),le=J({prop:"minWidth",transform:se}),fe=J({prop:"height",transform:se}),de=J({prop:"maxHeight",transform:se}),he=J({prop:"minHeight",transform:se}),pe=(J({prop:"size",cssProperty:"width",transform:se}),J({prop:"size",cssProperty:"height",transform:se}),K(ue,ce,le,fe,de,he,J({prop:"boxSizing"}))),me=n(662),ve=K(J({prop:"fontFamily",themeKey:"typography"}),J({prop:"fontSize",themeKey:"typography"}),J({prop:"fontStyle",themeKey:"typography"}),J({prop:"fontWeight",themeKey:"typography"}),J({prop:"letterSpacing"}),J({prop:"lineHeight"}),J({prop:"textAlign"})),ge=n(210),be=$(K(ee,te,ne,re,ie,ae,oe,pe,me.b,ve)),ye=Object(ge.a)("div")(be,{name:"MuiBox"}),we=n(114),xe=n(17),Oe=Object(R.a)(A.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var ke=Object(N.a)((function(e){return{root:{display:"flex",marginLeft:e.spacing(.5),marginRight:e.spacing(.5),backgroundColor:e.palette.grey[100],color:e.palette.grey[700],borderRadius:2,cursor:"pointer","&:hover, &:focus":{backgroundColor:e.palette.grey[200]},"&:active":{boxShadow:e.shadows[0],backgroundColor:Object(xe.c)(e.palette.grey[200],.12)}},icon:{width:24,height:16}}}),{name:"PrivateBreadcrumbCollapsed"})((function(e){var t=e.classes,n=Object(C.a)(e,["classes"]);return A.createElement(W.a,Object(j.a)({component:"li",className:t.root,focusRipple:!0},n),A.createElement(Oe,{className:t.icon}))}));var Ee=A.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,a=e.component,o=void 0===a?"nav":a,s=e.expandText,u=void 0===s?"Show path":s,c=e.itemsAfterCollapse,l=void 0===c?1:c,f=e.itemsBeforeCollapse,d=void 0===f?1:f,h=e.maxItems,p=void 0===h?8:h,m=e.separator,v=void 0===m?"/":m,g=Object(C.a)(e,["children","classes","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),b=A.useState(!1),y=b[0],w=b[1],x=A.Children.toArray(n).filter((function(e){return A.isValidElement(e)})).map((function(e,t){return A.createElement("li",{className:r.li,key:"child-".concat(t)},e)}));return A.createElement(we.a,Object(j.a)({ref:t,component:o,color:"textSecondary",className:Object(T.a)(r.root,i)},g),A.createElement("ol",{className:r.ol},function(e,t,n){return e.reduce((function(r,i,a){return a<e.length-1?r=r.concat(i,A.createElement("li",{"aria-hidden":!0,key:"separator-".concat(a),className:t},n)):r.push(i),r}),[])}(y||p&&x.length<=p?x:function(e){return d+l>=e.length?e:[].concat(Object(H.a)(e.slice(0,d)),[A.createElement(ke,{"aria-label":u,key:"ellipsis",onClick:function(e){w(!0);var t=e.currentTarget.parentNode.querySelector("a[href],button,[tabindex]");t&&t.focus()}})],Object(H.a)(e.slice(e.length-l,e.length)))}(x),r.separator,v)))})),_e=Object(N.a)({root:{},ol:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"},li:{},separator:{display:"flex",userSelect:"none",marginLeft:8,marginRight:8}},{name:"MuiBreadcrumbs"})(Ee),Se=n(376);Se.a.styles;var je=A.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,a=e.color,o=void 0===a?"default":a,s=e.component,u=void 0===s?"div":s,c=e.disabled,l=void 0!==c&&c,f=e.disableFocusRipple,d=void 0!==f&&f,h=e.disableRipple,p=void 0!==h&&h,m=e.fullWidth,v=void 0!==m&&m,g=e.orientation,b=void 0===g?"horizontal":g,y=e.size,w=void 0===y?"medium":y,x=e.variant,O=void 0===x?"outlined":x,k=Object(C.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"]),E=Object(T.a)(r.grouped,r["grouped".concat(Object(P.a)(b))],r["grouped".concat(Object(P.a)(O))],r["grouped".concat(Object(P.a)(O)).concat(Object(P.a)(b))],r["grouped".concat(Object(P.a)(O)).concat("default"!==o?Object(P.a)(o):"")],l&&r.disabled);return A.createElement(u,Object(j.a)({role:"group",className:Object(T.a)(r.root,i,v&&r.fullWidth,"contained"===O&&r.contained,"vertical"===b&&r.vertical),ref:t},k),A.Children.map(n,(function(e){return A.isValidElement(e)?A.cloneElement(e,{className:Object(T.a)(E,e.props.className),disabled:e.props.disabled||l,color:e.props.color||o,disableFocusRipple:d,disableRipple:p,fullWidth:v,size:e.props.size||w,variant:e.props.variant||O}):null})))})),Ce=Object(N.a)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},contained:{boxShadow:e.shadows[2]},disabled:{},fullWidth:{width:"100%"},vertical:{flexDirection:"column"},grouped:{minWidth:40},groupedHorizontal:{"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{borderTopRightRadius:0,borderTopLeftRadius:0},"&:not(:last-child)":{borderBottomRightRadius:0,borderBottomLeftRadius:0}},groupedText:{},groupedTextHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextPrimary:{"&:not(:last-child)":{borderColor:Object(xe.d)(e.palette.primary.main,.5)}},groupedTextSecondary:{"&:not(:last-child)":{borderColor:Object(xe.d)(e.palette.secondary.main,.5)}},groupedOutlined:{},groupedOutlinedHorizontal:{"&:not(:first-child)":{marginLeft:-1},"&:not(:last-child)":{borderRightColor:"transparent"}},groupedOutlinedVertical:{"&:not(:first-child)":{marginTop:-1},"&:not(:last-child)":{borderBottomColor:"transparent"}},groupedOutlinedPrimary:{"&:hover":{borderColor:e.palette.primary.main}},groupedOutlinedSecondary:{"&:hover":{borderColor:e.palette.secondary.main}},groupedContained:{boxShadow:"none"},groupedContainedHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderRight:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderBottom:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedPrimary:{"&:not(:last-child)":{borderColor:e.palette.primary.dark}},groupedContainedSecondary:{"&:not(:last-child)":{borderColor:e.palette.secondary.dark}}}}),{name:"MuiButtonGroup"})(je),Ae=n(165),Te=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.raised,a=void 0!==i&&i,o=Object(C.a)(e,["classes","className","raised"]);return A.createElement(Ae.a,Object(j.a)({className:Object(T.a)(n.root,r),elevation:a?8:1,ref:t},o))})),Ne=Object(N.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(Te),Re=A.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,a=e.focusVisibleClassName,o=Object(C.a)(e,["children","classes","className","focusVisibleClassName"]);return A.createElement(W.a,Object(j.a)({className:Object(T.a)(r.root,i),focusVisibleClassName:Object(T.a)(a,r.focusVisible),ref:t},o),n,A.createElement("span",{className:r.focusHighlight}))})),Me=Object(N.a)((function(e){return{root:{display:"block",textAlign:"inherit",width:"100%","&:hover $focusHighlight":{opacity:e.palette.action.hoverOpacity},"&$focusVisible $focusHighlight":{opacity:.12}},focusVisible:{},focusHighlight:{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}}}),{name:"MuiCardActionArea"})(Re),De=A.forwardRef((function(e,t){var n=e.disableSpacing,r=void 0!==n&&n,i=e.classes,a=e.className,o=Object(C.a)(e,["disableSpacing","classes","className"]);return A.createElement("div",Object(j.a)({className:Object(T.a)(i.root,a,!r&&i.spacing),ref:t},o))})),Ie=Object(N.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(De),Fe=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.component,a=void 0===i?"div":i,o=Object(C.a)(e,["classes","className","component"]);return A.createElement(a,Object(j.a)({className:Object(T.a)(n.root,r),ref:t},o))})),Pe=Object(N.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(Fe),ze=A.forwardRef((function(e,t){var n=e.action,r=e.avatar,i=e.classes,a=e.className,o=e.component,s=void 0===o?"div":o,u=e.disableTypography,c=void 0!==u&&u,l=e.subheader,f=e.subheaderTypographyProps,d=e.title,h=e.titleTypographyProps,p=Object(C.a)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),m=d;null==m||m.type===we.a||c||(m=A.createElement(we.a,Object(j.a)({variant:r?"body2":"h5",className:i.title,component:"span",display:"block"},h),m));var v=l;return null==v||v.type===we.a||c||(v=A.createElement(we.a,Object(j.a)({variant:r?"body2":"body1",className:i.subheader,color:"textSecondary",component:"span",display:"block"},f),v)),A.createElement(s,Object(j.a)({className:Object(T.a)(i.root,a),ref:t},p),r&&A.createElement("div",{className:i.avatar},r),A.createElement("div",{className:i.content},m,v),n&&A.createElement("div",{className:i.action},n))})),Le=Object(N.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(ze),Be=["video","audio","picture","iframe","img"],Ue=A.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,a=e.component,o=void 0===a?"div":a,s=e.image,u=e.src,c=e.style,l=Object(C.a)(e,["children","classes","className","component","image","src","style"]),f=-1!==Be.indexOf(o),d=!f&&s?Object(j.a)({backgroundImage:'url("'.concat(s,'")')},c):c;return A.createElement(o,Object(j.a)({className:Object(T.a)(r.root,i,f&&r.media,-1!=="picture img".indexOf(o)&&r.img),ref:t,style:d,src:f?s||u:void 0},l),n)})),We=Object(N.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(Ue),Ve=n(420),qe=n(421);function He(e){var t,n,r;return t=e,n=0,r=1,e=(Math.min(Math.max(n,t),r)-n)/(r-n),e=(e-=1)*e*e+1}var Ge=A.forwardRef((function(e,t){var n,r=e.classes,i=e.className,a=e.color,o=void 0===a?"primary":a,s=e.disableShrink,u=void 0!==s&&s,c=e.size,l=void 0===c?40:c,f=e.style,d=e.thickness,h=void 0===d?3.6:d,p=e.value,m=void 0===p?0:p,v=e.variant,g=void 0===v?"indeterminate":v,b=Object(C.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),y={},w={},x={};if("determinate"===g||"static"===g){var O=2*Math.PI*((44-h)/2);y.strokeDasharray=O.toFixed(3),x["aria-valuenow"]=Math.round(m),"static"===g?(y.strokeDashoffset="".concat(((100-m)/100*O).toFixed(3),"px"),w.transform="rotate(-90deg)"):(y.strokeDashoffset="".concat((n=(100-m)/100,n*n*O).toFixed(3),"px"),w.transform="rotate(".concat((270*He(m/70)).toFixed(3),"deg)"))}return A.createElement("div",Object(j.a)({className:Object(T.a)(r.root,i,"inherit"!==o&&r["color".concat(Object(P.a)(o))],{indeterminate:r.indeterminate,static:r.static}[g]),style:Object(j.a)({width:l,height:l},w,{},f),ref:t,role:"progressbar"},x,b),A.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},A.createElement("circle",{className:Object(T.a)(r.circle,u&&r.circleDisableShrink,{indeterminate:r.circleIndeterminate,static:r.circleStatic}[g]),style:y,cx:44,cy:44,r:(44-h)/2,fill:"none",strokeWidth:h})))})),$e=Object(N.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(Ge),Ke=n(26),Xe=n(33),Ye=n(21),Ze=n(27);function Je(e){return e.substring(2).toLowerCase()}var Qe=function(e){var t=e.children,n=e.disableReactTree,r=void 0!==n&&n,i=e.mouseEvent,a=void 0===i?"onClick":i,o=e.onClickAway,s=e.touchEvent,u=void 0===s?"onTouchEnd":s,c=A.useRef(!1),l=A.useRef(null),f=A.useRef(!1),d=A.useRef(!1);A.useEffect((function(){return f.current=!0,function(){f.current=!1}}),[]);var h=A.useCallback((function(e){l.current=Ke.findDOMNode(e)}),[]),p=Object(Ye.a)(t.ref,h),m=Object(Ze.a)((function(e){var t=d.current;if(d.current=!1,f.current&&l.current)if(c.current)c.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(l.current)>-1;else{var i=Object(Xe.a)(l.current);n=!(i.documentElement&&i.documentElement.contains(e.target))||l.current.contains(e.target)}n||!r&&t||o(e)}})),v=function(e){return function(n){d.current=!0;var r=t.props[e];r&&r(n)}},g={ref:p};return!1!==u&&(g[u]=v(u)),A.useEffect((function(){if(!1!==u){var e=Je(u),t=Object(Xe.a)(l.current),n=function(){c.current=!0};return t.addEventListener(e,m),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,m),t.removeEventListener("touchmove",n)}}}),[m,u]),!1!==a&&(g[a]=v(a)),A.useEffect((function(){if(!1!==a){var e=Je(a),t=Object(Xe.a)(l.current);return t.addEventListener(e,m),function(){t.removeEventListener(e,m)}}}),[m,a]),A.createElement(A.Fragment,null,A.cloneElement(t,g))},et=n(296),tt=n(32),nt=n(35),rt=n(25),it=A.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,a=e.collapsedHeight,o=void 0===a?"0px":a,s=e.component,u=void 0===s?"div":s,c=e.in,l=e.onEnter,f=e.onEntered,d=e.onEntering,h=e.onExit,p=e.onExiting,m=e.style,v=e.timeout,g=void 0===v?tt.b.standard:v,b=Object(C.a)(e,["children","classes","className","collapsedHeight","component","in","onEnter","onEntered","onEntering","onExit","onExiting","style","timeout"]),y=Object(rt.a)(),w=A.useRef(),x=A.useRef(null),O=A.useRef(),k="number"===typeof o?"".concat(o,"px"):o;A.useEffect((function(){return function(){clearTimeout(w.current)}}),[]);return A.createElement(et.a,Object(j.a)({in:c,onEnter:function(e,t){e.style.height=k,l&&l(e,t)},onEntered:function(e,t){e.style.height="auto",f&&f(e,t)},onEntering:function(e,t){var n=x.current?x.current.clientHeight:0,r=Object(nt.a)({style:m,timeout:g},{mode:"enter"}).duration;if("auto"===g){var i=y.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(i,"ms"),O.current=i}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),d&&d(e,t)},onExit:function(e){var t=x.current?x.current.clientHeight:0;e.style.height="".concat(t,"px"),h&&h(e)},onExiting:function(e){var t=x.current?x.current.clientHeight:0,n=Object(nt.a)({style:m,timeout:g},{mode:"exit"}).duration;if("auto"===g){var r=y.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),O.current=r}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=k,p&&p(e)},addEndListener:function(e,t){"auto"===g&&(w.current=setTimeout(t,O.current||0))},timeout:"auto"===g?null:g},b),(function(e,a){return A.createElement(u,Object(j.a)({className:Object(T.a)(r.container,i,{entered:r.entered,exited:!c&&"0px"===k&&r.hidden}[e]),style:Object(j.a)({minHeight:k},m),ref:t},a),A.createElement("div",{className:r.wrapper,ref:x},A.createElement("div",{className:r.wrapperInner},n)))}))}));it.muiSupportAuto=!0;var at=Object(N.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(it),ot=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.component,a=void 0===i?"div":i,o=e.disableGutters,s=void 0!==o&&o,u=e.fixed,c=void 0!==u&&u,l=e.maxWidth,f=void 0===l?"lg":l,d=Object(C.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return A.createElement(a,Object(j.a)({className:Object(T.a)(n.root,r,c&&n.fixed,s&&n.disableGutters,!1!==f&&n["maxWidth".concat(Object(P.a)(String(f)))]),ref:t},d))})),st=Object(N.a)((function(e){return{root:Object(X.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:Object(X.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(X.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(X.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(X.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(X.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(ot),ut=n(655),ct=n(235),lt=n(632),ft={enter:tt.b.enteringScreen,exit:tt.b.leavingScreen},dt=A.forwardRef((function(e,t){var n=e.BackdropProps,r=e.children,i=e.classes,a=e.className,o=e.disableBackdropClick,s=void 0!==o&&o,u=e.disableEscapeKeyDown,c=void 0!==u&&u,l=e.fullScreen,f=void 0!==l&&l,d=e.fullWidth,h=void 0!==d&&d,p=e.maxWidth,m=void 0===p?"sm":p,v=e.onBackdropClick,g=e.onClose,b=e.onEnter,y=e.onEntered,w=e.onEntering,x=e.onEscapeKeyDown,O=e.onExit,k=e.onExited,E=e.onExiting,_=e.open,S=e.PaperComponent,N=void 0===S?Ae.a:S,R=e.PaperProps,M=void 0===R?{}:R,D=e.scroll,I=void 0===D?"paper":D,z=e.TransitionComponent,L=void 0===z?lt.a:z,B=e.transitionDuration,U=void 0===B?ft:B,W=e.TransitionProps,V=e["aria-describedby"],q=e["aria-labelledby"],H=Object(C.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),G=A.useRef();return A.createElement(ct.a,Object(j.a)({className:Object(T.a)(i.root,a),BackdropComponent:F.a,BackdropProps:Object(j.a)({transitionDuration:U},n),closeAfterTransition:!0,disableBackdropClick:s,disableEscapeKeyDown:c,onEscapeKeyDown:x,onClose:g,open:_,ref:t},H),A.createElement(L,Object(j.a)({appear:!0,in:_,timeout:U,onEnter:b,onEntering:w,onEntered:y,onExit:O,onExiting:E,onExited:k,role:"none presentation"},W),A.createElement("div",{className:Object(T.a)(i.container,i["scroll".concat(Object(P.a)(I))]),onClick:function(e){e.target===e.currentTarget&&e.target===G.current&&(G.current=null,v&&v(e),!s&&g&&g(e,"backdropClick"))},onMouseDown:function(e){G.current=e.target}},A.createElement(N,Object(j.a)({elevation:24,role:"dialog","aria-describedby":V,"aria-labelledby":q},M,{className:Object(T.a)(i.paper,i["paperScroll".concat(Object(P.a)(I))],i["paperWidth".concat(Object(P.a)(String(m)))],M.className,f&&i.paperFullScreen,h&&i.paperFullWidth)}),r))))})),ht=Object(N.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(X.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(X.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(X.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(X.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(X.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(dt),pt=A.forwardRef((function(e,t){var n=e.disableSpacing,r=void 0!==n&&n,i=e.classes,a=e.className,o=Object(C.a)(e,["disableSpacing","classes","className"]);return A.createElement("div",Object(j.a)({className:Object(T.a)(i.root,a,!r&&i.spacing),ref:t},o))})),mt=Object(N.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(pt),vt=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.dividers,a=void 0!==i&&i,o=Object(C.a)(e,["classes","className","dividers"]);return A.createElement("div",Object(j.a)({className:Object(T.a)(n.root,r,a&&n.dividers),ref:t},o))})),gt=Object(N.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(vt),bt=A.forwardRef((function(e,t){return A.createElement(we.a,Object(j.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))})),yt=Object(N.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(bt),wt=A.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,a=e.disableTypography,o=void 0!==a&&a,s=Object(C.a)(e,["children","classes","className","disableTypography"]);return A.createElement("div",Object(j.a)({className:Object(T.a)(r.root,i),ref:t},s),o?n:A.createElement(we.a,{component:"h2",variant:"h6"},n))})),xt=Object(N.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(wt),Ot=n(653),kt=n(66),Et=n(218),_t=n(216),St=n(132),jt=n(219);var Ct=n(51);var At=A.createContext({}),Tt=n(50),Nt=A.forwardRef((function(e,t){var n,r=e.children,i=e.classes,a=e.className,o=e.defaultExpanded,s=void 0!==o&&o,u=e.disabled,c=void 0!==u&&u,l=e.expanded,f=e.onChange,d=e.square,h=void 0!==d&&d,p=e.TransitionComponent,m=void 0===p?at:p,v=e.TransitionProps,g=Object(C.a)(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),b=Object(Tt.a)({controlled:l,default:s,name:"ExpansionPanel",state:"expanded"}),y=Object(Ct.a)(b,2),w=y[0],x=y[1],O=A.useCallback((function(e){x(!w),f&&f(e,!w)}),[w,f,x]),k=A.Children.toArray(r),E=(n=k,Object(Et.a)(n)||Object(_t.a)(n)||Object(St.a)(n)||Object(jt.a)()),_=E[0],S=E.slice(1),N=A.useMemo((function(){return{expanded:w,disabled:c,toggle:O}}),[w,c,O]);return A.createElement(Ae.a,Object(j.a)({className:Object(T.a)(i.root,a,w&&i.expanded,c&&i.disabled,!h&&i.rounded),ref:t,square:h},g),A.createElement(At.Provider,{value:N},_),A.createElement(m,Object(j.a)({in:w,timeout:"auto"},v),A.createElement("div",{"aria-labelledby":_.props.id,id:_.props["aria-controls"],role:"region"},S)))})),Rt=Object(N.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}}),{name:"MuiExpansionPanel"})(Nt),Mt=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.disableSpacing,a=void 0!==i&&i,o=Object(C.a)(e,["classes","className","disableSpacing"]);return A.createElement("div",Object(j.a)({className:Object(T.a)(n.root,r,!a&&n.spacing),ref:t},o))})),Dt=Object(N.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiExpansionPanelActions"})(Mt),It=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=Object(C.a)(e,["classes","className"]);return A.createElement("div",Object(j.a)({className:Object(T.a)(n.root,r),ref:t},i))})),Ft=Object(N.a)({root:{display:"flex",padding:"8px 24px 24px"}},{name:"MuiExpansionPanelDetails"})(It),Pt=n(284),zt=A.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,a=e.expandIcon,o=e.IconButtonProps,s=e.onBlur,u=e.onClick,c=e.onFocusVisible,l=Object(C.a)(e,["children","classes","className","expandIcon","IconButtonProps","onBlur","onClick","onFocusVisible"]),f=A.useState(!1),d=f[0],h=f[1],p=A.useContext(At),m=p.disabled,v=void 0!==m&&m,g=p.expanded,b=p.toggle;return A.createElement(W.a,Object(j.a)({focusRipple:!1,disableRipple:!0,disabled:v,component:"div","aria-expanded":g,className:Object(T.a)(r.root,i,v&&r.disabled,g&&r.expanded,d&&r.focused),onFocusVisible:function(e){h(!0),c&&c(e)},onBlur:function(e){h(!1),s&&s(e)},onClick:function(e){b&&b(e),u&&u(e)},ref:t},l),A.createElement("div",{className:Object(T.a)(r.content,g&&r.expanded)},n),a&&A.createElement(Pt.a,Object(j.a)({className:Object(T.a)(r.expandIcon,g&&r.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},o),a))})),Lt=Object(N.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,3),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused":{backgroundColor:e.palette.grey[300]},"&$disabled":{opacity:.38}},expanded:{},focused:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}}),{name:"MuiExpansionPanelSummary"})(zt),Bt=A.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,a=e.color,o=void 0===a?"default":a,s=e.component,u=void 0===s?"button":s,c=e.disabled,l=void 0!==c&&c,f=e.disableFocusRipple,d=void 0!==f&&f,h=e.focusVisibleClassName,p=e.size,m=void 0===p?"large":p,v=e.variant,g=void 0===v?"round":v,b=Object(C.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return A.createElement(W.a,Object(j.a)({className:Object(T.a)(r.root,i,"round"!==g&&r.extended,"large"!==m&&r["size".concat(Object(P.a)(m))],l&&r.disabled,{primary:r.primary,secondary:r.secondary,inherit:r.colorInherit}[o]),component:u,disabled:l,focusRipple:!d,focusVisibleClassName:Object(T.a)(r.focusVisible,h),ref:t},b),A.createElement("span",{className:r.label},n))})),Ut=Object(N.a)((function(e){return{root:Object(j.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(Bt),Wt=n(635),Vt=n(286),qt=n(88),Ht=n(377),Gt=n(287),$t=n(637),Kt=n(638),Xt=n(658),Yt=A.forwardRef((function(e,t){var n=e.cellHeight,r=void 0===n?180:n,i=e.children,a=e.classes,o=e.className,s=e.cols,u=void 0===s?2:s,c=e.component,l=void 0===c?"ul":c,f=e.spacing,d=void 0===f?4:f,h=e.style,p=Object(C.a)(e,["cellHeight","children","classes","className","cols","component","spacing","style"]);return A.createElement(l,Object(j.a)({className:Object(T.a)(a.root,o),ref:t,style:Object(j.a)({margin:-d/2},h)},p),A.Children.map(i,(function(e){if(!A.isValidElement(e))return null;var t=e.props.cols||1,n=e.props.rows||1;return A.cloneElement(e,{style:Object(j.a)({width:"".concat(100/u*t,"%"),height:"auto"===r?"auto":r*n+d,padding:d/2},e.props.style)})})))})),Zt=Object(N.a)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiGridList"})(Yt),Jt=n(47),Qt=n(63),en=function(e,t){var n,r,i,a;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((n=e.classList).remove.apply(n,Object(H.a)(t.imgFullWidth.split(" "))),(r=e.classList).add.apply(r,Object(H.a)(t.imgFullHeight.split(" ")))):((i=e.classList).remove.apply(i,Object(H.a)(t.imgFullHeight.split(" "))),(a=e.classList).add.apply(a,Object(H.a)(t.imgFullWidth.split(" ")))))};var tn=A.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,a=(e.cols,e.component),o=void 0===a?"li":a,s=(e.rows,Object(C.a)(e,["children","classes","className","cols","component","rows"])),u=A.useRef(null);return A.useEffect((function(){!function(e,t){e&&(e.complete?en(e,t):e.addEventListener("load",(function(){en(e,t)})))}(u.current,r)})),A.useEffect((function(){var e=Object(Jt.a)((function(){en(u.current,r)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[r]),A.createElement(o,Object(j.a)({className:Object(T.a)(r.root,i),ref:t},s),A.createElement("div",{className:r.tile},A.Children.map(n,(function(e){return A.isValidElement(e)?"img"===e.type||Object(Qt.a)(e,["Image"])?A.cloneElement(e,{ref:u}):e:null}))))})),nn=Object(N.a)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(tn),rn=A.forwardRef((function(e,t){var n=e.actionIcon,r=e.actionPosition,i=void 0===r?"right":r,a=e.classes,o=e.className,s=e.subtitle,u=e.title,c=e.titlePosition,l=void 0===c?"bottom":c,f=Object(C.a)(e,["actionIcon","actionPosition","classes","className","subtitle","title","titlePosition"]),d=n&&i;return A.createElement("div",Object(j.a)({className:Object(T.a)(a.root,o,"top"===l?a.titlePositionTop:a.titlePositionBottom,s&&a.rootSubtitle),ref:t},f),A.createElement("div",{className:Object(T.a)(a.titleWrap,{left:a.titleWrapActionPosLeft,right:a.titleWrapActionPosRight}[d])},A.createElement("div",{className:a.title},u),s?A.createElement("div",{className:a.subtitle},s):null),n?A.createElement("div",{className:Object(T.a)(a.actionIcon,"left"===d&&a.actionIconActionPosLeft)},n):null)})),an=Object(N.a)((function(e){return{root:{position:"absolute",left:0,right:0,height:48,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:e.typography.fontFamily},titlePositionBottom:{bottom:0},titlePositionTop:{top:0},rootSubtitle:{height:68},titleWrap:{flexGrow:1,marginLeft:16,marginRight:16,color:e.palette.common.white,overflow:"hidden"},titleWrapActionPosLeft:{marginLeft:0},titleWrapActionPosRight:{marginRight:0},title:{fontSize:e.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},subtitle:{fontSize:e.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},actionIcon:{},actionIconActionPosLeft:{order:-1}}}),{name:"MuiGridListTileBar"})(rn),on=n(227),sn=n(661),un=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.color,a=void 0===i?"inherit":i,o=e.component,s=void 0===o?"span":o,u=e.fontSize,c=void 0===u?"default":u,l=Object(C.a)(e,["classes","className","color","component","fontSize"]);return A.createElement(s,Object(j.a)({className:Object(T.a)("material-icons",n.root,r,"inherit"!==a&&n["color".concat(Object(P.a)(a))],"default"!==c&&n["fontSize".concat(Object(P.a)(c))]),"aria-hidden":!0,ref:t},l))}));un.muiName="Icon";var cn=Object(N.a)((function(e){return{root:{userSelect:"none",fontSize:e.typography.pxToRem(24),width:"1em",height:"1em",overflow:"hidden",flexShrink:0},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(36)}}}),{name:"MuiIcon"})(un),ln=n(228),fn=n(78),dn=A.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,a=e.component,o=void 0===a?"div":a,s=e.disablePointerEvents,u=void 0!==s&&s,c=e.disableTypography,l=void 0!==c&&c,f=e.position,d=e.variant,h=Object(C.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),p=Object(fn.b)()||{},m=d;return d&&p.variant,p&&!m&&(m=p.variant),A.createElement(fn.a.Provider,{value:null},A.createElement(o,Object(j.a)({className:Object(T.a)(r.root,i,u&&r.disablePointerEvents,p.hiddenLabel&&r.hiddenLabel,"filled"===m&&r.filled,{start:r.positionStart,end:r.positionEnd}[f],"dense"===p.margin&&r.marginDense),ref:t},h),"string"!==typeof n||l?n:A.createElement(we.a,{color:"textSecondary"},n)))})),hn=Object(N.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(dn),pn=n(445),mn=n(288),vn=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.color,a=void 0===i?"primary":i,o=e.value,s=e.valueBuffer,u=e.variant,c=void 0===u?"indeterminate":u,l=Object(C.a)(e,["classes","className","color","value","valueBuffer","variant"]),f=Object(rt.a)(),d={},h={bar1:{},bar2:{}};if("determinate"===c||"buffer"===c)if(void 0!==o){d["aria-valuenow"]=Math.round(o);var p=o-100;"rtl"===f.direction&&(p=-p),h.bar1.transform="translateX(".concat(p,"%)")}else 0;if("buffer"===c)if(void 0!==s){var m=(s||0)-100;"rtl"===f.direction&&(m=-m),h.bar2.transform="translateX(".concat(m,"%)")}else 0;return A.createElement("div",Object(j.a)({className:Object(T.a)(n.root,n["color".concat(Object(P.a)(a))],r,{determinate:n.determinate,indeterminate:n.indeterminate,buffer:n.buffer,query:n.query}[c]),role:"progressbar"},d,{ref:t},l),"buffer"===c?A.createElement("div",{className:Object(T.a)(n.dashed,n["dashedColor".concat(Object(P.a)(a))])}):null,A.createElement("div",{className:Object(T.a)(n.bar,n["barColor".concat(Object(P.a)(a))],("indeterminate"===c||"query"===c)&&n.bar1Indeterminate,{determinate:n.bar1Determinate,buffer:n.bar1Buffer}[c]),style:h.bar1}),"determinate"===c?null:A.createElement("div",{className:Object(T.a)(n.bar,("indeterminate"===c||"query"===c)&&n.bar2Indeterminate,"buffer"===c?[n["color".concat(Object(P.a)(a))],n.bar2Buffer]:n["barColor".concat(Object(P.a)(a))]),style:h.bar2}))})),gn=Object(N.a)((function(e){var t=function(t){return"light"===e.palette.type?Object(xe.i)(t,.62):Object(xe.a)(t,.5)},n=t(e.palette.primary.main),r=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4},colorPrimary:{backgroundColor:n},colorSecondary:{backgroundColor:r},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(n," 0%, ").concat(n," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0px -23px"},"50%":{opacity:0,backgroundPosition:"0px -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(vn),bn=n(72),yn=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.color,a=void 0===i?"primary":i,o=e.component,s=void 0===o?"a":o,u=e.onBlur,c=e.onFocus,l=e.TypographyClasses,f=e.underline,d=void 0===f?"hover":f,h=e.variant,p=void 0===h?"inherit":h,m=Object(C.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),v=Object(bn.a)(),g=v.isFocusVisible,b=v.onBlurVisible,y=v.ref,w=A.useState(!1),x=w[0],O=w[1],k=Object(Ye.a)(t,y);return A.createElement(we.a,Object(j.a)({className:Object(T.a)(n.root,n["underline".concat(Object(P.a)(d))],r,x&&n.focusVisible,"button"===s&&n.button),classes:l,color:a,component:s,onBlur:function(e){x&&(b(),O(!1)),u&&u(e)},onFocus:function(e){g(e)&&O(!0),c&&c(e)},ref:k,variant:p},m))})),wn=Object(N.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(yn),xn=n(627),On=n(626),kn=n(65),En=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=Object(C.a)(e,["classes","className"]),a=A.useContext(kn.a);return A.createElement("div",Object(j.a)({className:Object(T.a)(n.root,r,"flex-start"===a.alignItems&&n.alignItemsFlexStart),ref:t},i))})),_n=Object(N.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(En),Sn=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=Object(C.a)(e,["classes","className"]),a=A.useContext(kn.a);return A.createElement("div",Object(j.a)({className:Object(T.a)(n.root,r,"flex-start"===a.alignItems&&n.alignItemsFlexStart),ref:t},i))})),jn=Object(N.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(Sn),Cn=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=Object(C.a)(e,["classes","className"]);return A.createElement("div",Object(j.a)({className:Object(T.a)(n.root,r),ref:t},i))}));Cn.muiName="ListItemSecondaryAction";var An=Object(N.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(Cn),Tn=n(351),Nn=n(654),Rn=n(437),Mn=n(375),Dn=n(636),In=A.forwardRef((function(e,t){var n=e.activeStep,r=void 0===n?0:n,i=e.backButton,a=e.classes,o=e.className,s=e.LinearProgressProps,u=e.nextButton,c=e.position,l=void 0===c?"bottom":c,f=e.steps,d=e.variant,h=void 0===d?"dots":d,p=Object(C.a)(e,["activeStep","backButton","classes","className","LinearProgressProps","nextButton","position","steps","variant"]);return A.createElement(Ae.a,Object(j.a)({square:!0,elevation:0,className:Object(T.a)(a.root,a["position".concat(Object(P.a)(l))],o),ref:t},p),i,"text"===h&&A.createElement(A.Fragment,null,r+1," / ",f),"dots"===h&&A.createElement("div",{className:a.dots},Object(H.a)(new Array(f)).map((function(e,t){return A.createElement("div",{key:t,className:Object(T.a)(a.dot,t===r&&a.dotActive)})}))),"progress"===h&&A.createElement(gn,Object(j.a)({className:a.progress,variant:"determinate",value:Math.ceil(r/(f-1)*100)},s)),u)})),Fn=Object(N.a)((function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:e.palette.background.default,padding:8},positionBottom:{position:"fixed",bottom:0,left:0,right:0,zIndex:e.zIndex.mobileStepper},positionTop:{position:"fixed",top:0,left:0,right:0,zIndex:e.zIndex.mobileStepper},positionStatic:{},dots:{display:"flex",flexDirection:"row"},dot:{backgroundColor:e.palette.action.disabled,borderRadius:"50%",width:8,height:8,margin:"0 2px"},dotActive:{backgroundColor:e.palette.primary.main},progress:{width:"50%"}}}),{name:"MuiMobileStepper"})(In),Pn=n(122),zn=n(436),Ln="undefined"!==typeof window?A.useLayoutEffect:A.useEffect;var Bn=function(e){var t=e.children,n=e.defer,r=void 0!==n&&n,i=e.fallback,a=void 0===i?null:i,o=A.useState(!1),s=o[0],u=o[1];return Ln((function(){r||u(!0)}),[r]),A.useEffect((function(){r&&u(!0)}),[r]),A.createElement(A.Fragment,null,s?t:a)},Un=n(640),Wn=n(285),Vn=n(633),qn=n(630),Hn=n(660),Gn=n(378),$n=n(196),Kn=n(140),Xn=n(76),Yn=n(83),Zn=n(96);function Jn(e,t){return!t||"object"!==Object(Yn.a)(t)&&"function"!==typeof t?Object(Zn.a)(e):t}function Qn(e){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tr=n(38);function nr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var rr=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(r,e);var t,n=(t=r,function(){var e,n=Qn(t);if(nr()){var r=Qn(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Jn(this,e)});function r(){return Object(Kn.a)(this,r),n.apply(this,arguments)}return Object(Xn.a)(r,[{key:"componentDidMount",value:function(){this.ref=Ke.findDOMNode(this),Object(tr.a)(this.props.rootRef,this.ref)}},{key:"componentDidUpdate",value:function(e){var t=Ke.findDOMNode(this);e.rootRef===this.props.rootRef&&this.ref===t||(e.rootRef!==this.props.rootRef&&Object(tr.a)(e.rootRef,null),this.ref=t,Object(tr.a)(this.props.rootRef,this.ref))}},{key:"componentWillUnmount",value:function(){this.ref=null,Object(tr.a)(this.props.rootRef,null)}},{key:"render",value:function(){return this.props.children}}]),r}(A.Component),ir=n(290),ar=n(629);var or=Object(N.a)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:Object(j.a)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,n=e.classes,r=e.className,i=e.open,a=e.value,o=e.valueLabelDisplay;return"off"===o?t:A.cloneElement(t,{className:Object(T.a)(t.props.className,(i||"on"===o)&&n.open,n.thumb)},A.createElement("span",{className:Object(T.a)(n.offset,r)},A.createElement("span",{className:n.circle},A.createElement("span",{className:n.label},a))))}));function sr(e,t){return e-t}function ur(e,t,n){return Math.min(Math.max(t,e),n)}function cr(e,t){return e.reduce((function(e,n,r){var i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null).index}function lr(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function fr(e,t,n){return 100*(e-t)/(n-t)}function dr(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function hr(e){var t=e.values,n=e.source,r=e.newValue,i=e.index;if(t[i]===r)return n;var a=Object(H.a)(t);return a[i]=r,a}function pr(e){var t=e.sliderRef,n=e.activeIndex,r=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[data-index="'.concat(n,'"]')).focus(),r&&r(n)}var mr={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},vr=function(e){return e},gr=A.forwardRef((function(e,t){var n=e["aria-label"],r=e["aria-labelledby"],i=e["aria-valuetext"],a=e.classes,o=e.className,s=e.color,u=void 0===s?"primary":s,c=e.component,l=void 0===c?"span":c,f=e.defaultValue,d=e.disabled,h=void 0!==d&&d,p=e.getAriaLabel,m=e.getAriaValueText,v=e.marks,g=void 0!==v&&v,b=e.max,y=void 0===b?100:b,w=e.min,x=void 0===w?0:w,O=e.name,k=e.onChange,E=e.onChangeCommitted,_=e.onMouseDown,S=e.orientation,N=void 0===S?"horizontal":S,R=e.scale,M=void 0===R?vr:R,D=e.step,I=void 0===D?1:D,F=e.ThumbComponent,z=void 0===F?"span":F,L=e.track,B=void 0===L?"normal":L,U=e.value,W=e.ValueLabelComponent,V=void 0===W?or:W,q=e.valueLabelDisplay,G=void 0===q?"off":q,$=e.valueLabelFormat,K=void 0===$?vr:$,X=Object(C.a)(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),Y=Object(rt.a)(),Z=A.useRef(),J=A.useState(-1),Q=J[0],ee=J[1],te=A.useState(-1),ne=te[0],re=te[1],ie=Object(Tt.a)({controlled:U,default:f,name:"Slider"}),ae=Object(Ct.a)(ie,2),oe=ae[0],se=ae[1],ue=Array.isArray(oe),ce=A.useRef(),le=ue?Object(H.a)(oe).sort(sr):[oe];le=le.map((function(e){return ur(e,x,y)}));var fe=!0===g&&null!==I?Object(H.a)(Array(Math.floor((y-x)/I)+1)).map((function(e,t){return{value:x+I*t}})):g||[];ce.current={source:oe};var de=Object(bn.a)(),he=de.isFocusVisible,pe=de.onBlurVisible,me=de.ref,ve=A.useState(-1),ge=ve[0],be=ve[1],ye=A.useRef(),we=Object(Ye.a)(me,ye),xe=Object(Ye.a)(t,we),Oe=Object(Ze.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));he(e)&&be(t),re(t)})),ke=Object(Ze.a)((function(){-1!==ge&&(be(-1),pe()),re(-1)})),Ee=Object(Ze.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));re(t)})),_e=Object(Ze.a)((function(){re(-1)})),Se=Object(Ze.a)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),r=le[n],i=(y-x)/10,a=fe.map((function(e){return e.value})),o=a.indexOf(r);switch(e.key){case"Home":t=x;break;case"End":t=y;break;case"PageUp":I&&(t=r+i);break;case"PageDown":I&&(t=r-i);break;case"ArrowRight":case"ArrowUp":t=I?r+I:a[o+1]||a[a.length-1];break;case"ArrowLeft":case"ArrowDown":t=I?r-I:a[o-1]||a[0];break;default:return}if(e.preventDefault(),I&&(t=dr(t,I,x)),t=ur(t,x,y),ue){var s=t;t=hr({values:le,source:oe,newValue:t,index:n}).sort(sr),pr({sliderRef:ye,activeIndex:t.indexOf(s)})}se(t),be(n),k&&k(e,t),E&&E(e,t)})),je=A.useRef(),Ce=N;"rtl"===Y.direction&&"vertical"!==N&&(Ce+="-reverse");var Ae=function(e){var t,n,r=e.finger,i=e.move,a=void 0!==i&&i,o=e.values,s=e.source,u=ye.current.getBoundingClientRect(),c=u.width,l=u.height,f=u.bottom,d=u.left;if(t=0===Ce.indexOf("vertical")?(f-r.y)/l:(r.x-d)/c,-1!==Ce.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,x,y),I)n=dr(n,I,x);else{var h=fe.map((function(e){return e.value}));n=h[cr(h,n)]}n=ur(n,x,y);var p=0;if(ue){var m=n;p=(n=hr({values:o,source:s,newValue:n,index:p=a?je.current:cr(o,n)}).sort(sr)).indexOf(m),je.current=p}return{newValue:n,activeIndex:p}},Te=Object(Ze.a)((function(e){var t=lr(e,Z);if(t){var n=Ae({finger:t,move:!0,values:le,source:oe}),r=n.newValue,i=n.activeIndex;pr({sliderRef:ye,activeIndex:i,setActive:ee}),se(r),k&&k(e,r)}})),Ne=Object(Ze.a)((function(e){var t=lr(e,Z);if(t){var n=Ae({finger:t,values:le,source:oe}).newValue;ee(-1),"touchend"===e.type&&re(-1),E&&E(e,n),Z.current=void 0;var r=Object(Xe.a)(ye.current);r.removeEventListener("mousemove",Te),r.removeEventListener("mouseup",Ne),r.removeEventListener("touchmove",Te),r.removeEventListener("touchend",Ne)}})),Re=Object(Ze.a)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(Z.current=t.identifier);var n=lr(e,Z),r=Ae({finger:n,values:le,source:oe}),i=r.newValue,a=r.activeIndex;pr({sliderRef:ye,activeIndex:a,setActive:ee}),se(i),k&&k(e,i);var o=Object(Xe.a)(ye.current);o.addEventListener("touchmove",Te),o.addEventListener("touchend",Ne)}));A.useEffect((function(){var e=ye.current;e.addEventListener("touchstart",Re);var t=Object(Xe.a)(e);return function(){e.removeEventListener("touchstart",Re),t.removeEventListener("mousemove",Te),t.removeEventListener("mouseup",Ne),t.removeEventListener("touchmove",Te),t.removeEventListener("touchend",Ne)}}),[Ne,Te,Re]);var Me=Object(Ze.a)((function(e){_&&_(e),e.preventDefault();var t=lr(e,Z),n=Ae({finger:t,values:le,source:oe}),r=n.newValue,i=n.activeIndex;pr({sliderRef:ye,activeIndex:i,setActive:ee}),se(r),k&&k(e,r);var a=Object(Xe.a)(ye.current);a.addEventListener("mousemove",Te),a.addEventListener("mouseup",Ne)})),De=fr(ue?le[0]:x,x,y),Ie=fr(le[le.length-1],x,y)-De,Fe=Object(j.a)({},mr[Ce].offset(De),{},mr[Ce].leap(Ie));return A.createElement(l,Object(j.a)({ref:xe,className:Object(T.a)(a.root,a["color".concat(Object(P.a)(u))],o,h&&a.disabled,fe.length>0&&fe.some((function(e){return e.label}))&&a.marked,!1===B&&a.trackFalse,"vertical"===N&&a.vertical,"inverted"===B&&a.trackInverted),onMouseDown:Me},X),A.createElement("span",{className:a.rail}),A.createElement("span",{className:a.track,style:Fe}),A.createElement("input",{value:le.join(","),name:O,type:"hidden"}),fe.map((function(e,t){var n,r=fr(e.value,x,y),i=mr[Ce].offset(r);return n=!1===B?-1!==le.indexOf(e.value):"normal"===B&&(ue?e.value>=le[0]&&e.value<=le[le.length-1]:e.value<=le[0])||"inverted"===B&&(ue?e.value<=le[0]||e.value>=le[le.length-1]:e.value>=le[0]),A.createElement(A.Fragment,{key:e.value},A.createElement("span",{style:i,"data-index":t,className:Object(T.a)(a.mark,n&&a.markActive)}),null!=e.label?A.createElement("span",{"aria-hidden":!0,"data-index":t,style:i,className:Object(T.a)(a.markLabel,n&&a.markLabelActive)},e.label):null)})),le.map((function(e,t){var o=fr(e,x,y),s=mr[Ce].offset(o);return A.createElement(V,{key:t,valueLabelFormat:K,valueLabelDisplay:G,className:a.valueLabel,value:"function"===typeof K?K(M(e),t):K,index:t,open:ne===t||Q===t||"on"===G,disabled:h},A.createElement(z,{className:Object(T.a)(a.thumb,a["thumbColor".concat(Object(P.a)(u))],Q===t&&a.active,h&&a.disabled,ge===t&&a.focusVisible),tabIndex:h?null:0,role:"slider",style:s,"data-index":t,"aria-label":p?p(t):n,"aria-labelledby":r,"aria-orientation":N,"aria-valuemax":M(y),"aria-valuemin":M(x),"aria-valuenow":M(e),"aria-valuetext":m?m(M(e),t):i,onKeyDown:Se,onFocus:Oe,onBlur:ke,onMouseOver:Ee,onMouseLeave:_e}))})))})),br=Object(N.a)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?Object(xe.i)(e.palette.primary.main,.62):Object(xe.a)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(xe.d)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(xe.d)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(xe.d)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(xe.d)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:Object(j.a)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(gr),yr=n(56),wr=A.forwardRef((function(e,t){var n=e.action,r=e.classes,i=e.className,a=e.message,o=e.role,s=void 0===o?"alert":o,u=Object(C.a)(e,["action","classes","className","message","role"]);return A.createElement(Ae.a,Object(j.a)({role:s,square:!0,elevation:6,className:Object(T.a)(r.root,i),ref:t},u),A.createElement("div",{className:r.message},a),n?A.createElement("div",{className:r.action},n):null)})),xr=Object(N.a)((function(e){var t="light"===e.palette.type?.8:.98,n=Object(xe.c)(e.palette.background.default,t);return{root:Object(j.a)({},e.typography.body2,Object(X.a)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(wr),Or=A.forwardRef((function(e,t){var n=e.action,r=e.anchorOrigin,i=(r=void 0===r?{vertical:"bottom",horizontal:"center"}:r).vertical,a=r.horizontal,o=e.autoHideDuration,s=void 0===o?null:o,u=e.children,c=e.classes,l=e.className,f=e.ClickAwayListenerProps,d=e.ContentProps,h=e.disableWindowBlurListener,p=void 0!==h&&h,m=e.message,v=e.onClose,g=e.onEnter,b=e.onEntered,y=e.onEntering,w=e.onExit,x=e.onExited,O=e.onExiting,k=e.onMouseEnter,E=e.onMouseLeave,_=e.open,S=e.resumeHideDuration,N=e.TransitionComponent,R=void 0===N?on.a:N,M=e.transitionDuration,D=void 0===M?{enter:tt.b.enteringScreen,exit:tt.b.leavingScreen}:M,I=e.TransitionProps,F=Object(C.a)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),z=A.useRef(),L=A.useState(!0),B=L[0],U=L[1],W=Object(Ze.a)((function(){v&&v.apply(void 0,arguments)})),V=Object(Ze.a)((function(e){v&&null!=e&&(clearTimeout(z.current),z.current=setTimeout((function(){W(null,"timeout")}),e))}));A.useEffect((function(){return _&&V(s),function(){clearTimeout(z.current)}}),[_,s,V]);var q=function(){clearTimeout(z.current)},H=A.useCallback((function(){null!=s&&V(null!=S?S:.5*s)}),[s,S,V]);return A.useEffect((function(){if(!p&&_)return window.addEventListener("focus",H),window.addEventListener("blur",q),function(){window.removeEventListener("focus",H),window.removeEventListener("blur",q)}}),[p,H,_]),!_&&B?null:A.createElement(Qe,Object(j.a)({onClickAway:function(e){v&&v(e,"clickaway")}},f),A.createElement("div",Object(j.a)({className:Object(T.a)(c.root,c["anchorOrigin".concat(Object(P.a)(i)).concat(Object(P.a)(a))],l),onMouseEnter:function(e){k&&k(e),q()},onMouseLeave:function(e){E&&E(e),H()},ref:t},F),A.createElement(R,Object(j.a)({appear:!0,in:_,onEnter:Object(yr.a)((function(){U(!1)}),g),onEntered:b,onEntering:y,onExit:w,onExited:Object(yr.a)((function(){U(!0)}),x),onExiting:O,timeout:D,direction:"top"===i?"down":"up"},I),u||A.createElement(xr,Object(j.a)({message:m,action:n},d)))))})),kr=Object(N.a)((function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},i={justifyContent:"flex-start"},a={top:24},o={bottom:24},s={right:24},u={left:24},c={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(j.a)({},t,Object(X.a)({},e.breakpoints.up("sm"),Object(j.a)({},a,{},c))),anchorOriginBottomCenter:Object(j.a)({},n,Object(X.a)({},e.breakpoints.up("sm"),Object(j.a)({},o,{},c))),anchorOriginTopRight:Object(j.a)({},t,{},r,Object(X.a)({},e.breakpoints.up("sm"),Object(j.a)({left:"auto"},a,{},s))),anchorOriginBottomRight:Object(j.a)({},n,{},r,Object(X.a)({},e.breakpoints.up("sm"),Object(j.a)({left:"auto"},o,{},s))),anchorOriginTopLeft:Object(j.a)({},t,{},i,Object(X.a)({},e.breakpoints.up("sm"),Object(j.a)({right:"auto"},a,{},u))),anchorOriginBottomLeft:Object(j.a)({},n,{},i,Object(X.a)({},e.breakpoints.up("sm"),Object(j.a)({right:"auto"},o,{},u)))}}),{flip:!1,name:"MuiSnackbar"})(Or),Er=A.forwardRef((function(e,t){var n=e.active,r=void 0!==n&&n,i=e.alternativeLabel,a=e.children,o=e.classes,s=e.className,u=e.completed,c=void 0!==u&&u,l=e.connector,f=e.disabled,d=void 0!==f&&f,h=e.expanded,p=void 0!==h&&h,m=e.index,v=e.last,g=e.orientation,b=Object(C.a)(e,["active","alternativeLabel","children","classes","className","completed","connector","disabled","expanded","index","last","orientation"]);return A.createElement("div",Object(j.a)({className:Object(T.a)(o.root,o[g],s,i&&o.alternativeLabel,c&&o.completed),ref:t},b),l&&i&&0!==m&&A.cloneElement(l,{orientation:g,alternativeLabel:i,index:m,active:r,completed:c,disabled:d}),A.Children.map(a,(function(e){return A.isValidElement(e)?A.cloneElement(e,Object(j.a)({active:r,alternativeLabel:i,completed:c,disabled:d,expanded:p,last:v,icon:m+1,orientation:g},e.props)):null})))})),_r=Object(N.a)({root:{},horizontal:{paddingLeft:8,paddingRight:8},vertical:{},alternativeLabel:{flex:1,position:"relative"},completed:{}},{name:"MuiStep"})(Er),Sr=Object(R.a)(A.createElement("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),jr=Object(R.a)(A.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning"),Cr=n(223),Ar=A.createElement("circle",{cx:"12",cy:"12",r:"12"}),Tr=A.forwardRef((function(e,t){var n=e.completed,r=void 0!==n&&n,i=e.icon,a=e.active,o=void 0!==a&&a,s=e.error,u=void 0!==s&&s,c=e.classes;if("number"===typeof i||"string"===typeof i){var l=Object(T.a)(c.root,o&&c.active,u&&c.error,r&&c.completed);return u?A.createElement(jr,{className:l,ref:t}):r?A.createElement(Sr,{className:l,ref:t}):A.createElement(Cr.a,{className:l,ref:t},Ar,A.createElement("text",{className:c.text,x:"12",y:"16",textAnchor:"middle"},i))}return i})),Nr=Object(N.a)((function(e){return{root:{display:"block",color:e.palette.text.disabled,"&$completed":{color:e.palette.primary.main},"&$active":{color:e.palette.primary.main},"&$error":{color:e.palette.error.main}},text:{fill:e.palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily},active:{},completed:{},error:{}}}),{name:"MuiStepIcon"})(Tr),Rr=A.forwardRef((function(e,t){var n=e.active,r=void 0!==n&&n,i=e.alternativeLabel,a=void 0!==i&&i,o=e.children,s=e.classes,u=e.className,c=e.completed,l=void 0!==c&&c,f=e.disabled,d=void 0!==f&&f,h=e.error,p=void 0!==h&&h,m=(e.expanded,e.icon),v=(e.last,e.optional),g=e.orientation,b=void 0===g?"horizontal":g,y=e.StepIconComponent,w=e.StepIconProps,x=Object(C.a)(e,["active","alternativeLabel","children","classes","className","completed","disabled","error","expanded","icon","last","optional","orientation","StepIconComponent","StepIconProps"]),O=y;return m&&!O&&(O=Nr),A.createElement("span",Object(j.a)({className:Object(T.a)(s.root,s[b],u,d&&s.disabled,a&&s.alternativeLabel,p&&s.error),ref:t},x),m||O?A.createElement("span",{className:Object(T.a)(s.iconContainer,a&&s.alternativeLabel)},A.createElement(O,Object(j.a)({completed:l,active:r,error:p,icon:m},w))):null,A.createElement("span",{className:s.labelContainer},A.createElement(we.a,{variant:"body2",component:"span",className:Object(T.a)(s.label,a&&s.alternativeLabel,l&&s.completed,r&&s.active,p&&s.error),display:"block"},o),v))}));Rr.muiName="StepLabel";var Mr=Object(N.a)((function(e){return{root:{display:"flex",alignItems:"center","&$alternativeLabel":{flexDirection:"column"},"&$disabled":{cursor:"default"}},horizontal:{},vertical:{},label:{color:e.palette.text.secondary,"&$active":{color:e.palette.text.primary,fontWeight:500},"&$completed":{color:e.palette.text.primary,fontWeight:500},"&$alternativeLabel":{textAlign:"center",marginTop:16},"&$error":{color:e.palette.error.main}},active:{},completed:{},error:{},disabled:{},iconContainer:{flexShrink:0,display:"flex",paddingRight:8,"&$alternativeLabel":{paddingRight:0}},alternativeLabel:{},labelContainer:{width:"100%"}}}),{name:"MuiStepLabel"})(Rr),Dr=A.forwardRef((function(e,t){var n=e.active,r=e.alternativeLabel,i=e.children,a=e.classes,o=e.className,s=e.completed,u=e.disabled,c=(e.expanded,e.icon),l=(e.last,e.optional),f=e.orientation,d=Object(C.a)(e,["active","alternativeLabel","children","classes","className","completed","disabled","expanded","icon","last","optional","orientation"]),h={active:n,alternativeLabel:r,completed:s,disabled:u,icon:c,optional:l,orientation:f},p=Object(Qt.a)(i,["StepLabel"])?A.cloneElement(i,h):A.createElement(Mr,h,i);return A.createElement(W.a,Object(j.a)({disabled:u,TouchRippleProps:{className:a.touchRipple},className:Object(T.a)(a.root,a[f],o),ref:t},d),p)})),Ir=Object(N.a)({root:{width:"100%",padding:"24px 16px",margin:"-24px -16px",boxSizing:"content-box"},horizontal:{},vertical:{justifyContent:"flex-start",padding:"8px",margin:"-8px"},touchRipple:{color:"rgba(0, 0, 0, 0.3)"}},{name:"MuiStepButton"})(Dr),Fr=A.forwardRef((function(e,t){var n=e.active,r=e.alternativeLabel,i=void 0!==r&&r,a=e.classes,o=e.className,s=e.completed,u=e.disabled,c=(e.index,e.orientation),l=void 0===c?"horizontal":c,f=Object(C.a)(e,["active","alternativeLabel","classes","className","completed","disabled","index","orientation"]);return A.createElement("div",Object(j.a)({className:Object(T.a)(a.root,a[l],o,i&&a.alternativeLabel,n&&a.active,s&&a.completed,u&&a.disabled),ref:t},f),A.createElement("span",{className:Object(T.a)(a.line,{horizontal:a.lineHorizontal,vertical:a.lineVertical}[l])}))})),Pr=Object(N.a)((function(e){return{root:{flex:"1 1 auto"},horizontal:{},vertical:{marginLeft:12,padding:"0 0 8px"},alternativeLabel:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"},active:{},completed:{},disabled:{},line:{display:"block",borderColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},lineHorizontal:{borderTopStyle:"solid",borderTopWidth:1},lineVertical:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}}),{name:"MuiStepConnector"})(Fr),zr=A.forwardRef((function(e,t){var n=e.active,r=(e.alternativeLabel,e.children),i=e.classes,a=e.className,o=(e.completed,e.expanded),s=e.last,u=(e.optional,e.orientation,e.TransitionComponent),c=void 0===u?at:u,l=e.transitionDuration,f=void 0===l?"auto":l,d=e.TransitionProps,h=Object(C.a)(e,["active","alternativeLabel","children","classes","className","completed","expanded","last","optional","orientation","TransitionComponent","transitionDuration","TransitionProps"]);var p=f;return"auto"!==f||c.muiSupportAuto||(p=void 0),A.createElement("div",Object(j.a)({className:Object(T.a)(i.root,a,s&&i.last),ref:t},h),A.createElement(c,Object(j.a)({in:n||o,className:i.transition,timeout:p,unmountOnExit:!0},d),r))})),Lr=Object(N.a)((function(e){return{root:{marginTop:8,marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:"1px solid ".concat("light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600])},last:{borderLeft:"none"},transition:{}}}),{name:"MuiStepContent"})(zr),Br=A.createElement(Pr,null),Ur=A.forwardRef((function(e,t){var n=e.activeStep,r=void 0===n?0:n,i=e.alternativeLabel,a=void 0!==i&&i,o=e.children,s=e.classes,u=e.className,c=e.connector,l=void 0===c?Br:c,f=e.nonLinear,d=void 0!==f&&f,h=e.orientation,p=void 0===h?"horizontal":h,m=Object(C.a)(e,["activeStep","alternativeLabel","children","classes","className","connector","nonLinear","orientation"]),v=A.isValidElement(l)?A.cloneElement(l,{orientation:p}):null,g=A.Children.toArray(o),b=g.map((function(e,t){var n={alternativeLabel:a,connector:l,last:t+1===g.length,orientation:p},i={index:t,active:!1,completed:!1,disabled:!1};return r===t?i.active=!0:!d&&r>t?i.completed=!0:!d&&r<t&&(i.disabled=!0),[!a&&v&&0!==t&&A.cloneElement(v,Object(j.a)({key:t},i)),A.cloneElement(e,Object(j.a)({},n,{},i,{},e.props))]}));return A.createElement(Ae.a,Object(j.a)({square:!0,elevation:0,className:Object(T.a)(s.root,s[p],u,a&&s.alternativeLabel),ref:t},m),b)})),Wr=Object(N.a)({root:{display:"flex",padding:24},horizontal:{flexDirection:"row",alignItems:"center"},vertical:{flexDirection:"column"},alternativeLabel:{alignItems:"flex-start"}},{name:"MuiStepper"})(Ur),Vr=n(444),qr=A.forwardRef((function(e,t){var n=e.anchor,r=e.classes,i=e.className,a=e.width,o=Object(C.a)(e,["anchor","classes","className","width"]);return A.createElement("div",Object(j.a)({className:Object(T.a)(r.root,r["anchor".concat(Object(P.a)(n))],i),ref:t,style:Object(X.a)({},Object(kt.c)(n)?"width":"height",a)},o))})),Hr=Object(N.a)((function(e){return{root:{position:"fixed",top:0,left:0,bottom:0,zIndex:e.zIndex.drawer-1},anchorLeft:{right:"auto"},anchorRight:{left:"auto",right:0},anchorTop:{bottom:"auto",right:0},anchorBottom:{top:"auto",bottom:0,right:0}}}),{name:"PrivateSwipeArea"})(qr),Gr=null;function $r(e,t){return"right"===e?document.body.offsetWidth-t[0].pageX:t[0].pageX}function Kr(e,t){return"bottom"===e?window.innerHeight-t[0].clientY:t[0].clientY}function Xr(e,t){return e?t.clientWidth:t.clientHeight}function Yr(e,t,n,r){return Math.min(Math.max(n?t-e:r+t-e,0),r)}var Zr,Jr="undefined"!==typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),Qr={enter:tt.b.enteringScreen,exit:tt.b.leavingScreen},ei="undefined"!==typeof window?A.useLayoutEffect:A.useEffect,ti=A.forwardRef((function(e,t){var n=Object(rt.a)(),r=Object(Vr.a)({name:"MuiSwipeableDrawer",props:Object(j.a)({},e),theme:n}),i=r.anchor,a=void 0===i?"left":i,o=r.disableBackdropTransition,s=void 0!==o&&o,u=r.disableDiscovery,c=void 0!==u&&u,l=r.disableSwipeToOpen,f=void 0===l?Jr:l,d=r.hideBackdrop,h=r.hysteresis,p=void 0===h?.52:h,m=r.minFlingVelocity,v=void 0===m?450:m,g=r.ModalProps,b=(g=void 0===g?{}:g).BackdropProps,y=Object(C.a)(g,["BackdropProps"]),w=r.onClose,x=r.onOpen,O=r.open,k=r.PaperProps,E=void 0===k?{}:k,_=r.SwipeAreaProps,S=r.swipeAreaWidth,T=void 0===S?20:S,N=r.transitionDuration,R=void 0===N?Qr:N,M=r.variant,D=void 0===M?"temporary":M,I=Object(C.a)(r,["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"]),F=A.useState(!1),P=F[0],z=F[1],L=A.useRef({isSwiping:null}),B=A.useRef(),U=A.useRef(),W=A.useRef(),V=A.useRef(!1),q=A.useRef();ei((function(){q.current=null}),[O]);var H=A.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.mode,i=void 0===r?null:r,o=t.changeTransition,u=void 0===o||o,c=Object(kt.b)(n,a),l=-1!==["right","bottom"].indexOf(c)?1:-1,f=Object(kt.c)(a),h=f?"translate(".concat(l*e,"px, 0)"):"translate(0, ".concat(l*e,"px)"),p=W.current.style;p.webkitTransform=h,p.transform=h;var m="";if(i&&(m=n.transitions.create("all",Object(nt.a)({timeout:R},{mode:i}))),u&&(p.webkitTransition=m,p.transition=m),!s&&!d){var v=U.current.style;v.opacity=1-e/Xr(f,W.current),u&&(v.webkitTransition=m,v.transition=m)}}),[a,s,d,n,R]),G=Object(Ze.a)((function(e){if(V.current)if(Gr=null,V.current=!1,z(!1),L.current.isSwiping){L.current.isSwiping=null;var t,r=Object(kt.b)(n,a),i=Object(kt.c)(a);t=i?$r(r,e.changedTouches):Kr(r,e.changedTouches);var o=i?L.current.startX:L.current.startY,s=Xr(i,W.current),u=Yr(t,o,O,s),c=u/s;Math.abs(L.current.velocity)>v&&(q.current=1e3*Math.abs((s-u)/L.current.velocity)),O?L.current.velocity>v||c>p?w():H(0,{mode:"exit"}):L.current.velocity<-v||1-c>p?x():H(Xr(i,W.current),{mode:"enter"})}else L.current.isSwiping=null})),$=Object(Ze.a)((function(e){if(W.current&&V.current&&(null==Gr||Gr===L.current)){var t=Object(kt.b)(n,a),r=Object(kt.c)(a),i=$r(t,e.touches),o=Kr(t,e.touches);if(O&&W.current.contains(e.target)&&null==Gr){var s=function(e){var t=e.domTreeShapes,n=e.start,r=e.current,i=e.anchor,a={x:"scrollLeft",y:"scrollTop"},o={x:"scrollWidth",y:"scrollHeight"},s={x:"clientWidth",y:"clientHeight"};return t.some((function(e){var t=r>=n;"top"!==i&&"left"!==i||(t=!t);var u="left"===i||"right"===i?"x":"y",c=e[a[u]],l=c>0,f=c+e[s[u]]<e[o[u]];return t&&f||!t&&l?e:null}))}({domTreeShapes:function(e,t){for(var n=[];e&&e!==t;){var r=window.getComputedStyle(e);"absolute"===r.getPropertyValue("position")||"hidden"===r.getPropertyValue("overflow-x")?n=[]:(e.clientWidth>0&&e.scrollWidth>e.clientWidth||e.clientHeight>0&&e.scrollHeight>e.clientHeight)&&n.push(e),e=e.parentElement}return n}(e.target,W.current),start:r?L.current.startX:L.current.startY,current:r?i:o,anchor:a});if(s)return void(Gr=s);Gr=L.current}if(null==L.current.isSwiping){var u=Math.abs(i-L.current.startX),l=Math.abs(o-L.current.startY);u>l&&e.cancelable&&e.preventDefault();var f=r?u>l&&u>3:l>u&&l>3;if(!0===f||(r?l>3:u>3)){if(L.current.isSwiping=f,!f)return void G(e);L.current.startX=i,L.current.startY=o,c||O||(r?L.current.startX-=T:L.current.startY-=T)}}if(L.current.isSwiping){var d=Xr(r,W.current),h=r?L.current.startX:L.current.startY;O&&!L.current.paperHit&&(h=Math.min(h,d));var p=Yr(r?i:o,h,O,d);if(O)if(L.current.paperHit)0===p&&(L.current.startX=i,L.current.startY=o);else{if(!(r?i<d:o<d))return;L.current.paperHit=!0,L.current.startX=i,L.current.startY=o}null===L.current.lastTranslate&&(L.current.lastTranslate=p,L.current.lastTime=performance.now()+1);var m=(p-L.current.lastTranslate)/(performance.now()-L.current.lastTime)*1e3;L.current.velocity=.4*L.current.velocity+.6*m,L.current.lastTranslate=p,L.current.lastTime=performance.now(),e.cancelable&&e.preventDefault(),H(p)}}})),K=Object(Ze.a)((function(e){if(!e.defaultPrevented&&!e.muiHandled&&(!O||U.current.contains(e.target)||W.current.contains(e.target))){var t=Object(kt.b)(n,a),r=Object(kt.c)(a),i=$r(t,e.touches),o=Kr(t,e.touches);if(!O){if(f||e.target!==B.current)return;if(r){if(i>T)return}else if(o>T)return}e.muiHandled=!0,Gr=null,L.current.startX=i,L.current.startY=o,z(!0),!O&&W.current&&H(Xr(r,W.current)+(c?20:-T),{changeTransition:!1}),L.current.velocity=0,L.current.lastTime=null,L.current.lastTranslate=null,L.current.paperHit=!1,V.current=!0}}));A.useEffect((function(){if("temporary"===D){var e=Object(Xe.a)(W.current);return e.addEventListener("touchstart",K),e.addEventListener("touchmove",$,{passive:!1}),e.addEventListener("touchend",G),function(){e.removeEventListener("touchstart",K),e.removeEventListener("touchmove",$,{passive:!1}),e.removeEventListener("touchend",G)}}}),[D,K,$,G]),A.useEffect((function(){return function(){Gr===L.current&&(Gr=null)}}),[]),A.useEffect((function(){O||z(!1)}),[O]);var X=A.useCallback((function(e){U.current=Ke.findDOMNode(e)}),[]);return A.createElement(A.Fragment,null,A.createElement(kt.a,Object(j.a)({open:!("temporary"!==D||!P)||O,variant:D,ModalProps:Object(j.a)({BackdropProps:Object(j.a)({},b,{ref:X})},y),PaperProps:Object(j.a)({},E,{style:Object(j.a)({pointerEvents:"temporary"!==D||O?"":"none"},E.style),ref:W}),anchor:a,transitionDuration:q.current||R,onClose:w,ref:t},I)),!f&&"temporary"===D&&A.createElement(Bn,null,A.createElement(Hr,Object(j.a)({anchor:a,ref:B,width:T},_))))})),ni=n(141),ri=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.color,a=void 0===i?"secondary":i,o=e.edge,s=void 0!==o&&o,u=e.size,c=void 0===u?"medium":u,l=Object(C.a)(e,["classes","className","color","edge","size"]),f=A.createElement("span",{className:n.thumb});return A.createElement("span",{className:Object(T.a)(n.root,r,{start:n.edgeStart,end:n.edgeEnd}[s],"small"===c&&n["size".concat(Object(P.a)(c))])},A.createElement(ni.a,Object(j.a)({type:"checkbox",icon:f,checkedIcon:f,classes:{root:Object(T.a)(n.switchBase,n["color".concat(Object(P.a)(a))]),input:n.input,checked:n.checked,disabled:n.disabled},ref:t},l)),A.createElement("span",{className:n.track}))})),ii=Object(N.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle"},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(xe.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(xe.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(ri),ai=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.disabled,a=void 0!==i&&i,o=e.disableFocusRipple,s=void 0!==o&&o,u=e.fullWidth,c=e.icon,l=e.indicator,f=e.label,d=e.onChange,h=e.onClick,p=e.selected,m=e.textColor,v=void 0===m?"inherit":m,g=e.value,b=e.wrapped,y=void 0!==b&&b,w=Object(C.a)(e,["classes","className","disabled","disableFocusRipple","fullWidth","icon","indicator","label","onChange","onClick","selected","textColor","value","wrapped"]);return A.createElement(W.a,Object(j.a)({focusRipple:!s,className:Object(T.a)(n.root,n["textColor".concat(Object(P.a)(v))],r,a&&n.disabled,p&&n.selected,f&&c&&n.labelIcon,u&&n.fullWidth,y&&n.wrapped),ref:t,role:"tab","aria-selected":p,disabled:a,onClick:function(e){d&&d(e,g),h&&h(e)}},w),A.createElement("span",{className:n.wrapper},c,f),l)})),oi=Object(N.a)((function(e){var t;return{root:Object(j.a)({},e.typography.button,(t={maxWidth:264,minWidth:72,position:"relative",boxSizing:"border-box",minHeight:48,flexShrink:0,padding:"6px 12px"},Object(X.a)(t,e.breakpoints.up("sm"),{padding:"6px 24px"}),Object(X.a)(t,"overflow","hidden"),Object(X.a)(t,"whiteSpace","normal"),Object(X.a)(t,"textAlign","center"),Object(X.a)(t,e.breakpoints.up("sm"),{minWidth:160}),t)),labelIcon:{minHeight:72,paddingTop:9,"& $wrapper > *:first-child":{marginBottom:6}},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.5}},textColorPrimary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled}},textColorSecondary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},wrapped:{fontSize:e.typography.pxToRem(12),lineHeight:1.5},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"}}}),{name:"MuiTab"})(ai),si=n(368),ui=n(369),ci=n(370),li=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.component,a=void 0===i?"div":i,o=Object(C.a)(e,["classes","className","component"]);return A.createElement(a,Object(j.a)({ref:t,className:Object(T.a)(n.root,r)},o))})),fi=Object(N.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(li),di=n(374),hi=n(372),pi=n(423),mi=n(371),vi=n(422),gi=n(73);function bi(){if(Zr)return Zr;var e=document.createElement("div");return e.appendChild(document.createTextNode("ABCD")),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),Zr="reverse",e.scrollLeft>0?Zr="default":(e.scrollLeft=1,0===e.scrollLeft&&(Zr="negative")),document.body.removeChild(e),Zr}function yi(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;switch(bi()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function wi(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var xi={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Oi(e){var t=e.onChange,n=Object(C.a)(e,["onChange"]),r=A.useRef(),i=A.useRef(null),a=function(){r.current=i.current.offsetHeight-i.current.clientHeight};return A.useEffect((function(){var e=Object(Jt.a)((function(){var e=r.current;a(),e!==r.current&&t(r.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[t]),A.useEffect((function(){a(),t(r.current)}),[t]),A.createElement("div",Object(j.a)({style:xi,ref:i},n))}var ki=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.color,a=e.orientation,o=Object(C.a)(e,["classes","className","color","orientation"]);return A.createElement("span",Object(j.a)({className:Object(T.a)(n.root,n["color".concat(Object(P.a)(i))],r,"vertical"===a&&n.vertical),ref:t},o))})),Ei=Object(N.a)((function(e){return{root:{position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},colorPrimary:{backgroundColor:e.palette.primary.main},colorSecondary:{backgroundColor:e.palette.secondary.main},vertical:{height:"100%",width:2,right:0}}}),{name:"PrivateTabIndicator"})(ki),_i=n(167),Si=n(166),ji=A.createElement(_i.a,{fontSize:"small"}),Ci=A.createElement(Si.a,{fontSize:"small"}),Ai=A.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.direction,a=e.orientation,o=e.visible,s=Object(C.a)(e,["classes","className","direction","orientation","visible"]),u=Object(T.a)(n.root,r,"vertical"===a&&n.vertical);return o?A.createElement(W.a,Object(j.a)({component:"div",className:u,ref:t,role:null,tabIndex:null},s),"left"===i?ji:Ci):A.createElement("div",{className:u})})),Ti=Object(N.a)({root:{width:40,flexShrink:0},vertical:{width:"100%",height:40,"& svg":{transform:"rotate(90deg)"}}},{name:"PrivateTabScrollButton"})(Ai),Ni=A.forwardRef((function(e,t){var n=e.action,r=e.centered,i=void 0!==r&&r,a=e.children,o=e.classes,s=e.className,u=e.component,c=void 0===u?"div":u,l=e.indicatorColor,f=void 0===l?"secondary":l,d=e.onChange,h=e.orientation,p=void 0===h?"horizontal":h,m=e.ScrollButtonComponent,v=void 0===m?Ti:m,g=e.scrollButtons,b=void 0===g?"auto":g,y=e.TabIndicatorProps,w=void 0===y?{}:y,x=e.textColor,O=void 0===x?"inherit":x,k=e.value,E=e.variant,_=void 0===E?"standard":E,S=Object(C.a)(e,["action","centered","children","classes","className","component","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","TabIndicatorProps","textColor","value","variant"]),N=Object(rt.a)(),R="scrollable"===_,M="rtl"===N.direction,D="vertical"===p,I=D?"scrollTop":"scrollLeft",F=D?"top":"left",P=D?"bottom":"right",z=D?"clientHeight":"clientWidth",L=D?"height":"width";var B=A.useState(!1),U=B[0],W=B[1],V=A.useState({}),q=V[0],H=V[1],G=A.useState({start:!1,end:!1}),$=G[0],K=G[1],Y=A.useState({overflow:"hidden",marginBottom:null}),Z=Y[0],J=Y[1],Q=new Map,ee=A.useRef(null),te=A.useRef(null),ne=function(){var e,t,n=ee.current;if(n){var r=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:yi(n,N.direction),scrollWidth:n.scrollWidth,top:r.top,bottom:r.bottom,left:r.left,right:r.right}}if(n&&!1!==k){var i=te.current.children;if(i.length>0){var a=i[Q.get(k)];0,t=a?a.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},re=Object(Ze.a)((function(){var e,t=ne(),n=t.tabsMeta,r=t.tabMeta,i=0;if(r&&n)if(D)i=r.top-n.top+n.scrollTop;else{var a=M?n.scrollLeftNormalized+n.clientWidth-n.scrollWidth:n.scrollLeft;i=r.left-n.left+a}var o=(e={},Object(X.a)(e,F,i),Object(X.a)(e,L,r?r[L]:0),e);if(isNaN(q[F])||isNaN(q[L]))H(o);else{var s=Math.abs(q[F]-o[F]),u=Math.abs(q[L]-o[L]);(s>=1||u>=1)&&H(o)}})),ie=function(e){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},a=r.ease,o=void 0===a?wi:a,s=r.duration,u=void 0===s?300:s,c=null,l=t[e],f=!1,d=function(){f=!0},h=function r(a){if(f)i(new Error("Animation cancelled"));else{null===c&&(c=a);var s=Math.min(1,(a-c)/u);t[e]=o(s)*(n-l)+l,s>=1?requestAnimationFrame((function(){i(null)})):requestAnimationFrame(r)}};l===n?i(new Error("Element already at target position")):requestAnimationFrame(h)}(I,ee.current,e)},ae=function(e){var t=ee.current[I];D?t+=e:(t+=e*(M?-1:1),t*=M&&"reverse"===bi()?-1:1),ie(t)},oe=function(){ae(-ee.current[z])},se=function(){ae(ee.current[z])},ue=A.useCallback((function(e){J({overflow:null,marginBottom:-e})}),[]),ce=Object(Ze.a)((function(){var e=ne(),t=e.tabsMeta,n=e.tabMeta;if(n&&t)if(n[F]<t[F]){var r=t[I]+(n[F]-t[F]);ie(r)}else if(n[P]>t[P]){var i=t[I]+(n[P]-t[P]);ie(i)}})),le=Object(Ze.a)((function(){if(R&&"off"!==b){var e,t,n=ee.current,r=n.scrollTop,i=n.scrollHeight,a=n.clientHeight,o=n.scrollWidth,s=n.clientWidth;if(D)e=r>1,t=r<i-a-1;else{var u=yi(ee.current,N.direction);e=M?u<o-s-1:u>1,t=M?u>1:u<o-s-1}e===$.start&&t===$.end||K({start:e,end:t})}}));A.useEffect((function(){var e=Object(Jt.a)((function(){re(),le()})),t=Object(gi.a)(ee.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}),[re,le]);var fe=A.useCallback(Object(Jt.a)((function(){le()})));A.useEffect((function(){return function(){fe.clear()}}),[fe]),A.useEffect((function(){W(!0)}),[]),A.useEffect((function(){re(),le()})),A.useEffect((function(){ce()}),[ce,q]),A.useImperativeHandle(n,(function(){return{updateIndicator:re,updateScrollButtons:le}}),[re,le]);var de=A.createElement(Ei,Object(j.a)({className:o.indicator,orientation:p,color:f},w,{style:Object(j.a)({},q,{},w.style)})),he=0,pe=A.Children.map(a,(function(e){if(!A.isValidElement(e))return null;var t=void 0===e.props.value?he:e.props.value;Q.set(t,he);var n=t===k;return he+=1,A.cloneElement(e,{fullWidth:"fullWidth"===_,indicator:n&&!U&&de,selected:n,onChange:d,textColor:O,value:t})})),me=function(){var e={};e.scrollbarSizeListener=R?A.createElement(Oi,{className:o.scrollable,onChange:ue}):null;var t=$.start||$.end,n=R&&("auto"===b&&t||"desktop"===b||"on"===b);return e.scrollButtonStart=n?A.createElement(v,{orientation:p,direction:M?"right":"left",onClick:oe,visible:$.start,className:Object(T.a)(o.scrollButtons,"on"!==b&&o.scrollButtonsDesktop)}):null,e.scrollButtonEnd=n?A.createElement(v,{orientation:p,direction:M?"left":"right",onClick:se,visible:$.end,className:Object(T.a)(o.scrollButtons,"on"!==b&&o.scrollButtonsDesktop)}):null,e}();return A.createElement(c,Object(j.a)({className:Object(T.a)(o.root,s,D&&o.vertical),ref:t},S),me.scrollButtonStart,me.scrollbarSizeListener,A.createElement("div",{className:Object(T.a)(o.scroller,R?o.scrollable:o.fixed),style:Z,ref:ee,onScroll:fe},A.createElement("div",{className:Object(T.a)(o.flexContainer,D&&o.flexContainerVertical,i&&!R&&o.centered),ref:te,role:"tablist"},pe),U&&de),me.scrollButtonEnd)})),Ri=Object(N.a)((function(e){return{root:{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},vertical:{flexDirection:"column"},flexContainer:{display:"flex"},flexContainerVertical:{flexDirection:"column"},centered:{justifyContent:"center"},scroller:{position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},fixed:{overflowX:"hidden",width:"100%"},scrollable:{overflowX:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},scrollButtons:{},scrollButtonsDesktop:Object(X.a)({},e.breakpoints.down("xs"),{display:"none"}),indicator:{}}}),{name:"MuiTabs"})(Ni),Mi=n(379),Di=n(634),Ii=n(352),Fi=n(373),Pi=n(628);function zi(e,t,n){var r,i=n.disableHysteresis,a=void 0!==i&&i,o=n.threshold,s=void 0===o?100:o,u=t.current;return t.current=e?void 0!==(r=e.currentTarget).pageYOffset?r.pageYOffset:r.scrollTop:u,!(!a&&void 0!==u&&t.current<u)&&t.current>s}var Li="undefined"!==typeof window?window:null;function Bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getTrigger,n=void 0===t?zi:t,r=e.target,i=void 0===r?Li:r,a=Object(C.a)(e,["getTrigger","target"]),o=A.useRef(),s=A.useState((function(){return n(null,o,a)})),u=s[0],c=s[1];return A.useEffect((function(){var e=function(e){c(n(e,o,a))};return e(null),i.addEventListener("scroll",e),function(){i.removeEventListener("scroll",e)}}),[i,n,JSON.stringify(a)]),u}var Ui=n(179),Wi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.breakpoint,r=void 0===n?"sm":n;return Object(Ui.a)()((function(e){return A.createElement(t,Object(j.a)({fullScreen:Object(Ui.b)(r,e.width)},e))}))}},Vi=n(152),qi={entering:{transform:"none"},entered:{transform:"none"}},Hi={enter:tt.b.enteringScreen,exit:tt.b.leavingScreen},Gi=A.forwardRef((function(e,t){var n=e.children,r=e.in,i=e.onEnter,a=e.onExit,o=e.style,s=e.timeout,u=void 0===s?Hi:s,c=Object(C.a)(e,["children","in","onEnter","onExit","style","timeout"]),l=Object(rt.a)(),f=Object(Ye.a)(n.ref,t);return A.createElement(et.a,Object(j.a)({appear:!0,in:r,onEnter:function(e,t){Object(nt.b)(e);var n=Object(nt.a)({style:o,timeout:u},{mode:"enter"});e.style.webkitTransition=l.transitions.create("transform",n),e.style.transition=l.transitions.create("transform",n),i&&i(e,t)},onExit:function(e){var t=Object(nt.a)({style:o,timeout:u},{mode:"exit"});e.style.webkitTransition=l.transitions.create("transform",t),e.style.transition=l.transitions.create("transform",t),a&&a(e)},timeout:u},c),(function(e,t){return A.cloneElement(n,Object(j.a)({style:Object(j.a)({transform:"scale(0)",visibility:"exited"!==e||r?void 0:"hidden"},qi[e],{},o,{},n.props.style),ref:f},t))}))}))},function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return a})),n.d(t,"creator",(function(){return r.a})),n.d(t,"local",(function(){return s})),n.d(t,"matcher",(function(){return c.a})),n.d(t,"mouse",(function(){return h})),n.d(t,"namespace",(function(){return p.a})),n.d(t,"namespaces",(function(){return m.a})),n.d(t,"clientPoint",(function(){return d})),n.d(t,"select",(function(){return i.a})),n.d(t,"selectAll",(function(){return g})),n.d(t,"selection",(function(){return v.b})),n.d(t,"selector",(function(){return b.a})),n.d(t,"selectorAll",(function(){return y.a})),n.d(t,"style",(function(){return w.b})),n.d(t,"touch",(function(){return x})),n.d(t,"touches",(function(){return O})),n.d(t,"window",(function(){return k.a})),n.d(t,"event",(function(){return l.c})),n.d(t,"customEvent",(function(){return l.a}));var r=n(92),i=n(202),a=function(e){return Object(i.a)(Object(r.a)(e).call(document.documentElement))},o=0;function s(){return new u}function u(){this._="@"+(++o).toString(36)}u.prototype=s.prototype={constructor:u,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var c=n(204),l=n(107),f=function(){for(var e,t=l.c;e=t.sourceEvent;)t=e;return t},d=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},h=function(e){var t=f();return t.changedTouches&&(t=t.changedTouches[0]),d(e,t)},p=n(129),m=n(95),v=n(79),g=function(e){return"string"===typeof e?new v.a([document.querySelectorAll(e)],[document.documentElement]):new v.a([null==e?[]:e],v.c)},b=n(128),y=n(203),w=n(205),x=function(e,t,n){arguments.length<3&&(n=t,t=f().changedTouches);for(var r,i=0,a=t?t.length:0;i<a;++i)if((r=t[i]).identifier===n)return d(e,r);return null},O=function(e,t){null==t&&(t=f().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=d(e,t[n]);return i},k=n(130)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(141),u=n(29),c=Object(u.a)(a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),l=Object(u.a)(a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),f=n(17),d=Object(u.a)(a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),h=n(14),p=n(7),m=a.createElement(l,null),v=a.createElement(c,null),g=a.createElement(d,null),b=a.forwardRef((function(e,t){var n=e.checkedIcon,u=void 0===n?m:n,c=e.classes,l=e.color,f=void 0===l?"secondary":l,d=e.icon,p=void 0===d?v:d,b=e.indeterminate,y=void 0!==b&&b,w=e.indeterminateIcon,x=void 0===w?g:w,O=e.inputProps,k=e.size,E=void 0===k?"medium":k,_=Object(i.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]);return a.createElement(s.a,Object(r.a)({type:"checkbox",classes:{root:Object(o.a)(c.root,c["color".concat(Object(h.a)(f))],y&&c.indeterminate),checked:c.checked,disabled:c.disabled},color:f,inputProps:Object(r.a)({"data-indeterminate":y},O),icon:a.cloneElement(y?x:p,{fontSize:"small"===E?"small":"default"}),checkedIcon:a.cloneElement(y?x:u,{fontSize:"small"===E?"small":"default"}),ref:t},_))}));t.a=Object(p.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(f.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(f.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(b)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(29),u=Object(s.a)(a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),c=n(7),l=n(17),f=n(21),d=n(14),h=n(295);function p(e){return"Backspace"===e.key||"Delete"===e.key}var m=a.forwardRef((function(e,t){var n=e.avatar,s=e.classes,c=e.className,l=e.clickable,m=e.color,v=void 0===m?"default":m,g=e.component,b=e.deleteIcon,y=e.disabled,w=void 0!==y&&y,x=e.icon,O=e.label,k=e.onClick,E=e.onDelete,_=e.onKeyDown,S=e.onKeyUp,j=e.size,C=void 0===j?"medium":j,A=e.variant,T=void 0===A?"default":A,N=Object(i.a)(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),R=a.useRef(null),M=Object(f.a)(R,t),D=function(e){e.stopPropagation(),E&&E(e)},I=!(!1===l||!k)||l,F="small"===C,P=g||(I?h.a:"div"),z=P===h.a?{component:"div"}:{},L=null;if(E){var B=Object(o.a)("default"!==v&&("default"===T?s["deleteIconColor".concat(Object(d.a)(v))]:s["deleteIconOutlinedColor".concat(Object(d.a)(v))]),F&&s.deleteIconSmall);L=b&&a.isValidElement(b)?a.cloneElement(b,{className:Object(o.a)(b.props.className,s.deleteIcon,B),onClick:D}):a.createElement(u,{className:Object(o.a)(s.deleteIcon,B),onClick:D})}var U=null;n&&a.isValidElement(n)&&(U=a.cloneElement(n,{className:Object(o.a)(s.avatar,n.props.className,F&&s.avatarSmall,"default"!==v&&s["avatarColor".concat(Object(d.a)(v))])}));var W=null;return x&&a.isValidElement(x)&&(W=a.cloneElement(x,{className:Object(o.a)(s.icon,x.props.className,F&&s.iconSmall,"default"!==v&&s["iconColor".concat(Object(d.a)(v))])})),a.createElement(P,Object(r.a)({role:I||E?"button":void 0,className:Object(o.a)(s.root,c,"default"!==v&&[s["color".concat(Object(d.a)(v))],I&&s["clickableColor".concat(Object(d.a)(v))],E&&s["deletableColor".concat(Object(d.a)(v))]],"default"!==T&&[s.outlined,{primary:s.outlinedPrimary,secondary:s.outlinedSecondary}[v]],w&&s.disabled,F&&s.sizeSmall,I&&s.clickable,E&&s.deletable),"aria-disabled":!!w||void 0,tabIndex:I||E?0:void 0,onClick:k,onKeyDown:function(e){e.currentTarget===e.target&&p(e)&&e.preventDefault(),_&&_(e)},onKeyUp:function(e){e.currentTarget===e.target&&(E&&p(e)?E(e):"Escape"===e.key&&R.current&&R.current.blur()),S&&S(e)},ref:M},z,N),U||W,a.createElement("span",{className:Object(o.a)(s.label,F&&s.labelSmall)},O),L)}));t.a=Object(c.a)((function(e){var t="light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],n=Object(l.d)(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(t),backgroundColor:t,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:Object(l.c)(t,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:Object(l.c)(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:Object(l.c)(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:Object(l.c)(t,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:Object(l.c)(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:Object(l.c)(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(l.d)(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(l.d)(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(l.d)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:n,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Object(l.d)(n,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:Object(l.d)(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:Object(l.d)(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:Object(l.d)(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:Object(l.d)(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}}),{name:"MuiChip"})(m)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(29),u=Object(s.a)(a.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),c=n(7),l=n(295),f=n(14),d=a.forwardRef((function(e,t){var n=e.active,s=void 0!==n&&n,c=e.children,d=e.classes,h=e.className,p=e.direction,m=void 0===p?"asc":p,v=e.hideSortIcon,g=void 0!==v&&v,b=e.IconComponent,y=void 0===b?u:b,w=Object(i.a)(e,["active","children","classes","className","direction","hideSortIcon","IconComponent"]);return a.createElement(l.a,Object(r.a)({className:Object(o.a)(d.root,h,s&&d.active),component:"span",disableRipple:!0,ref:t},w),c,g&&!s?null:a.createElement(y,{className:Object(o.a)(d.icon,d["iconDirection".concat(Object(f.a)(m))])}))}));t.a=Object(c.a)((function(e){return{root:{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:e.palette.text.secondary},"&:hover":{color:e.palette.text.secondary,"& $icon":{opacity:.5}},"&$active":{color:e.palette.text.primary,"&& $icon":{opacity:1,color:e.palette.text.secondary}}},active:{},icon:{fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none"},iconDirectionDesc:{transform:"rotate(0deg)"},iconDirectionAsc:{transform:"rotate(180deg)"}}}),{name:"MuiTableSortLabel"})(d)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(445),c=n(375),l=n(290),f=n(370),d=n(352),h=n(114),p=n(167),m=n(166),v=n(25),g=n(284),b=a.createElement(m.a,null),y=a.createElement(p.a,null),w=a.createElement(p.a,null),x=a.createElement(m.a,null),O=a.forwardRef((function(e,t){var n=e.backIconButtonProps,o=e.count,s=e.nextIconButtonProps,u=e.onChangePage,c=e.page,l=e.rowsPerPage,f=Object(i.a)(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","page","rowsPerPage"]),d=Object(v.a)();return a.createElement("div",Object(r.a)({ref:t},f),a.createElement(g.a,Object(r.a)({onClick:function(e){u(e,c-1)},disabled:0===c,color:"inherit"},n),"rtl"===d.direction?b:y),a.createElement(g.a,Object(r.a)({onClick:function(e){u(e,c+1)},disabled:-1!==o&&c>=Math.ceil(o/l)-1,color:"inherit"},s),"rtl"===d.direction?w:x))})),k=function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(-1===n?r:n," of ").concat(-1!==r?r:"more than ".concat(n))},E=[10,25,50,100],_=a.forwardRef((function(e,t){var n,s=e.ActionsComponent,p=void 0===s?O:s,m=e.backIconButtonProps,v=e.backIconButtonText,g=void 0===v?"Previous page":v,b=e.classes,y=e.className,w=e.colSpan,x=e.component,_=void 0===x?f.a:x,S=e.count,j=e.labelDisplayedRows,C=void 0===j?k:j,A=e.labelRowsPerPage,T=void 0===A?"Rows per page:":A,N=e.nextIconButtonProps,R=e.nextIconButtonText,M=void 0===R?"Next page":R,D=e.onChangePage,I=e.onChangeRowsPerPage,F=e.page,P=e.rowsPerPage,z=e.rowsPerPageOptions,L=void 0===z?E:z,B=e.SelectProps,U=void 0===B?{}:B,W=Object(i.a)(e,["ActionsComponent","backIconButtonProps","backIconButtonText","classes","className","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","nextIconButtonText","onChangePage","onChangeRowsPerPage","page","rowsPerPage","rowsPerPageOptions","SelectProps"]);_!==f.a&&"td"!==_||(n=w||1e3);var V=U.native?"option":c.a;return a.createElement(_,Object(r.a)({className:Object(o.a)(b.root,y),colSpan:n,ref:t},W),a.createElement(d.a,{className:b.toolbar},a.createElement("div",{className:b.spacer}),L.length>1&&a.createElement(h.a,{color:"inherit",variant:"body2",className:b.caption},T),L.length>1&&a.createElement(l.a,Object(r.a)({classes:{select:b.select,icon:b.selectIcon},input:a.createElement(u.a,{className:Object(o.a)(b.input,b.selectRoot)}),value:P,onChange:I,inputProps:{"aria-label":T}},U),L.map((function(e){return a.createElement(V,{className:b.menuItem,key:e.value?e.value:e,value:e.value?e.value:e},e.label?e.label:e)}))),a.createElement(h.a,{color:"inherit",variant:"body2",className:b.caption},C({from:0===S?0:F*P+1,to:-1!==S?Math.min(S,(F+1)*P):(F+1)*P,count:S,page:F})),a.createElement(p,{className:b.actions,backIconButtonProps:Object(r.a)({title:g,"aria-label":g},m),count:S,nextIconButtonProps:Object(r.a)({title:M,"aria-label":M},N),onChangePage:D,page:F,rowsPerPage:P})))}));t.a=Object(s.a)((function(e){return{root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),overflow:"auto","&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}}),{name:"MuiTablePagination"})(_)},,function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(42))},,function(e,t,n){"use strict";var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),a=(0,r(n(59)).default)(i.default.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(465),a=(r=i)&&r.__esModule?r:{default:r};t.default=a.default},function(e){e.exports=JSON.parse('{"name":"vega-lite","author":"Dominik Moritz, Kanit \\"Ham\\" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer","version":"4.0.2","collaborators":["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],"homepage":"https://vega.github.io/vega-lite/","description":"Vega-Lite is a concise high-level language for interactive visualization.","main":"build/vega-lite.js","unpkg":"build/vega-lite.min.js","jsdelivr":"build/vega-lite.min.js","module":"build/src/index","types":"build/src/index.d.ts","bin":{"vl2png":"./bin/vl2png","vl2svg":"./bin/vl2svg","vl2vg":"./bin/vl2vg"},"directories":{"test":"test"},"scripts":{"build":"yarn build:only","build:only":"yarn tsc:src && rollup -c","postbuild":"terser build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && yarn schema","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"yarn tsc:site && rollup -c site/rollup.config.js","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh","clean":"find build ! -name \'vega-lite-schema.json\' -type f -delete && rm -rf site/data/* && rm -f examples/compiled/*.png && find site/examples ! -name \'index.md\' ! -name \'data\' -type f -delete","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site","data":"rsync -r node_modules/vega-datasets/data/* site/data","schema":"mkdir -p build && ts-json-schema-generator -c -f tsconfig.json -p src/index.ts -t TopLevelSpec -k deprecated > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/","renameschema":"scripts/rename-schema.sh","presite":"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh","site":"pushd site && bundle exec jekyll serve -I -l && popd","tsc:src":"tsc -b src/tsconfig.src.json","tsc:site":"tsc -b site/tsconfig.site.json","prettierbase":"prettier \'**/*.{md,css,yml}\'","eslintbase":"eslint --ext .ts .","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","test":"jest test/ && yarn lint && yarn schema && jest examples/ && yarn test:runtime","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles jest test-runtime/","test:runtime:generate":"yarn build:only && rm -Rf test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime","watch:build":"yarn build:only && concurrently --kill-others -n Typescript,Rollup \'yarn tsc:src -w\' \'rollup -c -w\'","watch:site":"concurrently --kill-others -n Typescript,Rollup \'yarn tsc:site -w\' \'rollup -c site/rollup.config.js -w\'","watch:test":"jest --watch"},"repository":{"type":"git","url":"https://github.com/vega/vega-lite.git"},"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-lite/issues"},"devDependencies":{"@commitlint/cli":"^8.2.0","@commitlint/config-conventional":"^8.2.0","@types/chai":"^4.2.6","@types/d3":"^5.7.2","@types/highlight.js":"^9.12.3","@types/jest":"^24.0.23","@types/jest-environment-puppeteer":"^4.3.1","@types/mkdirp":"^0.5.2","@types/puppeteer":"^2.0.0","@typescript-eslint/eslint-plugin":"^2.10.0","@typescript-eslint/parser":"^2.10.0","ajv":"^6.10.2","chai":"^4.2.0","cheerio":"^1.0.0-rc.2","codecov":"^3.6.1","concurrently":"^5.0.0","d3":"^5.14.2","eslint":"^6.7.2","eslint-config-prettier":"^6.7.0","eslint-plugin-prettier":"^3.1.1","gh-pages":"^2.1.1","highlight.js":"^9.16.2","http-server":"^0.12.0","husky":"^3.1.0","jest":"^24.9.0","jest-puppeteer":"^4.3.0","lint-staged":"^9.5.0","mkdirp":"^0.5.1","prettier":"^1.19.1","puppeteer":"^2.0.0","rollup":"^1.27.8","rollup-plugin-commonjs":"^10.1.0","rollup-plugin-json":"^4.0.0","rollup-plugin-node-resolve":"^5.2.0","rollup-plugin-sourcemaps":"^0.4.2","rollup-plugin-terser":"^5.1.2","svg2png-many":"^0.0.7","terser":"^4.4.2","ts-jest":"^24.2.0","ts-json-schema-generator":"^0.57.0","typescript":"~3.7.3","vega-cli":"^5.9.0","vega-datasets":"^1.28.0","vega-embed":"^6.2.0","vega-tooltip":"^0.19.1","yaml-front-matter":"^4.0.0"},"dependencies":{"@types/clone":"~0.1.30","@types/fast-json-stable-stringify":"^2.0.0","array-flat-polyfill":"^1.0.1","clone":"~2.1.2","fast-deep-equal":"~3.1.1","fast-json-stable-stringify":"~2.0.0","json-stringify-pretty-compact":"~2.0.0","tslib":"~1.10.0","vega-event-selector":"~2.0.2","vega-expression":"~2.6.3","vega-typings":"~0.12.0","vega-util":"~1.12.1","yargs":"~15.0.2"},"peerDependencies":{"vega":"^5.9.0"},"husky":{"hooks":{"pre-commit":"lint-staged","commit-msg":"commitlint -E HUSKY_GIT_PARAMS"}},"lint-staged":{"*.ts":["eslint --fix","git add"],"*.{md,css,yml}":["prettier --write","git add"]},"jest":{"preset":"jest-puppeteer","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["<rootDir>/node_modules","<rootDir>/build","<rootDir>/_site","<rootDir>/src"],"coverageDirectory":"./coverage/","collectCoverage":false}}')},function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,r,i;try{n=Map}catch(u){n=function(){}}try{r=Set}catch(u){r=function(){}}try{i=Promise}catch(u){i=function(){}}function a(o,u,c,l,f){"object"===typeof u&&(c=u.depth,l=u.prototype,f=u.includeNonEnumerable,u=u.circular);var d=[],h=[],p="undefined"!=typeof t;return"undefined"==typeof u&&(u=!0),"undefined"==typeof c&&(c=1/0),function o(c,m){if(null===c)return null;if(0===m)return c;var v,g;if("object"!=typeof c)return c;if(e(c,n))v=new n;else if(e(c,r))v=new r;else if(e(c,i))v=new i((function(e,t){c.then((function(t){e(o(t,m-1))}),(function(e){t(o(e,m-1))}))}));else if(a.__isArray(c))v=[];else if(a.__isRegExp(c))v=new RegExp(c.source,s(c)),c.lastIndex&&(v.lastIndex=c.lastIndex);else if(a.__isDate(c))v=new Date(c.getTime());else{if(p&&t.isBuffer(c))return v=t.allocUnsafe?t.allocUnsafe(c.length):new t(c.length),c.copy(v),v;e(c,Error)?v=Object.create(c):"undefined"==typeof l?(g=Object.getPrototypeOf(c),v=Object.create(g)):(v=Object.create(l),g=l)}if(u){var b=d.indexOf(c);if(-1!=b)return h[b];d.push(c),h.push(v)}for(var y in e(c,n)&&c.forEach((function(e,t){var n=o(t,m-1),r=o(e,m-1);v.set(n,r)})),e(c,r)&&c.forEach((function(e){var t=o(e,m-1);v.add(t)})),c){var w;g&&(w=Object.getOwnPropertyDescriptor(g,y)),w&&null==w.set||(v[y]=o(c[y],m-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(c);for(y=0;y<x.length;y++){var O=x[y];(!(E=Object.getOwnPropertyDescriptor(c,O))||E.enumerable||f)&&(v[O]=o(c[O],m-1),E.enumerable||Object.defineProperty(v,O,{enumerable:!1}))}}if(f){var k=Object.getOwnPropertyNames(c);for(y=0;y<k.length;y++){var E,_=k[y];(E=Object.getOwnPropertyDescriptor(c,_))&&E.enumerable||(v[_]=o(c[_],m-1),Object.defineProperty(v,_,{enumerable:!1}))}}return v}(o,c)}function o(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=o,a.__isDate=function(e){return"object"===typeof e&&"[object Date]"===o(e)},a.__isArray=function(e){return"object"===typeof e&&"[object Array]"===o(e)},a.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===o(e)},a.__getRegExpFlags=s,a}();e.exports&&(e.exports=n)}).call(this,n(34).Buffer)},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},function(e){e.exports=JSON.parse('{"name":"vega-themes","version":"2.8.3","description":"Themes for stylized Vega and Vega-Lite visualizations.","keywords":["vega","vega-lite","themes","style"],"license":"BSD-3-Clause","author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"contributors":[{"name":"Emily Gu","url":"https://github.com/emilygu"},{"name":"Arvind Satyanarayan","url":"http://arvindsatya.com"},{"name":"Jeffrey Heer","url":"https://idl.cs.washington.edu"},{"name":"Dominik Moritz","url":"https://www.domoritz.de"}],"main":"build/vega-themes.js","module":"build/src/index.js","unpkg":"build/vega-themes.min.js","jsdelivr":"build/vega-themes.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-themes.git"},"scripts":{"prepare":"beemo create-config --silent","clean":"rm -rf build examples/build","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint \'src/**/*.ts\'","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","prebuild":"mkdir -p build","build":"tsc && rollup -c","postbuild":"terser build/vega-themes.js -cm > build/vega-themes.min.js","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","serve":"browser-sync start -s -f build examples --serveStatic examples","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'yarn serve\' \'tsc -w\' \'rollup -c -w\'"},"devDependencies":{"@rollup/plugin-json":"^4.0.2","browser-sync":"^2.26.7","concurrently":"^5.1.0","gh-pages":"^2.2.0","rollup":"^2.1.0","terser":"^4.6.7","typescript":"^3.8.3","vega":"^5.10.0","vega-lite":"^4.8.1","vega-lite-dev-config":"^0.5.0"},"peerDependencies":{"vega":"*","vega-lite":"*"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]}}')},function(e){e.exports=JSON.parse('{"name":"vega-tooltip","version":"0.19.1","description":"A tooltip plugin for Vega-Lite and Vega visualizations.","main":"build/vega-tooltip.js","module":"build/src/index.js","unpkg":"build/vega-tooltip.min.js","jsdelivr":"build/vega-tooltip.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-tooltip.git"},"keywords":["vega-lite","vega","tooltip"],"author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"collaborators":["Dominik Moritz","Sira Horradarn","Zening Qu","Kanit Wongsuphasawat","Yuri Astrakhan","Jeffrey Heer"],"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-tooltip/issues"},"homepage":"https://github.com/vega/vega-tooltip#readme","scripts":{"prepare":"beemo create-config --silent","tsc:src":"tsc -b tsconfig.src.json","build":"yarn tsc:src && rollup -c","clean":"rm -rf build examples/data && rm -f src/style.ts","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && yarn copy:build && gh-pages -d examples && yarn clean","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint \'{src,test,types}/**/*.ts\'","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","postbuild":"terser build/vega-tooltip.js -c -m -o build/vega-tooltip.min.js","prebuild":"mkdir -p build && yarn copy:data && ./build-style.sh","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'browser-sync start -s -f build examples --serveStatic examples\' \'yarn tsc:src -w\' \'rollup -c -w\'","pretest":"./build-style.sh","test":"jest"},"devDependencies":{"@types/jest":"^24.0.18","browser-sync":"^2.26.7","concurrently":"^4.1.2","gh-pages":"^2.1.1","jest":"^24.9.0","node-sass":"^4.12.0","path":"^0.12.7","rollup":"^1.20.3","rollup-plugin-commonjs":"^10.1.0","rollup-plugin-json":"^4.0.0","rollup-plugin-node-resolve":"^5.2.0","terser":"^4.2.1","ts-jest":"^24.0.2","typescript":"^3.6.2","vega-datasets":"^1.25.0","vega-lite-dev-config":"^0.2.5","vega-typings":"^0.8.1"},"dependencies":{"vega-util":"^1.11.1"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]},"jest":{"testURL":"http://localhost/","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["node_modules","<rootDir>/build","src"]}}')},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(39)),a=n(71),o=r(n(186)),s=r(n(528)),u=r(n(529)),c=r(n(530)),l=r(n(531)),f=r(n(532)),d=r(n(533)),h=(r(n(8)),r(n(0))),p=r(n(43)),m=r(n(188)),v=r(n(149)),g=r(n(189)),b=r(n(100)),y=r(n(81)),w=r(n(534)),x=r(n(190)),O=r(n(191)),k=n(26),E=r(n(192)),_=r(n(193)),S=r(n(535)),j=r(n(194)),C=r(n(195)),A=r(n(121)),T=r(n(150)),N=n(418),R=r(n(82)),M=r(n(88)),D=r(n(101)),I=r(n(153)),F=r(n(102)),P=r(n(154)),z=r(n(155)),L=r(n(89)),B=r(n(103)),U=r(n(104)),W=r(n(105)),V=r(n(536)),q=r(n(537)),H=r(n(538)),G=r(n(539)),$=r(n(540)),K=r(n(541)),X=r(n(542)),Y=r(n(543)),Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ee=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},re=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},ie=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},ae=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},oe=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},se=function(e){function t(){var e,n,r;J(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleClick=function(e){var t=r.props,n=t.colIndex,i=t.options,a=t.children,o=t.dataIndex,s=t.rowIndex;i.onCellClick&&i.onCellClick(a,{colIndex:n,rowIndex:s,dataIndex:o,event:e})},ie(r,n)}return ne(t,e),Q(t,[{key:"render",value:function(){var e,t,n=this.props,r=n.children,i=n.classes,a=(n.colIndex,n.columnHeader),o=n.options,u=(n.dataIndex,n.rowIndex,n.className),c=n.print,l=re(n,["children","classes","colIndex","columnHeader","options","dataIndex","rowIndex","className","print"]);return[h.createElement(v,{key:1,className:s((e={},ee(e,i.root,!0),ee(e,i.cellHide,!0),ee(e,i.stackedCommon,"stacked"===o.responsive||"stackedFullWidth"===o.responsive),ee(e,i.cellStackedSmall,"stacked"===o.responsive||"stackedFullWidth"===o.responsive&&("none"===o.setTableProps().padding||"small"===o.setTableProps().size)),ee(e,"datatables-noprint",!c),e),u)},a),h.createElement(v,te({key:2,onClick:this.handleClick,className:s((t={},ee(t,i.root,!0),ee(t,i.stackedCommon,"stacked"===o.responsive||"stackedFullWidth"===o.responsive),ee(t,i.responsiveStackedSmall,"stacked"===o.responsive||"stackedFullWidth"===o.responsive&&("none"===o.setTableProps().padding||"small"===o.setTableProps().size)),ee(t,"datatables-noprint",!c),t),u)},l),r)]}}]),t}(h.Component),ue=a.withStyles((function(e){var t;return{root:{},cellHide:{display:"none"},stackedCommon:ee({},e.breakpoints.down("sm"),(t={display:"inline-block",fontSize:"16px",height:"24px",whiteSpace:"nowrap",width:"calc(50% - 80px)"},ee(t,"whiteSpace","nowrap"),ee(t,"&:last-child",{borderBottom:"none"}),ee(t,"&:nth-last-child(2)",{borderBottom:"none"}),t)),cellStackedSmall:ee({},e.breakpoints.down("sm"),{width:"50%"}),responsiveStackedSmall:ee({},e.breakpoints.down("sm"),{width:"50%"})}}),{name:"MUIDataTableBodyCell"})(se),ce=function(e){function t(){return J(this,t),ie(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ne(t,e),Q(t,[{key:"render",value:function(){var e,t=this.props,n=t.classes,r=t.options,i=t.rowSelected,a=t.onClick,o=t.className,u=re(t,["classes","options","rowSelected","onClick","className"]);return h.createElement(g,te({hover:!!r.rowHover,onClick:a,className:s((e={},ee(e,n.root,!0),ee(e,n.hover,r.rowHover),ee(e,n.hoverCursor,r.selectableRowsOnClick||r.expandableRowsOnClick),ee(e,n.responsiveStacked,"stacked"===r.responsive||"stackedFullWidth"===r.responsive),e),o),selected:i},u),this.props.children)}}]),t}(h.Component),le=a.withStyles((function(e){return{root:{},hover:{},hoverCursor:{cursor:"pointer"},responsiveStacked:ee({},e.breakpoints.down("sm"),{border:"solid 2px rgba(0, 0, 0, 0.15)"})}}),{name:"MUIDataTableBodyRow"})(ce),fe=function(e){function t(){return J(this,t),ie(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ne(t,e),Q(t,[{key:"render",value:function(){var e,t,n=this.props,r=n.classes,i=n.fixedHeader,a=n.fixedHeaderOptions,o=n.isHeaderCell,u=n.expandableOn,c=n.selectableOn,l=n.isRowExpanded,f=n.onExpand,d=n.isRowSelectable,p=n.selectableRowsHeader,m=n.hideExpandButton,g=re(n,["classes","fixedHeader","fixedHeaderOptions","isHeaderCell","expandableOn","selectableOn","isRowExpanded","onExpand","isRowSelectable","selectableRowsHeader","hideExpandButton"]),x=void 0;if(!u&&"none"===c)return!1;i&&(x=r.fixedHeader),a&&(x=r.fixedHeaderCommon,a.xAxis&&(x+=" "+r.fixedHeaderXAxis),a.yAxis&&(x+=" "+r.fixedHeaderYAxis));var O=s((ee(e={},r.root,!0),ee(e,x,!0),ee(e,r.headerCell,o),e)),k=s(ee({},r.expandDisabled,m)),E=s((ee(t={},r.icon,!0),ee(t,r.hide,o),ee(t,r.expanded,l),t));return h.createElement(v,{className:O,padding:"checkbox"},h.createElement("div",{style:{display:"flex",alignItems:"center"}},u&&h.createElement(y,{onClick:f,disabled:o,className:k},h.createElement(w,{id:"expandable-button",className:E})),"none"!==c&&(!o||"multiple"===c&&!1!==p?h.createElement(b,te({classes:{root:r.checkboxRoot,checked:r.checked,disabled:r.disabled},color:"primary",disabled:!d},g)):null)))}}]),t}(h.Component);fe.defaultProps={isHeaderCell:!1,isRowExpanded:!1,expandableOn:!1,selectableOn:"none"};var de=a.withStyles((function(e){return{root:{},fixedHeader:{position:"sticky",top:"0px",left:"0px",zIndex:100},fixedHeaderCommon:{position:"sticky",zIndex:100,backgroundColor:e.palette.background.paper},fixedHeaderXAxis:{left:"0px"},fixedHeaderYAxis:{top:"0px"},icon:{cursor:"pointer",transition:"transform 0.25s"},expanded:{transform:"rotate(90deg)"},hide:{visibility:"hidden"},headerCell:{zIndex:110,backgroundColor:e.palette.background.paper},expandDisabled:{},checkboxRoot:{},checked:{},disabled:{}}}),{name:"MUIDataTableSelectCell"})(fe);function he(e){return e.reduce((function(e,t){return e[t.dataIndex]=!0,e}),{})}function pe(e){return"string"==typeof e?e.replace(/^\+|^\-|^\=|^\@/g,"'$&"):e}function me(e,t,n){var r=e<=t?1:Math.ceil(e/t);return n>=r?r-1:n}function ve(){return Intl?new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}).compare:function(e,t){return e.localeCompare(t)}}function ge(e,t){var n=new Blob([e],{type:"text/csv"});if(navigator&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,t);else{var r="data:text/csv;charset=utf-8,"+e,i=window.URL||window.webkitURL,a=void 0===i.createObjectURL?r:i.createObjectURL(n),o=document.createElement("a");o.setAttribute("href",a),o.setAttribute("download",t),document.body.appendChild(o),o.click(),document.body.removeChild(o)}}function be(e,t,n,r){var i=function(e,t,n){var r=function(e){return"string"==typeof e?e.replace(/\"/g,'""'):e},i=function(e){return e.reduce((function(e,t){return t.download?e+'"'+pe(r(t.label||t.name))+'"'+n.downloadOptions.separator:e}),"").slice(0,-1)+"\r\n"},a=i(e),o=function(t){return t.length?t.reduce((function(t,i){return t+'"'+i.data.filter((function(t,n){return e[n].download})).map((function(e){return pe(r(e))})).join('"'+n.downloadOptions.separator+'"')+'"\r\n'}),"").trim():""},s=o(t);return n.onDownload?n.onDownload(i,o,e,t):(""+a+s).trim()}(e,t,n);n.onDownload&&!1===i||r(i,n.downloadOptions.filename)}var ye=function(e){function t(){var e,n,r;J(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleRowSelect=function(e,t){var n=!(!t||!t.nativeEvent)&&t.nativeEvent.shiftKey,i=[],a=r.props.previousSelectedRow;if(n&&a&&a.index<r.props.data.length){var o=a.index,s=c(r.props.selectedRows),u=r.props.data[e.index].dataIndex;0===s.data.filter((function(e){return e.dataIndex===u})).length&&(s.data.push({index:e.index,dataIndex:u}),s.lookup[u]=!0);for(var l=function(){var t=r.props.data[o].dataIndex;if(r.isRowSelectable(t,s)){var n={index:o,dataIndex:t};0===s.data.filter((function(e){return e.dataIndex===t})).length&&(s.data.push(n),s.lookup[t]=!0),i.push(n)}o=e.index>o?o+1:o-1};o!==e.index;)l()}r.props.selectRowUpdate("cell",e,i)},r.handleRowClick=function(e,t,n){if("expandable-button"===n.target.id||"path"===n.target.nodeName&&"expandable-button"===n.target.parentNode.id)r.props.options.onRowClick&&r.props.options.onRowClick(e,t,n);else if(!n.target.id||!n.target.id.startsWith("MUIDataTableSelectCell")){if(r.props.options.selectableRowsOnClick&&"none"!==r.props.options.selectableRows&&r.isRowSelectable(t.dataIndex,r.props.selectedRows)){var i={index:t.rowIndex,dataIndex:t.dataIndex};r.handleRowSelect(i,n)}if(r.props.options.expandableRowsOnClick&&r.props.options.expandableRows&&r.isRowExpandable(t.dataIndex,r.props.expandedRows)){var a={index:t.rowIndex,dataIndex:t.dataIndex};r.props.toggleExpandRow(a)}r.props.options.selectableRowsOnClick||r.props.options.onRowClick&&r.props.options.onRowClick(e,t,n)}},ie(r,n)}return ne(t,e),Q(t,[{key:"buildRows",value:function(){var e=this.props,t=e.data,n=e.page,r=e.rowsPerPage,i=e.count;if(this.props.options.serverSide)return t.length?t:null;var a=[],o=me(i,r,n),s=0===o?0:o*r,u=Math.min(i,(o+1)*r);n>o&&console.warn("Current page is out of range, using the highest page that is in range instead.");for(var c=s;c<i&&c<u;c++)void 0!==t[c]&&a.push(t[c]);return a.length?a:null}},{key:"getRowIndex",value:function(e){var t=this.props,n=t.page,r=t.rowsPerPage;return t.options.serverSide?e:(0===n?0:n*r)+e}},{key:"isRowSelected",value:function(e){var t=this.props.selectedRows;return!(!t.lookup||!t.lookup[e])}},{key:"isRowExpanded",value:function(e){var t=this.props.expandedRows;return!(!t.lookup||!t.lookup[e])}},{key:"isRowSelectable",value:function(e,t){var n=this.props.options;return t=t||this.props.selectedRows,!n.isRowSelectable||n.isRowSelectable(e,t)}},{key:"isRowExpandable",value:function(e){var t=this.props,n=t.options,r=t.expandedRows;return!n.isRowExpandable||n.isRowExpandable(e,r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.columns,i=t.toggleExpandRow,a=t.options,o=this.buildRows(),s=r.filter((function(e){return"true"===e.display})).length;return h.createElement(m,null,o&&o.length>0?o.map((function(t,n){var o=t.data,s=t.dataIndex;return a.customRowRender?a.customRowRender(o,s,n):h.createElement(h.Fragment,{key:n},h.createElement(le,te({},a.setRowProps?a.setRowProps(o,s):{},{options:a,rowSelected:"none"!==a.selectableRows&&e.isRowSelected(s),onClick:e.handleRowClick.bind(null,o,{rowIndex:n,dataIndex:s}),"data-testid":"MUIDataTableBodyRow-"+s,id:"MUIDataTableBodyRow-"+s}),h.createElement(de,{onChange:e.handleRowSelect.bind(null,{index:e.getRowIndex(n),dataIndex:s}),onExpand:i.bind(null,{index:e.getRowIndex(n),dataIndex:s}),fixedHeader:a.fixedHeader,fixedHeaderOptions:a.fixedHeaderOptions,checked:e.isRowSelected(s),expandableOn:a.expandableRows,hideExpandButton:!e.isRowExpandable(s)&&a.expandableRows,selectableOn:a.selectableRows,isRowExpanded:e.isRowExpanded(s),isRowSelectable:e.isRowSelectable(s),id:"MUIDataTableSelectCell-"+s}),o.map((function(e,t){return"true"===r[t].display&&h.createElement(ue,te({},r[t].setCellProps?r[t].setCellProps(e,s,t):{},{"data-testid":"MuiDataTableBodyCell-"+t+"-"+n,dataIndex:s,rowIndex:n,colIndex:t,columnHeader:r[t].label,print:r[t].print,options:a,key:t}),e)}))),e.isRowExpanded(s)&&a.renderExpandableRow(o,{rowIndex:n,dataIndex:s}))})):h.createElement(le,{options:a},h.createElement(ue,{colSpan:"none"!==a.selectableRows||a.expandableRows?s+1:s,options:a,colIndex:0,rowIndex:0},h.createElement(p,{variant:"subtitle1",className:n.emptyTitle},a.textLabels.body.noMatch))))}}]),t}(h.Component);ye.defaultProps={toggleExpandRow:function(){}};var we=a.withStyles({root:{},emptyTitle:{textAlign:"center"}},{name:"MUIDataTableBody"})(ye),xe=function(e){function t(){return J(this,t),ie(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ne(t,e),Q(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.filterList,r=e.filterUpdate,i=e.filterListRenderers,a=e.columnNames,o=e.serverSideFilterList,s=e.customFilterListUpdate,u=this.props.options.serverSide,c=function(e,n,i,o,u){var c=void 0;return c=u?s[n]?"custom":"chip":a[n].filterType,h.createElement(x,{label:e,key:i,onDelete:r.bind(null,n,o[i]||[],a[n].name,c,s[n]),className:t.chip})};return h.createElement("div",{className:t.root},function(e){return e.map((function(n,o){if("custom"===a[o].filterType&&e[o].length){var s=i[o](n);if(s)return Array.isArray(s)?s.map((function(e,t){return c(e,o,t,n,!0)})):c(s,o,o,n,!1)}return n.map((function(e,n){return function(e,n,o){return h.createElement(x,{label:i[e](n),key:o,onDelete:r.bind(null,e,n,a[e].name,"chip"),className:t.chip})}(o,e,n)}))}))}(u?o:n))}}]),t}(h.Component),Oe=a.withStyles({root:{display:"flex",justifyContent:"left",flexWrap:"wrap",margin:"0px 16px 0px 16px"},chip:{margin:"8px 8px 0px 0px"}},{name:"MUIDataTableFilterList"})(xe),ke=function(e){function t(){var e,n,r;J(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleKeyboardSortinput=function(e){return"Enter"===e.key&&r.props.toggleSort(r.props.index),!1},r.handleSortClick=function(){r.props.toggleSort(r.props.index)},ie(r,n)}return ne(t,e),Q(t,[{key:"render",value:function(){var e,t,n=this.props,r=n.children,i=n.classes,a=n.options,o=n.sortDirection,u=n.sort,c=n.hint,l=n.print,f=n.column,d=n.cellHeaderProps,p=void 0===d?{}:d,m=p.className,g=re(p,["className"]),b="none"!==o&&void 0!==o,y="none"!==o&&o,w=void 0,x=te({classes:{root:i.sortLabelRoot},active:b,hideSortIcon:!0},y?{direction:o}:{});a.fixedHeader&&(w=i.fixedHeader),a.fixedHeaderOptions&&(w=i.fixedHeaderCommon,a.fixedHeaderOptions.xAxis&&(w+=" "+i.fixedHeaderXAxis),a.fixedHeaderOptions.yAxis&&(w+=" "+i.fixedHeaderYAxis));var O=s((ee(e={},i.root,!0),ee(e,w,!0),ee(e,"datatables-noprint",!l),ee(e,m,m),e));return h.createElement(v,te({className:O,scope:"col",sortDirection:y},g),a.sort&&u?h.createElement("span",{role:"button",onKeyUp:this.handleKeyboardSortinput,onClick:this.handleSortClick,className:i.toolButton,tabIndex:0},h.createElement(_,{title:a.textLabels.body.columnHeaderTooltip?a.textLabels.body.columnHeaderTooltip(f):a.textLabels.body.toolTip,placement:"bottom-start",classes:{tooltip:i.tooltip,popper:i.mypopper}},h.createElement("div",{className:i.sortAction},h.createElement("div",{className:s((t={},ee(t,i.data,!0),ee(t,i.sortActive,b),t))},r),h.createElement("div",{className:i.sortAction},h.createElement(E,x)))),c&&h.createElement(_,{title:c},h.createElement(S,{className:b?i.hintIconWithSortIcon:i.hintIconAlone,fontSize:"small"}))):h.createElement("div",{className:c?i.sortAction:null},r,c&&h.createElement(_,{title:c,placement:"bottom-end",classes:{tooltip:i.tooltip,popper:i.mypopper},enterDelay:300},h.createElement(S,{className:i.hintIconAlone,fontSize:"small"}))))}}]),t}(h.Component),Ee=a.withStyles((function(e){return{root:{},fixedHeader:{position:"sticky",top:"0px",left:"0px",zIndex:100,backgroundColor:e.palette.background.paper},fixedHeaderCommon:{position:"sticky",zIndex:100,backgroundColor:e.palette.background.paper},fixedHeaderXAxis:{left:"0px"},fixedHeaderYAxis:{top:"0px"},tooltip:{cursor:"pointer"},mypopper:{"&[data-x-out-of-boundaries]":{display:"none"}},data:{display:"inline-block"},sortAction:{display:"flex",verticalAlign:"top",cursor:"pointer"},sortLabelRoot:{height:"10px"},sortActive:{color:e.palette.text.primary},toolButton:{display:"flex",outline:"none",cursor:"pointer"},hintIconAlone:{marginTop:"-3px",marginLeft:"3px"},hintIconWithSortIcon:{marginTop:"-3px"}}}),{name:"MUIDataTableHeadCell"})(ke),_e=function(e){function t(){return J(this,t),ie(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ne(t,e),Q(t,[{key:"render",value:function(){var e=this.props.classes;return h.createElement(g,{className:s(ee({},e.root,!0))},this.props.children)}}]),t}(h.Component),Se=a.withStyles({root:{}},{name:"MUIDataTableHeadRow"})(_e),je=function(e){function t(){var e,n,r;J(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleToggleColumn=function(e){r.props.toggleSort(e)},r.handleRowSelect=function(){r.props.selectRowUpdate("head",null)},ie(r,n)}return ne(t,e),Q(t,[{key:"componentDidMount",value:function(){this.props.handleHeadUpdateRef(this.handleUpdateCheck)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.classes,i=n.columns,a=n.count,o=n.options,u=n.data,c=n.setCellRef,l=n.selectedRows,f=l&&l.data.length||0,d=f>0&&f<a,p=f===a;if(!0===o.disableToolbarSelect)if(p){for(var m=0;m<u.length;m++)if(!l.lookup[u[m].dataIndex]){p=!1,d=!0;break}}else f>a&&(d=!0);return h.createElement(O,{className:s((e={},ee(e,r.responsiveStacked,"stacked"===o.responsive||"stackedFullWidth"===o.responsive),ee(e,r.main,!0),e))},h.createElement(Se,null,h.createElement(de,{ref:function(e){return c(0,k.findDOMNode(e))},onChange:this.handleRowSelect.bind(null),indeterminate:d,checked:p,isHeaderCell:!0,expandableOn:o.expandableRows,selectableOn:o.selectableRows,fixedHeader:o.fixedHeader,fixedHeaderOptions:o.fixedHeaderOptions,selectableRowsHeader:o.selectableRowsHeader,isRowSelectable:!0}),i.map((function(e,n){return"true"===e.display&&(e.customHeadRender?e.customHeadRender(te({index:n},e),t.handleToggleColumn):h.createElement(Ee,{cellHeaderProps:i[n].setCellHeaderProps?i[n].setCellHeaderProps(te({index:n},e)):{},key:n,index:n,type:"cell",ref:function(e){return c(n+1,k.findDOMNode(e))},sort:e.sort,sortDirection:e.sortDirection,toggleSort:t.handleToggleColumn,hint:e.hint,print:e.print,options:o,column:e},e.label))}))))}}]),t}(h.Component),Ce=a.withStyles((function(e){return{main:{},responsiveStacked:ee({},e.breakpoints.down("sm"),{display:"none"})}}),{name:"MUIDataTableHead"})(je),Ae=function(e){function t(){var e,n,r;J(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleRowChange=function(e){r.props.changeRowsPerPage(e.target.value)},r.handlePageChange=function(e,t){r.props.changePage(t)},ie(r,n)}return ne(t,e),Q(t,[{key:"render",value:function(){var e=this.props,t=e.count,n=e.classes,r=e.options,i=e.rowsPerPage,a=e.page,o=r.textLabels.pagination;return h.createElement(j,null,h.createElement(g,null,h.createElement(C,{className:n.root,classes:{caption:n.caption,toolbar:n.toolbar,selectRoot:n.selectRoot},count:t,rowsPerPage:i,page:me(t,i,a),labelRowsPerPage:o.rowsPerPage,labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return t+"-"+n+" "+o.displayRows+" "+r},backIconButtonProps:{id:"pagination-back","data-testid":"pagination-back","aria-label":o.previous},nextIconButtonProps:{id:"pagination-next","data-testid":"pagination-next","aria-label":o.next},SelectProps:{id:"pagination-input",SelectDisplayProps:{id:"pagination-rows","data-testid":"pagination-rows"},MenuProps:{id:"pagination-menu","data-testid":"pagination-menu",MenuListProps:{id:"pagination-menu-list","data-testid":"pagination-menu-list"}}},rowsPerPageOptions:r.rowsPerPageOptions,onChangePage:this.handlePageChange,onChangeRowsPerPage:this.handleRowChange})))}}]),t}(h.Component),Te=a.withStyles({root:{"&:last-child":{padding:"0px 24px 0px 24px"}},toolbar:{},selectRoot:{},"@media screen and (max-width: 400px)":{toolbar:{"& span:nth-child(2)":{display:"none"}},selectRoot:{marginRight:"8px"}}},{name:"MUIDataTablePagination"})(Ae),Ne=function(e){function t(){return J(this,t),ie(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ne(t,e),Q(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.rowCount,r=e.page,i=e.rowsPerPage,a=e.changeRowsPerPage,s=e.changePage;return h.createElement(o,null,t.customFooter?t.customFooter(n,r,i,a,s,t.textLabels.pagination):t.pagination&&h.createElement(Te,{count:n,page:r,rowsPerPage:i,changeRowsPerPage:a,changePage:s,component:"div",options:t}))}}]),t}(h.Component),Re=function(e){function t(){var e,n,r;J(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={resizeCoords:{},priorPosition:{},startPosition:0,tableWidth:"100%",tableHeight:"100%"},r.handleResize=function(){window.innerWidth!==r.windowWidth&&(r.windowWidth=window.innerWidth,r.setDividers())},r.setCellRefs=function(e,t){r.cellsRef=e,r.tableRef=t,r.setDividers()},r.setDividers=function(){var e=k.findDOMNode(r.tableRef).getBoundingClientRect(),t=e.width,n=e.height,i=r.state,a=i.priorPosition,o=i.resizeCoords;Object.entries(r.cellsRef).forEach((function(e){var t=ae(e,2),n=t[0],r=t[1];if(r){var i=r.getBoundingClientRect(),s=window.getComputedStyle(r,null),u=void 0!==o[n]?o[n].left:void 0,c=a[n]||0,l=i.left+r.offsetWidth-parseInt(s.paddingLeft)/2;u!==c&&(o[n]={left:l},a[n]=l)}})),r.setState({tableWidth:t,tableHeight:n,resizeCoords:o,priorPosition:a},r.updateWidths)},r.updateWidths=function(){var e=0,t=r.state,n=t.resizeCoords,i=t.tableWidth;Object.entries(n).forEach((function(t){var n=ae(t,2),a=n[0],o=n[1],s=Number((o.left-e)/i*100).toFixed(2);e=o.left;var u=r.cellsRef[a];u&&(u.style.width=s+"%")}))},r.onResizeStart=function(e,t){r.setState({isResize:!0,id:e,startPosition:t.clientX})},r.onResizeMove=function(e,t){var n=r.state,i=n.startPosition,a=n.isResize,o=n.resizeCoords;if(a){var s=i-(i-t.clientX),u=te({},o[e],{left:s}),c=te({},o,ee({},e,u));r.setState({resizeCoords:c},r.updateWidths)}},r.onResizeEnd=function(e,t){r.setState({isResize:!1,id:null})},ie(r,n)}return ne(t,e),Q(t,[{key:"componentDidMount",value:function(){var e=this;this.windowWidth=null,this.props.setResizeable(this.setCellRefs),this.props.updateDividers((function(){return e.setState({updateCoords:!0},(function(){return e.updateWidths}))})),window.addEventListener("resize",this.handleResize,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize,!1)}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,r=n.id,i=n.isResize,a=n.resizeCoords,o=n.tableWidth,s=n.tableHeight;return h.createElement("div",{className:t.root,style:{width:o}},Object.entries(a).map((function(n){var a=ae(n,2),u=a[0],c=a[1];return h.createElement("div",{"aria-hidden":"true",key:u,onMouseMove:e.onResizeMove.bind(null,u),onMouseUp:e.onResizeEnd.bind(null,u),style:{width:i&&r==u?o:"auto",position:"absolute",height:s,zIndex:1e3}},h.createElement("div",{"aria-hidden":"true",onMouseDown:e.onResizeStart.bind(null,u),className:t.resizer,style:{left:c.left}}))})))}}]),t}(h.Component),Me=a.withStyles({root:{position:"absolute"},resizer:{position:"absolute",width:"1px",height:"100%",left:"100px",cursor:"ew-resize",border:"0.1px solid rgba(224, 224, 224, 1)"}},{name:"MUIDataTableResize"})(Re),De=function(e){function t(){var e,n,r;J(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={open:!1},r.handleClick=function(){r.anchorEl=k.findDOMNode(r.anchorEl),r.setState({open:!0})},r.handleRequestClose=function(e){r.setState({open:!1},e&&"function"==typeof e?e():function(){})},r.handleOnExit=function(){r.props.refExit&&r.props.refExit()},ie(r,n)}return ne(t,e),Q(t,[{key:"UNSAFE_componentWillMount",value:function(){this.anchorEl=null}},{key:"componentDidMount",value:function(){this.props.refClose&&this.props.refClose(this.handleRequestClose)}},{key:"componentDidUpdate",value:function(e,t){!0===this.state.open&&(this.anchorEl=k.findDOMNode(this.anchorEl),this.popoverActions.updatePosition())}},{key:"render",value:function(){var e=this,t=this.props,n=(t.className,t.placement,t.trigger),r=(t.refExit,t.content),i=re(t,["className","placement","trigger","refExit","content"]),a=h.cloneElement(h.createElement("span",null,n),{key:"content",ref:function(t){return e.anchorEl=t},onClick:function(){n.props.onClick&&n.props.onClick(),e.handleClick()}});return h.createElement(h.Fragment,null,h.createElement(T,te({action:function(t){return e.popoverActions=t},elevation:2,open:this.state.open,onClose:this.handleRequestClose,onExited:this.handleOnExit,anchorEl:this.anchorEl,ref:function(t){return e.popoverEl},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},i),r),a)}}]),t}(h.Component),Ie=function(e){function t(){var e,n,r;J(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleCheckboxChange=function(e,t,n){r.props.onFilterUpdate(e,t,n,"checkbox")},r.handleDropdownChange=function(e,t,n){var i=r.props.options.textLabels.filter.all,a=e.target.value===i?[]:[e.target.value];r.props.onFilterUpdate(t,a,n,"dropdown")},r.handleMultiselectChange=function(e,t,n){r.props.onFilterUpdate(e,t,n,"multiselect")},r.handleTextFieldChange=function(e,t,n){r.props.onFilterUpdate(t,e.target.value,n,"textField")},r.handleCustomChange=function(e,t,n){r.props.onFilterUpdate(t,e,n.name,n.filterType)},ie(r,n)}return ne(t,e),Q(t,[{key:"renderCheckbox",value:function(e,t){var n=this,r=this.props,i=r.classes,a=r.filterData,o=r.filterList;return h.createElement(N.GridListTile,{key:t,cols:2},h.createElement(I,null,h.createElement(N.Grid,{item:!0,xs:12},h.createElement(p,{variant:"body2",className:i.checkboxListTitle},e.label)),h.createElement(N.Grid,{container:!0},a[t].map((function(r,a){return h.createElement(N.Grid,{item:!0,key:a},h.createElement(D,{key:a,classes:{root:i.checkboxFormControl,label:i.checkboxFormControlLabel},control:h.createElement(b,{className:i.checkboxIcon,onChange:n.handleCheckboxChange.bind(null,t,r,e.name),checked:o[t].indexOf(r)>=0,classes:{root:i.checkbox,checked:i.checked},value:null!=r?r.toString():""}),label:r}))})))))}},{key:"renderSelect",value:function(e,t){var n=this,r=this.props,i=r.classes,a=r.filterData,o=r.filterList,s=r.options.textLabels.filter;return h.createElement(N.GridListTile,{key:t,cols:1,classes:{tile:i.gridListTile}},h.createElement(M,{key:t,fullWidth:!0},h.createElement(P,{htmlFor:e.name},e.label),h.createElement(B,{fullWidth:!0,value:o[t].length?o[t].toString():s.all,name:e.name,onChange:function(r){return n.handleDropdownChange(r,t,e.name)},input:h.createElement(F,{name:e.name,id:e.name})},h.createElement(L,{value:s.all,key:0},s.all),a[t].map((function(e,t){return h.createElement(L,{value:e,key:t+1},null!=e?e.toString():"")})))))}},{key:"renderTextField",value:function(e,t){var n=this,r=this.props,i=r.classes,a=r.filterList;return h.createElement(N.GridListTile,{key:t,cols:1,classes:{tile:i.gridListTile}},h.createElement(M,{key:t,fullWidth:!0},h.createElement(N.TextField,{fullWidth:!0,label:e.label,value:a[t].toString()||"",onChange:function(r){return n.handleTextFieldChange(r,t,e.name)}})))}},{key:"renderMultiselect",value:function(e,t){var n=this,r=this.props,i=r.classes,a=r.filterData,o=r.filterList;return h.createElement(N.GridListTile,{key:t,cols:1,classes:{tile:i.gridListTile}},h.createElement(M,{key:t,fullWidth:!0},h.createElement(P,{htmlFor:e.name},e.label),h.createElement(B,{multiple:!0,fullWidth:!0,value:o[t]||[],renderValue:function(e){return e.join(", ")},name:e.name,onChange:function(r){return n.handleMultiselectChange(t,r.target.value,e.name)},input:h.createElement(F,{name:e.name,id:e.name})},a[t].map((function(e,n){return h.createElement(L,{value:e,key:n+1},h.createElement(b,{checked:o[t].indexOf(e)>=0,value:null!=e?e.toString():"",className:i.checkboxIcon,classes:{root:i.checkbox,checked:i.checked}}),h.createElement(z,{primary:e}))})))))}},{key:"renderCustomField",value:function(e,t){var n=this.props,r=n.classes,i=n.filterList,a=n.options,o=e.filterOptions&&e.filterOptions.display||a.filterOptions&&a.filterOptions.display;if(o)return h.createElement(N.GridListTile,{key:t,cols:1,classes:{tile:r.gridListTile}},h.createElement(M,{key:t,fullWidth:!0},o(i,this.handleCustomChange,t,e)));console.error('Property "display" is required when using custom filter type.')}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.columns,i=t.options,a=t.onFilterReset,o=t.customFooter,u=t.filterList,c=i.textLabels.filter,l=1===r.filter((function(e){return e.filter})).length?1:2;return h.createElement("div",{className:n.root},h.createElement("div",{className:n.header},h.createElement("div",{className:n.reset},h.createElement(p,{variant:"body2",className:s(ee({},n.title,!0))},c.title),h.createElement(R,{color:"primary",className:n.resetLink,tabIndex:0,"aria-label":c.reset,"data-testid":"filterReset-button",onClick:a},c.reset)),h.createElement("div",{className:n.filtersSelected})),h.createElement(N.GridList,{cellHeight:"auto",cols:l,spacing:34},r.map((function(t,n){if(t.filter){var r=t.filterType||i.filterType;return"checkbox"===r?e.renderCheckbox(t,n):"multiselect"===r?e.renderMultiselect(t,n):"textField"===r?e.renderTextField(t,n):"custom"===r?e.renderCustomField(t,n):e.renderSelect(t,n)}}))),o?o(u):"")}}]),t}(h.Component),Fe=a.withStyles((function(e){return{root:{backgroundColor:e.palette.background.default,padding:"24px 24px 36px 24px",fontFamily:"Roboto"},header:{flex:"0 0 auto",marginBottom:"16px",width:"100%",display:"flex",justifyContent:"space-between"},title:{display:"inline-block",marginLeft:"7px",color:e.palette.text.primary,fontSize:"14px",fontWeight:500},noMargin:{marginLeft:"0px"},reset:{alignSelf:"left"},resetLink:{marginLeft:"16px",fontSize:"12px",cursor:"pointer"},filtersSelected:{alignSelf:"right"},checkboxListTitle:{marginLeft:"7px",marginBottom:"8px",fontSize:"14px",color:e.palette.text.secondary,textAlign:"left",fontWeight:500},checkboxFormGroup:{marginTop:"8px"},checkboxFormControl:{margin:"0px"},checkboxFormControlLabel:{fontSize:"15px",marginLeft:"8px",color:e.palette.text.primary},checkboxIcon:{width:"32px",height:"32px"},checkbox:{"&$checked":{color:e.palette.primary.main}},checked:{},gridListTile:{marginTop:"16px"}}}),{name:"MUIDataTableFilter"})(Ie),Pe=function(e){function t(){var e,n,r;J(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleColChange=function(e){r.props.onColumnUpdate(e)},ie(r,n)}return ne(t,e),Q(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.columns,i=t.options.textLabels.viewColumns;return h.createElement(M,{component:"fieldset",className:n.root,"aria-label":i.titleAria},h.createElement(p,{variant:"caption",className:n.title},i.title),h.createElement(I,{className:n.formGroup},r.map((function(t,r){return"excluded"!==t.display&&!1!==t.viewColumns&&h.createElement(D,{key:r,classes:{root:n.formControl,label:n.label},control:h.createElement(b,{className:n.checkbox,classes:{root:n.checkboxRoot,checked:n.checked},onChange:e.handleColChange.bind(null,r),checked:"true"===t.display,value:t.name}),label:t.label})}))))}}]),t}(h.Component),ze=a.withStyles((function(e){return{root:{padding:"16px 24px 16px 24px",fontFamily:"Roboto"},title:{marginLeft:"-7px",fontSize:"14px",color:e.palette.text.secondary,textAlign:"left",fontWeight:500},formGroup:{marginTop:"8px"},formControl:{},checkbox:{padding:"0px",width:"32px",height:"32px"},checkboxRoot:{"&$checked":{color:e.palette.primary.main}},checked:{},label:{fontSize:"15px",marginLeft:"8px",color:e.palette.text.primary}}}),{name:"MUIDataTableViewCol"})(Pe),Le=function(e){function t(){var e,n,r;J(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleTextChange=function(e){r.props.onSearch(e.target.value)},r.onKeyDown=function(e){27===e.keyCode&&r.props.onHide()},ie(r,n)}return ne(t,e),Q(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.options,i=t.onHide,a=t.searchText;return h.createElement(U,{appear:!0,in:!0,timeout:300},h.createElement("div",{className:n.main,ref:function(t){return e.rootRef=t}},h.createElement(V,{className:n.searchIcon}),h.createElement(W,{className:n.searchText,autoFocus:!0,InputProps:{"data-test-id":r.textLabels.toolbar.search},inputProps:{"aria-label":r.textLabels.toolbar.search},value:a||"",onChange:this.handleTextChange,fullWidth:!0,inputRef:function(t){return e.searchField=t},placeholder:r.searchPlaceholder}),h.createElement(y,{className:n.clearIcon,onClick:i},h.createElement(q,null))))}}]),t}(h.Component),Be=a.withStyles((function(e){return{main:{display:"flex",flex:"1 0 auto"},searchIcon:{color:e.palette.text.secondary,marginTop:"10px",marginRight:"8px"},searchText:{flex:"0.8 0"},clearIcon:{"&:hover":{color:e.palette.error.main}}}}),{name:"MUIDataTableSearch"})(Le),Ue=function(e){function t(){var e,n,r;J(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={iconActive:null,showSearch:Boolean(r.props.searchText||r.props.options.searchText||r.props.options.searchOpen),searchText:r.props.searchText||null},r.handleCSVDownload=function(){var e=r.props,t=e.data,n=e.displayData,i=e.columns,a=e.options,o=c(t),s=i;a.downloadOptions&&a.downloadOptions.filterOptions&&(a.downloadOptions.filterOptions.useDisplayedRowsOnly&&(o=n.map((function(e,n){var r=-1;return e.index=n,{data:e.data.map((function(n){return r+=1,"object"!==(void 0===n?"undefined":Z(n))||null===n||Array.isArray(n)?n:l(t,(function(t){return t.index===e.dataIndex})).data[r]}))}}))),a.downloadOptions.filterOptions.useDisplayedColumnsOnly&&(s=i.filter((function(e,t){return"true"===e.display})),o=o.map((function(e){return e.data=e.data.filter((function(e,t){return"true"===i[t].display})),e})))),be(s,o,a,ge)},r.setActiveIcon=function(e){r.setState((function(t){return{showSearch:r.isSearchShown(e),iconActive:e,prevIconActive:t.iconActive}}),(function(){var e=r.state,t=e.iconActive,n=e.prevIconActive;"filter"===t&&(r.props.setTableAction("onFilterDialogOpen"),r.props.options.onFilterDialogOpen&&r.props.options.onFilterDialogOpen()),void 0===t&&"filter"===n&&(r.props.setTableAction("onFilterDialogClose"),r.props.options.onFilterDialogClose&&r.props.options.onFilterDialogClose())}))},r.isSearchShown=function(e){var t=!1;if(r.state.showSearch)if(r.state.searchText)t=!0;else{var n=r.props.options.onSearchClose;r.props.setTableAction("onSearchClose"),n&&n(),t=!1}else"search"===e&&(t=r.showSearch());return t},r.getActiveIcon=function(e,t){var n=r.state.iconActive===t;if("search"===t){var i=r.state,a=i.showSearch,o=i.searchText;n=n||a||o}return n?e.iconActive:e.icon},r.showSearch=function(){return r.props.setTableAction("onSearchOpen"),r.props.options.onSearchOpen&&r.props.options.onSearchOpen(),!0},r.hideSearch=function(){var e=r.props.options.onSearchClose;r.props.setTableAction("onSearchClose"),e&&e(),r.props.searchClose(),r.setState((function(){return{iconActive:null,showSearch:!1,searchText:null}})),r.searchButton.focus()},r.handleSearch=function(e){r.setState({searchText:e}),r.props.searchTextUpdate(e)},r.handleSearchIconClick=function(){var e=r.state,t=e.showSearch,n=e.searchText;t&&!n?r.hideSearch():r.setActiveIcon("search")},ie(r,n)}return ne(t,e),Q(t,[{key:"componentDidUpdate",value:function(e){this.props.searchText!==e.searchText&&this.setState({searchText:this.props.searchText})}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.options,i=t.classes,a=t.columns,o=t.filterData,s=t.filterList,u=t.filterUpdate,c=t.resetFilters,l=t.toggleViewColumn,f=t.title,d=(t.tableRef,r.textLabels.toolbar),m=d.search,v=d.downloadCsv,g=d.print,b=d.viewColumns,w=d.filterTable,x=this.state,O=x.showSearch,k=x.searchText;return h.createElement(A,{className:"scrollFullHeightFullWidth"!==r.responsive?i.root:i.fullWidthRoot,role:"toolbar","aria-label":"Table Toolbar"},h.createElement("div",{className:"scrollFullHeightFullWidth"!==r.responsive?i.left:i.fullWidthLeft},!0===O?r.customSearchRender?r.customSearchRender(k,this.handleSearch,this.hideSearch,r):h.createElement(Be,{searchText:k,onSearch:this.handleSearch,onHide:this.hideSearch,options:r}):"string"!=typeof f?f:h.createElement("div",{className:i.titleRoot,"aria-hidden":"true"},h.createElement(p,{variant:"h6",className:"scrollFullHeightFullWidth"!==r.responsive?i.titleText:i.fullWidthTitleText},f))),h.createElement("div",{className:"scrollFullHeightFullWidth"!==r.responsive?i.actions:i.fullWidthActions},r.search&&h.createElement(_,{title:m,disableFocusListener:!0},h.createElement(y,{"aria-label":m,"data-testid":m+"-iconButton",buttonRef:function(t){return e.searchButton=t},classes:{root:this.getActiveIcon(i,"search")},onClick:this.handleSearchIconClick},h.createElement(V,null))),r.download&&h.createElement(_,{title:v},h.createElement(y,{"data-testid":v+"-iconButton","aria-label":v,classes:{root:i.icon},onClick:this.handleCSVDownload},h.createElement(H,null))),r.print&&h.createElement("span",null,h.createElement(X,{trigger:function(){return h.createElement("span",null,h.createElement(_,{title:g},h.createElement(y,{"data-testid":g+"-iconButton","aria-label":g,classes:{root:i.icon}},h.createElement(G,null))))},content:function(){return e.props.tableRef()}})),r.viewColumns&&h.createElement(De,{refExit:this.setActiveIcon.bind(null),trigger:h.createElement(_,{title:b,disableFocusListener:!0},h.createElement(y,{"data-testid":b+"-iconButton","aria-label":b,classes:{root:this.getActiveIcon(i,"viewcolumns")},onClick:this.setActiveIcon.bind(null,"viewcolumns")},h.createElement($,null))),content:h.createElement(ze,{data:n,columns:a,options:r,onColumnUpdate:l})}),r.filter&&h.createElement(De,{refExit:this.setActiveIcon.bind(null),classes:{paper:i.filterPaper},trigger:h.createElement(_,{title:w,disableFocusListener:!0},h.createElement(y,{"data-testid":w+"-iconButton","aria-label":w,classes:{root:this.getActiveIcon(i,"filter")},onClick:this.setActiveIcon.bind(null,"filter")},h.createElement(K,null))),content:h.createElement(Fe,{customFooter:r.customFilterDialogFooter,columns:a,options:r,filterList:s,filterData:o,onFilterUpdate:u,onFilterReset:c})}),r.customToolbar&&r.customToolbar()))}}]),t}(h.Component),We=a.withStyles((function(e){var t;return t={root:{},fullWidthRoot:{},left:{flex:"1 1 auto"},fullWidthLeft:{flex:"1 1 auto"},actions:{flex:"1 1 auto",textAlign:"right"},fullWidthActions:{flex:"1 1 auto",textAlign:"right"},titleRoot:{},titleText:{},fullWidthTitleText:{textAlign:"left"},icon:{"&:hover":{color:e.palette.primary.main}},iconActive:{color:e.palette.primary.main},filterPaper:{maxWidth:"50%"},searchIcon:{display:"inline-flex",marginTop:"10px",marginRight:"8px"}},ee(t,e.breakpoints.down("sm"),{titleRoot:{},titleText:{fontSize:"16px"},spacer:{display:"none"},left:{padding:"8px 0px"},actions:{textAlign:"right"}}),ee(t,e.breakpoints.down("xs"),{root:{display:"block"},left:{padding:"8px 0px 0px 0px"},titleText:{textAlign:"center"},actions:{textAlign:"center"}}),ee(t,"@media screen and (max-width: 480px)",{}),t}),{name:"MUIDataTableToolbar"})(Ue),Ve=function(e){function t(){var e,n,r;J(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleCustomSelectedRows=function(e){if(!Array.isArray(e))throw new TypeError('"selectedRows" must be an "array", but it\'s "'+(void 0===e?"undefined":Z(e))+'"');if(e.some((function(e){return"number"!=typeof e})))throw new TypeError('Array "selectedRows" must contain only numbers');var t=r.props.options;if(e.length>1&&"single"===t.selectableRows)throw new Error('Can not select more than one row when "selectableRows" is "single"');r.props.selectRowUpdate("custom",e)},ie(r,n)}return ne(t,e),Q(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onRowsDelete,r=e.selectedRows,a=e.options,o=e.displayData,s=a.textLabels.selectedRows;return h.createElement(i,{className:t.root},h.createElement("div",null,h.createElement(p,{variant:"subtitle1",className:t.title},r.data.length," ",s.text)),a.customToolbarSelect?a.customToolbarSelect(r,o,this.handleCustomSelectedRows):h.createElement(_,{title:s.delete},h.createElement(y,{className:t.iconButton,onClick:n,"aria-label":s.deleteAria},h.createElement(Y,{className:t.deleteIcon}))))}}]),t}(h.Component),qe=a.withStyles((function(e){return{root:{backgroundColor:e.palette.background.default,flex:"1 1 100%",display:"flex",position:"relative",zIndex:120,justifyContent:"space-between",alignItems:"center",paddingTop:"function"==typeof e.spacing?e.spacing(1):e.spacing.unit,paddingBottom:"function"==typeof e.spacing?e.spacing(1):e.spacing.unit},title:{paddingLeft:"26px"},iconButton:{marginRight:"24px"},deleteIcon:{}}}),{name:"MUIDataTableToolbarSelect"})(Ve),He=1,Ge=2,$e=["title","filter","search","print","download","viewColumns","customToolbar"],Ke=function(e){function t(){J(this,t);var e=ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={announceText:null,activeColumn:null,data:[],displayData:[],page:0,rowsPerPage:0,count:0,columns:[],filterData:[],filterList:[],selectedRows:{data:[],lookup:{}},previousSelectedRow:null,expandedRows:{data:[],lookup:{}},showResponsive:!1,searchText:null},e.getDefaultOptions=function(){return{responsive:"stacked",filterType:"dropdown",pagination:!0,textLabels:{body:{noMatch:"Sorry, no matching records found",toolTip:"Sort"},pagination:{next:"Next Page",previous:"Previous Page",rowsPerPage:"Rows per page:",displayRows:"of"},toolbar:{search:"Search",downloadCsv:"Download CSV",print:"Print",viewColumns:"View Columns",filterTable:"Filter Table"},filter:{all:"All",title:"FILTERS",reset:"RESET"},viewColumns:{title:"Show Columns",titleAria:"Show/Hide Table Columns"},selectedRows:{text:"row(s) selected",delete:"Delete",deleteAria:"Delete Selected Rows"}},serverSideFilterList:[],expandableRows:!1,expandableRowsOnClick:!1,resizableColumns:!1,selectableRows:"multiple",selectableRowsOnClick:!1,selectableRowsHeader:!0,caseSensitive:!1,disableToolbarSelect:!1,serverSide:!1,rowHover:!0,elevation:4,rowsPerPage:10,rowsPerPageOptions:[10,15,100],filter:!0,fixedHeaderOptions:{xAxis:!0,yAxis:!0},sortFilterList:!0,sort:!0,search:!0,print:!0,viewColumns:!0,download:!0,downloadOptions:{filename:"tableDownload.csv",separator:","},setTableProps:function(){return{}}}},e.handleOptionDeprecation=function(){"boolean"==typeof e.options.selectableRows&&(e.options.selectableRows=e.options.selectableRows?"multiple":"none"),["scrollMaxHeight","scrollFullHeight","stacked","stackedFullWidth","scrollFullHeightFullWidth"].indexOf(e.options.responsive),e.options.responsive,!1===e.options.fixedHeader||e.options.fixedHeader,e.props.columns.map((function(e){e.options&&e.options.customFilterListRender}))},e.setTableAction=function(t){"function"==typeof e.options.onTableChange&&e.options.onTableChange(t,e.state)},e.setTableInit=function(t){"function"==typeof e.options.onTableInit&&e.options.onTableInit(t,e.state)},e.setHeadCellRef=function(t,n){e.headCellRefs[t]=n},e.getTableContentRef=function(){return e.tableContent.current},e.buildColumns=function(e){var t=[],n=[],r=[],i=!1;return e.forEach((function(e,a){var o={display:"true",empty:!1,filter:!0,sort:!0,print:!0,searchable:!0,download:!0,viewColumns:!0,sortDirection:"none"};if("object"===(void 0===e?"undefined":Z(e))){var s=te({},e.options);s&&(void 0!==s.display&&(s.display=s.display.toString()),null===s.sortDirection&&(s.sortDirection="none"),void 0!==s.sortDirection&&"none"!==s.sortDirection&&(i?(console.error("sortDirection is set for more than one column. Only the first column will be considered."),s.sortDirection="none"):i=!0)),o=te({name:e.name,label:e.label?e.label:e.name},o,s)}else o=te({},o,{name:e,label:e});t.push(o),n[a]=[],r[a]=[]})),{columns:t,filterData:n,filterList:r}},e.transformData=function(e,t){var n=Array.isArray(t[0])?t.map((function(t){var n=-1;return e.map((function(e){return e.empty||n++,e.empty?void 0:t[n]}))})):t.map((function(t){return e.map((function(e){return n=t,e.name.split(".").reduce((function(e,t){return e?e[t]:void 0}),n);var n}))}));return n.filter((function(e){return e.filter((function(e){return"object"===(void 0===e?"undefined":Z(e))&&null!==e&&!Array.isArray(e)})).length>0})).length,n},e.hasSearchText=function(e,t,n){var r=e.toString(),i=t.toString();return n||(i=i.toLowerCase(),r=r.toLowerCase()),r.indexOf(i)>=0},e.updateDataCol=function(t,n,r){e.setState((function(i){var a=c(i.data),o=c(i.filterData),s=e.getTableMeta(t,n,t,i.columns[n],i.data,i),u=i.columns[n].customBodyRender(r,s),l=h.isValidElement(u)&&u.props.value?u.props.value:i.data[t][n],f=o[n].indexOf(l);if(o[n].splice(f,1,l),a[t].data[n]=r,e.options.sortFilterList){var d=ve();o[n].sort(d)}return{data:a,filterData:o,displayData:e.getDisplayData(i.columns,a,i.filterList,i.searchText)}}))},e.getTableMeta=function(e,t,n,r,i,a){return a.columns,a.data,a.displayData,a.filterData,{rowIndex:e,columnIndex:t,columnData:r,rowData:n,tableData:i,tableState:re(a,["columns","data","displayData","filterData"])}},e.toggleViewColumn=function(t){e.setState((function(e){var n=c(e.columns);return n[t].display="true"===n[t].display?"false":"true",{columns:n}}),(function(){e.setTableAction("columnViewChange"),e.options.onColumnViewChange&&e.options.onColumnViewChange(e.state.columns[t].name,"true"===e.state.columns[t].display?"add":"remove")}))},e.toggleSortColumn=function(t){e.setState((function(n){for(var r=c(n.columns),i=n.data,a="desc"===r[t].sortDirection?"asc":"desc",o=0;o<r.length;o++)r[o].sortDirection=t!==o?"none":a;var s=e.getSortDirection(r[t]),u={columns:r,announceText:"Table now sorted by "+r[t].name+" : "+s,activeColumn:t};if(e.options.serverSide)u=te({},u,{data:n.data,displayData:n.displayData,selectedRows:n.selectedRows});else{var l=e.sortTable(i,t,a);u=te({},u,{data:l.data,displayData:e.getDisplayData(r,l.data,n.filterList,n.searchText),selectedRows:l.selectedRows,previousSelectedRow:null})}return u}),(function(){e.setTableAction("sort"),e.options.onColumnSortChange&&e.options.onColumnSortChange(e.state.columns[t].name,e.getSortDirection(e.state.columns[t]))}))},e.changeRowsPerPage=function(t){var n=e.options.count||e.state.displayData.length;e.setState((function(){return{rowsPerPage:t,page:me(n,t,e.state.page)}}),(function(){e.setTableAction("changeRowsPerPage"),e.options.onChangeRowsPerPage&&e.options.onChangeRowsPerPage(e.state.rowsPerPage)}))},e.changePage=function(t){e.setState((function(){return{page:t}}),(function(){e.setTableAction("changePage"),e.options.onChangePage&&e.options.onChangePage(e.state.page)}))},e.searchClose=function(){e.setState((function(t){return{searchText:null,displayData:e.options.serverSide?t.displayData:e.getDisplayData(t.columns,t.data,t.filterList,null)}}),(function(){e.setTableAction("search"),e.options.onSearchChange&&e.options.onSearchChange(e.state.searchText)}))},e.searchTextUpdate=function(t){e.setState((function(n){return{searchText:t&&t.length?t:null,page:0,displayData:e.options.serverSide?n.displayData:e.getDisplayData(n.columns,n.data,n.filterList,t)}}),(function(){e.setTableAction("search"),e.options.onSearchChange&&e.options.onSearchChange(e.state.searchText)}))},e.resetFilters=function(){e.setState((function(t){var n=t.columns.map((function(){return[]}));return{filterList:n,displayData:e.options.serverSide?t.displayData:e.getDisplayData(t.columns,t.data,n,t.searchText)}}),(function(){e.setTableAction("resetFilters"),e.options.onFilterChange&&e.options.onFilterChange(null,e.state.filterList,"reset")}))},e.filterUpdate=function(t,n,r,i,a){e.setState((function(r){var o=r.filterList.slice(0),s=o[t].indexOf(n);switch(i){case"checkbox":case"chip":s>=0?o[t].splice(s,1):o[t].push(n);break;case"multiselect":o[t]=""===n?[]:n;break;case"dropdown":o[t]=n;break;case"custom":a?o=a(o,s,t):o[t]=n;break;default:o[t]=s>=0||""===n?[]:[n]}return{page:0,filterList:o,displayData:e.options.serverSide?r.displayData:e.getDisplayData(r.columns,r.data,o,r.searchText),previousSelectedRow:null}}),(function(){e.setTableAction("filterChange"),e.options.onFilterChange&&e.options.onFilterChange(r,e.state.filterList,i)}))},e.selectRowDelete=function(){var t=e.state,n=t.selectedRows,r=t.data,i=t.filterList,a=he(n.data),o=r.filter((function(e){var t=e.index;return!a[t]}));e.options.onRowsDelete&&!1===e.options.onRowsDelete(n)||e.setTableData({columns:e.props.columns,data:o,options:{filterList:i}},Ge,(function(){e.setTableAction("rowDelete")}))},e.toggleExpandRow=function(t){for(var n=t.dataIndex,r=e.options.isRowExpandable,i=e.state.expandedRows,a=[].concat(oe(i.data)),o=!1,s=!1,u=[],c=0;c<a.length;c++)if(a[c].dataIndex===n){o=!0;break}o?(r&&r(n,i)||!r)&&(u=a.splice(c,1),s=!0):r&&r(n,i)?a.push(t):r||a.push(t),e.setState({curExpandedRows:s?u:[t],expandedRows:{lookup:he(a),data:a}},(function(){e.setTableAction("expandRow"),e.options.onRowsExpand&&e.options.onRowsExpand(e.state.curExpandedRows,e.state.expandedRows.data)}))},e.selectRowUpdate=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e.options.selectableRows;if("none"!==i)if("head"===t){var a=e.options.isRowSelectable;e.setState((function(t){var n=t.displayData,r=t.selectedRows,i=t.selectedRows.data.length,o=i===n.length||i<n.length&&i>0,s=n.reduce((function(e,t,i){return(!a||a(n[i].dataIndex,r))&&e.push({index:i,dataIndex:n[i].dataIndex}),e}),[]),u=[].concat(oe(t.selectedRows),oe(s)),c=he(u);if(!0===e.options.disableToolbarSelect)if(i>n.length)o=!0;else for(var l=0;l<n.length;l++)c[n[l].dataIndex]||(o=!0);return o&&(u=t.selectedRows.data.filter((function(e){var t=e.dataIndex;return!c[t]})),c=he(u)),{curSelectedRows:u,selectedRows:{data:u,lookup:c},previousSelectedRow:null}}),(function(){e.setTableAction("rowsSelect"),e.options.onRowsSelect&&e.options.onRowsSelect(e.state.curSelectedRows,e.state.selectedRows.data)}))}else if("cell"===t)e.setState((function(e){for(var t=n.dataIndex,a=[].concat(oe(e.selectedRows.data)),o=-1,s=0;s<a.length;s++)if(a[s].dataIndex===t){o=s;break}if(o>=0){if(a.splice(o,1),r.length>0)for(var u=he(r),c=a.length-1;c>=0;c--)u[a[c].dataIndex]&&a.splice(c,1)}else if("single"===i)a=[n];else if(a.push(n),r.length>0){var l=he(a);r.forEach((function(e){l[e.dataIndex]||a.push(e)}))}return{selectedRows:{lookup:he(a),data:a},previousSelectedRow:n}}),(function(){e.setTableAction("rowsSelect"),e.options.onRowsSelect&&e.options.onRowsSelect([n],e.state.selectedRows.data)}));else if("custom"===t){var o=e.state.displayData,s=n.map((function(e){return{index:e,dataIndex:o[e].dataIndex}})),u=he(s);e.setState({selectedRows:{data:s,lookup:u},previousSelectedRow:null},(function(){e.setTableAction("rowsSelect"),e.options.onRowsSelect&&e.options.onRowsSelect(e.state.selectedRows.data,e.state.selectedRows.data)}))}},e.tableRef=!1,e.tableContent=h.createRef(),e.headCellRefs={},e.setHeadResizeable=function(){},e.updateDividers=function(){},e}return ne(t,e),Q(t,[{key:"UNSAFE_componentWillMount",value:function(){this.initializeTable(this.props)}},{key:"componentDidMount",value:function(){this.setHeadResizeable(this.headCellRefs,this.tableRef),this.props.options.searchText&&!this.props.options.serverSide&&this.setState({page:0})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.data===e.data&&this.props.columns===e.columns||(this.updateOptions(this.options,this.props),this.setTableData(this.props,He,(function(){t.setTableAction("propsUpdate")}))),this.props.options.searchText===e.options.searchText||this.props.options.serverSide||this.setState({page:0}),this.options.resizableColumns&&(this.setHeadResizeable(this.headCellRefs,this.tableRef),this.updateDividers())}},{key:"updateOptions",value:function(e,t){this.options=u(e,t.options,(function(e,t,n){if("textLabels"===n||"downloadOptions"===n)return d(e,t)})),this.handleOptionDeprecation()}},{key:"initializeTable",value:function(e){var t=this;this.mergeDefaultOptions(e),this.setTableOptions(),this.setTableData(e,He,(function(){t.setTableInit("tableInitialized")}))}},{key:"mergeDefaultOptions",value:function(e){var t=this.getDefaultOptions();this.updateOptions(t,this.props)}},{key:"validateOptions",value:function(e){if(e.serverSide&&void 0===e.onTableChange)throw Error("onTableChange callback must be provided when using serverSide option");if(e.expandableRows&&void 0===e.renderExpandableRow)throw Error("renderExpandableRow must be provided when using expandableRows option");this.props.options.filterList}},{key:"setTableOptions",value:function(){var e=this,t=["rowsPerPage","page","rowsSelected","rowsPerPageOptions"].reduce((function(t,n){return void 0!==e.options[n]&&(t[n]=e.options[n]),t}),{});this.validateOptions(t),this.setState(t)}},{key:"setTableData",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=[],a=this.buildColumns(e.columns),o=a.columns,s=a.filterData,u=a.filterList,l=null,f="none",d=void 0,p=t===He?this.transformData(o,e.data):e.data,m=t===He?this.options.searchText:null;o.forEach((function(e,r){for(var a=0;a<p.length;a++){var o=t===He?p[a][r]:p[a].data[r];if(void 0===i[a]&&i.push({index:t===He?a:p[a].index,data:t===He?p[a]:p[a].data}),"function"==typeof e.customBodyRender){var m=i[a].data;d=n.getTableMeta(a,r,m,e,p,n.state);var v=e.customBodyRender(o,d);h.isValidElement(v)&&v.props.value?o=v.props.value:"string"==typeof v&&(o=v)}s[r].indexOf(o)<0&&!Array.isArray(o)?s[r].push(o):Array.isArray(o)&&o.forEach((function(e){s[r].indexOf(e)<0&&s[r].push(e)}))}if(e.filterOptions&&(Array.isArray(e.filterOptions)?s[r]=c(e.filterOptions):Array.isArray(e.filterOptions.names)&&(s[r]=c(e.filterOptions.names))),e.filterList&&(u[r]=c(e.filterList)),n.options.sortFilterList){var g=ve();s[r].sort(g)}"none"!==e.sortDirection&&(l=r,f=e.sortDirection)}));var v={data:[],lookup:{}},g={data:[],lookup:{}};if(He){if(this.options.rowsSelected&&this.options.rowsSelected.length&&"multiple"===this.options.selectableRows&&this.options.rowsSelected.forEach((function(e){for(var t=e,r=0;r<n.state.displayData.length;r++)if(n.state.displayData[r].dataIndex===e){t=r;break}v.data.push({index:t,dataIndex:e}),v.lookup[e]=!0})),this.options.rowsSelected&&1===this.options.rowsSelected.length&&"single"===this.options.selectableRows){for(var b=this.options.rowsSelected[0],y=0;y<this.state.displayData.length;y++)if(this.state.displayData[y].dataIndex===this.options.rowsSelected[0]){b=y;break}v.data.push({index:b,dataIndex:this.options.rowsSelected[0]}),v.lookup[this.options.rowsSelected[0]]=!0}else this.options.rowsSelected&&this.options.rowsSelected.length>1&&"single"===this.options.selectableRows&&console.error('Multiple values provided for selectableRows, but selectableRows set to "single". Either supply only a single value or use "multiple".');this.options.rowsExpanded&&this.options.rowsExpanded.length&&this.options.expandableRows&&this.options.rowsExpanded.forEach((function(e){for(var t=e,r=0;r<n.state.displayData.length;r++)if(n.state.displayData[r].dataIndex===e){t=r;break}g.data.push({index:t,dataIndex:e}),g.lookup[e]=!0}))}if(!this.options.serverSide&&null!==l){var w=this.sortTable(i,l,f);i=w.data}this.setState({columns:o,filterData:s,filterList:u,searchText:m,selectedRows:v,expandedRows:g,count:this.options.count,data:i,displayData:this.getDisplayData(o,i,u,m,d),previousSelectedRow:null},r)}},{key:"computeDisplayRow",value:function(e,t,n,r,i,a,o){for(var s=this,u=!1,c=!1,l=[],f=function(f){var d=t[f],h=t[f],p=e[f];if(p.customBodyRender){var m=s.getTableMeta(n,f,t,p,a,te({},s.state,{filterList:r,searchText:i})),v=p.customBodyRender(h,m,s.updateDataCol.bind(null,n,f));d=v,h="string"!=typeof v&&v?v.props&&v.props.value?v.props.value:h:v}l.push(d);var g=null===h||void 0===h?"":h.toString(),b=r[f],y=o.caseSensitive,w=p.filterType||o.filterType;(b.length||"custom"===w)&&(p.filterOptions&&p.filterOptions.logic?p.filterOptions.logic(h,b)&&(u=!0):"textField"!==w||s.hasSearchText(g,b,y)?"textField"!==w&&!1===Array.isArray(h)&&b.indexOf(h)<0?u=!0:"textField"!==w&&Array.isArray(h)&&(b.every((function(e){return h.indexOf(e)>=0}))||(u=!0)):u=!0),i&&s.hasSearchText(g,i,y)&&"false"!==p.display&&p.searchable&&(c=!0)},d=0;d<t.length;d++)f(d);var h=this.props.options.customSearch;if(i&&h){var p=h(i,t,e);"boolean"!=typeof p?console.error("customSearch must return a boolean"):c=p}return o.serverSide?(h&&console.warn("Server-side filtering is enabled, hence custom search will be ignored."),l):u||i&&!c?null:l}},{key:"getDisplayData",value:function(e,t,n,r,i){for(var a=[],o=i?i.tableData:this.props.data,s=0;s<t.length;s++){var u=t[s].data,c=this.computeDisplayRow(e,u,s,n,r,o,this.options);c&&a.push({data:c,dataIndex:t[s].index})}return a}},{key:"getSortDirection",value:function(e){return"asc"===e.sortDirection?"ascending":"descending"}},{key:"getTableProps",value:function(){var e=this.props.classes,t=this.options.setTableProps();return t.className=s(e.tableRoot,t.className),t}},{key:"sortTable",value:function(e,t,n){var r=this,i=this.options.customSort?this.options.customSort(e,t,n||"desc"):e,a=i.map((function(e,n){return{data:e.data[t],rowData:e.data,position:n,rowSelected:!!r.state.selectedRows.lookup[e.index]}}));this.options.customSort||a.sort(function(e){return function(t,n){var r=null===t.data||void 0===t.data?"":t.data,i=null===n.data||void 0===n.data?"":n.data;return("function"==typeof r.localeCompare?r.localeCompare(i):r-i)*("asc"===e?1:-1)}}(n));for(var o=[],s=[],u=0;u<a.length;u++){var c=a[u];o.push(i[c.position]),c.rowSelected&&s.push({index:u,dataIndex:i[c.position].index})}return{data:o,selectedRows:{lookup:he(s),data:s}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.className,a=t.title,u=this.state,c=u.announceText,d=u.activeColumn,p=u.data,m=u.displayData,v=u.columns,g=u.page,b=u.filterData,y=u.filterList,w=u.selectedRows,x=u.previousSelectedRow,O=u.expandedRows,k=u.searchText,E=(u.serverSideFilterList,this.state.count||m.length),_=this.options.pagination?this.state.rowsPerPage:m.length,S=function(e,t){return e.title=t,!f(l($e,(function(t){return e[t]})))}(this.options,a),j=v.map((function(t){return{name:t.name,filterType:t.filterType||e.options.filterType}})),C=this.options.responsive,A=n.paper+" "+r,T=void 0,N=void 0;switch(C){case"scroll":N=n.responsiveScroll,T="499px";break;case"scrollMaxHeight":N=n.responsiveScrollMaxHeight,T="499px";break;case"scrollFullHeight":N=n.responsiveScrollFullHeight,T="none";break;case"scrollFullHeightFullWidth":N=n.responsiveScrollFullHeight,A=n.paperResponsiveScrollFullHeightFullWidth+" "+r;break;case"stacked":N=n.responsiveStacked,T="none";break;case"stackedFullWidth":N=n.responsiveStackedFullWidth,A=n.paperResponsiveScrollFullHeightFullWidth+" "+r,T="none"}var R=this.options.setTableProps?this.options.setTableProps():{},M=s(n.tableRoot,R.className);return delete R.className,h.createElement(i,{elevation:this.options.elevation,ref:this.tableContent,className:A},w.data.length&&!0!==this.options.disableToolbarSelect?h.createElement(qe,{options:this.options,selectedRows:w,onRowsDelete:this.selectRowDelete,displayData:m,selectRowUpdate:this.selectRowUpdate}):S&&h.createElement(We,{columns:v,displayData:m,data:p,filterData:b,filterList:y,filterUpdate:this.filterUpdate,options:this.options,resetFilters:this.resetFilters,searchText:k,searchTextUpdate:this.searchTextUpdate,searchClose:this.searchClose,tableRef:this.getTableContentRef,title:a,toggleViewColumn:this.toggleViewColumn,setTableAction:this.setTableAction}),h.createElement(Oe,{options:this.options,serverSideFilterList:this.props.options.serverSideFilterList||[],filterListRenderers:v.map((function(e){return e.customFilterListOptions&&e.customFilterListOptions.render?e.customFilterListOptions.render:e.customFilterListRender?e.customFilterListRender:function(e){return e}})),customFilterListUpdate:v.map((function(e){return e.customFilterListOptions&&e.customFilterListOptions.update?e.customFilterListOptions.update:null})),filterList:y,filterUpdate:this.filterUpdate,columnNames:j}),h.createElement("div",{style:{position:"relative",maxHeight:T},className:N},this.options.resizableColumns&&h.createElement(Me,{key:E,updateDividers:function(t){return e.updateDividers=t},setResizeable:function(t){return e.setHeadResizeable=t}}),h.createElement(o,te({ref:function(t){return e.tableRef=t},tabIndex:"0",role:"grid",className:M},R),h.createElement("caption",{className:n.caption},a),h.createElement(Ce,{columns:v,activeColumn:d,data:m,count:E,page:g,rowsPerPage:_,handleHeadUpdateRef:function(t){return e.updateToolbarSelect=t},selectedRows:w,selectRowUpdate:this.selectRowUpdate,toggleSort:this.toggleSortColumn,setCellRef:this.setHeadCellRef,options:this.options}),h.createElement(we,{data:m,count:E,columns:v,page:g,rowsPerPage:_,selectedRows:w,selectRowUpdate:this.selectRowUpdate,previousSelectedRow:x,expandedRows:O,toggleExpandRow:this.toggleExpandRow,options:this.options,filterList:y}))),h.createElement(Ne,{options:this.options,page:g,rowCount:E,rowsPerPage:_,changeRowsPerPage:this.changeRowsPerPage,changePage:this.changePage}),h.createElement("div",{className:n.liveAnnounce,"aria-live":"polite"},c))}}]),t}(h.Component);Ke.defaultProps={title:"",options:{},data:[],columns:[]};var Xe=a.withStyles((function(e){return{root:{},paper:{},paperResponsiveScrollFullHeightFullWidth:{position:"absolute"},tableRoot:{outline:"none"},responsiveScroll:{overflowX:"auto",overflow:"auto",height:"100%"},responsiveScrollMaxHeight:{overflowX:"auto",overflow:"auto",height:"100%"},responsiveScrollFullHeight:{height:"100%"},responsiveStacked:ee({overflowX:"auto",overflow:"auto"},e.breakpoints.down("sm"),{overflowX:"hidden",overflow:"hidden"}),responsiveStackedFullWidth:{},caption:{position:"absolute",left:"-3000px"},liveAnnounce:{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"},"@global":{"@media print":{".datatables-noprint":{display:"none"}}}}}),{name:"MUIDataTable"})(Ke);t.default=Xe,t.Popover=De,t.TableBodyCell=ue,t.TableBody=we,t.TableBodyRow=le,t.TableFilter=Fe,t.TableFilterList=Oe,t.TableFooter=Ne,t.TableHeadCell=Ee,t.TableHead=Ce,t.TableHeadRow=Se,t.TablePagination=Te,t.TableResize=Me,t.TableSearch=Be,t.TableSelectCell=de,t.TableToolbar=We,t.TableToolbarSelect=qe,t.TableViewCol=ze},function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var i=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:u(s(e))}function c(e){return e&&e.referenceNode?e.referenceNode:e}var l=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?l:10===e?f:l||f}function h(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===o(n,"position")?h(n):n:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null!==e.parentNode?p(e.parentNode):e}function m(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||h(e.firstElementChild)===e)}(o)?o:h(o);var s=p(e);return s.host?m(s.host,t):m(e,p(t).host)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[n]}return e[n]}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(t,"top"),i=v(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}function b(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function y(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,n=e.documentElement,r=d(10)&&getComputedStyle(n);return{height:y("Height",t,n,r),width:y("Width",t,n,r)}}var x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function _(e){return E({},e,{right:e.left+e.width,bottom:e.top+e.height})}function S(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=v(e,"top"),r=v(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(h){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?w(e.ownerDocument):{},s=a.width||e.clientWidth||i.width,u=a.height||e.clientHeight||i.height,c=e.offsetWidth-s,l=e.offsetHeight-u;if(c||l){var f=o(e);c-=b(f,"x"),l-=b(f,"y"),i.width-=c,i.height-=l}return _(i)}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(10),i="HTML"===t.nodeName,a=S(e),s=S(t),c=u(e),l=o(t),f=parseFloat(l.borderTopWidth),h=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=_({top:a.top-s.top-f,left:a.left-s.left-h,width:a.width,height:a.height});if(p.marginTop=0,p.marginLeft=0,!r&&i){var m=parseFloat(l.marginTop),v=parseFloat(l.marginLeft);p.top-=f-m,p.bottom-=f-m,p.left-=h-v,p.right-=h-v,p.marginTop=m,p.marginLeft=v}return(r&&!n?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(p=g(p,t)),p}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=j(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:v(n),s=t?0:v(n,"left"),u={top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:a};return _(u)}function A(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===o(e,"position"))return!0;var n=s(e);return!!n&&A(n)}function T(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function N(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?T(e):m(e,c(t));if("viewport"===r)a=C(o,i);else{var l=void 0;"scrollParent"===r?"BODY"===(l=u(s(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===r?e.ownerDocument.documentElement:r;var f=j(l,o,i);if("HTML"!==l.nodeName||A(o))a=f;else{var d=w(e.ownerDocument),h=d.height,p=d.width;a.top+=f.top-f.marginTop,a.bottom=h+f.top,a.left+=f.left-f.marginLeft,a.right=p+f.left}}var v="number"===typeof(n=n||0);return a.left+=v?n:n.left||0,a.top+=v?n:n.top||0,a.right-=v?n:n.right||0,a.bottom-=v?n:n.bottom||0,a}function R(e){return e.width*e.height}function M(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=N(n,r,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},u=Object.keys(s).map((function(e){return E({key:e},s[e],{area:R(s[e])})})).sort((function(e,t){return t.area-e.area})),c=u.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:u[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function D(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?T(t):m(t,c(n));return j(n,i,r)}function I(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function F(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function P(e,t,n){n=n.split("-")[0];var r=I(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",u=a?"height":"width",c=a?"width":"height";return i[o]=t[o]+t[u]/2-r[u]/2,i[s]=n===s?t[s]-r[c]:t[F(s)],i}function z(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function L(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=z(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&a(n)&&(t.offsets.popper=_(t.offsets.popper),t.offsets.reference=_(t.offsets.reference),t=n(t,e))})),t}function B(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=D(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=M(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=P(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=L(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function U(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function W(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],a=i?""+i+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function V(){return this.state.isDestroyed=!0,U(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[W("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function q(e){var t=e.ownerDocument;return t?t.defaultView:window}function H(e,t,n,r){n.updateBound=r,q(e).addEventListener("resize",n.updateBound,{passive:!0});var i=u(e);return function e(t,n,r,i){var a="BODY"===t.nodeName,o=a?t.ownerDocument.defaultView:t;o.addEventListener(n,r,{passive:!0}),a||e(u(o.parentNode),n,r,i),i.push(o)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function G(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}function $(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,q(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function K(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function X(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&K(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var Y=n&&/Firefox/i.test(navigator.userAgent);function Z(e,t,n){var r=z(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Q=J.slice(3);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Q.indexOf(e),r=Q.slice(n+1).concat(Q.slice(0,n));return t?r.reverse():r}var te="flip",ne="clockwise",re="counterclockwise";function ie(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(z(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[o.slice(0,s).concat([o[s].split(u)[0]]),[o[s].split(u)[1]].concat(o.slice(s+1))]:[o];return(c=c.map((function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}return _(s)[t]/100*a}if("vh"===o||"vw"===o){return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a}return a}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){K(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var ae={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:k({},u,a[u]),end:k({},u,a[u]+a[c]-o[c])};e.offsets.popper=E({},o,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=r.split("-")[0],u=void 0;return u=K(+n)?[+n,0]:ie(n,a,o,s),"left"===s?(a.top+=u[0],a.left-=u[1]):"right"===s?(a.top+=u[0],a.left+=u[1]):"top"===s?(a.left+=u[0],a.top-=u[1]):"bottom"===s&&(a.left+=u[0],a.top+=u[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||h(e.instance.popper);e.instance.reference===n&&(n=h(n));var r=W("transform"),i=e.instance.popper.style,a=i.top,o=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=N(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=o,i[r]=s,t.boundaries=u;var c=t.priority,l=e.offsets.popper,f={primary:function(e){var n=l[e];return l[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(l[e],u[e])),k({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(l[n],u[e]-("right"===e?l.width:l.height))),k({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=E({},l,f[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",u=o?"left":"top",c=o?"width":"height";return n[s]<a(r[u])&&(e.offsets.popper[u]=a(r[u])-n[c]),n[u]>a(r[s])&&(e.offsets.popper[u]=a(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Z(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,s=a.popper,u=a.reference,c=-1!==["left","right"].indexOf(i),l=c?"height":"width",f=c?"Top":"Left",d=f.toLowerCase(),h=c?"left":"top",p=c?"bottom":"right",m=I(r)[l];u[p]-m<s[d]&&(e.offsets.popper[d]-=s[d]-(u[p]-m)),u[d]+m>s[p]&&(e.offsets.popper[d]+=u[d]+m-s[p]),e.offsets.popper=_(e.offsets.popper);var v=u[d]+u[l]/2-m/2,g=o(e.instance.popper),b=parseFloat(g["margin"+f]),y=parseFloat(g["border"+f+"Width"]),w=v-e.offsets.popper[d]-b-y;return w=Math.max(Math.min(s[l]-m,w),0),e.arrowElement=r,e.offsets.arrow=(k(n={},d,Math.round(w)),k(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(U(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=N(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=F(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case te:o=[r,i];break;case ne:o=ee(r);break;case re:o=ee(r,!0);break;default:o=t.behavior}return o.forEach((function(s,u){if(r!==s||o.length===u+1)return e;r=e.placement.split("-")[0],i=F(r);var c=e.offsets.popper,l=e.offsets.reference,f=Math.floor,d="left"===r&&f(c.right)>f(l.left)||"right"===r&&f(c.left)<f(l.right)||"top"===r&&f(c.bottom)>f(l.top)||"bottom"===r&&f(c.top)<f(l.bottom),h=f(c.left)<f(n.left),p=f(c.right)>f(n.right),m=f(c.top)<f(n.top),v=f(c.bottom)>f(n.bottom),g="left"===r&&h||"right"===r&&p||"top"===r&&m||"bottom"===r&&v,b=-1!==["top","bottom"].indexOf(r),y=!!t.flipVariations&&(b&&"start"===a&&h||b&&"end"===a&&p||!b&&"start"===a&&m||!b&&"end"===a&&v),w=!!t.flipVariationsByContent&&(b&&"start"===a&&p||b&&"end"===a&&h||!b&&"start"===a&&v||!b&&"end"===a&&m),x=y||w;(d||g||x)&&(e.flipped=!0,(d||g)&&(r=o[u+1]),x&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=E({},e.offsets.popper,P(e.instance.popper,e.offsets.reference,e.placement)),e=L(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0),e.placement=F(t),e.offsets.popper=_(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Z(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=z(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,a=z(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=h(e.instance.popper),u=S(s),c={position:i.position},l=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,s=function(e){return e},u=a(i.width),c=a(r.width),l=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),d=t?l||f||u%2===c%2?a:o:s,h=t?a:s;return{left:d(u%2===1&&c%2===1&&!f&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!Y),f="bottom"===n?"top":"bottom",d="right"===r?"left":"right",p=W("transform"),m=void 0,v=void 0;if(v="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,m="right"===d?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,o&&p)c[p]="translate3d("+m+"px, "+v+"px, 0)",c[f]=0,c[d]=0,c.willChange="transform";else{var g="bottom"===f?-1:1,b="right"===d?-1:1;c[f]=v*g,c[d]=m*b,c.willChange=f+", "+d}var y={"x-placement":e.placement};return e.attributes=E({},y,e.attributes),e.styles=E({},c,e.styles),e.arrowStyles=E({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return X(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&X(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var a=D(i,t,e,n.positionFixed),o=M(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),X(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},oe=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=E({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(E({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=E({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return E({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&a(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return O(e,[{key:"update",value:function(){return B.call(this)}},{key:"destroy",value:function(){return V.call(this)}},{key:"enableEventListeners",value:function(){return G.call(this)}},{key:"disableEventListeners",value:function(){return $.call(this)}}]),e}();oe.Utils=("undefined"!==typeof window?window:e).PopperUtils,oe.placements=J,oe.Defaults=ae,t.a=oe}).call(this,n(42))},function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n(3),i=n(6),a=n(0),o=(n(8),n(230)),s=n(7),u=n(64),c=n(48),l=n(229),f=n(228),d=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7}}},h=a.createElement(f.a,null),p=a.forwardRef((function(e,t){var n=e.children,s=e.classes,f=e.IconComponent,d=void 0===f?l.a:f,p=e.input,m=void 0===p?h:p,v=e.inputProps,g=(e.variant,Object(i.a)(e,["children","classes","IconComponent","input","inputProps","variant"])),b=Object(c.a)(),y=Object(u.a)({props:e,muiFormControl:b,states:["variant"]});return a.cloneElement(m,Object(r.a)({inputComponent:o.a,inputProps:Object(r.a)({children:n,classes:s,IconComponent:d,variant:y.variant,type:void 0},v,{},m?m.props.inputProps:{}),ref:t},g))}));p.muiName="Select",t.a=Object(s.a)(d,{name:"MuiNativeSelect"})(p)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(58),n(8),n(4)),s=n(7),u=n(285),c=n(636),l=n(26),f=n(38),d=n(25),h={vertical:"top",horizontal:"right"},p={vertical:"top",horizontal:"left"},m=a.forwardRef((function(e,t){var n=e.autoFocus,s=void 0===n||n,m=e.children,v=e.classes,g=e.disableAutoFocusItem,b=void 0!==g&&g,y=e.MenuListProps,w=void 0===y?{}:y,x=e.onClose,O=e.onEntering,k=e.open,E=e.PaperProps,_=void 0===E?{}:E,S=e.PopoverClasses,j=e.transitionDuration,C=void 0===j?"auto":j,A=e.variant,T=void 0===A?"selectedMenu":A,N=Object(i.a)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),R=Object(d.a)(),M=s&&!b&&k,D=a.useRef(null),I=a.useRef(null),F=-1;a.Children.map(m,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("menu"!==T&&e.props.selected||-1===F)&&(F=t))}));var P=a.Children.map(m,(function(e,t){return t===F?a.cloneElement(e,{ref:function(t){I.current=l.findDOMNode(t),Object(f.a)(e.ref,t)}}):e}));return a.createElement(u.a,Object(r.a)({getContentAnchorEl:function(){return I.current},classes:S,onClose:x,onEntering:function(e,t){D.current&&D.current.adjustStyleForScrollbar(e,R),O&&O(e,t)},anchorOrigin:"rtl"===R.direction?h:p,transformOrigin:"rtl"===R.direction?h:p,PaperProps:Object(r.a)({},_,{classes:Object(r.a)({},_.classes,{root:v.paper})}),open:k,ref:t,transitionDuration:C},N),a.createElement(c.a,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),x&&x(e,"tabKeyDown"))},actions:D,autoFocus:s&&(-1===F||b),autoFocusItem:M,variant:T},w,{className:Object(o.a)(v.list,w.className)}),P))}));t.a=Object(s.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(m)},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";(function(e){var r=n(37),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i?r.a.Buffer:void 0,s=o?o.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(267)(e))},function(e,t,n){"use strict";var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),a=(0,r(n(59)).default)(i.default.createElement("path",{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"}),"Functions");t.default=a},function(e,t,n){"use strict";var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),a=(0,r(n(59)).default)(i.default.createElement("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree");t.default=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return ue}));var r=n(13),i=n.n(r);function a(e,t){for(var n=0,r=0;r<e.length;r++)n+=(e[r]-t[r])*(e[r]-t[r]);return n}var o={distanceFunction:a};function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,r=n.distanceFunction||o.distanceFunction,i=n.similarityFunction||o.similarityFunction,a=-1;if("function"===typeof i)for(var s=Number.MIN_VALUE,u=0;u<e.length;u++){var c=i(t,e[u]);c>s&&(s=c,a=u)}else{if("function"!==typeof r)throw new Error("A similarity or distance function it's required");for(var l=Number.MAX_VALUE,f=0;f<e.length;f++){var d=r(t,e[f]);d<l&&(l=d,a=f)}}return a}function u(e,t,n,r){for(var i=0;i<e.length;i++)n[i]=s(t,e[i],{distanceFunction:r});return n}var c=n(11),l=n(12);function f(e,t){var n=65535&(e>>>=0);return((e-n)*(t>>>=0)>>>0)+n*t>>>0}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();Object(c.a)(this,e),this.state=new Uint32Array(4),this.init(t),this.random=this.getFloat.bind(this)}return Object(l.a)(e,[{key:"getUint32",value:function(){return this.nextState(),this.state[3]+this.state[2]>>>0}},{key:"getFloat",value:function(){return(this.getUint32()>>>8)*(1/16777216)}},{key:"init",value:function(e){if(!Number.isInteger(e))throw new TypeError("seed must be an integer");this.state[0]=e,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(var t=1;t<8;t++)this.state[3&t]^=t+f(1812433253,this.state[t-1&3]^this.state[t-1&3]>>>30>>>0)>>>0;this.periodCertification();for(var n=0;n<8;n++)this.nextState()}},{key:"periodCertification",value:function(){0===this.state[0]&&0===this.state[1]&&0===this.state[2]&&0===this.state[3]&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}},{key:"nextState",value:function(){var e=this.state[0];e^=e<<15,e^=e>>>18,e^=this.state[3]<<11,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=e}}]),e}();function h(e){for(var t=[],n=0;n<e;n++)t.push(n);return t}function p(e,t,n){var r=t();if(n){for(var i=0;r>n[i];)i++;return i}return Math.floor(r*e)}var m=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.random,a=r.size,o=void 0===a?1:a,s=r.replace,u=void 0!==s&&s,c=r.probabilities;if(t="number"===typeof e?h(e):e.slice(),c){if(!u)throw new Error("choice with probabilities and no replacement is not implemented");if(c.length!==t.length)throw new Error("the length of probabilities option should be equal to the number of choices");n=[c[0]];for(var l=1;l<c.length;l++)n[l]=n[l-1]+c[l];if(Math.abs(1-n[n.length-1])>1e-8)throw new Error("probabilities should sum to 1, but instead sums to ".concat(n[n.length-1]))}if(!1===u&&o>t.length)throw new Error("size option is too large");for(var f=[],d=0;d<o;d++){var m=p(t.length,i,n);f.push(t[m]),u||t.splice(m,1)}return f},v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random;if(Object(c.a)(this,e),"number"===typeof t){var n=new d(t);this.randomGenerator=n.random}else this.randomGenerator=t}return Object(l.a)(e,[{key:"choice",value:function(e,t){return m(e,t,this.randomGenerator)}},{key:"random",value:function(){return this.randomGenerator()}},{key:"randInt",value:function(e,t){return void 0===t&&(t=e,e=0),e+Math.floor(this.randomGenerator()*(t-e))}},{key:"randomSample",value:function(e){for(var t=[],n=0;n<e;n++)t.push(this.random());return t}}]),e}(),g=n(168),b=n(55),y=n(15),w=n(16),x=n(111),O=n.n(x);var k=function(e){if(!O()(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");for(var t=e[0],n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t};var E=function(e){if(!O()(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");for(var t=e[0],n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t};var _=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!O()(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!O()(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(e.length);var r=E(e),i=k(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=n.min,o=void 0===a?n.autoMinMax?r:0:a,s=n.max,u=void 0===s?n.autoMinMax?i:1:s;if(o>=u)throw new RangeError("min option must be smaller than max option");for(var c=(u-o)/(i-r),l=0;l<e.length;l++)t[l]=(e[l]-r)*c+o;return t};function S(e,t,n){var r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function j(e,t,n){var r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function C(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function A(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function T(e,t){if("object"!==typeof t)throw new TypeError("unexpected type for row indices");if(t.some((function(t){return t<0||t>=e.rows})))throw new RangeError("row indices are out of range");return Array.isArray(t)||(t=Array.from(t)),t}function N(e,t){if("object"!==typeof t)throw new TypeError("unexpected type for column indices");if(t.some((function(t){return t<0||t>=e.columns})))throw new RangeError("column indices are out of range");return Array.isArray(t)||(t=Array.from(t)),t}function R(e,t,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(D("startRow",t),D("endRow",n),D("startColumn",r),D("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function M(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0;r<e;r++)n.push(t);return n}function D(e,t){if("number"!==typeof t)throw new TypeError("".concat(e," must be a number"))}function I(e,t,n){for(var r=e.rows,i=e.columns,a=[],o=0;o<r;o++){for(var s=0,u=0,c=0,l=0;l<i;l++)s+=c=e.get(o,l)-n[o],u+=c*c;t?a.push((u-s*s/i)/(i-1)):a.push((u-s*s/i)/i)}return a}function F(e,t,n){for(var r=e.rows,i=e.columns,a=[],o=0;o<i;o++){for(var s=0,u=0,c=0,l=0;l<r;l++)s+=c=e.get(l,o)-n[o],u+=c*c;t?a.push((u-s*s/r)/(r-1)):a.push((u-s*s/r)/r)}return a}function P(e,t,n){for(var r=e.rows,i=e.columns,a=r*i,o=0,s=0,u=0,c=0;c<r;c++)for(var l=0;l<i;l++)o+=u=e.get(c,l)-n,s+=u*u;return t?(s-o*o/a)/(a-1):(s-o*o/a)/a}function z(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}function L(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}function B(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}function U(e){for(var t=[],n=0;n<e.rows;n++){for(var r=0,i=0;i<e.columns;i++)r+=Math.pow(e.get(n,i),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}function W(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}function V(e){for(var t=[],n=0;n<e.columns;n++){for(var r=0,i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}function q(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}function H(e){for(var t=e.size-1,n=0,r=0;r<e.columns;r++)for(var i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/t;return Math.sqrt(n)}function G(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}function $(e){var t=String(e);if(t.length<=8)return t.padEnd(8," ");var n=e.toPrecision(6);if(n.length<=8)return n;var r=e.toExponential(6),i=r.indexOf("e"),a=r.substring(i);return r.substring(0,8-a.length)+a}var K=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"apply",value:function(e){if("function"!==typeof e)throw new TypeError("callback must be a function");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.call(this,t,n);return this}},{key:"to1DArray",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"to2DArray",value:function(){for(var e=[],t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++)e[t].push(this.get(t,n))}return e}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);e++}return r}},{key:"isReducedEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);for(var a=t+1;a<this.rows;a++)0!==this.get(e,a)&&(r=!1);e++}return r}},{key:"echelonForm",value:function(){for(var e=this.clone(),t=0,n=0;t<e.rows&&n<e.columns;){for(var r=t,i=t;i<e.rows;i++)e.get(i,n)>e.get(r,n)&&(r=i);if(0===e.get(r,n))n++;else{e.swapRows(t,r);for(var a=e.get(t,n),o=n;o<e.columns;o++)e.set(t,o,e.get(t,o)/a);for(var s=t+1;s<e.rows;s++){var u=e.get(s,n)/e.get(t,n);e.set(s,n,0);for(var c=n+1;c<e.columns;c++)e.set(s,c,e.get(s,c)-e.get(t,c)*u)}t++,n++}}return e}},{key:"reducedEchelonForm",value:function(){for(var e=this.echelonForm(),t=e.columns,n=e.rows,r=n-1;r>=0;)if(0===e.maxRow(r))r--;else{for(var i=0,a=!1;i<n&&!1===a;)1===e.get(r,i)?a=!0:i++;for(var o=0;o<r;o++)for(var s=e.get(o,i),u=i;u<t;u++){var c=e.get(o,u)-s*e.get(r,u);e.set(o,u,c)}r--}return e}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.rows,n=void 0===t?1:t,r=e.columns,i=void 0===r?1:r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(i)||i<=0)throw new TypeError("columns must be a positive integer");for(var a=new J(this.rows*n,this.columns*i),o=0;o<n;o++)for(var s=0;s<i;s++)a.setSubMatrix(this,this.rows*o,this.columns*s);return a}},{key:"fill",value:function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,e);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(e){S(this,e);for(var t=[],n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"getRowVector",value:function(e){return J.rowVector(this.getRow(e))}},{key:"setRow",value:function(e,t){S(this,e),t=C(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}},{key:"swapRows",value:function(e,t){S(this,e),S(this,t);for(var n=0;n<this.columns;n++){var r=this.get(e,n);this.set(e,n,this.get(t,n)),this.set(t,n,r)}return this}},{key:"getColumn",value:function(e){j(this,e);for(var t=[],n=0;n<this.rows;n++)t.push(this.get(n,e));return t}},{key:"getColumnVector",value:function(e){return J.columnVector(this.getColumn(e))}},{key:"setColumn",value:function(e,t){j(this,e),t=A(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}},{key:"swapColumns",value:function(e,t){j(this,e),j(this,t);for(var n=0;n<this.rows;n++){var r=this.get(n,e);this.set(n,e,this.get(n,t)),this.set(n,t,r)}return this}},{key:"addRowVector",value:function(e){e=C(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[n]);return this}},{key:"subRowVector",value:function(e){e=C(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[n]);return this}},{key:"mulRowVector",value:function(e){e=C(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[n]);return this}},{key:"divRowVector",value:function(e){e=C(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[n]);return this}},{key:"addColumnVector",value:function(e){e=A(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[t]);return this}},{key:"subColumnVector",value:function(e){e=A(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[t]);return this}},{key:"mulColumnVector",value:function(e){e=A(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[t]);return this}},{key:"divColumnVector",value:function(e){e=A(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[t]);return this}},{key:"mulRow",value:function(e,t){S(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}},{key:"mulColumn",value:function(e,t){j(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}},{key:"max",value:function(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxIndex",value:function(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"min",value:function(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minIndex",value:function(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"maxRow",value:function(e){S(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxRowIndex",value:function(e){S(this,e);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),n[1]=r);return n}},{key:"minRow",value:function(e){S(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minRowIndex",value:function(e){S(this,e);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),n[1]=r);return n}},{key:"maxColumn",value:function(e){j(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}},{key:"maxColumnIndex",value:function(e){j(this,e);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r);return n}},{key:"minColumn",value:function(e){j(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}},{key:"minColumnIndex",value:function(e){j(this,e);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r);return n}},{key:"diag",value:function(){for(var e=Math.min(this.rows,this.columns),t=[],n=0;n<e;n++)t.push(this.get(n,n));return t}},{key:"norm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",t=0;if("max"===e)return this.max();if("frobenius"===e){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t+=this.get(n,r)*this.get(n,r);return Math.sqrt(t)}throw new RangeError("unknown norm type: ".concat(e))}},{key:"cumulativeSum",value:function(){for(var e=0,t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e+=this.get(t,n),this.set(t,n,e);return this}},{key:"dot",value:function(t){e.isMatrix(t)&&(t=t.to1DArray());var n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,i=0;i<n.length;i++)r+=n[i]*t[i];return r}},{key:"mmul",value:function(e){e=J.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.columns,i=new J(t,r),a=new Float64Array(n),o=0;o<r;o++){for(var s=0;s<n;s++)a[s]=e.get(s,o);for(var u=0;u<t;u++){for(var c=0,l=0;l<n;l++)c+=this.get(u,l)*a[l];i.set(u,o,c)}}return i}},{key:"strassen2x2",value:function(e){e=J.checkMatrix(e);var t=new J(2,2),n=this.get(0,0),r=e.get(0,0),i=this.get(0,1),a=e.get(0,1),o=this.get(1,0),s=e.get(1,0),u=this.get(1,1),c=e.get(1,1),l=(n+u)*(r+c),f=(o+u)*r,d=n*(a-c),h=u*(s-r),p=(n+i)*c,m=l+h-p+(i-u)*(s+c),v=d+p,g=f+h,b=l-f+d+(o-n)*(r+a);return t.set(0,0,m),t.set(0,1,v),t.set(1,0,g),t.set(1,1,b),t}},{key:"strassen3x3",value:function(e){e=J.checkMatrix(e);var t=new J(3,3),n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),a=this.get(1,0),o=this.get(1,1),s=this.get(1,2),u=this.get(2,0),c=this.get(2,1),l=this.get(2,2),f=e.get(0,0),d=e.get(0,1),h=e.get(0,2),p=e.get(1,0),m=e.get(1,1),v=e.get(1,2),g=e.get(2,0),b=e.get(2,1),y=e.get(2,2),w=(n-a)*(-d+m),x=(-n+a+o)*(f-d+m),O=(a+o)*(-f+d),k=n*f,E=(-n+u+c)*(f-h+v),_=(-n+u)*(h-v),S=(u+c)*(-f+h),j=(-i+c+l)*(m+g-b),C=(i-l)*(m-b),A=i*g,T=(c+l)*(-g+b),N=(-i+o+s)*(v+g-y),R=(i-s)*(v-y),M=(o+s)*(-g+y),D=k+A+r*p,I=(n+r+i-a-o-c-l)*m+x+O+k+j+A+T,F=k+E+S+(n+r+i-o-s-u-c)*v+A+N+M,P=w+o*(-f+d+p-m-v-g+y)+x+k+A+N+R,z=w+x+O+k+s*b,L=A+N+R+M+a*h,B=k+E+_+c*(-f+h+p-m-v-g+b)+j+C+A,U=j+C+A+T+u*d,W=k+E+_+S+l*y;return t.set(0,0,D),t.set(0,1,I),t.set(0,2,F),t.set(1,0,P),t.set(1,1,z),t.set(1,2,L),t.set(2,0,B),t.set(2,1,U),t.set(2,2,W),t}},{key:"mmulStrassen",value:function(t){t=J.checkMatrix(t);var n=this.clone(),r=n.rows,i=n.columns,a=t.rows,o=t.columns;function s(t,n,r){var i=t.rows,a=t.columns;if(i===n&&a===r)return t;var o=e.zeros(n,r);return o=o.setSubMatrix(t,0,0)}i!==a&&console.warn("Multiplying ".concat(r," x ").concat(i," and ").concat(a," x ").concat(o," matrix: dimensions do not match."));var u=Math.max(r,a),c=Math.max(i,o);return function t(n,r,i,a){if(i<=512||a<=512)return n.mmul(r);i%2===1&&a%2===1?(n=s(n,i+1,a+1),r=s(r,i+1,a+1)):i%2===1?(n=s(n,i+1,a),r=s(r,i+1,a)):a%2===1&&(n=s(n,i,a+1),r=s(r,i,a+1));var o=parseInt(n.rows/2,10),u=parseInt(n.columns/2,10),c=n.subMatrix(0,o-1,0,u-1),l=r.subMatrix(0,o-1,0,u-1),f=n.subMatrix(0,o-1,u,n.columns-1),d=r.subMatrix(0,o-1,u,r.columns-1),h=n.subMatrix(o,n.rows-1,0,u-1),p=r.subMatrix(o,r.rows-1,0,u-1),m=n.subMatrix(o,n.rows-1,u,n.columns-1),v=r.subMatrix(o,r.rows-1,u,r.columns-1),g=t(e.add(c,m),e.add(l,v),o,u),b=t(e.add(h,m),l,o,u),y=t(c,e.sub(d,v),o,u),w=t(m,e.sub(p,l),o,u),x=t(e.add(c,f),v,o,u),O=t(e.sub(h,c),e.add(l,d),o,u),k=t(e.sub(f,m),e.add(p,v),o,u),E=e.add(g,w);E.sub(x),E.add(k);var _=e.add(y,x),S=e.add(b,w),j=e.sub(g,b);j.add(y),j.add(O);var C=e.zeros(2*E.rows,2*E.columns);return(C=(C=(C=(C=C.setSubMatrix(E,0,0)).setSubMatrix(_,E.rows,0)).setSubMatrix(S,0,E.columns)).setSubMatrix(j,E.rows,E.columns)).subMatrix(0,i-1,0,a-1)}(n=s(n,u,c),t=s(t,u,c),u,c)}},{key:"scaleRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var a=new J(this.rows,this.columns),o=0;o<this.rows;o++){var s=this.getRow(o);_(s,{min:n,max:i,output:s}),a.setRow(o,s)}return a}},{key:"scaleColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var a=new J(this.rows,this.columns),o=0;o<this.columns;o++){var s=this.getColumn(o);_(s,{min:n,max:i,output:s}),a.setColumn(o,s)}return a}},{key:"flipRows",value:function(){for(var e=Math.ceil(this.columns/2),t=0;t<this.rows;t++)for(var n=0;n<e;n++){var r=this.get(t,n),i=this.get(t,this.columns-1-n);this.set(t,n,i),this.set(t,this.columns-1-n,r)}return this}},{key:"flipColumns",value:function(){for(var e=Math.ceil(this.rows/2),t=0;t<this.columns;t++)for(var n=0;n<e;n++){var r=this.get(n,t),i=this.get(this.rows-1-n,t);this.set(n,t,i),this.set(this.rows-1-n,t,r)}return this}},{key:"kroneckerProduct",value:function(e){e=J.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.rows,i=e.columns,a=new J(t*r,n*i),o=0;o<t;o++)for(var s=0;s<n;s++)for(var u=0;u<r;u++)for(var c=0;c<i;c++)a.set(r*o+u,i*s+c,this.get(o,s)*e.get(u,c));return a}},{key:"transpose",value:function(){for(var e=new J(this.columns,this.rows),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(n,t,this.get(t,n));return e}},{key:"sortRows",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}},{key:"sortColumns",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}},{key:"subMatrix",value:function(e,t,n,r){R(this,e,t,n,r);for(var i=new J(t-e+1,r-n+1),a=e;a<=t;a++)for(var o=n;o<=r;o++)i.set(a-e,o-n,this.get(a,o));return i}},{key:"subMatrixRow",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||t<0||t>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var r=new J(e.length,n-t+1),i=0;i<e.length;i++)for(var a=t;a<=n;a++){if(e[i]<0||e[i]>=this.rows)throw new RangeError("Row index out of range: ".concat(e[i]));r.set(i,a-t,this.get(e[i],a))}return r}},{key:"subMatrixColumn",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||t<0||t>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var r=new J(n-t+1,e.length),i=0;i<e.length;i++)for(var a=t;a<=n;a++){if(e[i]<0||e[i]>=this.columns)throw new RangeError("Column index out of range: ".concat(e[i]));r.set(a-t,i,this.get(a,e[i]))}return r}},{key:"setSubMatrix",value:function(e,t,n){R(this,t,t+(e=J.checkMatrix(e)).rows-1,n,n+e.columns-1);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this.set(t+r,n+i,e.get(r,i));return this}},{key:"selection",value:function(e,t){for(var n=function(e,t,n){return{row:T(e,t),column:N(e,n)}}(this,e,t),r=new J(e.length,t.length),i=0;i<n.row.length;i++)for(var a=n.row[i],o=0;o<n.column.length;o++){var s=n.column[o];r.set(i,o,this.get(a,s))}return r}},{key:"trace",value:function(){for(var e=Math.min(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}},{key:"clone",value:function(){for(var e=new J(this.rows,this.columns),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(t,n,this.get(t,n));return e}},{key:"sum",value:function(e){switch(e){case"row":return function(e){for(var t=M(e.rows),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}(this);case"column":return function(e){for(var t=M(e.columns),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=0,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t+=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"product",value:function(e){switch(e){case"row":return function(e){for(var t=M(e.rows,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}(this);case"column":return function(e){for(var t=M(e.columns,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=1,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t*=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"mean",value:function(e){var t=this.sum(e);switch(e){case"row":for(var n=0;n<this.rows;n++)t[n]/=this.columns;return t;case"column":for(var r=0;r<this.columns;r++)t[r]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error("invalid option: ".concat(e))}}},{key:"variance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.unbiased,i=void 0===r||r,a=n.mean,o=void 0===a?this.mean(e):a;if("boolean"!==typeof i)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!Array.isArray(o))throw new TypeError("mean must be an array");return I(this,i,o);case"column":if(!Array.isArray(o))throw new TypeError("mean must be an array");return F(this,i,o);case void 0:if("number"!==typeof o)throw new TypeError("mean must be a number");return P(this,i,o);default:throw new Error("invalid option: ".concat(e))}}},{key:"standardDeviation",value:function(e,t){"object"===typeof e&&(t=e,e=void 0);var n=this.variance(e,t);if(void 0===e)return Math.sqrt(n);for(var r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}},{key:"center",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.center,i=void 0===r?this.mean(e):r;switch(e){case"row":if(!Array.isArray(i))throw new TypeError("center must be an array");return z(this,i),this;case"column":if(!Array.isArray(i))throw new TypeError("center must be an array");return L(this,i),this;case void 0:if("number"!==typeof i)throw new TypeError("center must be a number");return B(this,i),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t.scale;switch(e){case"row":if(void 0===n)n=U(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return W(this,n),this;case"column":if(void 0===n)n=V(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return q(this,n),this;case void 0:if(void 0===n)n=H(this);else if("number"!==typeof n)throw new TypeError("scale must be a number");return G(this,n),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"size",get:function(){return this.rows*this.columns}}],[{key:"from1DArray",value:function(e,t,n){if(e*t!==n.length)throw new RangeError("data length does not match given dimensions");for(var r=new J(e,t),i=0;i<e;i++)for(var a=0;a<t;a++)r.set(i,a,n[i*t+a]);return r}},{key:"rowVector",value:function(e){for(var t=new J(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}},{key:"columnVector",value:function(e){for(var t=new J(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}},{key:"zeros",value:function(e,t){return new J(e,t)}},{key:"ones",value:function(e,t){return new J(e,t).fill(1)}},{key:"rand",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");for(var r=n.random,i=void 0===r?Math.random:r,a=new J(e,t),o=0;o<e;o++)for(var s=0;s<t;s++)a.set(o,s,i());return a}},{key:"randInt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");var r=n.min,i=void 0===r?0:r,a=n.max,o=void 0===a?1e3:a,s=n.random,u=void 0===s?Math.random:s;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(i>=o)throw new RangeError("min must be smaller than max");for(var c=o-i,l=new J(e,t),f=0;f<e;f++)for(var d=0;d<t;d++){var h=i+Math.round(u()*c);l.set(f,d,h)}return l}},{key:"eye",value:function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=1);for(var r=Math.min(e,t),i=this.zeros(e,t),a=0;a<r;a++)i.set(a,a,n);return i}},{key:"diag",value:function(e,t,n){var r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);for(var i=Math.min(r,t,n),a=this.zeros(t,n),o=0;o<i;o++)a.set(o,o,e[o]);return a}},{key:"min",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new J(n,r),a=0;a<n;a++)for(var o=0;o<r;o++)i.set(a,o,Math.min(e.get(a,o),t.get(a,o)));return i}},{key:"max",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new this(n,r),a=0;a<n;a++)for(var o=0;o<r;o++)i.set(a,o,Math.max(e.get(a,o),t.get(a,o)));return i}},{key:"checkMatrix",value:function(t){return e.isMatrix(t)?t:new J(t)}},{key:"isMatrix",value:function(e){return null!=e&&"Matrix"===e.klass}}]),e}();function X(e,t){return e-t}K.prototype.klass="Matrix","undefined"!==typeof Symbol&&(K.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=" ".repeat(2),t=" ".repeat(4);return"".concat(this.constructor.name," {\n").concat(e,"[\n").concat(t).concat(function(e,t){for(var n=e.rows,r=e.columns,i=Math.min(n,15),a=Math.min(r,10),o=[],s=0;s<i;s++){for(var u=[],c=0;c<a;c++)u.push($(e.get(s,c)));o.push("".concat(u.join(" ")))}a!==r&&(o[o.length-1]+=" ... ".concat(r-10," more columns"));i!==n&&o.push("... ".concat(n-15," more rows"));return o.join("\n".concat(t))}(this,t),"\n").concat(e,"]\n").concat(e,"rows: ").concat(this.rows,"\n").concat(e,"columns: ").concat(this.columns,"\n}")}),K.random=K.rand,K.randomInt=K.randInt,K.diagonal=K.diag,K.prototype.diagonal=K.prototype.diag,K.identity=K.eye,K.prototype.negate=K.prototype.neg,K.prototype.tensorProduct=K.prototype.kroneckerProduct;var Y,Z,J=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(e,r){var i;if(Object(c.a)(this,n),i=t.call(this),n.isMatrix(e))return Object(g.a)(i,e.clone());if(Number.isInteger(e)&&e>0){if(i.data=[],!(Number.isInteger(r)&&r>0))throw new TypeError("nColumns must be a positive integer");for(var a=0;a<e;a++)i.data.push(new Float64Array(r))}else{if(!Array.isArray(e))throw new TypeError("First argument must be a positive number or an array");var o=e;if(e=o.length,"number"!==typeof(r=o[0].length)||0===r)throw new TypeError("Data must be a 2D array with at least one element");i.data=[];for(var s=0;s<e;s++){if(o[s].length!==r)throw new RangeError("Inconsistent array dimensions");i.data.push(Float64Array.from(o[s]))}}return i.rows=e,i.columns=r,Object(g.a)(i,Object(b.a)(i))}return Object(l.a)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}},{key:"removeRow",value:function(e){if(S(this,e),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.data.splice(e,1),this.rows-=1,this}},{key:"addRow",value:function(e,t){return void 0===t&&(t=e,e=this.rows),S(this,e,!0),t=Float64Array.from(C(this,t)),this.data.splice(e,0,t),this.rows+=1,this}},{key:"removeColumn",value:function(e){if(j(this,e),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(var t=0;t<this.rows;t++){for(var n=new Float64Array(this.columns-1),r=0;r<e;r++)n[r]=this.data[t][r];for(var i=e+1;i<this.columns;i++)n[i-1]=this.data[t][i];this.data[t]=n}return this.columns-=1,this}},{key:"addColumn",value:function(e,t){"undefined"===typeof t&&(t=e,e=this.columns),j(this,e,!0),t=A(this,t);for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns+1),i=0;i<e;i++)r[i]=this.data[n][i];for(r[i++]=t[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}]),n}(K);function Q(e,t){for(var n=new J(e.rows,t.rows),r=0;r<e.rows;r++)for(var i=0;i<t.rows;i++)n.set(r,i,a(e.getRow(r),t.getRow(i)));return n}function ee(e){for(var t=[],n=0;n<e;n++)t.push(n);return t}function te(e){for(var t=[e[0]],n=1;n<e.length;n++)t[n]=t[n-1]+e[n];return t}Z=J,(Y=K).prototype.add=function(e){return"number"===typeof e?this.addS(e):this.addM(e)},Y.prototype.addS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e);return this},Y.prototype.addM=function(e){if(e=Z.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e.get(t,n));return this},Y.add=function(e,t){return new Z(e).add(t)},Y.prototype.sub=function(e){return"number"===typeof e?this.subS(e):this.subM(e)},Y.prototype.subS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e);return this},Y.prototype.subM=function(e){if(e=Z.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e.get(t,n));return this},Y.sub=function(e,t){return new Z(e).sub(t)},Y.prototype.subtract=Y.prototype.sub,Y.prototype.subtractS=Y.prototype.subS,Y.prototype.subtractM=Y.prototype.subM,Y.subtract=Y.sub,Y.prototype.mul=function(e){return"number"===typeof e?this.mulS(e):this.mulM(e)},Y.prototype.mulS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this},Y.prototype.mulM=function(e){if(e=Z.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e.get(t,n));return this},Y.mul=function(e,t){return new Z(e).mul(t)},Y.prototype.multiply=Y.prototype.mul,Y.prototype.multiplyS=Y.prototype.mulS,Y.prototype.multiplyM=Y.prototype.mulM,Y.multiply=Y.mul,Y.prototype.div=function(e){return"number"===typeof e?this.divS(e):this.divM(e)},Y.prototype.divS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e);return this},Y.prototype.divM=function(e){if(e=Z.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e.get(t,n));return this},Y.div=function(e,t){return new Z(e).div(t)},Y.prototype.divide=Y.prototype.div,Y.prototype.divideS=Y.prototype.divS,Y.prototype.divideM=Y.prototype.divM,Y.divide=Y.div,Y.prototype.mod=function(e){return"number"===typeof e?this.modS(e):this.modM(e)},Y.prototype.modS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e);return this},Y.prototype.modM=function(e){if(e=Z.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e.get(t,n));return this},Y.mod=function(e,t){return new Z(e).mod(t)},Y.prototype.modulus=Y.prototype.mod,Y.prototype.modulusS=Y.prototype.modS,Y.prototype.modulusM=Y.prototype.modM,Y.modulus=Y.mod,Y.prototype.and=function(e){return"number"===typeof e?this.andS(e):this.andM(e)},Y.prototype.andS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e);return this},Y.prototype.andM=function(e){if(e=Z.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e.get(t,n));return this},Y.and=function(e,t){return new Z(e).and(t)},Y.prototype.or=function(e){return"number"===typeof e?this.orS(e):this.orM(e)},Y.prototype.orS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e);return this},Y.prototype.orM=function(e){if(e=Z.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e.get(t,n));return this},Y.or=function(e,t){return new Z(e).or(t)},Y.prototype.xor=function(e){return"number"===typeof e?this.xorS(e):this.xorM(e)},Y.prototype.xorS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e);return this},Y.prototype.xorM=function(e){if(e=Z.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e.get(t,n));return this},Y.xor=function(e,t){return new Z(e).xor(t)},Y.prototype.leftShift=function(e){return"number"===typeof e?this.leftShiftS(e):this.leftShiftM(e)},Y.prototype.leftShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e);return this},Y.prototype.leftShiftM=function(e){if(e=Z.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e.get(t,n));return this},Y.leftShift=function(e,t){return new Z(e).leftShift(t)},Y.prototype.signPropagatingRightShift=function(e){return"number"===typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},Y.prototype.signPropagatingRightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e);return this},Y.prototype.signPropagatingRightShiftM=function(e){if(e=Z.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e.get(t,n));return this},Y.signPropagatingRightShift=function(e,t){return new Z(e).signPropagatingRightShift(t)},Y.prototype.rightShift=function(e){return"number"===typeof e?this.rightShiftS(e):this.rightShiftM(e)},Y.prototype.rightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e);return this},Y.prototype.rightShiftM=function(e){if(e=Z.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e.get(t,n));return this},Y.rightShift=function(e,t){return new Z(e).rightShift(t)},Y.prototype.zeroFillRightShift=Y.prototype.rightShift,Y.prototype.zeroFillRightShiftS=Y.prototype.rightShiftS,Y.prototype.zeroFillRightShiftM=Y.prototype.rightShiftM,Y.zeroFillRightShift=Y.rightShift,Y.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},Y.not=function(e){return new Z(e).not()},Y.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},Y.abs=function(e){return new Z(e).abs()},Y.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},Y.acos=function(e){return new Z(e).acos()},Y.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},Y.acosh=function(e){return new Z(e).acosh()},Y.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},Y.asin=function(e){return new Z(e).asin()},Y.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},Y.asinh=function(e){return new Z(e).asinh()},Y.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},Y.atan=function(e){return new Z(e).atan()},Y.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},Y.atanh=function(e){return new Z(e).atanh()},Y.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},Y.cbrt=function(e){return new Z(e).cbrt()},Y.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},Y.ceil=function(e){return new Z(e).ceil()},Y.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},Y.clz32=function(e){return new Z(e).clz32()},Y.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},Y.cos=function(e){return new Z(e).cos()},Y.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},Y.cosh=function(e){return new Z(e).cosh()},Y.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},Y.exp=function(e){return new Z(e).exp()},Y.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},Y.expm1=function(e){return new Z(e).expm1()},Y.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},Y.floor=function(e){return new Z(e).floor()},Y.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},Y.fround=function(e){return new Z(e).fround()},Y.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},Y.log=function(e){return new Z(e).log()},Y.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},Y.log1p=function(e){return new Z(e).log1p()},Y.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},Y.log10=function(e){return new Z(e).log10()},Y.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},Y.log2=function(e){return new Z(e).log2()},Y.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},Y.round=function(e){return new Z(e).round()},Y.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},Y.sign=function(e){return new Z(e).sign()},Y.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},Y.sin=function(e){return new Z(e).sin()},Y.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},Y.sinh=function(e){return new Z(e).sinh()},Y.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},Y.sqrt=function(e){return new Z(e).sqrt()},Y.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},Y.tan=function(e){return new Z(e).tan()},Y.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},Y.tanh=function(e){return new Z(e).tanh()},Y.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},Y.trunc=function(e){return new Z(e).trunc()},Y.pow=function(e,t){return new Z(e).pow(t)},Y.prototype.pow=function(e){return"number"===typeof e?this.powS(e):this.powM(e)},Y.prototype.powS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e));return this},Y.prototype.powM=function(e){if(e=Z.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e.get(t,n)));return this};var ne=Symbol("distance"),re=function(){function e(t,n,r,i,a){Object(c.a)(this,e),this.clusters=t,this.centroids=n,this.converged=r,this.iterations=i,this[ne]=a}return Object(l.a)(e,[{key:"nearest",value:function(e){var t=new Array(e.length);return u(e,this.centroids.map((function(e){return e.centroid})),t,this[ne])}},{key:"computeInformation",value:function(t){for(var n=this.centroids.map((function(e){return{centroid:e,error:0,size:0}})),r=0;r<t.length;r++)n[this.clusters[r]].error+=this[ne](t[r],this.centroids[this.clusters[r]]),n[this.clusters[r]].size++;for(var i=0;i<this.centroids.length;i++)n[i].size?n[i].error/=n[i].size:n[i].error=null;return new e(this.clusters,n,this.converged,this.iterations,this[ne])}}]),e}(),ie=i.a.mark(se),ae={maxIterations:100,tolerance:1e-6,withIterations:!1,initialization:"kmeans++",distanceFunction:a};function oe(e,t,n,r,i,a){var o=function(e,t,n,r){for(var i=t[0].length,a=new Array(r),o=new Array(r),s=0;s<r;s++){a[s]=new Array(i),o[s]=0;for(var u=0;u<i;u++)a[s][u]=0}for(var c=0;c<t.length;c++){o[n[c]]++;for(var l=0;l<i;l++)a[n[c]][l]+=t[c][l]}for(var f=0;f<r;f++)for(var d=0;d<i;d++)o[f]?a[f][d]/=o[f]:a[f][d]=e[f][d];return a}(e,t,n=u(t,e,n,i.distanceFunction),r),s=function(e,t,n,r){for(var i=0;i<e.length;i++)if(n(e[i],t[i])>r)return!1;return!0}(o,e,i.distanceFunction,i.tolerance);return new re(n,o,s,a,i.distanceFunction)}function se(e,t,n,r,a){var o,s,u;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:o=!1,s=0;case 2:if(o||!(s<a.maxIterations)){i.next=10;break}return u=oe(e,t,n,r,a,++s),i.next=6,u.computeInformation(t);case 6:o=u.converged,e=u.centroids,i.next=2;break;case 10:case"end":return i.stop()}}),ie)}function ue(e,t,n){if(n=Object.assign({},ae,n),t<=0||t>e.length||!Number.isInteger(t))throw new Error("K should be a positive integer smaller than the number of points");var r;if(Array.isArray(n.initialization)){if(n.initialization.length!==t)throw new Error("The initial centers should have the same length as K");r=n.initialization}else switch(n.initialization){case"kmeans++":r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(e=new J(e)).rows,i=new v(n.seed),o=[],s=n.localTrials||2+Math.floor(Math.log(t)),u=i.randInt(r);o.push(e.getRow(u));for(var c=new J(1,e.rows),l=0;l<e.rows;l++)c.set(0,l,a(e.getRow(l),o[0]));for(var f=[te(c.getRow(0))],d=1/f[0][r-1],h=J.mul(c,d),p=1;p<t;p++){for(var m=i.choice(r,{replace:!0,size:s,probabilities:h[0]}),g=e.selection(m,ee(e.columns)),b=Q(g,e),y=void 0,w=void 0,x=void 0,O=0;O<s;O++){var k=J.min(c,[b.getRow(O)]),E=k.sum();(void 0===y||E<w)&&(y=m[O],w=E,x=k)}o[p]=e.getRow(y),f=[te((c=x).getRow(0))],h=J.mul(c,1/f[0][r-1])}return o}(e,t,n);break;case"random":r=function(e,t,n){return new v(n).choice(e,{size:t})}(e,t,n.seed);break;case"mostDistant":r=function(e,t,n,r){var i=new v(r),a=new Array(t);if(a[0]=Math.floor(i.random()*e.length),t>1){for(var o={dist:-1,index:-1},s=0;s<e.length;++s)n[a[0]][s]>o.dist&&(o.dist=n[a[0]][s],o.index=s);if(a[1]=o.index,t>2)for(var u=2;u<t;++u){for(var c={dist:-1,index:-1},l=0;l<e.length;++l){for(var f={dist:Number.MAX_VALUE,index:-1},d=0;d<u;++d)n[d][l]<f.dist&&-1===a.indexOf(l)&&(f={dist:n[d][l],index:l});f.dist!==Number.MAX_VALUE&&f.dist>c.dist&&(c=Object.assign({},f))}a[u]=c.index}}return a.map((function(t){return e[t]}))}(e,t,function(e,t){for(var n=new Array(e.length),r=0;r<e.length;++r)for(var i=r;i<e.length;++i){n[r]||(n[r]=new Array(e.length)),n[i]||(n[i]=new Array(e.length));var a=t(e[r],e[i]);n[r][i]=a,n[i][r]=a}return n}(e,n.distanceFunction),n.seed);break;default:throw new Error('Unknown initialization method: "'.concat(n.initialization,'"'))}0===n.maxIterations&&(n.maxIterations=Number.MAX_VALUE);var i=new Array(e.length);if(n.withIterations)return se(r,e,i,t,n);for(var o,s=!1,u=0;!s&&u<n.maxIterations;)s=(o=oe(r,e,i,t,n,++u)).converged,r=o.centroids;return o.computeInformation(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(83);function a(e){return e&&"object"===Object(i.a)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(6),i=n(3),a=n(0),o=(n(8),n(4)),s=n(64),u=n(78),c=n(7),l=n(14),f=n(21),d=n(634),h=n(110),p="undefined"===typeof window?a.useEffect:a.useLayoutEffect,m=a.forwardRef((function(e,t){var n=e["aria-describedby"],c=e.autoComplete,m=e.autoFocus,v=e.classes,g=e.className,b=(e.color,e.defaultValue),y=e.disabled,w=e.endAdornment,x=(e.error,e.fullWidth),O=void 0!==x&&x,k=e.id,E=e.inputComponent,_=void 0===E?"input":E,S=e.inputProps,j=void 0===S?{}:S,C=e.inputRef,A=(e.margin,e.multiline),T=void 0!==A&&A,N=e.name,R=e.onBlur,M=e.onChange,D=e.onClick,I=e.onFocus,F=e.onKeyDown,P=e.onKeyUp,z=e.placeholder,L=e.readOnly,B=e.renderSuffix,U=e.rows,W=e.rowsMax,V=e.rowsMin,q=e.startAdornment,H=e.type,G=void 0===H?"text":H,$=e.value,K=Object(r.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),X=null!=j.value?j.value:$,Y=a.useRef(null!=X).current,Z=a.useRef(),J=a.useCallback((function(e){0}),[]),Q=Object(f.a)(j.ref,J),ee=Object(f.a)(C,Q),te=Object(f.a)(Z,ee),ne=a.useState(!1),re=ne[0],ie=ne[1],ae=Object(u.b)();var oe=Object(s.a)({props:e,muiFormControl:ae,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});oe.focused=ae?ae.focused:re,a.useEffect((function(){!ae&&y&&re&&(ie(!1),R&&R())}),[ae,y,re,R]);var se=ae&&ae.onFilled,ue=ae&&ae.onEmpty,ce=a.useCallback((function(e){Object(h.b)(e)?se&&se():ue&&ue()}),[se,ue]);p((function(){Y&&ce({value:X})}),[X,ce,Y]);a.useEffect((function(){ce(Z.current)}),[]);var le=_,fe=Object(i.a)({},j,{ref:te});"string"!==typeof le?fe=Object(i.a)({inputRef:te,type:G},fe,{ref:null}):T?!U||W||V?(fe=Object(i.a)({rows:U,rowsMax:W},fe),le=d.a):le="textarea":fe=Object(i.a)({type:G},fe);return a.useEffect((function(){ae&&ae.setAdornedStart(Boolean(q))}),[ae,q]),a.createElement("div",Object(i.a)({className:Object(o.a)(v.root,v["color".concat(Object(l.a)(oe.color||"primary"))],g,oe.disabled&&v.disabled,oe.error&&v.error,O&&v.fullWidth,oe.focused&&v.focused,ae&&v.formControl,T&&v.multiline,q&&v.adornedStart,w&&v.adornedEnd,"dense"===oe.margin&&v.marginDense),onClick:function(e){Z.current&&e.currentTarget===e.target&&Z.current.focus(),D&&D(e)},ref:t},K),q,a.createElement(u.a.Provider,{value:null},a.createElement(le,Object(i.a)({"aria-invalid":oe.error,"aria-describedby":n,autoComplete:c,autoFocus:m,defaultValue:b,disabled:oe.disabled,id:k,onAnimationStart:function(e){ce("mui-auto-fill-cancel"===e.animationName?Z.current:{value:"x"})},name:N,placeholder:z,readOnly:L,required:oe.required,rows:U,value:X,onKeyDown:F,onKeyUp:P},fe,{className:Object(o.a)(v.input,j.className,oe.disabled&&v.disabled,T&&v.inputMultiline,oe.hiddenLabel&&v.inputHiddenLabel,q&&v.inputAdornedStart,w&&v.inputAdornedEnd,"search"===G&&v.inputTypeSearch,"dense"===oe.margin&&v.inputMarginDense),onBlur:function(e){R&&R(e),j.onBlur&&j.onBlur(e),ae&&ae.onBlur?ae.onBlur(e):ie(!1)},onChange:function(e){if(!Y){var t=e.target||Z.current;if(null==t)throw new TypeError("Material-UI: Expected valid input target. Did you use a custom `inputComponent` and forget to forward refs? See https://material-ui.com/r/input-component-ref-interface for more info.");ce({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];j.onChange&&j.onChange.apply(j,[e].concat(r)),M&&M.apply(void 0,[e].concat(r))},onFocus:function(e){oe.disabled?e.stopPropagation():(I&&I(e),j.onFocus&&j.onFocus(e),ae&&ae.onFocus?ae.onFocus(e):ie(!0))}}))),w,B?B(Object(i.a)({},oe,{startAdornment:q})):null)}));t.a=Object(c.a)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},a={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{from:{}},"@keyframes mui-auto-fill-cancel":{from:{}}},root:Object(i.a)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(m)},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ae}));var r=n(41),i=Date.now(),a="fnValues"+i,o="fnStyle"+ ++i;var s=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var i=Object(r.d)(e,{},n);return i[o]=t,i},onProcessStyle:function(e,t){if(a in t||o in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[a]=n,e},onUpdate:function(e,t,n,r){var i=t,s=i[o];s&&(i.style=s(e)||{});var u=i[a];if(u)for(var c in u)i.prop(c,u[c](e),r)}}},u=n(3),c="@global",l=function(){function e(e,t,n){for(var i in this.type="global",this.at=c,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new r.a(Object(u.a)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),f=function(){function e(e,t,n){this.type="global",this.at=c,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var r=e.substr("@global ".length);this.rule=n.jss.createRule(r,t,Object(u.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),d=/\s*,\s*/g;function h(e,t){for(var n=e.split(d),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var p=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===c)return new l(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new f(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,n=e.style,r=n?n[c]:null;if(r){for(var i in r)t.sheet.addRule(i,r[i],Object(u.a)({},t,{selector:h(i,e.selector)}));delete n[c]}}(e),function(e){var t=e.options,n=e.style;for(var r in n)if("@"===r[0]&&r.substr(0,c.length)===c){var i=h(r.substr(c.length),e.selector);t.sheet.addRule(i,n[r],Object(u.a)({},t,{selector:i})),delete n[r]}}(e))}}},m=/\s*,\s*/g,v=/&/g,g=/\$([\w-]+)/g;var b=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(m),r=e.split(m),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(v,o):o+" "+u}return i}function n(e,t,n){if(n)return Object(u.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=Object(u.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,s,c=i,l=c.options.parent;for(var f in r){var d=-1!==f.indexOf("&"),h="@"===f[0];if(d||h){if(o=n(c,l,o),d){var p=t(f,c.selector);s||(s=e(l,a)),p=p.replace(g,s),l.addRule(p,r[f],Object(u.a)({},o,{selector:p}))}else h&&l.addRule(f,{},o).addRule(c.key,r[f],{selector:c.selector});delete r[f]}}return r}}},y=n(215);function w(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Object(y.default)(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(w):t.fallbacks=w(e.fallbacks)),t}var x=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=w(e[t]);return e}return w(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Object(y.default)(t);return t===r?e:(n.prop(r,e),null)}}},O=r.f&&CSS?CSS.px:"px",k=r.f&&CSS?CSS.ms:"ms",E=r.f&&CSS?CSS.percent:"%";function _(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var S=_({"animation-delay":k,"animation-duration":k,"background-position":O,"background-position-x":O,"background-position-y":O,"background-size":O,border:O,"border-bottom":O,"border-bottom-left-radius":O,"border-bottom-right-radius":O,"border-bottom-width":O,"border-left":O,"border-left-width":O,"border-radius":O,"border-right":O,"border-right-width":O,"border-top":O,"border-top-left-radius":O,"border-top-right-radius":O,"border-top-width":O,"border-width":O,margin:O,"margin-bottom":O,"margin-left":O,"margin-right":O,"margin-top":O,padding:O,"padding-bottom":O,"padding-left":O,"padding-right":O,"padding-top":O,"mask-position-x":O,"mask-position-y":O,"mask-size":O,height:O,width:O,"min-height":O,"max-height":O,"min-width":O,"max-width":O,bottom:O,left:O,top:O,right:O,"box-shadow":O,"text-shadow":O,"column-gap":O,"column-rule":O,"column-rule-width":O,"column-width":O,"font-size":O,"font-size-delta":O,"letter-spacing":O,"text-indent":O,"text-stroke":O,"text-stroke-width":O,"word-spacing":O,motion:O,"motion-offset":O,outline:O,"outline-offset":O,"outline-width":O,perspective:O,"perspective-origin-x":E,"perspective-origin-y":E,"transform-origin":E,"transform-origin-x":E,"transform-origin-y":E,"transform-origin-z":E,"transition-delay":k,"transition-duration":k,"vertical-align":O,"flex-basis":O,"shape-margin":O,size:O,grid:O,"grid-gap":O,"grid-row-gap":O,"grid-column-gap":O,"grid-template-rows":O,"grid-template-columns":O,"grid-auto-rows":O,"grid-auto-columns":O,"box-shadow-x":O,"box-shadow-y":O,"box-shadow-blur":O,"box-shadow-spread":O,"font-line-height":O,"text-shadow-x":O,"text-shadow-y":O,"text-shadow-blur":O});function j(e,t,n){if(!t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=j(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=j(i,t[i],n);else for(var a in t)t[a]=j(e+"-"+a,t[a],n);else if("number"===typeof t){var o=n[e]||S[e];return o?"function"===typeof o?o(t).toString():""+t+o:t.toString()}return t}var C=function(e){void 0===e&&(e={});var t=_(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=j(r,e[r],t);return e},onChangeValue:function(e,n){return j(n,e,t)}}},A=n(112),T=n(30),N="",R="",M="",D="",I=A.a&&"ontouchstart"in document.documentElement;if(A.a){var F={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},P=document.createElement("p").style;for(var z in F)if(z+"Transform"in P){N=z,R=F[z];break}"Webkit"===N&&"msHyphens"in P&&(N="ms",R=F.ms,D="edge"),"Webkit"===N&&"-apple-trailing-word"in P&&(M="apple")}var L=N,B=R,U=M,W=D,V=I;var q={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===L?"-webkit-"+e:B+e)}},H={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===L?B+"print-"+e:e)}},G=/[-\s]+(.)?/g;function $(e,t){return t?t.toUpperCase():""}function K(e){return e.replace(G,$)}function X(e){return K("-"+e)}var Y,Z={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===L){if(K("mask-image")in t)return e;if(L+X("mask-image")in t)return B+e}return e}},J={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==U||V?e:B+e)}},Q={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:B+e)}},ee={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:B+e)}},te={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===L||"ms"===L&&"edge"!==W?B+e:e)}},ne={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===L||"ms"===L||"apple"===U?B+e:e)}},re={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===L?"WebkitColumn"+X(e)in t&&B+"column-"+e:"Moz"===L&&("page"+X(e)in t&&"page-"+e))}},ie={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===L)return e;var n=e.replace("-inline","");return L+X(n)in t&&B+n}},ae={supportedProperty:function(e,t){return K(e)in t&&e}},oe={supportedProperty:function(e,t){var n=X(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:L+n in t?B+e:"Webkit"!==L&&"Webkit"+n in t&&"-webkit-"+e}},se={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===L?""+B+e:e)}},ue={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===L?B+"scroll-chaining":e)}},ce={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},le={supportedProperty:function(e,t){var n=ce[e];return!!n&&(L+X(n)in t&&B+n)}},fe={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},de=Object.keys(fe),he=function(e){return B+e},pe=[q,H,Z,J,Q,ee,te,ne,re,ie,ae,oe,se,ue,le,{supportedProperty:function(e,t,n){var r=n.multiple;if(de.indexOf(e)>-1){var i=fe[e];if(!Array.isArray(i))return L+X(i)in t&&B+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(L+X(i[0])in t))return!1;return i.map(he)}return!1}}],me=pe.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),ve=pe.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(T.a)(t.noPrefill)),e}),[]),ge={};if(A.a){Y=document.createElement("p");var be=window.getComputedStyle(document.documentElement,"");for(var ye in be)isNaN(ye)||(ge[be[ye]]=be[ye]);ve.forEach((function(e){return delete ge[e]}))}function we(e,t){if(void 0===t&&(t={}),!Y)return e;if(null!=ge[e])return ge[e];"transition"!==e&&"transform"!==e||(t[e]=e in Y.style);for(var n=0;n<me.length&&(ge[e]=me[n](e,Y.style,t),!ge[e]);n++);try{Y.style[e]=""}catch(r){return!1}return ge[e]}var xe,Oe={},ke={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Ee=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function _e(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?we(t):", "+we(n);return r||(t||n)}function Se(e,t){var n=t;if(!xe||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Oe[r])return Oe[r];try{xe.style[e]=n}catch(i){return Oe[r]=!1,!1}if(ke[e])n=n.replace(Ee,_e);else if(""===xe.style[e]&&("-ms-flex"===(n=B+n)&&(xe.style[e]="-ms-flexbox"),xe.style[e]=n,""===xe.style[e]))return Oe[r]=!1,!1;return xe.style[e]="",Oe[r]=n,Oe[r]}A.a&&(xe=document.createElement("p"));var je=function(){function e(t){for(var n in t){var i=t[n];if("fallbacks"===n&&Array.isArray(i))t[n]=i.map(e);else{var a=!1,o=we(n);o&&o!==n&&(a=!0);var s=!1,u=Se(o,Object(r.g)(i));u&&u!==i&&(s=!0),(a||s)&&(a&&delete t[n],t[o||n]=u||i)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===L?n:"@"+B+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Se(t,Object(r.g)(e))||e}}};var Ce=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};function Ae(){return{plugins:[s(),p(),b(),x(),C(),"undefined"===typeof window?null:je(),Ce()]}}},,,,,,,,,,function(e,t,n){"use strict";var r=n(146),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}function x(){}function O(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=w.prototype;var k=O.prototype=new x;k.constructor=O,r(k,w.prototype),k.isPureReactComponent=!0;var E={current:null},_=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var A=/\/+/g,T=[];function N(e,t,n,r){if(T.length){var i=T.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>T.length&&T.push(e)}function M(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case a:case o:u=!0}}if(u)return r(i,t,""===n?"."+D(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+D(s=t[c],c);u+=e(s,l,r,i)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=v&&t[v]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+D(s,c++),r,i);else if("object"===s)throw r=""+t,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return u}(e,"",t,n)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function I(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?P(e,r,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function P(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(A,"$&/")+"/"),M(e,F,t=N(t,a,r,i)),R(t)}var z={current:null};function L(){var e=z.current;if(null===e)throw Error(g(321));return e}var B={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return P(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,I,t=N(null,null,t,n)),R(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return P(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(g(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=c,t.PureComponent=O,t.StrictMode=u,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var i=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var r=n(0),i=n(146),a=n(211);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,f=null,d={onError:function(e){u=!0,c=e}};function h(e,t,n,r,i,a,o,l,f){u=!1,c=null,s.apply(d,arguments)}var p=null,m=null,v=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v(n),function(e,t,n,r,i,a,s,d,p){if(h.apply(this,arguments),u){if(!u)throw Error(o(198));var m=c;u=!1,c=null,l||(l=!0,f=m)}}(r,t,void 0,e),e.currentTarget=null}var b=null,y={};function w(){if(b)for(var e in y){var t=y[e],n=b.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!O[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in O[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,u=r;if(k.hasOwnProperty(u))throw Error(o(99,u));k[u]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&x(c[i],s,u);i=!0}else a.registrationName?(x(a.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function x(e,t,n){if(E[e])throw Error(o(100,e));E[e]=t,_[e]=t.eventTypes[n].dependencies}var O=[],k={},E={},_={};function S(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!y.hasOwnProperty(t)||y[t]!==r){if(y[t])throw Error(o(102,t));y[t]=r,n=!0}}n&&w()}var j=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,A=null,T=null;function N(e){if(e=m(e)){if("function"!==typeof C)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function R(e){A?T?T.push(e):T=[e]:A=e}function M(){if(A){var e=A,t=T;if(T=A=null,N(e),t)for(e=0;e<t.length;e++)N(t[e])}}function D(e,t){return e(t)}function I(e,t,n,r,i){return e(t,n,r,i)}function F(){}var P=D,z=!1,L=!1;function B(){null===A&&null===T||(F(),M())}function U(e,t,n){if(L)return e(t,n);L=!0;try{return P(e,t,n)}finally{L=!1,B()}}var W=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,q={},H={};function G(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){$[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];$[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){$[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){$[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){$[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){$[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){$[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){$[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){$[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(K,X);$[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(K,X);$[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(K,X);$[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){$[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),$.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){$[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z(e,t,n,r){var i=$.hasOwnProperty(t)?$[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!V.call(H,e)||!V.call(q,e)&&(W.test(e)?H[e]=!0:(q[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Q="function"===typeof Symbol&&Symbol.for,ee=Q?Symbol.for("react.element"):60103,te=Q?Symbol.for("react.portal"):60106,ne=Q?Symbol.for("react.fragment"):60107,re=Q?Symbol.for("react.strict_mode"):60108,ie=Q?Symbol.for("react.profiler"):60114,ae=Q?Symbol.for("react.provider"):60109,oe=Q?Symbol.for("react.context"):60110,se=Q?Symbol.for("react.concurrent_mode"):60111,ue=Q?Symbol.for("react.forward_ref"):60112,ce=Q?Symbol.for("react.suspense"):60113,le=Q?Symbol.for("react.suspense_list"):60120,fe=Q?Symbol.for("react.memo"):60115,de=Q?Symbol.for("react.lazy"):60116,he=Q?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ve(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ve(e.type);case he:return ve(e.render);case de:if(e=1===e._status?e._result:null)return ve(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=ve(e.type);n=null,r&&(n=ve(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function be(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ye(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=ye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ye(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Oe(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ke(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=be(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ee(e,t){null!=(t=t.checked)&&Z(e,"checked",t,!1)}function _e(e,t){Ee(e,t);var n=be(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?je(e,t.type,n):t.hasOwnProperty("defaultValue")&&je(e,t.type,be(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Se(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function je(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+be(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Te(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ne(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:be(n)}}function Re(e,t){var n=be(t.value),r=be(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",Ie="http://www.w3.org/2000/svg";function Fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ze,Le=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ie||"innerHTML"in e)e.innerHTML=t;else{for((ze=ze||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ze.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var We={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},Ve={},qe={};function He(e){if(Ve[e])return Ve[e];if(!We[e])return e;var t,n=We[e];for(t in n)if(n.hasOwnProperty(t)&&t in qe)return Ve[e]=n[t];return e}j&&(qe=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var Ge=He("animationend"),$e=He("animationiteration"),Ke=He("animationstart"),Xe=He("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ze=new("function"===typeof WeakMap?WeakMap:Map);function Je(e){var t=Ze.get(e);return void 0===t&&(t=new Map,Ze.set(e,t)),t}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Qe(e)!==e)throw Error(o(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return tt(i),e;if(a===r)return tt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var at=null;function ot(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(at=rt(at,e)),e=at,at=null,e){if(it(e,ot),at)throw Error(o(95));if(l)throw e=f,l=!1,f=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!j)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var lt=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>lt.length&&lt.push(e)}function dt(e,t,n,r){if(lt.length){var i=lt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=jn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ut(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,u=0;u<O.length;u++){var c=O[u];c&&(c=c.extractEvents(r,t,a,i,o))&&(s=rt(s,c))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Kt(t,"scroll",!0);break;case"focus":case"blur":Kt(t,"focus",!0),Kt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Kt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&$t(e,t)}n.set(e,null)}}var mt,vt,gt,bt=!1,yt=[],wt=null,xt=null,Ot=null,kt=new Map,Et=new Map,_t=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),jt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ct(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function At(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Tt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=Ct(t,n,r,i,a),null!==t&&(null!==(t=Cn(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function Nt(e){var t=jn(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Cn(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){Rt(e)&&n.delete(t)}function Dt(){for(bt=!1;0<yt.length;){var e=yt[0];if(null!==e.blockedOn){null!==(e=Cn(e.blockedOn))&&mt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:yt.shift()}null!==wt&&Rt(wt)&&(wt=null),null!==xt&&Rt(xt)&&(xt=null),null!==Ot&&Rt(Ot)&&(Ot=null),kt.forEach(Mt),Et.forEach(Mt)}function It(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Dt)))}function Ft(e){function t(t){return It(t,e)}if(0<yt.length){It(yt[0],e);for(var n=1;n<yt.length;n++){var r=yt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&It(wt,e),null!==xt&&It(xt,e),null!==Ot&&It(Ot,e),kt.forEach(t),Et.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Nt(n),null===n.blockedOn&&_t.shift()}var Pt={},zt=new Map,Lt=new Map,Bt=["abort","abort",Ge,"animationEnd",$e,"animationIteration",Ke,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Lt.set(r,t),zt.set(r,a),Pt[i]=a}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(Bt,2);for(var Wt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vt=0;Vt<Wt.length;Vt++)Lt.set(Wt[Vt],0);var qt=a.unstable_UserBlockingPriority,Ht=a.unstable_runWithPriority,Gt=!0;function $t(e,t){Kt(t,e,!1)}function Kt(e,t,n){var r=Lt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=Yt.bind(null,t,1,e);break;default:r=Zt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){z||F();var i=Zt,a=z;z=!0;try{I(i,e,t,n,r)}finally{(z=a)||B()}}function Yt(e,t,n,r){Ht(qt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){if(Gt)if(0<yt.length&&-1<St.indexOf(e))e=Ct(null,e,t,n,r),yt.push(e);else{var i=Jt(e,t,n,r);if(null===i)At(e,r);else if(-1<St.indexOf(e))e=Ct(i,e,t,n,r),yt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=Tt(wt,e,t,n,r,i),!0;case"dragenter":return xt=Tt(xt,e,t,n,r,i),!0;case"mouseover":return Ot=Tt(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return kt.set(a,Tt(kt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Et.set(a,Tt(Et.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){At(e,r),e=dt(e,r,null,t);try{U(ht,e)}finally{ft(e)}}}}function Jt(e,t,n,r){if(null!==(n=jn(n=ut(r)))){var i=Qe(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=et(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{U(ht,e)}finally{ft(e)}return null}var Qt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Qt.hasOwnProperty(e)&&Qt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Qt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qt[t]=Qt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function on(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=De;function un(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=_[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function cn(){}function ln(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function hn(){for(var e=window,t=ln();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ln((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,vn=null;function gn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function bn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yn="function"===typeof setTimeout?setTimeout:void 0,wn="function"===typeof clearTimeout?clearTimeout:void 0;function xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function On(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var kn=Math.random().toString(36).slice(2),En="__reactInternalInstance$"+kn,_n="__reactEventHandlers$"+kn,Sn="__reactContainere$"+kn;function jn(e){var t=e[En];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[En]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=On(e);null!==e;){if(n=e[En])return n;e=On(e)}return t}n=(e=n).parentNode}return null}function Cn(e){return!(e=e[En]||e[Sn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function An(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Tn(e){return e[_n]||null}function Nn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Rn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Mn(e,t,n){(t=Rn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Dn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Nn(t);for(t=n.length;0<t--;)Mn(n[t],"captured",e);for(t=0;t<n.length;t++)Mn(n[t],"bubbled",e)}}function In(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Rn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Fn(e){e&&e.dispatchConfig.registrationName&&In(e._targetInst,null,e)}function Pn(e){it(e,Dn)}var zn=null,Ln=null,Bn=null;function Un(){if(Bn)return Bn;var e,t,n=Ln,r=n.length,i="value"in zn?zn.value:zn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Bn=i.slice(e,1<t?1-t:void 0)}function Wn(){return!0}function Vn(){return!1}function qn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Wn:Vn,this.isPropagationStopped=Vn,this}function Hn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Gn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Hn,e.release=Gn}i(qn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){this.isPersistent=Wn},isPersistent:Vn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vn,this._dispatchInstances=this._dispatchListeners=null}}),qn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},qn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,$n(n),n},$n(qn);var Kn=qn.extend({data:null}),Xn=qn.extend({data:null}),Yn=[9,13,27,32],Zn=j&&"CompositionEvent"in window,Jn=null;j&&"documentMode"in document&&(Jn=document.documentMode);var Qn=j&&"TextEvent"in window&&!Jn,er=j&&(!Zn||Jn&&8<Jn&&11>=Jn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ar(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var or=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Zn)e:{switch(e){case"compositionstart":var a=nr.compositionStart;break e;case"compositionend":a=nr.compositionEnd;break e;case"compositionupdate":a=nr.compositionUpdate;break e}a=void 0}else or?ir(e,n)&&(a=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=nr.compositionStart);return a?(er&&"ko"!==n.locale&&(or||a!==nr.compositionStart?a===nr.compositionEnd&&or&&(i=Un()):(Ln="value"in(zn=r)?zn.value:zn.textContent,or=!0)),a=Kn.getPooled(a,t,n,r),i?a.data=i:null!==(i=ar(n))&&(a.data=i),Pn(a),i=a):i=null,(e=Qn?function(e,t){switch(e){case"compositionend":return ar(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(or)return"compositionend"===e||!Zn&&ir(e,t)?(e=Un(),Bn=Ln=zn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Xn.getPooled(nr.beforeInput,t,n,r)).data=e,Pn(t)):t=null,null===i?t:null===t?i:[i,t]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ur[e.type]:"textarea"===t}var lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=qn.getPooled(lr.change,e,t,n)).type="change",R(n),Pn(e),e}var dr=null,hr=null;function pr(e){st(e)}function mr(e){if(xe(An(e)))return e}function vr(e,t){if("change"===e)return t}var gr=!1;function br(){dr&&(dr.detachEvent("onpropertychange",yr),hr=dr=null)}function yr(e){if("value"===e.propertyName&&mr(hr))if(e=fr(hr,e,ut(e)),z)st(e);else{z=!0;try{D(pr,e)}finally{z=!1,B()}}}function wr(e,t,n){"focus"===e?(br(),hr=n,(dr=t).attachEvent("onpropertychange",yr)):"blur"===e&&br()}function xr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(hr)}function Or(e,t){if("click"===e)return mr(t)}function kr(e,t){if("input"===e||"change"===e)return mr(t)}j&&(gr=ct("input")&&(!document.documentMode||9<document.documentMode));var Er={eventTypes:lr,_isInputEventSupported:gr,extractEvents:function(e,t,n,r){var i=t?An(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=vr;else if(cr(i))if(gr)o=kr;else{o=xr;var s=wr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Or);if(o&&(o=o(e,t)))return fr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&je(i,"number",i.value)}},_r=qn.extend({view:null,detail:null}),Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sr[e])&&!!t[e]}function Cr(){return jr}var Ar=0,Tr=0,Nr=!1,Rr=!1,Mr=_r.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Cr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ar;return Ar=e.screenX,Nr?"mousemove"===e.type?e.screenX-t:0:(Nr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Tr;return Tr=e.screenY,Rr?"mousemove"===e.type?e.screenY-t:0:(Rr=!0,0)}}),Dr=Mr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ir={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fr={eventTypes:Ir,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?jn(t):null)&&(t!==Qe(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Mr,u=Ir.mouseLeave,c=Ir.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Dr,u=Ir.pointerLeave,c=Ir.pointerEnter,l="pointer");if(e=null==o?a:An(o),a=null==t?a:An(t),(u=s.getPooled(u,o,n,r)).type=l+"leave",u.target=e,u.relatedTarget=a,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,l=t,(r=o)&&l)e:{for(c=l,o=0,e=s=r;e;e=Nn(e))o++;for(e=0,t=c;t;t=Nn(t))e++;for(;0<o-e;)s=Nn(s),o--;for(;0<e-o;)c=Nn(c),e--;for(;o--;){if(s===c||s===c.alternate)break e;s=Nn(s),c=Nn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)s.push(r),r=Nn(r);for(r=[];l&&l!==c&&(null===(o=l.alternate)||o!==c);)r.push(l),l=Nn(l);for(l=0;l<s.length;l++)In(s[l],"bubbled",u);for(l=r.length;0<l--;)In(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Pr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},zr=Object.prototype.hasOwnProperty;function Lr(e,t){if(Pr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!zr.call(t,n[r])||!Pr(e[n[r]],t[n[r]]))return!1;return!0}var Br=j&&"documentMode"in document&&11>=document.documentMode,Ur={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wr=null,Vr=null,qr=null,Hr=!1;function Gr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Hr||null==Wr||Wr!==ln(n)?null:("selectionStart"in(n=Wr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},qr&&Lr(qr,n)?null:(qr=n,(e=qn.getPooled(Ur.select,Vr,e,t)).type="select",e.target=Wr,Pn(e),e))}var $r={eventTypes:Ur,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Je(i),a=_.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?An(t):window,e){case"focus":(cr(i)||"true"===i.contentEditable)&&(Wr=i,Vr=t,qr=null);break;case"blur":qr=Vr=Wr=null;break;case"mousedown":Hr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hr=!1,Gr(n,r);case"selectionchange":if(Br)break;case"keydown":case"keyup":return Gr(n,r)}return null}},Kr=qn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=qn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yr=_r.extend({relatedTarget:null});function Zr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=_r.extend({key:function(e){if(e.key){var t=Jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Qr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?Zr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Mr.extend({dataTransfer:null}),ni=_r.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Cr}),ri=qn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Mr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ai={eventTypes:Pt,extractEvents:function(e,t,n,r){var i=zt.get(e);if(!i)return null;switch(e){case"keypress":if(0===Zr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Yr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case Ge:case $e:case Ke:e=Kr;break;case Xe:e=ri;break;case"scroll":e=_r;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Dr;break;default:e=qn}return Pn(t=e.getPooled(i,t,n,r)),t}};if(b)throw Error(o(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Tn,m=Cn,v=An,S({SimpleEventPlugin:ai,EnterLeaveEventPlugin:Fr,ChangeEventPlugin:Er,SelectEventPlugin:$r,BeforeInputEventPlugin:sr});var oi=[],si=-1;function ui(e){0>si||(e.current=oi[si],oi[si]=null,si--)}function ci(e,t){si++,oi[si]=e.current,e.current=t}var li={},fi={current:li},di={current:!1},hi=li;function pi(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){ui(di),ui(fi)}function gi(e,t,n){if(fi.current!==li)throw Error(o(168));ci(fi,t),ci(di,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,ve(t)||"Unknown",a));return i({},n,{},r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,hi=fi.current,ci(fi,e),ci(di,di.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ui(di),ui(fi),ci(fi,e)):ui(di),ci(di,n)}var xi=a.unstable_runWithPriority,Oi=a.unstable_scheduleCallback,ki=a.unstable_cancelCallback,Ei=a.unstable_requestPaint,_i=a.unstable_now,Si=a.unstable_getCurrentPriorityLevel,ji=a.unstable_ImmediatePriority,Ci=a.unstable_UserBlockingPriority,Ai=a.unstable_NormalPriority,Ti=a.unstable_LowPriority,Ni=a.unstable_IdlePriority,Ri={},Mi=a.unstable_shouldYield,Di=void 0!==Ei?Ei:function(){},Ii=null,Fi=null,Pi=!1,zi=_i(),Li=1e4>zi?_i:function(){return _i()-zi};function Bi(){switch(Si()){case ji:return 99;case Ci:return 98;case Ai:return 97;case Ti:return 96;case Ni:return 95;default:throw Error(o(332))}}function Ui(e){switch(e){case 99:return ji;case 98:return Ci;case 97:return Ai;case 96:return Ti;case 95:return Ni;default:throw Error(o(332))}}function Wi(e,t){return e=Ui(e),xi(e,t)}function Vi(e,t,n){return e=Ui(e),Oi(e,t,n)}function qi(e){return null===Ii?(Ii=[e],Fi=Oi(ji,Gi)):Ii.push(e),Ri}function Hi(){if(null!==Fi){var e=Fi;Fi=null,ki(e)}Gi()}function Gi(){if(!Pi&&null!==Ii){Pi=!0;var e=0;try{var t=Ii;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ii=null}catch(n){throw null!==Ii&&(Ii=Ii.slice(e+1)),Oi(ji,Hi),n}finally{Pi=!1}}}function $i(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ki(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Xi={current:null},Yi=null,Zi=null,Ji=null;function Qi(){Ji=Zi=Yi=null}function ea(e){var t=Xi.current;ui(Xi),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function na(e,t){Yi=e,Ji=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(To=!0),e.firstContext=null)}function ra(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Yi)throw Error(o(308));Zi=t,Yi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function sa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ua(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ca(e,t){var n=e.alternate;null!==n&&oa(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function la(e,t,n,r){var a=e.updateQueue;ia=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var u=o.next;o.next=s.next,s.next=u}o=s,a.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==o){u=o.next;var c=a.baseState,l=0,f=null,d=null,h=null;if(null!==u)for(var p=u;;){if((s=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(d=h=m,f=c):h=h.next=m,s>l&&(l=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),au(s,p.suspenseConfig);e:{var v=e,g=p;switch(s=t,m=n,g.tag){case 1:if("function"===typeof(v=g.payload)){c=v.call(m,c,s);break e}c=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null===(s="function"===typeof(v=g.payload)?v.call(m,c,s):v)||void 0===s)break e;c=i({},c,s);break e;case 2:ia=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[p]:s.push(p))}if(null===(p=p.next)||p===u){if(null===(s=a.shared.pending))break;p=o.next=s.next,s.next=u,a.baseQueue=o=s,a.shared.pending=null}}null===h?f=c:h.next=d,a.baseState=f,a.baseQueue=h,ou(l),e.expirationTime=l,e.memoizedState=c}}function fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var da=Y.ReactCurrentBatchConfig,ha=(new r.Component).refs;function pa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Gs(),i=da.suspense;(i=sa(r=$s(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),ua(e,i),Ks(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Gs(),i=da.suspense;(i=sa(r=$s(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ua(e,i),Ks(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Gs(),r=da.suspense;(r=sa(n=$s(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),ua(e,r),Ks(e,n)}};function va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Lr(n,r)||!Lr(i,a))}function ga(e,t,n){var r=!1,i=li,a=t.contextType;return"object"===typeof a&&null!==a?a=ra(a):(i=mi(t)?hi:fi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?pi(e,i):li),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ha,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ra(a):(a=mi(t)?hi:fi.current,i.context=pi(e,a)),la(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(pa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),la(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var wa=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ha&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Oa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function ka(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Su(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Au(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=ju(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Cu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Au(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=ju(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case te:return(t=Tu(t,e.mode,n)).return=e,t}if(wa(t)||me(t))return(t=Cu(t,e.mode,n,null)).return=e,t;Oa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(wa(n)||me(n))return null!==i?null:f(e,t,n,r,null);Oa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||me(r))return f(t,e=e.get(n)||null,r,i,null);Oa(t,r)}return null}function m(i,o,s,u){for(var c=null,l=null,f=o,m=o=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=h(i,f,s[m],u);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,m),null===l?c=g:l.sibling=g,l=g,f=v}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)null!==(f=d(i,s[m],u))&&(o=a(f,o,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);m<s.length;m++)null!==(v=p(f,i,m,s[m],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),o=a(v,o,m),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=me(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,m=s,v=s=0,g=null,b=u.next();null!==m&&!b.done;v++,b=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var y=h(i,m,b.value,c);if(null===y){null===m&&(m=g);break}e&&m&&null===y.alternate&&t(i,m),s=a(y,s,v),null===f?l=y:f.sibling=y,f=y,m=g}if(b.done)return n(i,m),l;if(null===m){for(;!b.done;v++,b=u.next())null!==(b=d(i,b.value,c))&&(s=a(b,s,v),null===f?l=b:f.sibling=b,f=b);return l}for(m=r(i,m);!b.done;v++,b=u.next())null!==(b=p(m,i,v,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?v:b.key),s=a(b,s,v),null===f?l=b:f.sibling=b,f=b);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case ee:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(a.type===ne){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}break;default:if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}a.type===ne?((r=Cu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=ju(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case te:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Tu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Au(a,e.mode,u)).return=e,e=r),s(e);if(wa(a))return m(e,r,a,u);if(me(a))return v(e,r,a,u);if(l&&Oa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ea=ka(!0),_a=ka(!1),Sa={},ja={current:Sa},Ca={current:Sa},Aa={current:Sa};function Ta(e){if(e===Sa)throw Error(o(174));return e}function Na(e,t){switch(ci(Aa,t),ci(Ca,e),ci(ja,Sa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pe(null,"");break;default:t=Pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(ja),ci(ja,t)}function Ra(){ui(ja),ui(Ca),ui(Aa)}function Ma(e){Ta(Aa.current);var t=Ta(ja.current),n=Pe(t,e.type);t!==n&&(ci(Ca,e),ci(ja,n))}function Da(e){Ca.current===e&&(ui(ja),ui(Ca))}var Ia={current:0};function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Pa(e,t){return{responder:e,props:t}}var za=Y.ReactCurrentDispatcher,La=Y.ReactCurrentBatchConfig,Ba=0,Ua=null,Wa=null,Va=null,qa=!1;function Ha(){throw Error(o(321))}function Ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pr(e[n],t[n]))return!1;return!0}function $a(e,t,n,r,i,a){if(Ba=a,Ua=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,za.current=null===e||null===e.memoizedState?go:bo,e=n(r,i),t.expirationTime===Ba){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Va=Wa=null,t.updateQueue=null,za.current=yo,e=n(r,i)}while(t.expirationTime===Ba)}if(za.current=vo,t=null!==Wa&&null!==Wa.next,Ba=0,Va=Wa=Ua=null,qa=!1,t)throw Error(o(300));return e}function Ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Va?Ua.memoizedState=Va=e:Va=Va.next=e,Va}function Xa(){if(null===Wa){var e=Ua.alternate;e=null!==e?e.memoizedState:null}else e=Wa.next;var t=null===Va?Ua.memoizedState:Va.next;if(null!==t)Va=t,Wa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Wa=e).memoizedState,baseState:Wa.baseState,baseQueue:Wa.baseQueue,queue:Wa.queue,next:null},null===Va?Ua.memoizedState=Va=e:Va=Va.next=e}return Va}function Ya(e,t){return"function"===typeof t?t(e):t}function Za(e){var t=Xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Wa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.expirationTime;if(l<Ba){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,l>Ua.expirationTime&&(Ua.expirationTime=l,ou(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),au(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,Pr(r,t.memoizedState)||(To=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Ja(e){var t=Xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Pr(a,t.memoizedState)||(To=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Qa(e){var t=Ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:e}).dispatch=mo.bind(null,Ua,e),[t.memoizedState,e]}function eo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ua.updateQueue)?(t={lastEffect:null},Ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function to(){return Xa().memoizedState}function no(e,t,n,r){var i=Ka();Ua.effectTag|=e,i.memoizedState=eo(1|t,n,void 0,void 0===r?null:r)}function ro(e,t,n,r){var i=Xa();r=void 0===r?null:r;var a=void 0;if(null!==Wa){var o=Wa.memoizedState;if(a=o.destroy,null!==r&&Ga(r,o.deps))return void eo(t,n,a,r)}Ua.effectTag|=e,i.memoizedState=eo(1|t,n,a,r)}function io(e,t){return no(516,4,e,t)}function ao(e,t){return ro(516,4,e,t)}function oo(e,t){return ro(4,2,e,t)}function so(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ro(4,2,so.bind(null,t,e),n)}function co(){}function lo(e,t){return Ka().memoizedState=[e,void 0===t?null:t],e}function fo(e,t){var n=Xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ho(e,t){var n=Xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function po(e,t,n){var r=Bi();Wi(98>r?98:r,(function(){e(!0)})),Wi(97<r?97:r,(function(){var r=La.suspense;La.suspense=void 0===t?null:t;try{e(!1),n()}finally{La.suspense=r}}))}function mo(e,t,n){var r=Gs(),i=da.suspense;i={expirationTime:r=$s(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ua||null!==a&&a===Ua)qa=!0,i.expirationTime=Ba,Ua.expirationTime=Ba;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,Pr(s,o))return}catch(u){}Ks(e,r)}}var vo={readContext:ra,useCallback:Ha,useContext:Ha,useEffect:Ha,useImperativeHandle:Ha,useLayoutEffect:Ha,useMemo:Ha,useReducer:Ha,useRef:Ha,useState:Ha,useDebugValue:Ha,useResponder:Ha,useDeferredValue:Ha,useTransition:Ha},go={readContext:ra,useCallback:lo,useContext:ra,useEffect:io,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,no(4,2,so.bind(null,t,e),n)},useLayoutEffect:function(e,t){return no(4,2,e,t)},useMemo:function(e,t){var n=Ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=mo.bind(null,Ua,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ka().memoizedState=e},useState:Qa,useDebugValue:co,useResponder:Pa,useDeferredValue:function(e,t){var n=Qa(e),r=n[0],i=n[1];return io((function(){var n=La.suspense;La.suspense=void 0===t?null:t;try{i(e)}finally{La.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Qa(!1),n=t[0];return t=t[1],[lo(po.bind(null,t,e),[t,e]),n]}},bo={readContext:ra,useCallback:fo,useContext:ra,useEffect:ao,useImperativeHandle:uo,useLayoutEffect:oo,useMemo:ho,useReducer:Za,useRef:to,useState:function(){return Za(Ya)},useDebugValue:co,useResponder:Pa,useDeferredValue:function(e,t){var n=Za(Ya),r=n[0],i=n[1];return ao((function(){var n=La.suspense;La.suspense=void 0===t?null:t;try{i(e)}finally{La.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Za(Ya),n=t[0];return t=t[1],[fo(po.bind(null,t,e),[t,e]),n]}},yo={readContext:ra,useCallback:fo,useContext:ra,useEffect:ao,useImperativeHandle:uo,useLayoutEffect:oo,useMemo:ho,useReducer:Ja,useRef:to,useState:function(){return Ja(Ya)},useDebugValue:co,useResponder:Pa,useDeferredValue:function(e,t){var n=Ja(Ya),r=n[0],i=n[1];return ao((function(){var n=La.suspense;La.suspense=void 0===t?null:t;try{i(e)}finally{La.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Ja(Ya),n=t[0];return t=t[1],[fo(po.bind(null,t,e),[t,e]),n]}},wo=null,xo=null,Oo=!1;function ko(e,t){var n=Eu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Eo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function _o(e){if(Oo){var t=xo;if(t){var n=t;if(!Eo(e,t)){if(!(t=xn(n.nextSibling))||!Eo(e,t))return e.effectTag=-1025&e.effectTag|2,Oo=!1,void(wo=e);ko(wo,n)}wo=e,xo=xn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Oo=!1,wo=e}}function So(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wo=e}function jo(e){if(e!==wo)return!1;if(!Oo)return So(e),Oo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!bn(t,e.memoizedProps))for(t=xo;t;)ko(e,t),t=xn(t.nextSibling);if(So(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){xo=xn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}xo=null}}else xo=wo?xn(e.stateNode.nextSibling):null;return!0}function Co(){xo=wo=null,Oo=!1}var Ao=Y.ReactCurrentOwner,To=!1;function No(e,t,n,r){t.child=null===e?_a(t,null,n,r):Ea(t,e.child,n,r)}function Ro(e,t,n,r,i){n=n.render;var a=t.ref;return na(t,i),r=$a(e,t,n,r,a,i),null===e||To?(t.effectTag|=1,No(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ko(e,t,i))}function Mo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||_u(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ju(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Do(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Lr)(i,r)&&e.ref===t.ref)?Ko(e,t,a):(t.effectTag|=1,(e=Su(o,r)).ref=t.ref,e.return=t,t.child=e)}function Do(e,t,n,r,i,a){return null!==e&&Lr(e.memoizedProps,r)&&e.ref===t.ref&&(To=!1,i<a)?(t.expirationTime=e.expirationTime,Ko(e,t,a)):Fo(e,t,n,r,a)}function Io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Fo(e,t,n,r,i){var a=mi(n)?hi:fi.current;return a=pi(t,a),na(t,i),n=$a(e,t,n,r,a,i),null===e||To?(t.effectTag|=1,No(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ko(e,t,i))}function Po(e,t,n,r,i){if(mi(n)){var a=!0;yi(t)}else a=!1;if(na(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ga(t,n,r),ya(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ra(c):c=pi(t,c=mi(n)?hi:fi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),ia=!1;var d=t.memoizedState;o.state=d,la(t,r,o,i),u=t.memoizedState,s!==r||d!==u||di.current||ia?("function"===typeof l&&(pa(t,n,l,r),u=t.memoizedState),(s=ia||va(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,oa(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:Ki(t.type,s),u=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=ra(c):c=pi(t,c=mi(n)?hi:fi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),ia=!1,u=t.memoizedState,o.state=u,la(t,r,o,i),d=t.memoizedState,s!==r||u!==d||di.current||ia?("function"===typeof l&&(pa(t,n,l,r),d=t.memoizedState),(l=ia||va(t,n,s,r,u,d,c))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return zo(e,t,n,r,a,i)}function zo(e,t,n,r,i,a){Io(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&wi(t,n,!1),Ko(e,t,a);r=t.stateNode,Ao.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,s,a)):No(e,t,s,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Lo(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Na(e,t.containerInfo)}var Bo,Uo,Wo,Vo={dehydrated:null,retryTime:0};function qo(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Ia.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),ci(Ia,1&o),null===e){if(void 0!==a.fallback&&_o(t),s){if(s=a.fallback,(a=Cu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Cu(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=Vo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=_a(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=Su(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Su(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Vo,t.child=n,i}return n=Ea(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Cu(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Cu(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Vo,t.child=a,n}return t.memoizedState=null,t.child=Ea(t,e,a.children,n)}function Ho(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ta(e.return,t)}function Go(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function $o(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(No(e,t,r.children,n),0!==(2&(r=Ia.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ho(e,n);else if(19===e.tag)Ho(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Ia,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Go(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Go(t,!0,n,null,a,t.lastEffect);break;case"together":Go(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ko(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&ou(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Su(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Su(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yo(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&vi(),null;case 3:return Ra(),ui(di),ui(fi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!jo(t)||(t.effectTag|=4),null;case 5:Da(t),n=Ta(Aa.current);var a=t.type;if(null!==e&&null!=t.stateNode)Uo(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ta(ja.current),jo(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[En]=t,r[_n]=s,a){case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(e=0;e<Ye.length;e++)$t(Ye[e],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"form":$t("reset",r),$t("submit",r);break;case"details":$t("toggle",r);break;case"input":ke(r,s),$t("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$t("invalid",r),un(n,"onChange");break;case"textarea":Ne(r,s),$t("invalid",r),un(n,"onChange")}for(var u in an(a,s),e=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):E.hasOwnProperty(u)&&null!=c&&un(n,u)}switch(a){case"input":we(r),Se(r,s,!0);break;case"textarea":we(r),Me(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Fe(a)),e===sn?"script"===a?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(a,{is:r.is}):(e=u.createElement(a),"select"===a&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,a),e[En]=t,e[_n]=r,Bo(e,t),t.stateNode=e,u=on(a,r),a){case"iframe":case"object":case"embed":$t("load",e),c=r;break;case"video":case"audio":for(c=0;c<Ye.length;c++)$t(Ye[c],e);c=r;break;case"source":$t("error",e),c=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),c=r;break;case"form":$t("reset",e),$t("submit",e),c=r;break;case"details":$t("toggle",e),c=r;break;case"input":ke(e,r),c=Oe(e,r),$t("invalid",e),un(n,"onChange");break;case"option":c=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),$t("invalid",e),un(n,"onChange");break;case"textarea":Ne(e,r),c=Te(e,r),$t("invalid",e),un(n,"onChange");break;default:c=r}an(a,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?nn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Le(e,f):"children"===s?"string"===typeof f?("textarea"!==a||""!==f)&&Be(e,f):"number"===typeof f&&Be(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?null!=f&&un(n,s):null!=f&&Z(e,s,f,u))}switch(a){case"input":we(e),Se(e,r,!1);break;case"textarea":we(e),Me(e);break;case"option":null!=r.value&&e.setAttribute("value",""+be(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=cn)}gn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Wo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ta(Aa.current),Ta(ja.current),jo(t)?(n=t.stateNode,r=t.memoizedProps,n[En]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[En]=t,t.stateNode=n)}return null;case 13:return ui(Ia),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&jo(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ia.current)?js===ws&&(js=xs):(js!==ws&&js!==xs||(js=Os),0!==Rs&&null!==Es&&(Mu(Es,Ss),Du(Es,Rs)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ra(),null;case 10:return ea(t),null;case 17:return mi(t.type)&&vi(),null;case 19:if(ui(Ia),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=r.rendering)){if(a)Xo(r,!1);else if(js!==ws||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Fa(s))){for(t.effectTag|=64,Xo(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ci(Ia,1&Ia.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=Fa(s))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Xo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Li()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,Xo(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Li()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Li(),n.sibling=null,t=Ia.current,ci(Ia,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function Zo(e){switch(e.tag){case 1:mi(e.type)&&vi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ra(),ui(di),ui(fi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Da(e),null;case 13:return ui(Ia),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ui(Ia),null;case 4:return Ra(),null;case 10:return ea(e),null;default:return null}}function Jo(e,t){return{value:e,source:t,stack:ge(t)}}Bo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Uo=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,u,c=t.stateNode;switch(Ta(ja.current),e=null,n){case"input":o=Oe(c,o),r=Oe(c,r),e=[];break;case"option":o=Ce(c,o),r=Ce(c,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Te(c,o),r=Te(c,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(c.onclick=cn)}for(s in an(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in c=o[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(E.hasOwnProperty(s)?(null!=l&&un(a,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Wo=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Qo="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&ve(n.type),t=t.value,null!==e&&1===e.tag&&ve(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){bu(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ki(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ki(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&gn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function os(e,t,n){switch("function"===typeof Ou&&Ou(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Wi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){bu(i,a)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){bu(e,n)}}(t,n);break;case 5:ts(t);break;case 4:ls(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(us(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ls(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,c=a,l=n,f=c;;)if(os(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(os(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[_n]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ee(n,r),on(e,i),t=on(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?Le(n,u):"children"===s?Be(n,u):Z(n,s,u,t)}switch(e){case"input":_e(n,r);break;case"textarea":Re(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ds=Li()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ds(t);case 19:return void ds(t);case 17:return}throw Error(o(163))}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qo),t.forEach((function(t){var r=wu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=sa(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fs||(Fs=!0,Ps=r),es(e,t)},n}function ms(e,t,n){(n=sa(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===zs?zs=new Set([this]):zs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var vs,gs=Math.ceil,bs=Y.ReactCurrentDispatcher,ys=Y.ReactCurrentOwner,ws=0,xs=3,Os=4,ks=0,Es=null,_s=null,Ss=0,js=ws,Cs=null,As=1073741823,Ts=1073741823,Ns=null,Rs=0,Ms=!1,Ds=0,Is=null,Fs=!1,Ps=null,zs=null,Ls=!1,Bs=null,Us=90,Ws=null,Vs=0,qs=null,Hs=0;function Gs(){return 0!==(48&ks)?1073741821-(Li()/10|0):0!==Hs?Hs:Hs=1073741821-(Li()/10|0)}function $s(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Bi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&ks))return Ss;if(null!==n)e=$i(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=$i(e,150,100);break;case 97:case 96:e=$i(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Es&&e===Ss&&--e,e}function Ks(e,t){if(50<Vs)throw Vs=0,qs=null,Error(o(185));if(null!==(e=Xs(e,t))){var n=Bi();1073741823===t?0!==(8&ks)&&0===(48&ks)?Qs(e):(Zs(e),0===ks&&Hi()):Zs(e),0===(4&ks)||98!==n&&99!==n||(null===Ws?Ws=new Map([[e,t]]):(void 0===(n=Ws.get(e))||n>t)&&Ws.set(e,t))}}function Xs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Es===i&&(ou(t),js===Os&&Mu(i,Ss)),Du(i,t)),i}function Ys(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ru(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Zs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=qi(Qs.bind(null,e));else{var t=Ys(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Gs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ri&&ki(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?qi(Qs.bind(null,e)):Vi(r,Js.bind(null,e),{timeout:10*(1073741821-t)-Li()}),e.callbackNode=t}}}function Js(e,t){if(Hs=0,t)return Iu(e,t=Gs()),Zs(e),null;var n=Ys(e);if(0!==n){if(t=e.callbackNode,0!==(48&ks))throw Error(o(327));if(mu(),e===Es&&n===Ss||nu(e,n),null!==_s){var r=ks;ks|=16;for(var i=iu();;)try{uu();break}catch(u){ru(e,u)}if(Qi(),ks=r,bs.current=i,1===js)throw t=Cs,nu(e,n),Mu(e,n),Zs(e),t;if(null===_s)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=js,Es=null,r){case ws:case 1:throw Error(o(345));case 2:Iu(e,2<n?2:n);break;case xs:if(Mu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),1073741823===As&&10<(i=Ds+500-Li())){if(Ms){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,nu(e,n);break}}if(0!==(a=Ys(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=yn(du.bind(null,e),i);break}du(e);break;case Os:if(Mu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),Ms&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nu(e,n);break}if(0!==(i=Ys(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ts?r=10*(1073741821-Ts)-Li():1073741823===As?r=0:(r=10*(1073741821-As)-5e3,0>(r=(i=Li())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=yn(du.bind(null,e),r);break}du(e);break;case 5:if(1073741823!==As&&null!==Ns){a=As;var s=Ns;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=Li()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Mu(e,n),e.timeoutHandle=yn(du.bind(null,e),r);break}}du(e);break;default:throw Error(o(329))}if(Zs(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function Qs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&ks))throw Error(o(327));if(mu(),e===Es&&t===Ss||nu(e,t),null!==_s){var n=ks;ks|=16;for(var r=iu();;)try{su();break}catch(i){ru(e,i)}if(Qi(),ks=n,bs.current=r,1===js)throw n=Cs,nu(e,t),Mu(e,t),Zs(e),n;if(null!==_s)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Es=null,du(e),Zs(e)}return null}function eu(e,t){var n=ks;ks|=1;try{return e(t)}finally{0===(ks=n)&&Hi()}}function tu(e,t){var n=ks;ks&=-2,ks|=8;try{return e(t)}finally{0===(ks=n)&&Hi()}}function nu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,wn(n)),null!==_s)for(n=_s.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Ra(),ui(di),ui(fi);break;case 5:Da(r);break;case 4:Ra();break;case 13:case 19:ui(Ia);break;case 10:ea(r)}n=n.return}Es=e,_s=Su(e.current,null),Ss=t,js=ws,Cs=null,Ts=As=1073741823,Ns=null,Rs=0,Ms=!1}function ru(e,t){for(;;){try{if(Qi(),za.current=vo,qa)for(var n=Ua.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ba=0,Va=Wa=Ua=null,qa=!1,null===_s||null===_s.return)return js=1,Cs=t,_s=null;e:{var i=e,a=_s.return,o=_s,s=t;if(t=Ss,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var l=0!==(1&Ia.current),f=a;do{var d;if(d=13===f.tag){var h=f.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var p=f.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(d){var m=f.updateQueue;if(null===m){var v=new Set;v.add(u),f.updateQueue=v}else m.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var g=sa(1073741823,null);g.tag=2,ua(o,g)}o.expirationTime=1073741823;break e}s=void 0,o=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new hs,s=new Set,b.set(u,s)):void 0===(s=b.get(u))&&(s=new Set,b.set(u,s)),!s.has(o)){s.add(o);var y=yu.bind(null,i,u,o);u.then(y,y)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((ve(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(o))}5!==js&&(js=2),s=Jo(s,o),f=a;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,ca(f,ps(f,u,t));break e;case 1:u=s;var w=f.type,x=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===zs||!zs.has(x)))){f.effectTag|=4096,f.expirationTime=t,ca(f,ms(f,u,t));break e}}f=f.return}while(null!==f)}_s=lu(_s)}catch(O){t=O;continue}break}}function iu(){var e=bs.current;return bs.current=vo,null===e?vo:e}function au(e,t){e<As&&2<e&&(As=e),null!==t&&e<Ts&&2<e&&(Ts=e,Ns=t)}function ou(e){e>Rs&&(Rs=e)}function su(){for(;null!==_s;)_s=cu(_s)}function uu(){for(;null!==_s&&!Mi();)_s=cu(_s)}function cu(e){var t=vs(e.alternate,e,Ss);return e.memoizedProps=e.pendingProps,null===t&&(t=lu(e)),ys.current=null,t}function lu(e){_s=e;do{var t=_s.alternate;if(e=_s.return,0===(2048&_s.effectTag)){if(t=Yo(t,_s,Ss),1===Ss||1!==_s.childExpirationTime){for(var n=0,r=_s.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}_s.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=_s.firstEffect),null!==_s.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=_s.firstEffect),e.lastEffect=_s.lastEffect),1<_s.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=_s:e.firstEffect=_s,e.lastEffect=_s))}else{if(null!==(t=Zo(_s)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=_s.sibling))return t;_s=e}while(null!==_s);return js===ws&&(js=5),null}function fu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function du(e){var t=Bi();return Wi(99,hu.bind(null,e,t)),null}function hu(e,t){do{mu()}while(null!==Bs);if(0!==(48&ks))throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=fu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Es&&(_s=Es=null,Ss=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=ks;ks|=32,ys.current=null,mn=Gt;var s=hn();if(pn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(S){u=null;break e}var d=0,h=-1,p=-1,m=0,v=0,g=s,b=null;t:for(;;){for(var y;g!==u||0!==l&&3!==g.nodeType||(h=d+l),g!==f||0!==c&&3!==g.nodeType||(p=d+c),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)b=g,g=y;for(;;){if(g===s)break t;if(b===u&&++m===l&&(h=d),b===f&&++v===c&&(p=d),null!==(y=g.nextSibling))break;b=(g=b).parentNode}g=y}u=-1===h||-1===p?null:{start:h,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;vn={activeElementDetached:null,focusedElem:s,selectionRange:u},Gt=!1,Is=i;do{try{pu()}catch(S){if(null===Is)throw Error(o(330));bu(Is,S),Is=Is.nextEffect}}while(null!==Is);Is=i;do{try{for(s=e,u=t;null!==Is;){var w=Is.effectTag;if(16&w&&Be(Is.stateNode,""),128&w){var x=Is.alternate;if(null!==x){var O=x.ref;null!==O&&("function"===typeof O?O(null):O.current=null)}}switch(1038&w){case 2:cs(Is),Is.effectTag&=-3;break;case 6:cs(Is),Is.effectTag&=-3,fs(Is.alternate,Is);break;case 1024:Is.effectTag&=-1025;break;case 1028:Is.effectTag&=-1025,fs(Is.alternate,Is);break;case 4:fs(Is.alternate,Is);break;case 8:ls(s,l=Is,u),ss(l)}Is=Is.nextEffect}}catch(S){if(null===Is)throw Error(o(330));bu(Is,S),Is=Is.nextEffect}}while(null!==Is);if(O=vn,x=hn(),w=O.focusedElem,u=O.selectionRange,x!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&pn(w)&&(x=u.start,void 0===(O=u.end)&&(O=x),"selectionStart"in w?(w.selectionStart=x,w.selectionEnd=Math.min(O,w.value.length)):(O=(x=w.ownerDocument||document)&&x.defaultView||window).getSelection&&(O=O.getSelection(),l=w.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!O.extend&&s>u&&(l=u,u=s,s=l),l=dn(w,s),f=dn(w,u),l&&f&&(1!==O.rangeCount||O.anchorNode!==l.node||O.anchorOffset!==l.offset||O.focusNode!==f.node||O.focusOffset!==f.offset)&&((x=x.createRange()).setStart(l.node,l.offset),O.removeAllRanges(),s>u?(O.addRange(x),O.extend(f.node,f.offset)):(x.setEnd(f.node,f.offset),O.addRange(x))))),x=[];for(O=w;O=O.parentNode;)1===O.nodeType&&x.push({element:O,left:O.scrollLeft,top:O.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<x.length;w++)(O=x[w]).element.scrollLeft=O.left,O.element.scrollTop=O.top}Gt=!!mn,vn=mn=null,e.current=n,Is=i;do{try{for(w=e;null!==Is;){var k=Is.effectTag;if(36&k&&as(w,Is.alternate,Is),128&k){x=void 0;var E=Is.ref;if(null!==E){var _=Is.stateNode;switch(Is.tag){case 5:x=_;break;default:x=_}"function"===typeof E?E(x):E.current=x}}Is=Is.nextEffect}}catch(S){if(null===Is)throw Error(o(330));bu(Is,S),Is=Is.nextEffect}}while(null!==Is);Is=null,Di(),ks=a}else e.current=n;if(Ls)Ls=!1,Bs=e,Us=t;else for(Is=i;null!==Is;)t=Is.nextEffect,Is.nextEffect=null,Is=t;if(0===(t=e.firstPendingTime)&&(zs=null),1073741823===t?e===qs?Vs++:(Vs=0,qs=e):Vs=0,"function"===typeof xu&&xu(n.stateNode,r),Zs(e),Fs)throw Fs=!1,e=Ps,Ps=null,e;return 0!==(8&ks)||Hi(),null}function pu(){for(;null!==Is;){var e=Is.effectTag;0!==(256&e)&&ns(Is.alternate,Is),0===(512&e)||Ls||(Ls=!0,Vi(97,(function(){return mu(),null}))),Is=Is.nextEffect}}function mu(){if(90!==Us){var e=97<Us?97:Us;return Us=90,Wi(e,vu)}}function vu(){if(null===Bs)return!1;var e=Bs;if(Bs=null,0!==(48&ks))throw Error(o(331));var t=ks;for(ks|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===e)throw Error(o(330));bu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return ks=t,Hi(),!0}function gu(e,t,n){ua(e,t=ps(e,t=Jo(n,t),1073741823)),null!==(e=Xs(e,1073741823))&&Zs(e)}function bu(e,t){if(3===e.tag)gu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){gu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zs||!zs.has(r))){ua(n,e=ms(n,e=Jo(t,e),1073741823)),null!==(n=Xs(n,1073741823))&&Zs(n);break}}n=n.return}}function yu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Es===e&&Ss===n?js===Os||js===xs&&1073741823===As&&Li()-Ds<500?nu(e,Ss):Ms=!0:Ru(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Zs(e)))}function wu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=$s(t=Gs(),e,null)),null!==(e=Xs(e,t))&&Zs(e)}vs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||di.current)To=!0;else{if(r<n){switch(To=!1,t.tag){case 3:Lo(t),Co();break;case 5:if(Ma(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&yi(t);break;case 4:Na(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,ci(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?qo(e,t,n):(ci(Ia,1&Ia.current),null!==(t=Ko(e,t,n))?t.sibling:null);ci(Ia,1&Ia.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return $o(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ci(Ia,Ia.current),!r)return null}return Ko(e,t,n)}To=!1}}else To=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,fi.current),na(t,n),i=$a(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;yi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&pa(t,r,s,e),i.updater=ma,t.stateNode=i,i._reactInternalFiber=t,ya(t,r,e,n),t=zo(null,t,r,!0,a,n)}else t.tag=0,No(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return _u(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===fe)return 14}return 2}(i),e=Ki(i,e),a){case 0:t=Fo(null,t,i,e,n);break e;case 1:t=Po(null,t,i,e,n);break e;case 11:t=Ro(null,t,i,e,n);break e;case 14:t=Mo(null,t,i,Ki(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Po(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:if(Lo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),la(t,r,null,n),(r=t.memoizedState.element)===i)Co(),t=Ko(e,t,n);else{if((i=t.stateNode.hydrate)&&(xo=xn(t.stateNode.containerInfo.firstChild),wo=t,i=Oo=!0),i)for(n=_a(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else No(e,t,r,n),Co();t=t.child}return t;case 5:return Ma(t),null===e&&_o(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,bn(r,i)?s=null:null!==a&&bn(r,a)&&(t.effectTag|=16),Io(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(No(e,t,s,n),t=t.child),t;case 6:return null===e&&_o(t),null;case 13:return qo(e,t,n);case 4:return Na(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):No(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ro(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(ci(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=Pr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!di.current){t=Ko(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=sa(n,null)).tag=2,ua(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),ta(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}No(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,na(t,n),r=r(i=ra(i,a.unstable_observedBits)),t.effectTag|=1,No(e,t,r,n),t.child;case 14:return a=Ki(i=t.type,t.pendingProps),Mo(e,t,i,a=Ki(i.type,a),r,n);case 15:return Do(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(r)?(e=!0,yi(t)):e=!1,na(t,n),ga(t,r,i),ya(t,r,i,n),zo(null,t,r,!0,e,n);case 19:return $o(e,t,n)}throw Error(o(156,t.tag))};var xu=null,Ou=null;function ku(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Eu(e,t,n,r){return new ku(e,t,n,r)}function _u(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Su(e,t){var n=e.alternate;return null===n?((n=Eu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ju(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)_u(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Cu(n.children,i,a,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Eu(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ce:return(e=Eu(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=a,e;case le:return(e=Eu(19,n,t,i)).elementType=le,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case ue:s=11;break e;case fe:s=14;break e;case de:s=16,r=null;break e;case he:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Eu(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Cu(e,t,n,r){return(e=Eu(7,e,r,t)).expirationTime=n,e}function Au(e,t,n){return(e=Eu(6,e,null,t)).expirationTime=n,e}function Tu(e,t,n){return(t=Eu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ru(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Mu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Du(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Iu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Fu(e,t,n,r){var i=t.current,a=Gs(),s=da.suspense;a=$s(a,i,s);e:if(n){t:{if(Qe(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,u);break e}}n=u}else n=li;return null===t.context?t.context=n:t.pendingContext=n,(t=sa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ua(i,t),Ks(i,a),a}function Pu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function zu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Lu(e,t){zu(e,t),(e=e.alternate)&&zu(e,t)}function Bu(e,t,n){var r=new Nu(e,t,n=null!=n&&!0===n.hydrate),i=Eu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,aa(i),e[Sn]=r.current,n&&0!==t&&function(e,t){var n=Je(t);St.forEach((function(e){pt(e,t,n)})),jt.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Uu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Wu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Pu(o);s.call(e)}}Fu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Bu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Pu(o);u.call(e)}}tu((function(){Fu(t,o,e,i)}))}return Pu(o)}function Vu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Uu(t))throw Error(o(200));return Vu(e,t,null,n)}Bu.prototype.render=function(e){Fu(e,this._internalRoot,null,null)},Bu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Fu(null,e,null,(function(){t[Sn]=null}))},mt=function(e){if(13===e.tag){var t=$i(Gs(),150,100);Ks(e,t),Lu(e,t)}},vt=function(e){13===e.tag&&(Ks(e,3),Lu(e,3))},gt=function(e){if(13===e.tag){var t=Gs();Ks(e,t=$s(t,e,null)),Lu(e,t)}},C=function(e,t,n){switch(t){case"input":if(_e(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Tn(r);if(!i)throw Error(o(90));xe(r),_e(r,i)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},D=eu,I=function(e,t,n,r,i){var a=ks;ks|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(ks=a)&&Hi()}},F=function(){0===(49&ks)&&(function(){if(null!==Ws){var e=Ws;Ws=null,e.forEach((function(e,t){Iu(t,e),Zs(t)})),Hi()}}(),mu())},P=function(e,t){var n=ks;ks|=2;try{return e(t)}finally{0===(ks=n)&&Hi()}};var Hu={Events:[Cn,An,Tn,S,k,Pn,function(e){it(e,Fn)},R,M,Zt,st,mu,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);xu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Ou=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:jn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hu,t.createPortal=qu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&ks))throw Error(o(187));var n=ks;ks|=1;try{return Wi(99,e.bind(null,t))}finally{ks=n,Hi()}},t.hydrate=function(e,t,n){if(!Uu(t))throw Error(o(200));return Wu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Uu(t))throw Error(o(200));return Wu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Uu(e))throw Error(o(40));return!!e._reactRootContainer&&(tu((function(){Wu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Sn]=null}))})),!0)},t.unstable_batchedUpdates=eu,t.unstable_createPortal=function(e,t){return qu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Uu(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Wu(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";var r,i,a,o,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},a=function(){clearTimeout(c)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,h=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var g=h.now();t.unstable_now=function(){return h.now()-g}}var b=!1,y=null,w=-1,x=5,O=0;o=function(){return t.unstable_now()>=O},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,E=k.port2;k.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();O=e+x;try{y(!0,e)?E.postMessage(null):(b=!1,y=null)}catch(n){throw E.postMessage(null),n}}else b=!1},r=function(e){y=e,b||(b=!0,E.postMessage(null))},i=function(e,n){w=p((function(){e(t.unstable_now())}),n)},a=function(){m(w),w=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function j(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>C(o,n))void 0!==u&&0>C(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],T=[],N=1,R=null,M=3,D=!1,I=!1,F=!1;function P(e){for(var t=S(T);null!==t;){if(null===t.callback)j(T);else{if(!(t.startTime<=e))break;j(T),t.sortIndex=t.expirationTime,_(A,t)}t=S(T)}}function z(e){if(F=!1,P(e),!I)if(null!==S(A))I=!0,r(L);else{var t=S(T);null!==t&&i(z,t.startTime-e)}}function L(e,n){I=!1,F&&(F=!1,a()),D=!0;var r=M;try{for(P(n),R=S(A);null!==R&&(!(R.expirationTime>n)||e&&!o());){var s=R.callback;if(null!==s){R.callback=null,M=R.priorityLevel;var u=s(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?R.callback=u:R===S(A)&&j(A),P(n)}else j(A);R=S(A)}if(null!==R)var c=!0;else{var l=S(T);null!==l&&i(z,l.startTime-n),c=!1}return c}finally{R=null,M=r,D=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var u=o.delay;u="number"===typeof u&&0<u?s+u:s,o="number"===typeof o.timeout?o.timeout:B(e)}else o=B(e),u=s;return e={id:N++,callback:n,priorityLevel:e,startTime:u,expirationTime:o=u+o,sortIndex:-1},u>s?(e.sortIndex=u,_(T,e),null===S(A)&&e===S(T)&&(F?a():F=!0,i(z,u-s))):(e.sortIndex=o,_(A,e),I||D||(I=!0,r(L))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_shouldYield=function(){var e=t.unstable_now();P(e);var n=S(A);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||o()},t.unstable_requestPaint=U,t.unstable_continueExecution=function(){I||D||(I=!0,r(L))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return S(A)},t.unstable_Profiling=null},,function(e,t,n){"use strict";var r=n(461);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function O(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case d:case o:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case v:case c:return e;default:return t}}case a:return t}}}function k(e){return O(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return k(e)||O(e)===f},t.isConcurrentMode=k,t.isContextConsumer=function(e){return O(e)===l},t.isContextProvider=function(e){return O(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return O(e)===h},t.isFragment=function(e){return O(e)===o},t.isLazy=function(e){return O(e)===g},t.isMemo=function(e){return O(e)===v},t.isPortal=function(e){return O(e)===a},t.isProfiler=function(e){return O(e)===u},t.isStrictMode=function(e){return O(e)===s},t.isSuspense=function(e){return O(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===u||e===s||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===w||e.$$typeof===x||e.$$typeof===b)},t.typeOf=O},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof l?t:l,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=y(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var c={};function l(){}function f(){}function d(){}var h={};h[i]=function(){return this};var p=Object.getPrototypeOf,m=p&&p(p(k([])));m&&m!==t&&n.call(m,i)&&(h=m);var v=d.prototype=l.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var c=u(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(c.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function y(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=v.constructor=d,d.constructor=f,d[o]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),b.prototype[a]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),v[o]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=(r=o)&&r.__esModule?r:{default:r},u=n(466);function c(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var e,n,r;f(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.isFileDialogActive=!1,r.composeHandlers=function(e){return r.props.disabled?null:e},r.onDocumentDrop=function(e){r.node&&r.node.contains(e.target)||(e.preventDefault(),r.dragTargets=[])},r.onDragStart=function(e){var t=r.props.onDragStart;t&&t.call(r,e)},r.onDragEnter=function(e){var t=r.props.onDragEnter;e.preventDefault(),-1===r.dragTargets.indexOf(e.target)&&r.dragTargets.push(e.target);(0,u.getDataTransferItems)(e);t&&t.call(r,e)},r.onDragOver=function(e){var t=r.props.onDragOver;e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&t.call(r,e),!1},r.onDragLeave=function(e){var t=r.props.onDragLeave;e.preventDefault(),r.dragTargets=r.dragTargets.filter((function(t){return t!==e.target&&r.node.contains(t)})),r.dragTargets.length>0||t&&t.call(r,e)},r.onDrop=function(e){var t=r.props,n=t.onDrop,i=t.onDropAccepted,a=t.onDropRejected,o=t.multiple,s=t.disablePreview,c=t.minSize,f=t.maxSize,d=t.accept,h=(0,u.getDataTransferItems)(e),p=[],m=[];e.preventDefault(),0!==h.length?(r.dragTargets=[],r.isFileDialogActive=!1,h.forEach((function(e){if(!s)try{e.preview=window.URL.createObjectURL(e)}catch(t){0}(0,u.fileAccepted)(e,d)&&(0,u.fileMatchSize)(e,f,c)?p.push(e):m.push(e)})),o||m.push.apply(m,l(p.splice(1))),n&&n.call(r,p,m,[],e),m.length>0&&a&&a.call(r,m,e),p.length>0&&i&&i.call(r,p,e)):r.onLink(e)},r.onClick=function(e){var t=r.props,n=t.onClick;t.disableClick||(e.stopPropagation(),n&&n.call(r,e),setTimeout(r.open.bind(r),0))},r.onInputElementClick=function(e){var t=r.props.inputProps;e.stopPropagation(),t&&t.onClick&&t.onClick()},r.onFileDialogCancel=function(){var e=r.props.onFileDialogCancel,t=r.fileInputEl,n=r.isFileDialogActive;e&&n&&setTimeout((function(){t.files.length||(n=!1,e())}),300)},r.setRef=function(e){r.node=e},r.setRefs=function(e){r.fileInputEl=e},r.onLink=function(e){var t=r.props,n=t.onDrop,i=t.accept;if(i){var a=i.match(/(\.[^.]+)(?=[,]|$)/gi);if(a){var o="(https://|http://)((?!http).)*("+a.join("|")+")",s=new RegExp(o,"gi"),u=[];if(e.dataTransfer){var c=decodeURIComponent(e.dataTransfer.getData("text/uri-list")).match(s),f=e.dataTransfer.getData("text/html").match(s);c?u=[].concat(l(c)):f&&(u=[].concat(l(f.filter((function(e){return-1===e.indexOf('"')})).map((function(e){return decodeURIComponent(e)})))))}else u=[].concat(l(decodeURIComponent(e.target.value).match(s)));n&&n([],[],u,e)}else n&&n([],[],[],e)}else n&&n([],[],[],e)},d(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",u.onDocumentDragOver,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),document.body.onfocus=this.onFileDialogCancel}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",u.onDocumentDragOver),document.removeEventListener("drop",this.onDocumentDrop)),this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),document.body.onfocus=null}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.children,r=e.disabled,a=e.multiple,o=c(e,["accept","children","disabled","multiple"]),l=(o.preventDropOnDocument,o.disablePreview,o.disableClick,o.maxSize,o.minSize,o.inputProps,o.onDropAccepted,o.onDropRejected,o.onFileDialogCancel,c(o,["preventDropOnDocument","disablePreview","disableClick","maxSize","minSize","inputProps","onDropAccepted","onDropRejected","onFileDialogCancel"]));return s.default.createElement("div",i({},l,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":r}),n,s.default.createElement("input",{disabled:r,accept:t,type:"file",style:{display:"none"},multiple:u.supportMultiple&&a,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"}))}}]),t}(o.Component);h.defaultProps={preventDropOnDocument:!0,disabled:!1,disablePreview:!1,disableClick:!1,multiple:!0,maxSize:1/0,minSize:0},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDataTransferItems=function(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;if(n.files&&n.files.length)t=n.files;else if(n.items&&n.items.length)return Array.prototype.slice.call(n.items).filter((function(e){return"file"===e.kind}))}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)},t.fileAccepted=r,t.fileMatchSize=function(e,t,n){return e.size<=t&&e.size>=n},t.allFilesAccepted=function(e,t){return e.every((function(e){return r(e,t)}))},t.onDocumentDragOver=function(e){e.preventDefault()};t.supportMultiple="undefined"===typeof document||!document||!document.createElement||"multiple"in document.createElement("input");function r(e,t){return"application/x-moz-file"===e.type||function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=e.type||"",a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):/\/\*$/.test(t)?a===t.replace(/\/.*$/,""):i===t}))}return!0}(e,t)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),o=r[0],s=r[1],u=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),l=0,f=s>0?o-4:o;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(l(e,o,o+16383>s?s:o+16383));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,a=h&(1<<-l)-1,h>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=d,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=r;l>0;o=256*o+e[t+f],f+=d,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=c}return(h?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+h]=255&o,h+=p,o/=256,c-=8);e[n+h-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,a={},o=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return a[i]=o,r(i),i++},u.clearImmediate=c}function c(e){delete a[e]}function l(e){if(o)setTimeout(l,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{c(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(42),n(60))},,,,,,,function(e,t,n){"use strict";var r=n(13),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(125)),s=n(87),u=n(68);t.barchart=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,void 0,void 0,r.mark((function i(){var a,f,d,h,p,m,v,g,b,y,w,x,O,k,E,_;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=u.getDrawArea(e),f=t,d=Object.assign({},c,n),!l.has(a)){r.next=13;break}if(h=l.get(a),!u.shallowEquals(d,h.lastOptions)){r.next=13;break}return r.next=8,u.nextFrame();case 8:return p=h.view,m=p.changeset().remove((function(){return!0})).insert(f),r.next=12,p.change("values",m).runAsync();case 12:return r.abrupt("return");case 13:return v=d.xLabel,g=d.yLabel,b=d.xType,y=d.yType,w=null,null!=v&&(w={title:v}),x=null,null!=g&&(x={title:g}),O={actions:!1,mode:"vega-lite",defaultStyle:!1},k=null!=d.color?Array.isArray(d.color)?{field:"index",type:"nominal",scale:{range:d.color}}:{value:d.color}:{value:"#4C78A0"},E={width:d.width||s.getDefaultWidth(a),height:d.height||s.getDefaultHeight(a),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:d.fontSize,titleFontSize:d.fontSize},text:{fontSize:d.fontSize},legend:{labelFontSize:d.fontSize,titleFontSize:d.fontSize}},data:{values:f,name:"values"},mark:{type:"bar",tooltip:!0},encoding:{x:{field:"index",type:b,axis:w},y:{field:"value",type:y,axis:x},color:k}},r.next=23,u.nextFrame();case 23:return r.next=25,o.default(a,E,O);case 25:_=r.sent,l.set(a,{view:_.view,lastOptions:d});case 27:case"end":return r.stop()}}),i)})))};var c={xLabel:"",yLabel:"",xType:"ordinal",yType:"quantitative",fontSize:11},l=new Map},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleSheet=f;var r,i=n(146),a=(r=i)&&r.__esModule?r:{default:r};function o(e){return e[e.length-1]}function s(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}var u="undefined"!==typeof window,c=function(){if(u){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length}}();function l(){var e=document.createElement("style");return e.type="text/css",e.setAttribute("data-glamor",""),e.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(e),e}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.speedy,n=void 0===t||t,r=e.maxLength,i=void 0===r?u&&c?4e3:65e3:r;this.isSpeedy=n,this.sheet=void 0,this.tags=[],this.maxLength=i,this.ctr=0}(0,a.default)(f.prototype,{getSheet:function(){return s(o(this.tags))},inject:function(){var e=this;if(this.injected)throw new Error("already injected stylesheet!");u?this.tags[0]=l():this.sheet={cssRules:[],insertRule:function(t){e.sheet.cssRules.push({cssText:t})}},this.injected=!0},speedy:function(e){if(0!==this.ctr)throw new Error("cannot change speedy mode after inserting any rule to sheet. Either call speedy("+e+") earlier in your app, or call flush() before speedy("+e+")");this.isSpeedy=!!e},_insert:function(e){try{var t=this.getSheet();t.insertRule(e,-1!==e.indexOf("@import")?0:t.cssRules.length)}catch(n){0}},insert:function(e){if(u)if(this.isSpeedy&&this.getSheet().insertRule)this._insert(e);else if(-1!==e.indexOf("@import")){var t=o(this.tags);t.insertBefore(document.createTextNode(e),t.firstChild)}else o(this.tags).appendChild(document.createTextNode(e));else this.sheet.insertRule(e,-1!==e.indexOf("@import")?0:this.sheet.cssRules.length);return this.ctr++,u&&this.ctr%this.maxLength===0&&this.tags.push(l()),this.ctr-1},delete:function(e){return this.replace(e,"")},flush:function(){u?(this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.sheet=null,this.ctr=0):this.sheet.cssRules=[],this.injected=!1},rules:function(){if(!u)return this.sheet.cssRules;var e=[];return this.tags.forEach((function(t){return e.splice.apply(e,[e.length,0].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array.from(s(t).cssRules))))})),e}})},function(e,t,n){"use strict";var r=n(480),i=/^-ms-/;e.exports=function(e){return r(e.replace(i,"ms-"))}},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(482));i(n(359));function i(e){return e&&e.__esModule?e:{default:e}}var a=r.default.isUnitlessNumber;t.default=function(e,t,n){return null==t||"boolean"===typeof t||""===t?"":isNaN(t)||0===t||a.hasOwnProperty(e)&&a[e]?""+t:("string"===typeof t&&(t=t.trim()),t+"px")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowStart:!0,gridRowEnd:!0,gridColumn:!0,gridColumnStart:!0,gridColumnEnd:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var i=["Webkit","ms","Moz","O"];Object.keys(r).forEach((function(e){i.forEach((function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]}))}));var a={isUnitlessNumber:r,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};t.default=a},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";var r=n(485),i=/^ms-/;e.exports=function(e){return r(e).replace(i,"-ms-")}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){if(function(e){return null===e||void 0===e||!1===e||"object"===("undefined"===typeof e?"undefined":r(e))&&0===Object.keys(e).length}(e))return null;if("object"!==("undefined"===typeof e?"undefined":r(e)))return e;for(var t={},n=Object.keys(e),i=!1,o=0;o<n.length;o++){var s=e[n[o]],u=a(s);null!==u&&u===s||(i=!0),null!==u&&(t[n[o]]=u)}return 0===Object.keys(t).length?null:i?t:e}function a(e){return Array.isArray(e)?function(e){var t=!1,n=[];return e.forEach((function(e){var r=a(e);null!==r&&r===e||(t=!0),null!==r&&n.push(r)})),0==n.length?null:t?n:e}(e):i(e)}t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.PluginSet=u,t.fallbacks=function(e){if(Object.keys(e.style).map((function(t){return Array.isArray(e.style[t])})).indexOf(!0)>=0){var t=e.style,n=Object.keys(t).reduce((function(e,n){return e[n]=Array.isArray(t[n])?t[n].join("; "+(0,a.processStyleName)(n)+": "):t[n],e}),{});return(0,i.default)({},e,{style:n})}return e},t.contentWrap=function(e){if(e.style.content){var t=e.style.content;return c.indexOf(t)>=0||/^(attr|calc|counters?|url)\(/.test(t)?e:t.charAt(0)!==t.charAt(t.length-1)||'"'!==t.charAt(0)&&"'"!==t.charAt(0)?r({},e,{style:r({},e.style,{content:'"'+t+'"'})}):e}return e},t.prefixes=function(e){return(0,i.default)({},e,{style:(0,o.default)(r({},e.style))})};var i=s(n(146)),a=n(358),o=s(n(489));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){this.fns=e||[]}(0,i.default)(u.prototype,{add:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e.fns.indexOf(t)>=0||(e.fns=[t].concat(e.fns))}))},remove:function(e){this.fns=this.fns.filter((function(t){return t!==e}))},clear:function(){this.fns=[]},transform:function(e){return this.fns.reduce((function(e,t){return t(e)}),e)}});var c=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t in e){var n=e[t],r=(0,a.default)(g,t,n,e,b);r&&(e[t]=r),(0,i.default)(b,t,e)}return e};var r=v(n(490)),i=v(n(491)),a=v(n(492)),o=v(n(493)),s=v(n(494)),u=v(n(495)),c=v(n(496)),l=v(n(497)),f=v(n(498)),d=v(n(499)),h=v(n(500)),p=v(n(501)),m=v(n(502));function v(e){return e&&e.__esModule?e:{default:e}}var g=[s.default,o.default,u.default,l.default,f.default,d.default,h.default,p.default,m.default,c.default],b=r.default.prefixMap},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["Webkit"],i=["Moz"],a=["ms"],o=["Webkit","Moz"],s=["Webkit","ms"],u=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:o,userSelect:u,textEmphasisPosition:r,textEmphasis:r,textEmphasisStyle:r,textEmphasisColor:r,boxDecorationBreak:r,clipPath:r,maskImage:r,maskMode:r,maskRepeat:r,maskPosition:r,maskClip:r,maskOrigin:r,maskSize:r,maskComposite:r,mask:r,maskBorderSource:r,maskBorderMode:r,maskBorderSlice:r,maskBorderWidth:r,maskBorderOutset:r,maskBorderRepeat:r,maskBorder:r,maskType:r,textDecorationStyle:r,textDecorationSkip:r,textDecorationLine:r,textDecorationColor:r,filter:r,fontFeatureSettings:r,breakAfter:u,breakBefore:u,breakInside:u,columnCount:o,columnFill:o,columnGap:o,columnRule:o,columnRuleColor:o,columnRuleStyle:o,columnRuleWidth:o,columns:o,columnSpan:o,columnWidth:o,writingMode:s,flex:r,flexBasis:r,flexDirection:r,flexGrow:r,flexFlow:r,flexShrink:r,flexWrap:r,alignContent:r,alignItems:r,alignSelf:r,justifyContent:r,order:r,transform:r,transformOrigin:r,transformOriginX:r,transformOriginY:r,backfaceVisibility:r,perspective:r,perspectiveOrigin:r,transformStyle:r,transformOriginZ:r,animation:r,animationDelay:r,animationDirection:r,animationFillMode:r,animationDuration:r,animationIterationCount:r,animationName:r,animationPlayState:r,animationTimingFunction:r,backdropFilter:r,fontKerning:r,scrollSnapType:s,scrollSnapPointsX:s,scrollSnapPointsY:s,scrollSnapDestination:s,scrollSnapCoordinate:s,shapeImageThreshold:r,shapeImageMargin:r,shapeImageOutside:r,hyphens:u,flowInto:s,flowFrom:s,regionFragment:s,textAlignLast:i,tabSize:i,wrapFlow:a,wrapThrough:a,wrapMargin:a,gridTemplateColumns:a,gridTemplateRows:a,gridTemplateAreas:a,gridTemplate:a,gridAutoColumns:a,gridAutoRows:a,gridAutoFlow:a,grid:a,gridRowStart:a,gridColumnStart:a,gridRowEnd:a,gridRow:a,gridColumn:a,gridColumnEnd:a,gridColumnGap:a,gridRowGap:a,gridArea:a,gridGap:a,textSizeAdjust:s,borderImage:r,borderImageOutset:r,borderImageRepeat:r,borderImageSlice:r,borderImageSource:r,borderImageWidth:r,transitionDelay:r,transitionDuration:r,transitionProperty:r,transitionTimingFunction:r}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t))for(var r=e[t],i=0,o=r.length;i<o;++i)n[r[i]+(0,a.default)(t)]=n[t]};var r,i=n(360),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var a=0,o=e.length;a<o;++a){var s=e[a](t,n,r,i);if(s)return s}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&i.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],i={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&t.indexOf("cross-fade(")>-1)return o.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r,i=n(148),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&t.indexOf("filter(")>-1)return o.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r,i=n(148),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]};var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal");i.hasOwnProperty(e)&&(n[i[e]]=r[t]||t)};var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&s.test(t))return o.map((function(e){return e+t}))};var r,i=n(148),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&t.indexOf("image-set(")>-1)return o.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,i=n(148),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(i.hasOwnProperty(e)&&a.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],i={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},a={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){if("string"===typeof t&&s.hasOwnProperty(e)){var c=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),a=0,o=n.length;a<o;++a){var s=n[a],c=[s];for(var l in t){var f=(0,r.default)(l);if(s.indexOf(f)>-1&&"order"!==f)for(var d=t[l],h=0,p=d.length;h<p;++h)c.unshift(s.replace(f,u[d[h]]+f))}n[a]=c.join(",")}return n.join(",")}(t,o),l=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return l;var f=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?f:(n["Webkit"+(0,a.default)(e)]=l,n["Moz"+(0,a.default)(e)]=f,c)}};var r=o(n(503)),i=o(n(148)),a=o(n(360));function o(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},u={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e)};var r,i=n(215),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)+(e.charCodeAt(t++)<<16)+(e.charCodeAt(t)<<24)}function i(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)}function a(e,t){return(65535&(e|=0))*(t|=0)+(((e>>>16)*t&65535)<<16)|0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=1540483477,o=t^e.length,s=e.length,u=0;for(;s>=4;){var c=r(e,u);c=a(c,n),c=a(c^=c>>>24,n),o=a(o,n),o^=c,u+=4,s-=4}switch(s){case 3:o^=i(e,u),o=a(o^=e.charCodeAt(u+2)<<16,n);break;case 2:o=a(o^=i(e,u),n);break;case 1:o=a(o^=e.charCodeAt(u),n)}return o=a(o^=o>>>13,n),(o^=o>>>15)>>>0}},function(e,t,n){"use strict";var r=n(260),i=n(181),a=n(364),o=n(182),s=n(262),u=n(263);Object.defineProperty(t,"__esModule",{value:!0});var c=n(264),l=n(147),f=n(511),d=n(512),h=function(e){s(n,e);var t=u(n);function n(e){var r;i(this,n),(r=t.call(this,e)).surfaces=new Map;var o=null==e.startOpen||e.startOpen;return r.state={isOpen:o,isFullscreen:!1,activeTab:null,tabs:new Set},r.keyHandler=r.keyHandler.bind(a(r)),r}return o(n,null,[{key:"render",value:function(e,t,r){return c.render(c.h(n,Object.assign({},r)),e,t)}}]),o(n,[{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"toggleFullScreen",value:function(){this.setState({isFullscreen:!this.state.isFullscreen})}},{key:"isOpen",value:function(){return this.state.isOpen}},{key:"isFullscreen",value:function(){return this.state.isFullscreen}},{key:"getSurface",value:function(e,t){var n,r=this.surfaceId(e,t);if(!this.surfaces.has(r))throw Error("Surface not found with id: ".concat(r));return{container:(n=this.surfaces.get(r)).container,label:n.label,drawArea:n.drawArea}}},{key:"bindKeys",value:function(){document.addEventListener("keydown",this.keyHandler,!1)}},{key:"unbindKeys",value:function(){document.removeEventListener("keydown",this.keyHandler)}},{key:"surfaceId",value:function(e,t){return e+t}},{key:"setTabs",value:function(e){var t,n,i=e.map((function(e){return e.tab})),a=this.state.tabs,o=r(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;a.has(s)||(a.add(s),t=s)}}catch(u){o.e(u)}finally{o.f()}null!=t&&this.setState({tabs:a,activeTab:t})}},{key:"getTabs",value:function(){return this.state.tabs}},{key:"registerSurface",value:function(e,t,n){var r=this.surfaceId(e,t);this.surfaces.set(r,n)}},{key:"keyHandler",value:function(e){192===e.keyCode&&(e.shiftKey?this.toggleFullScreen():this.toggle())}},{key:"setActiveTab",value:function(e){this.setState({activeTab:e})}},{key:"componentDidMount",value:function(){this.bindKeys()}},{key:"componentWillMount",value:function(){this.setTabs(this.props.surfaceList)}},{key:"componentWillReceiveProps",value:function(e){this.setTabs(e.surfaceList)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isOpen,r=t.isFullscreen,i=t.activeTab,a=this.props.surfaceList,o=Array.from(this.getTabs().values()),s=r?"90vw":"550px",u=l.css({width:s,height:"100%",backgroundColor:"#fafafa",boxSizing:"border-box",padding:"10px",position:"fixed",top:"0px",transition:"right 0.5s cubic-bezier(0.645, 0.045, 0.355, 1), width 0.5s cubic-bezier(0.645, 0.045, 0.355, 1)",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.12), 0 2px 5px rgba(0, 0, 0, 0.24)",overflow:"auto",fontFamily:"sans-serif",fontSize:"14px",zIndex:1e3}),h=l.css({right:"0"}),m=l.css({right:"calc(-".concat(s," - 10px)")}),v=n?h:m,g=l.css({});return c.h("div",{className:"".concat(u," ").concat(v," visor"),"data-isopen":n,"data-isfullscreen":r},c.h(p,{fullScreenHandler:this.toggleFullScreen.bind(this),closeHandler:this.close.bind(this),isFullScreen:r}),c.h(d.Tabs,{tabNames:o,activeTab:i,handleClick:this.setActiveTab.bind(this)}),c.h("div",{className:"".concat(g," visor-surfaces")},a.map((function(t){return c.h(f.SurfaceComponent,{key:t.name+t.tab,name:t.name,tab:t.tab,styles:t.styles,registerSurface:e.registerSurface.bind(e),visible:i===t.tab})}))))}}]),n}(c.Component);function p(e){var t=e.isFullScreen,n=e.fullScreenHandler,r=e.closeHandler,i=l.css({display:"flex",backgroundColor:"white",border:"1px solid white",padding:"6px",paddingTop:"10px",marginBottom:"10px",borderRadius:"6px",marginTop:"-16px"}),a=l.css({fontSize:".875rem",borderRadius:".25rem",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:".5rem",paddingBottom:".5rem",textDecoration:"none",transition:"color .15s ease-in",color:"#111"}),o=l.css({marginLeft:"auto"});return c.h("div",{className:"".concat(i," visor-controls")},c.h("button",{className:"".concat(a),onClick:n},t?"Minimize":"Maximize"),c.h("button",{className:"".concat(a," ").concat(o),onClick:r},"Hide"))}t.VisorComponent=h},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(510),i=n(364);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?i(e):t}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";var r=n(181),i=n(182),a=n(262),o=n(263);Object.defineProperty(t,"__esModule",{value:!0});var s=n(264),u=n(147),c=function(e){a(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,n=e.tab;this.props.registerSurface(t,n,this)}},{key:"componentDidUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this,t=this.props,r=t.name,i=t.visible,a=t.styles,o=Object.assign({},n.defaultStyles,a),c=o.width,l=o.height,f=o.maxHeight,d=o.maxWidth;f=l===n.defaultStyles.height?f:l,d=c===n.defaultStyles.width?d:c;var h=u.css({display:i?"block":"none",backgroundColor:"white",marginTop:"10px",marginBottom:"10px",boxShadow:"0 0 6px -3px #777",padding:"10px !important",height:l,width:c,maxHeight:f,maxWidth:d,overflow:"auto"}),p=u.css({backgroundColor:"white",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",marginBottom:"20px",fontWeight:"600",textAlign:"center"}),m=u.css({boxSizing:"border-box"});return s.h("div",{className:"".concat(h," tf-surface"),ref:function(t){return e.container=t},"data-visible":i},s.h("div",{className:"".concat(p," tf-label"),ref:function(t){return e.label=t}},r),s.h("div",{className:"".concat(m," tf-draw-area"),ref:function(t){return e.drawArea=t}}))}}]),n}(s.Component);c.defaultStyles={maxWidth:"550px",maxHeight:"580px",height:"auto",width:"auto"},t.SurfaceComponent=c},function(e,t,n){"use strict";var r=n(181),i=n(182),a=n(262),o=n(263);Object.defineProperty(t,"__esModule",{value:!0});var s=n(264),u=n(147),c=function(e){a(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"render",value:function(){var e=this.props,t=e.tabNames,n=e.activeTab,r=e.handleClick,i=t.length>0?t.map((function(e){return s.h(l,{key:e,id:e,handleClick:r,isActive:e===n},e)})):null,a=u.css({overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"#eee",paddingBottom:"1rem",marginTop:"1rem"});return s.h("div",{className:"".concat(a," visor-tabs")},i)}}]),n}(s.Component);t.Tabs=c;var l=function(e){a(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isActive,r=e.handleClick,i=e.id,a=u.css({borderBottomColor:n?"#357EDD":"#AAAAAA",borderBottomWidth:"1px",borderBottomStyle:"solid",cursor:"pointer",":hover":{color:"#357EDD"},display:"inline-block",marginRight:"1rem",padding:".5rem",fontSize:"1rem",fontWeight:"bold"});return s.h("a",{className:"".concat(a," tf-tab"),"data-isactive":n,onClick:function(){return r(i)}},t)}}]),n}(s.Component)},function(e,t,n){"use strict";var r=n(13),i=n(260),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(125)),u=n(87),c=n(68);t.confusionMatrix=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(this,void 0,void 0,r.mark((function a(){var o,f,d,h,p,m,v,g,b,y,w,x,O,k,E,_,S,j;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(o=Object.assign({},l,n),f=c.getDrawArea(e),d=[],h=t.values,p=t.tickLabels||[],m=0===p.length,v=!0,g=0;g<h.length;g++)for(b=m?"Class ".concat(g):p[g],m&&p.push(b),y=0;y<h[g].length;y++)w=m?"Class ".concat(y):p[y],x=h[g][y],g!==y||o.shadeDiagonal?(d.push({label:b,prediction:w,count:x,scaleCount:x}),0!==x&&(v=!1)):d.push({label:b,prediction:w,count:x,noFill:!0});if(!o.shadeDiagonal&&v){O=i(d);try{for(O.s();!(k=O.n()).done;)!0===(E=k.value).noFill&&(E.noFill=!1,E.scaleCount=E.count)}catch(a){O.e(a)}finally{O.f()}}return _={actions:!1,mode:"vega-lite",defaultStyle:!1},S={width:o.width||u.getDefaultWidth(f),height:o.height||u.getDefaultHeight(f),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:o.fontSize,titleFontSize:o.fontSize},text:{fontSize:o.fontSize},legend:{labelFontSize:o.fontSize,titleFontSize:o.fontSize}},data:{values:d},encoding:{x:{field:"prediction",type:"ordinal",title:o.xLabel||"prediction",scale:{domain:p}},y:{field:"label",type:"ordinal",title:o.yLabel||"label",scale:{domain:p}}},layer:[{transform:[{filter:"datum.noFill != true"}],mark:{type:"rect"},encoding:{color:{field:"scaleCount",type:"quantitative",scale:{range:o.colorMap}},tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}]},!1===o.shadeDiagonal&&S.layer.push({transform:[{filter:"datum.noFill == true"}],mark:{type:"rect",fill:"white"},encoding:{tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}),o.showTextOverlay&&S.layer.push({mark:{type:"text",baseline:"middle"},encoding:{text:{field:"count",type:"nominal"}}}),j="string"===typeof o.colorMap?{scheme:o.colorMap}:o.colorMap,S.layer[0].encoding.color.scale.range=j,r.next=17,s.default(f,S,_);case 17:case"end":return r.stop()}}),a)})))};var l={xLabel:null,yLabel:null,xType:"nominal",yType:"nominal",shadeDiagonal:!0,fontSize:12,showTextOverlay:!0,height:400,colorMap:["#f7fbff","#4292c6"]}},function(e,t,n){"use strict";var r=n(13),i=n(365),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(31)),c=s(n(125)),l=n(87),f=n(183),d=n(68);function h(e){return a(this,void 0,void 0,r.mark((function t(){var n,i,a,o;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e instanceof u.Tensor?(n=e.shape,i=e.transpose()):(n=[e.length,e[0].length],i=u.tidy((function(){return u.tensor2d(e).transpose()}))),f.assert(2===i.rank,"Input to renderHeatmap must be a 2d array or Tensor2d"),t.next=4,i.array();case 4:return a=t.sent,i.dispose(),o=[a.length,a[0].length],f.assert(n[0]===o[1]&&n[1]===o[0],"Unexpected transposed shape. Original ".concat(n," : Transposed ").concat(o)),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))}function p(e,t,n){var r=e instanceof u.Tensor?e.shape:[e.length,e[0].length];0===n?f.assert(r[0]===t.length,"Length of xTickLabels (".concat(t.length,") must match number of rows")+" (".concat(r[0],")")):1===n&&f.assert(r[1]===t.length,"Length of yTickLabels (".concat(t.length,") must match number of columns (").concat(r[1],")"))}t.heatmap=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(this,void 0,void 0,r.mark((function a(){var o,s,v,g,b,y,w,x,O,k,E,_,S,j,C,A,T,N,R,M,D,I,F,P,z,L,B,U;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=Object.assign({},m,n),s=d.getDrawArea(e),v=t.values,!o.rowMajor){r.next=7;break}return r.next=6,h(t.values);case 6:v=r.sent;case 7:if(g=t.xTickLabels,b=t.yTickLabels,null!=g&&(0,p(v,g,0)),null!=b&&(1,p(v,b,1)),y="@tfidx@",w=[],!(v instanceof u.Tensor)){r.next=21;break}return f.assert(2===v.rank,"Input to renderHeatmap must be a 2d array or Tensor2d"),r.next=16,v.data();case 16:for(x=r.sent,O=i(v.shape,2),k=O[0],E=O[1],_=0;_<k;_++)for(S=g?"".concat(g[_]).concat(y).concat(_):_,j=0;j<E;j++)C=b?"".concat(b[j]).concat(y).concat(j):j,A=x[_*E+j],w.push({x:S,y:C,value:A});r.next=23;break;case 21:for(T=v,N=0;N<T.length;N++)for(R=g?"".concat(g[N]).concat(y).concat(N):N,M=0;M<T[N].length;M++)D=b?"".concat(b[M]).concat(y).concat(M):M,I=T[N][M],w.push({x:R,y:D,value:I});case 23:F={actions:!1,mode:"vega-lite",defaultStyle:!1},P={width:o.width||l.getDefaultWidth(s),height:o.height||l.getDefaultHeight(s),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:o.fontSize,titleFontSize:o.fontSize},text:{fontSize:o.fontSize},legend:{labelFontSize:o.fontSize,titleFontSize:o.fontSize},scale:{bandPaddingInner:0,bandPaddingOuter:0}},data:{values:w},mark:{type:"rect",tooltip:!0},encoding:{x:{field:"x",type:o.xType,title:o.xLabel,sort:"x"},y:{field:"y",type:o.yType,title:o.yLabel,sort:"y"},fill:{field:"value",type:"quantitative"}}},z="".concat(y,"\\d+$"),L=new RegExp(z),g&&(P.encoding.x.axis={labelExpr:"replace(datum.value, regexp(/".concat(z,"/), '')")}),b&&(P.encoding.y.axis={labelExpr:"replace(datum.value, regexp(/".concat(z,"/), '')")}),(g||b)&&(F.tooltip={sanitize:function(e){return String(e).replace(L,"")}}),r.t0=o.colorMap,r.next="blues"===r.t0?33:"greyscale"===r.t0?35:(r.t0,37);break;case 33:return B=["#f7fbff","#4292c6"],r.abrupt("break",39);case 35:return B=["#000000","#ffffff"],r.abrupt("break",39);case 37:return B="viridis",r.abrupt("break",39);case 39:return"viridis"!==B&&(P.encoding.fill.scale={range:B}),o.domain&&(null!=(U=P.encoding.fill).scale?U.scale=Object.assign({},U.scale,{domain:o.domain}):U.scale={domain:o.domain}),r.next=43,c.default(s,P,F);case 43:case"end":return r.stop()}}),a)})))};var m={xLabel:null,yLabel:null,xType:"ordinal",yType:"ordinal",colorMap:"viridis",fontSize:12,domain:null,rowMajor:!1}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(363);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";var r=n(13),i=n(367),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(125)),u=n(87),c=n(183),l=n(68);t.scatterplot=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(this,void 0,void 0,r.mark((function a(){var o,d,h,p,m,v,g,b,y;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.values,d=null==t.series?[]:t.series,o=Array.isArray(o[0])?o:[o],h=[],o.forEach((function(e,t){var n=null!=d[t]?d[t]:"Series ".concat(t+1),r=e.map((function(e){return Object.assign({},e,{series:n})}));h.push.apply(h,i(r))})),null!=n.seriesColors&&c.assert(n.seriesColors.length===o.length,"Must have an equal number of series colors as there are data series"),p=l.getDrawArea(e),m=Object.assign({},f,n),v={actions:!1,mode:"vega-lite",defaultStyle:!1},g=function(){return m.zoomToFit?{zero:!1}:null!=m.xAxisDomain?{domain:m.xAxisDomain}:void 0},b=function(){return m.zoomToFit?{zero:!1}:null!=m.yAxisDomain?{domain:m.yAxisDomain}:void 0},y={width:m.width||u.getDefaultWidth(p),height:m.height||u.getDefaultHeight(p),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:m.fontSize,titleFontSize:m.fontSize},text:{fontSize:m.fontSize},legend:{labelFontSize:m.fontSize,titleFontSize:m.fontSize}},data:{values:h},mark:{type:"point",clip:!0,tooltip:{content:"data"}},encoding:{x:{field:"x",type:m.xType,title:m.xLabel,scale:g()},y:{field:"y",type:m.yType,title:m.yLabel,scale:b()},color:{field:"series",type:"nominal",scale:{range:m.seriesColors}},shape:{field:"series",type:"nominal"}}},r.next=14,s.default(p,y,v);case 14:return r.abrupt("return",Promise.resolve());case 15:case"end":return r.stop()}}),a)})))};var f={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11}},function(e,t,n){"use strict";var r=n(523),i=n(13),a=n(260),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(366),u=n(68),c=n(87);function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o(this,void 0,void 0,i.mark((function o(){var l,h,p,m,v,g,b,y,w,x,O,k,E,_,S,j,C,A;return i.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:l=u.getDrawArea(e),h={},p=a(n);try{for(p.s();!(m=p.n()).done;)v=m.value,/val_/.test(v)?(b=v.replace("val_",""),f(h,b),y=d(t,v,n.indexOf(v)),h[b].series.push(v),h[b].values.push(y)):(g=d(t,v,n.indexOf(v)),f(h,v),h[v].series.push(v),h[v].values.push(g))}catch(o){p.e(o)}finally{p.f()}for(w=Object.keys(h),x=Object.assign({},{xLabel:"Iteration",yLabel:"Value"},r),O=[],k=0,E=w;k<E.length;k++)_=E[k],S=c.subSurface(l,_),j=h[_].series,C=h[_].values,j.every((function(e){return Boolean(e.match("acc"))}))&&(x.zoomToFitAccuracy?x.zoomToFit=!0:(x.yAxisDomain=[0,1],delete x.zoomToFit)),A=s.linechart(S,{values:C,series:j},x),O.push(A);return i.next=10,Promise.all(O);case 10:case"end":return i.stop()}}),o)})))}function f(e,t){null==e[t]&&(e[t]={series:[],values:[]})}function d(e,t,n){if(Array.isArray(e)){for(var r=Array.isArray(e[0])?e[n]:e,i=[],a=0;a<r.length;a++){var o=r[a];i.push({x:a,y:o[t]})}return i}return e.history[t].map((function(e,t){return{x:t,y:e}}))}function h(e,t,n){return null==e[t]&&(e[t]={}),null==e[t][n]&&(e[t][n]=[]),e[t][n]}t.history=l,t.fitCallbacks=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={},f=n.callbacks||["onEpochEnd","onBatchEnd"],d=u.getDrawArea(e),p=Object.assign({},n);function m(e){var n=this;return function(f,m){return o(n,void 0,void 0,i.mark((function n(){var o,f,v,g,b,y;return i.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:/batch/i.test(e)?p.xLabel="Batch":/epoch/i.test(e)&&(p.xLabel="Epoch"),o=[],f=[],v=a(t);try{for(v.s();!(g=v.n()).done;)b=g.value,null!=m[b]&&(f.push(b),(y=h(s,e,b)).push(r({},b,m[b])),o.push(y))}catch(i){v.e(i)}finally{v.f()}return l(c.subSurface(d,e,{title:e}),o,f,p),n.next=9,u.nextFrame();case 9:case"end":return n.stop()}}),n)})))}}delete p.callbacks;var v={};return f.forEach((function(e){v[e]=m(e)})),v}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(13),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(265),o=n(68),s=n(185),u=n(87),c=n(184);function l(e){return{layers:e.layers.map(f)}}function f(e){var t;if(Array.isArray(e.outputShape[0])){var n=e.outputShape.map((function(e){return h(e)}));t="[".concat(n.join(", "),"]")}else t=h(e.outputShape);return{name:e.name,trainable:e.trainable,parameters:e.countParams(),outputShape:t}}function d(e){return i(this,void 0,void 0,r.mark((function t(){var n,i,a,o,s;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getWeights(),i=e.weights,a=n.map(c.tensorStats),t.next=5,Promise.all(a);case 5:return o=t.sent,s=n.map((function(e){return e.shape})),t.abrupt("return",n.map((function(e,t){return{name:i[t].name,stats:o[t],shape:h(s[t]),weight:e}})));case 8:case"end":return t.stop()}}),t)})))}function h(e){var t=e.slice();return 0===t.length?"Scalar":(null===t[0]&&(t[0]="batch"),"[".concat(t.join(","),"]"))}function p(e,t,n){var r="\n    <select>\n      ".concat(e.map((function(e){return"<option value=".concat(e,">").concat(e,"</option>")})),"\n    </select>\n  "),i="<div>".concat("<button>Show Values Distribution for:</button>").concat(r,"</div>");t.innerHTML=i;var a=t.querySelector("button"),o=t.querySelector("select");a.addEventListener("click",(function(){n(o.selectedOptions[0].label)}))}t.modelSummary=function(e,t){return i(this,void 0,void 0,r.mark((function n(){var i,a,u,c;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=o.getDrawArea(e),a=l(t),u=["Layer Name","Output Shape","# Of Params","Trainable"],c=a.layers.map((function(e){return[e.name,e.outputShape,e.parameters,e.trainable]})),s.table(i,{headers:u,values:c});case 5:case"end":return n.stop()}}),n)})))},t.layer=function(e,t){return i(this,void 0,void 0,r.mark((function n(){var c,l,f,h,m,v,g,b,y=this;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=o.getDrawArea(e),n.next=3,d(t);case 3:l=n.sent,f=["Weight Name","Shape","Min","Max","# Params","# Zeros","# NaNs","# Infinity"],h=u.subSurface(c,"layer-weights-info"),m=l.map((function(e){return[e.name,e.shape,e.stats.min,e.stats.max,e.weight.size,e.stats.numZeros,e.stats.numNans,e.stats.numInfs]})),s.table(h,{headers:f,values:m}),v=u.subSurface(c,"select-layer"),g=u.subSurface(c,"param-distribution"),b=function(e){return i(y,void 0,void 0,r.mark((function t(){var n,i;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.filter((function(t){return t.name===e}))[0],t.next=3,n.weight.data();case 3:i=t.sent,a.histogram(g,i,{height:150,width:460,stats:!1});case 5:case"end":return t.stop()}}),t)})))},p(l.map((function(e){return e.name})),v,b);case 12:case"end":return n.stop()}}),n)})))}},function(e,t,n){"use strict";var r=n(13),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(68),o=n(185);t.showPerClassAccuracy=function(e,t,n){return i(this,void 0,void 0,r.mark((function i(){var s,u,c,l,f,d;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(s=a.getDrawArea(e),u=["Class","Accuracy","# Samples"],c=[],l=0;l<t.length;l++)f=n?n[l]:l.toString(),d=t[l],c.push([f,d.accuracy,d.count]);return r.abrupt("return",o.table(s,{headers:u,values:c}));case 5:case"end":return r.stop()}}),i)})))}},function(e,t,n){"use strict";var r=n(13),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(265),o=n(68),s=n(184);t.valuesDistribution=function(e,t){return i(this,void 0,void 0,r.mark((function n(){var i,u,c;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=o.getDrawArea(e),n.next=3,s.tensorStats(t);case 3:return u=n.sent,n.next=6,t.data();case 6:c=n.sent,a.histogram(i,c,{height:150,stats:u});case 8:case"end":return n.stop()}}),n)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.version="1.4.0"},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var o=i.apply(null,r);o&&e.push(o)}else if("object"===a)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t){var n=/^(?:0|[1-9]\d*)$/;function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var i,a,o=Object.prototype,s=o.hasOwnProperty,u=o.toString,c=o.propertyIsEnumerable,l=(i=Object.keys,a=Object,function(e){return i(a(e))}),f=Math.max;function d(e,t){var n=g(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&b(e)}(e)&&s.call(e,"callee")&&(!c.call(e,"callee")||"[object Arguments]"==u.call(e))}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!s.call(e,a)||i&&("length"==a||m(a,r))||n.push(a);return n}function h(e,t,n){var r=e[t];s.call(e,t)&&v(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function p(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||o;return e===n}(e))return l(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}function m(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||n.test(e))&&e>-1&&e%1==0&&e<t}function v(e,t){return e===t||e!==e&&t!==t}var g=Array.isArray;function b(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=y(e)?u.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var w,x=(w=function(e,t,n,r){!function(e,t,n,r){n||(n={});for(var i=-1,a=t.length;++i<a;){var o=t[i],s=r?r(n[o],e[o],o,n,e):void 0;h(n,o,void 0===s?e[o]:s)}}(t,function(e){return b(e)?d(e):p(e)}(t),e,r)},function(e,t){return t=f(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=f(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=o,r(e,this,s)}}((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=w.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(e,t,n){if(!y(n))return!1;var r=typeof t;return!!("number"==r?b(n)&&m(t,n.length):"string"==r&&t in n)&&v(n[t],e)}(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&w(e,o,n,i)}return e})));e.exports=x},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]",o="[object Map]",s="[object Set]",u=/\w*$/,c=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,f={};f[r]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object DataView]"]=f["[object Boolean]"]=f["[object Date]"]=f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f[o]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f[s]=f["[object String]"]=f["[object Symbol]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Error]"]=f[i]=f["[object WeakMap]"]=!1;var d="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,p=d||h||Function("return this")(),m=t&&!t.nodeType&&t,v=m&&"object"==typeof n&&n&&!n.nodeType&&n,g=v&&v.exports===m;function b(e,t){return e.set(t[0],t[1]),e}function y(e,t){return e.add(t),e}function w(e,t,n,r){var i=-1,a=e?e.length:0;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function x(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function O(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function k(e,t){return function(n){return e(t(n))}}function E(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var _=Array.prototype,S=Function.prototype,j=Object.prototype,C=p["__core-js_shared__"],A=function(){var e=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),T=S.toString,N=j.hasOwnProperty,R=j.toString,M=RegExp("^"+T.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=g?p.Buffer:void 0,I=p.Symbol,F=p.Uint8Array,P=k(Object.getPrototypeOf,Object),z=Object.create,L=j.propertyIsEnumerable,B=_.splice,U=Object.getOwnPropertySymbols,W=D?D.isBuffer:void 0,V=k(Object.keys,Object),q=me(p,"DataView"),H=me(p,"Map"),G=me(p,"Promise"),$=me(p,"Set"),K=me(p,"WeakMap"),X=me(Object,"create"),Y=we(q),Z=we(H),J=we(G),Q=we($),ee=we(K),te=I?I.prototype:void 0,ne=te?te.valueOf:void 0;function re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){this.__data__=new ie(e)}function se(e,t){var n=Oe(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&ke(e)}(e)&&N.call(e,"callee")&&(!L.call(e,"callee")||R.call(e)==r)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=n.length,a=!!i;for(var o in e)!t&&!N.call(e,o)||a&&("length"==o||be(o,i))||n.push(o);return n}function ue(e,t,n){var r=e[t];N.call(e,t)&&xe(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function ce(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}function le(e,t,n,c,l,d,h){var p;if(c&&(p=d?c(e,l,d,h):c(e)),void 0!==p)return p;if(!Se(e))return e;var m=Oe(e);if(m){if(p=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&N.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,p)}else{var v=ge(e),g=v==i||v==a;if(Ee(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if("[object Object]"==v||v==r||g&&!d){if(x(e))return d?e:{};if(p=function(e){return"function"!=typeof e.constructor||ye(e)?{}:(t=P(e),Se(t)?z(t):{});var t}(g?{}:e),!t)return function(e,t){return he(e,ve(e),t)}(e,function(e,t){return e&&he(t,je(t),e)}(p,e))}else{if(!f[v])return d?e:{};p=function(e,t,n,r){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return de(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function(e,t){var n=t?de(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?de(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case o:return function(e,t,n){return w(t?n(O(e),!0):O(e),b,new e.constructor)}(e,r,n);case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,u.exec(e));return t.lastIndex=e.lastIndex,t}(e);case s:return function(e,t,n){return w(t?n(E(e),!0):E(e),y,new e.constructor)}(e,r,n);case"[object Symbol]":return a=e,ne?Object(ne.call(a)):{}}var a}(e,v,le,t)}}h||(h=new oe);var k=h.get(e);if(k)return k;if(h.set(e,p),!m)var _=n?function(e){return function(e,t,n){var r=t(e);return Oe(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,je,ve)}(e):je(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(_||e,(function(r,i){_&&(r=e[i=r]),ue(p,i,le(r,t,n,c,i,e,h))})),p}function fe(e){return!(!Se(e)||(t=e,A&&A in t))&&(_e(e)||x(e)?M:c).test(we(e));var t}function de(e){var t=new e.constructor(e.byteLength);return new F(t).set(new F(e)),t}function he(e,t,n,r){n||(n={});for(var i=-1,a=t.length;++i<a;){var o=t[i],s=r?r(n[o],e[o],o,n,e):void 0;ue(n,o,void 0===s?e[o]:s)}return n}function pe(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}re.prototype.clear=function(){this.__data__=X?X(null):{}},re.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},re.prototype.get=function(e){var t=this.__data__;if(X){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return N.call(t,e)?t[e]:void 0},re.prototype.has=function(e){var t=this.__data__;return X?void 0!==t[e]:N.call(t,e)},re.prototype.set=function(e,t){return this.__data__[e]=X&&void 0===t?"__lodash_hash_undefined__":t,this},ie.prototype.clear=function(){this.__data__=[]},ie.prototype.delete=function(e){var t=this.__data__,n=ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():B.call(t,n,1),!0)},ie.prototype.get=function(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]},ie.prototype.has=function(e){return ce(this.__data__,e)>-1},ie.prototype.set=function(e,t){var n=this.__data__,r=ce(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},ae.prototype.clear=function(){this.__data__={hash:new re,map:new(H||ie),string:new re}},ae.prototype.delete=function(e){return pe(this,e).delete(e)},ae.prototype.get=function(e){return pe(this,e).get(e)},ae.prototype.has=function(e){return pe(this,e).has(e)},ae.prototype.set=function(e,t){return pe(this,e).set(e,t),this},oe.prototype.clear=function(){this.__data__=new ie},oe.prototype.delete=function(e){return this.__data__.delete(e)},oe.prototype.get=function(e){return this.__data__.get(e)},oe.prototype.has=function(e){return this.__data__.has(e)},oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ie){var r=n.__data__;if(!H||r.length<199)return r.push([e,t]),this;n=this.__data__=new ae(r)}return n.set(e,t),this};var ve=U?k(U,Object):function(){return[]},ge=function(e){return R.call(e)};function be(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function ye(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||j)}function we(e){if(null!=e){try{return T.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function xe(e,t){return e===t||e!==e&&t!==t}(q&&"[object DataView]"!=ge(new q(new ArrayBuffer(1)))||H&&ge(new H)!=o||G&&"[object Promise]"!=ge(G.resolve())||$&&ge(new $)!=s||K&&"[object WeakMap]"!=ge(new K))&&(ge=function(e){var t=R.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?we(n):void 0;if(r)switch(r){case Y:return"[object DataView]";case Z:return o;case J:return"[object Promise]";case Q:return s;case ee:return"[object WeakMap]"}return t});var Oe=Array.isArray;function ke(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!_e(e)}var Ee=W||function(){return!1};function _e(e){var t=Se(e)?R.call(e):"";return t==i||t==a}function Se(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function je(e){return ke(e)?se(e):function(e){if(!ye(e))return V(e);var t=[];for(var n in Object(e))N.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}n.exports=function(e){return le(e,!0,!0)}}).call(this,n(42),n(187)(e))},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Map]",a="[object Object]",o="[object Set]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,c=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/^\s+|\s+$/g,d=/\\(\\)?/g,h=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^\[object .+?Constructor\]$/,v=/^0o[0-7]+$/i,g=/^(?:0|[1-9]\d*)$/,b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b[r]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b[i]=b["[object Number]"]=b[a]=b["[object RegExp]"]=b[o]=b["[object String]"]=b["[object WeakMap]"]=!1;var y=parseInt,w="object"==typeof e&&e&&e.Object===Object&&e,x="object"==typeof self&&self&&self.Object===Object&&self,O=w||x||Function("return this")(),k=t&&!t.nodeType&&t,E=k&&"object"==typeof n&&n&&!n.nodeType&&n,_=E&&E.exports===k&&w.process,S=function(){try{return _&&_.binding("util")}catch(e){}}(),j=S&&S.isTypedArray;function C(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function A(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function T(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function N(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var R,M,D=Array.prototype,I=Function.prototype,F=Object.prototype,P=O["__core-js_shared__"],z=function(){var e=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),L=I.toString,B=F.hasOwnProperty,U=F.toString,W=RegExp("^"+L.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=O.Symbol,q=O.Uint8Array,H=F.propertyIsEnumerable,G=D.splice,$=(R=Object.keys,M=Object,function(e){return R(M(e))}),K=Math.max,X=_e(O,"DataView"),Y=_e(O,"Map"),Z=_e(O,"Promise"),J=_e(O,"Set"),Q=_e(O,"WeakMap"),ee=_e(Object,"create"),te=Me(X),ne=Me(Y),re=Me(Z),ie=Me(J),ae=Me(Q),oe=V?V.prototype:void 0,se=oe?oe.valueOf:void 0,ue=oe?oe.toString:void 0;function ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function le(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function fe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function de(e){var t=-1,n=e?e.length:0;for(this.__data__=new fe;++t<n;)this.add(e[t])}function he(e){this.__data__=new le(e)}function pe(e,t){var n=Le(e)||ze(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!B.call(e,a)||i&&("length"==a||je(a,r))||n.push(a);return n}function me(e,t){for(var n=e.length;n--;)if(Pe(e[n][0],t))return n;return-1}function ve(e,t){for(var n=0,r=(t=Ce(t,e)?[t]:Oe(t)).length;null!=e&&n<r;)e=e[Re(t[n++])];return n&&n==r?e:void 0}function ge(e,t){return null!=e&&t in Object(e)}function be(e,t,n,s,u){return e===t||(null==e||null==t||!Ve(e)&&!qe(t)?e!==e&&t!==t:function(e,t,n,s,u,c){var l=Le(e),f=Le(t),d="[object Array]",h="[object Array]";l||(d=(d=Se(e))==r?a:d);f||(h=(h=Se(t))==r?a:h);var p=d==a&&!A(e),m=h==a&&!A(t),v=d==h;if(v&&!p)return c||(c=new he),l||Ge(e)?ke(e,t,n,s,u,c):function(e,t,n,r,a,s,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new q(e),new q(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Pe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var c=T;case o:var l=2&s;if(c||(c=N),e.size!=t.size&&!l)return!1;var f=u.get(e);if(f)return f==t;s|=1,u.set(e,t);var d=ke(c(e),c(t),r,a,s,u);return u.delete(e),d;case"[object Symbol]":if(se)return se.call(e)==se.call(t)}return!1}(e,t,d,n,s,u,c);if(!(2&u)){var g=p&&B.call(e,"__wrapped__"),b=m&&B.call(t,"__wrapped__");if(g||b){var y=g?e.value():e,w=b?t.value():t;return c||(c=new he),n(y,w,s,u,c)}}if(!v)return!1;return c||(c=new he),function(e,t,n,r,i,a){var o=2&i,s=$e(e),u=s.length,c=$e(t).length;if(u!=c&&!o)return!1;var l=u;for(;l--;){var f=s[l];if(!(o?f in t:B.call(t,f)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var h=!0;a.set(e,t),a.set(t,e);var p=o;for(;++l<u;){f=s[l];var m=e[f],v=t[f];if(r)var g=o?r(v,m,f,t,e,a):r(m,v,f,e,t,a);if(!(void 0===g?m===v||n(m,v,r,i,a):g)){h=!1;break}p||(p="constructor"==f)}if(h&&!p){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,s,u,c)}(e,t,be,n,s,u))}function ye(e){return!(!Ve(e)||function(e){return!!z&&z in e}(e))&&(Ue(e)||A(e)?W:m).test(Me(e))}function we(e){return"function"==typeof e?e:null==e?Ke:"object"==typeof e?Le(e)?function(e,t){if(Ce(e)&&Ae(t))return Te(Re(e),t);return function(n){var r=function(e,t,n){var r=null==e?void 0:ve(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){t=Ce(t,e)?[t]:Oe(t);var r,i=-1,a=t.length;for(;++i<a;){var o=Re(t[i]);if(!(r=null!=e&&n(e,o)))break;e=e[o]}if(r)return r;return!!(a=e?e.length:0)&&We(a)&&je(o,a)&&(Le(e)||ze(e))}(e,t,ge)}(n,e):be(t,r,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=$e(e),n=t.length;for(;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ae(i)]}return t}(e);if(1==t.length&&t[0][2])return Te(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],c=e[u],l=s[1];if(o&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new he;if(r)var d=r(c,l,u,e,t,f);if(!(void 0===d?be(l,c,r,3,f):d))return!1}}return!0}(n,e,t)}}(e):function(e){return Ce(e)?(t=Re(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return ve(t,e)}}(e);var t}(e)}function xe(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||F;return e===n}(e))return $(e);var t=[];for(var n in Object(e))B.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Oe(e){return Le(e)?e:Ne(e)}function ke(e,t,n,r,i,a){var o=2&i,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var l=-1,f=!0,d=1&i?new de:void 0;for(a.set(e,t),a.set(t,e);++l<s;){var h=e[l],p=t[l];if(r)var m=o?r(p,h,l,t,e,a):r(h,p,l,e,t,a);if(void 0!==m){if(m)continue;f=!1;break}if(d){if(!C(t,(function(e,t){if(!d.has(t)&&(h===e||n(h,e,r,i,a)))return d.add(t)}))){f=!1;break}}else if(h!==p&&!n(h,p,r,i,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function Ee(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function _e(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ye(n)?n:void 0}ce.prototype.clear=function(){this.__data__=ee?ee(null):{}},ce.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ce.prototype.get=function(e){var t=this.__data__;if(ee){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return B.call(t,e)?t[e]:void 0},ce.prototype.has=function(e){var t=this.__data__;return ee?void 0!==t[e]:B.call(t,e)},ce.prototype.set=function(e,t){return this.__data__[e]=ee&&void 0===t?"__lodash_hash_undefined__":t,this},le.prototype.clear=function(){this.__data__=[]},le.prototype.delete=function(e){var t=this.__data__,n=me(t,e);return!(n<0)&&(n==t.length-1?t.pop():G.call(t,n,1),!0)},le.prototype.get=function(e){var t=this.__data__,n=me(t,e);return n<0?void 0:t[n][1]},le.prototype.has=function(e){return me(this.__data__,e)>-1},le.prototype.set=function(e,t){var n=this.__data__,r=me(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},fe.prototype.clear=function(){this.__data__={hash:new ce,map:new(Y||le),string:new ce}},fe.prototype.delete=function(e){return Ee(this,e).delete(e)},fe.prototype.get=function(e){return Ee(this,e).get(e)},fe.prototype.has=function(e){return Ee(this,e).has(e)},fe.prototype.set=function(e,t){return Ee(this,e).set(e,t),this},de.prototype.add=de.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},de.prototype.has=function(e){return this.__data__.has(e)},he.prototype.clear=function(){this.__data__=new le},he.prototype.delete=function(e){return this.__data__.delete(e)},he.prototype.get=function(e){return this.__data__.get(e)},he.prototype.has=function(e){return this.__data__.has(e)},he.prototype.set=function(e,t){var n=this.__data__;if(n instanceof le){var r=n.__data__;if(!Y||r.length<199)return r.push([e,t]),this;n=this.__data__=new fe(r)}return n.set(e,t),this};var Se=function(e){return U.call(e)};function je(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||g.test(e))&&e>-1&&e%1==0&&e<t}function Ce(e,t){if(Le(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!He(e))||(u.test(e)||!s.test(e)||null!=t&&e in Object(t))}function Ae(e){return e===e&&!Ve(e)}function Te(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(X&&"[object DataView]"!=Se(new X(new ArrayBuffer(1)))||Y&&Se(new Y)!=i||Z&&"[object Promise]"!=Se(Z.resolve())||J&&Se(new J)!=o||Q&&"[object WeakMap]"!=Se(new Q))&&(Se=function(e){var t=U.call(e),n=t==a?e.constructor:void 0,r=n?Me(n):void 0;if(r)switch(r){case te:return"[object DataView]";case ne:return i;case re:return"[object Promise]";case ie:return o;case ae:return"[object WeakMap]"}return t});var Ne=Fe((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(He(e))return ue?ue.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return c.test(e)&&n.push(""),e.replace(l,(function(e,t,r,i){n.push(r?i.replace(d,"$1"):t||e)})),n}));function Re(e){if("string"==typeof e||He(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Me(e){if(null!=e){try{return L.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var De,Ie=(De=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=null==n?0:function(e){var t=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(He(e))return NaN;if(Ve(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ve(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(f,"");var n=p.test(e);return n||v.test(e)?y(e.slice(2),n?2:8):h.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}(e),n=t%1;return t===t?n?t-n:t:0}(n);return i<0&&(i=K(r+i,0)),function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,we(t),i)},function(e,t,n){var r=Object(e);if(!Be(e)){var i=we(t);e=$e(e),t=function(e){return i(r[e],e,r)}}var a=De(e,t,n);return a>-1?r[i?e[a]:a]:void 0});function Fe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new(Fe.Cache||fe),n}function Pe(e,t){return e===t||e!==e&&t!==t}function ze(e){return function(e){return qe(e)&&Be(e)}(e)&&B.call(e,"callee")&&(!H.call(e,"callee")||U.call(e)==r)}Fe.Cache=fe;var Le=Array.isArray;function Be(e){return null!=e&&We(e.length)&&!Ue(e)}function Ue(e){var t=Ve(e)?U.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function We(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ve(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function qe(e){return!!e&&"object"==typeof e}function He(e){return"symbol"==typeof e||qe(e)&&"[object Symbol]"==U.call(e)}var Ge=j?function(e){return function(t){return e(t)}}(j):function(e){return qe(e)&&We(e.length)&&!!b[U.call(e)]};function $e(e){return Be(e)?pe(e):xe(e)}function Ke(e){return e}n.exports=Ie}).call(this,n(42),n(187)(e))},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,n){(function(e,n){var r=/^\[object .+?Constructor\]$/,i=/^(?:0|[1-9]\d*)$/,a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var o="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,u=o||s||Function("return this")(),c=t&&!t.nodeType&&t,l=c&&"object"==typeof n&&n&&!n.nodeType&&n,f=l&&l.exports===c,d=f&&o.process,h=function(){try{var e=l&&l.require&&l.require("util").types;return e||d&&d.binding&&d.binding("util")}catch(t){}}(),p=h&&h.isTypedArray;function m(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var v,g,b=Array.prototype,y=Function.prototype,w=Object.prototype,x=u["__core-js_shared__"],O=y.toString,k=w.hasOwnProperty,E=function(){var e=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_=w.toString,S=O.call(Object),j=RegExp("^"+O.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=f?u.Buffer:void 0,A=u.Symbol,T=u.Uint8Array,N=C?C.allocUnsafe:void 0,R=(v=Object.getPrototypeOf,g=Object,function(e){return v(g(e))}),M=Object.create,D=w.propertyIsEnumerable,I=b.splice,F=A?A.toStringTag:void 0,P=function(){try{var e=ue(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),z=C?C.isBuffer:void 0,L=Math.max,B=Date.now,U=ue(u,"Map"),W=ue(Object,"create"),V=function(){function e(){}return function(t){if(!we(t))return{};if(M)return M(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function H(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function G(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $(e){var t=this.__data__=new H(e);this.size=t.size}function K(e,t){var n=me(e),r=!n&&pe(e),i=!n&&!r&&ge(e),a=!n&&!r&&!i&&Oe(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!k.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ce(c,u))||s.push(c);return s}function X(e,t,n){(void 0!==n&&!he(e[t],n)||void 0===n&&!(t in e))&&J(e,t,n)}function Y(e,t,n){var r=e[t];k.call(e,t)&&he(r,n)&&(void 0!==n||t in e)||J(e,t,n)}function Z(e,t){for(var n=e.length;n--;)if(he(e[n][0],t))return n;return-1}function J(e,t,n){"__proto__"==t&&P?P(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}q.prototype.clear=function(){this.__data__=W?W(null):{},this.size=0},q.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},q.prototype.get=function(e){var t=this.__data__;if(W){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return k.call(t,e)?t[e]:void 0},q.prototype.has=function(e){var t=this.__data__;return W?void 0!==t[e]:k.call(t,e)},q.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=W&&void 0===t?"__lodash_hash_undefined__":t,this},H.prototype.clear=function(){this.__data__=[],this.size=0},H.prototype.delete=function(e){var t=this.__data__,n=Z(t,e);return!(n<0)&&(n==t.length-1?t.pop():I.call(t,n,1),--this.size,!0)},H.prototype.get=function(e){var t=this.__data__,n=Z(t,e);return n<0?void 0:t[n][1]},H.prototype.has=function(e){return Z(this.__data__,e)>-1},H.prototype.set=function(e,t){var n=this.__data__,r=Z(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},G.prototype.clear=function(){this.size=0,this.__data__={hash:new q,map:new(U||H),string:new q}},G.prototype.delete=function(e){var t=se(this,e).delete(e);return this.size-=t?1:0,t},G.prototype.get=function(e){return se(this,e).get(e)},G.prototype.has=function(e){return se(this,e).has(e)},G.prototype.set=function(e,t){var n=se(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},$.prototype.clear=function(){this.__data__=new H,this.size=0},$.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$.prototype.get=function(e){return this.__data__.get(e)},$.prototype.has=function(e){return this.__data__.has(e)},$.prototype.set=function(e,t){var n=this.__data__;if(n instanceof H){var r=n.__data__;if(!U||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new G(r)}return n.set(e,t),this.size=n.size,this};var Q,ee=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[Q?o:++r];if(!1===t(i[s],s,i))break}return e};function te(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=k.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(a){}var i=_.call(e);r&&(t?e[F]=n:delete e[F]);return i}(e):function(e){return _.call(e)}(e)}function ne(e){return xe(e)&&"[object Arguments]"==te(e)}function re(e){return!(!we(e)||function(e){return!!E&&E in e}(e))&&(be(e)?j:r).test(function(e){if(null!=e){try{return O.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function ie(e){if(!we(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=le(e),n=[];for(var r in e)("constructor"!=r||!t&&k.call(e,r))&&n.push(r);return n}function ae(e,t,n,r,i){e!==t&&ee(t,(function(a,o){if(i||(i=new $),we(a))!function(e,t,n,r,i,a,o){var s=fe(e,n),u=fe(t,n),c=o.get(u);if(c)return void X(e,n,c);var l=a?a(s,u,n+"",e,t,o):void 0,f=void 0===l;if(f){var d=me(u),h=!d&&ge(u),p=!d&&!h&&Oe(u);l=u,d||h||p?me(s)?l=s:xe(m=s)&&ve(m)?l=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):h?(f=!1,l=function(e,t){if(t)return e.slice();var n=e.length,r=N?N(n):new e.constructor(n);return e.copy(r),r}(u,!0)):p?(f=!1,l=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new T(t).set(new T(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(u,!0)):l=[]:function(e){if(!xe(e)||"[object Object]"!=te(e))return!1;var t=R(e);if(null===t)return!0;var n=k.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==S}(u)||pe(u)?(l=s,pe(s)?l=function(e){return function(e,t,n,r){var i=!n;n||(n={});var a=-1,o=t.length;for(;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?J(n,s,u):Y(n,s,u)}return n}(e,ke(e))}(s):we(s)&&!be(s)||(l=function(e){return"function"!=typeof e.constructor||le(e)?{}:V(R(e))}(u))):f=!1}var m;f&&(o.set(u,l),i(l,u,r,a,o),o.delete(u));X(e,n,l)}(e,t,o,n,ae,r,i);else{var s=r?r(fe(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),X(e,o,s)}}),ke)}function oe(e,t){return de(function(e,t,n){return t=L(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=L(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),m(e,this,s)}}(e,t,Se),e+"")}function se(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return re(n)?n:void 0}function ce(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}function le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||w)}function fe(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var de=function(e){var t=0,n=0;return function(){var r=B(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(P?function(e,t){return P(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Se);function he(e,t){return e===t||e!==e&&t!==t}var pe=ne(function(){return arguments}())?ne:function(e){return xe(e)&&k.call(e,"callee")&&!D.call(e,"callee")},me=Array.isArray;function ve(e){return null!=e&&ye(e.length)&&!be(e)}var ge=z||function(){return!1};function be(e){if(!we(e))return!1;var t=te(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ye(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function we(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function xe(e){return null!=e&&"object"==typeof e}var Oe=p?function(e){return function(t){return e(t)}}(p):function(e){return xe(e)&&ye(e.length)&&!!a[te(e)]};function ke(e){return ve(e)?K(e,!0):ie(e)}var Ee,_e=(Ee=function(e,t,n){ae(e,t,n)},oe((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=Ee.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(e,t,n){if(!we(n))return!1;var r=typeof t;return!!("number"==r?ve(n)&&ce(t,n.length):"string"==r&&t in n)&&he(n[t],e)}(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&Ee(e,o,n,i)}return e})));function Se(e){return e}n.exports=_e}).call(this,n(42),n(187)(e))},function(e,t,n){"use strict";var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),a=(0,r(n(59)).default)(i.default.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");t.default=a},function(e,t,n){"use strict";var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),a=(0,r(n(59)).default)(i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");t.default=a},function(e,t,n){"use strict";var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),a=(0,r(n(59)).default)(i.default.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=a},function(e,t,n){"use strict";var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),a=(0,r(n(59)).default)(i.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=a},function(e,t,n){"use strict";var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),a=(0,r(n(59)).default)(i.default.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload");t.default=a},function(e,t,n){"use strict";var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),a=(0,r(n(59)).default)(i.default.createElement("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print");t.default=a},function(e,t,n){"use strict";var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),a=(0,r(n(59)).default)(i.default.createElement("path",{d:"M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z"}),"ViewColumn");t.default=a},function(e,t,n){"use strict";var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),a=(0,r(n(59)).default)(i.default.createElement("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList");t.default=a},function(e,t,n){var r,i;"undefined"!=typeof self&&self,e.exports=(r=n(0),i=n(26),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),a=n(3),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startPrint=function(e,n){var r=t.props.removeAfterPrint;setTimeout((function(){if(e.contentWindow.focus(),e.contentWindow.print(),n&&n(),r){var t=document.getElementById("printWindow");t&&document.body.removeChild(t)}}),500)},t.triggerPrint=function(e){var n=t.props,r=n.onAfterPrint,i=n.onBeforePrint,a=n.onPrintError;if(i){var o=i();o&&"function"==typeof o.then?o.then((function(){t.startPrint(e,r)})).catch((function(e){a&&a("onBeforePrint",e)})):t.startPrint(e,r)}else t.startPrint(e,r)},t.handleClick=function(){var e=t.props,n=e.onBeforeGetContent,r=e.onPrintError;if(n){var i=n();i&&"function"==typeof i.then?i.then(t.handlePrint).catch((function(e){r&&r("onBeforeGetContent",e)})):t.handlePrint()}else t.handlePrint()},t.handlePrint=function(){var e=t.props,n=e.bodyClass,r=void 0===n?"":n,i=e.content,o=e.copyStyles,s=void 0===o||o,u=e.pageStyle,c=e.suppressErrors,l=i();if(void 0!==l)if(null!==l){var f=document.createElement("iframe");f.style.position="absolute",f.style.top="-1000px",f.style.left="-1000px",f.id="printWindow",f.title="Print Window";var d=a.findDOMNode(l),h=document.querySelectorAll("link[rel='stylesheet'], img");t.linkTotal=h.length||0,t.linksLoaded=[],t.linksErrored=[];var p=function(e,n){n?t.linksLoaded.push(e):(c||console.error('"react-to-print" was unable to load a link. It may be invalid. "react-to-print" will continue attempting to print the page. The link the errored was:',e),t.linksErrored.push(e)),t.linksLoaded.length+t.linksErrored.length===t.linkTotal&&t.triggerPrint(f)};f.onload=function(){window.navigator&&window.navigator.userAgent.indexOf("Trident/7.0")>-1&&(f.onload=null);var e=f.contentDocument||f.contentWindow.document,n=d.querySelectorAll("canvas");if(e){e.open(),e.write(d.outerHTML),e.close();var i=void 0===u?"@page { size: auto;  margin: 0mm; } @media print { body { -webkit-print-color-adjust: exact; } }":u,a=e.createElement("style");a.appendChild(e.createTextNode(i)),e.head.appendChild(a),r.length&&e.body.classList.add(r);for(var o=e.querySelectorAll("canvas"),c=0,l=o.length;c<l;++c){var h=(g=o[c]).getContext("2d");h&&h.drawImage(n[c],0,0)}if(!1!==s)for(var m=document.querySelectorAll("style, link[rel='stylesheet'], img"),v=(c=0,m.length);c<v;++c){var g;if("STYLE"===(g=m[c]).tagName){var b=e.createElement(g.tagName),y=g.sheet;if(y){for(var w="",x=0,O=y.cssRules.length;x<O;++x)"string"==typeof y.cssRules[x].cssText&&(w+=y.cssRules[x].cssText+"\r\n");b.setAttribute("id","react-to-print-"+c),b.appendChild(e.createTextNode(w)),e.head.appendChild(b)}}else if(g.hasAttribute("href")&&g.getAttribute("href")||g.hasAttribute("src")&&g.getAttribute("src")){b=e.createElement(g.tagName),x=0;for(var k=g.attributes.length;x<k;++x){var E=g.attributes[x];E&&b.setAttribute(E.nodeName,E.nodeValue||"")}b.onload=p.bind(null,b,!0),b.onerror=p.bind(null,b,!1),e.head.appendChild(b)}else console.warn('"react-to-print" encountered a <link> tag with an empty "href" attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:',g),p(g,!0)}}0!==t.linkTotal&&!1!==s||t.triggerPrint(f)};var m=document.getElementById("printWindow");m&&document.body.removeChild(m),document.body.appendChild(f)}else c||console.error('There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.');else c||console.error('Refs are not available for stateless components. For "react-to-print" to work only Class based components can be printed')},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.trigger;return i.cloneElement(e(),{onClick:this.handleClick})},t}(i.Component);t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return a})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return f})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return m})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return g})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return y})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return x})),n.d(t,"__importDefault",(function(){return O}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(a[0][2],n)}catch(e){l(a[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=r},function(e,t){e.exports=i}]))},function(e,t,n){"use strict";var r=n(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),a=(0,r(n(59)).default)(i.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=a},,function(e,t,n){"use strict";(function(t,r,i){var a;a="undefined"===typeof window&&"undefined"===typeof self?function(){var e,n=new Promise((function(t){e=t}));return{locateFile:function(e){return"".concat(t,"/").concat(e)},onRuntimeInitialized:function(){e()},load:function(){return n}}}():function(){var e,t;e="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self.URL:window.URL;var n=new Promise((function(e,n){t=e})),r=function(){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope)return self.location.href;for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){var n=e.item(t);if(n.src&&n.src.match(/libsvm\.js$/))return n.src}return window.location.href}();return{locateFile:function(t){return new e(t,r).href},onRuntimeInitialized:function(){t()},load:function(){return n}}}();var o=function(e){var t,a="undefined"!==typeof(e=e||{})?e:{},o={};for(t in a)a.hasOwnProperty(t)&&(o[t]=a[t]);a.arguments=[],a.thisProgram="./this.program",a.quit=function(e,t){throw t},a.preRun=[],a.postRun=[];var s,u,c=!1,l=!1,f=!1,d=!1;if(a.ENVIRONMENT)if("WEB"===a.ENVIRONMENT)c=!0;else if("WORKER"===a.ENVIRONMENT)l=!0;else if("NODE"===a.ENVIRONMENT)f=!0;else{if("SHELL"!==a.ENVIRONMENT)throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.");d=!0}else c="object"===typeof window,l="function"===typeof importScripts,f="object"===typeof r&&!c&&!l,d=!c&&!f&&!l;f?(a.read=function(e,t){var r;return s||(s=n(380)),u||(u=n(381)),e=u.normalize(e),r=s.readFileSync(e),t?r:r.toString()},a.readBinary=function(e){var t=a.read(e,!0);return t.buffer||(t=new Uint8Array(t)),b(t.buffer),t},r.argv.length>1&&(a.thisProgram=r.argv[1].replace(/\\/g,"/")),a.arguments=r.argv.slice(2),r.on("unhandledRejection",(function(e,t){r.exit(1)})),a.inspect=function(){return"[Emscripten Module object]"}):d?("undefined"!=typeof read&&(a.read=function(e){return read(e)}),a.readBinary=function(e){var t;return"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(b("object"===typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?a.arguments=scriptArgs:"undefined"!=typeof arguments&&(a.arguments=arguments),"function"===typeof quit&&(a.quit=function(e,t){quit(e)})):(c||l)&&(a.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},l&&(a.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),a.readAsync=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},"undefined"!=typeof arguments&&(a.arguments=arguments),a.setWindowTitle=function(e){document.title=e});for(t in a.print="undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null,a.printErr="undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||a.print,a.print=a.print,a.printErr=a.printErr,o)o.hasOwnProperty(t)&&(a[t]=o[t]);o=void 0;var h=16;function p(e){b(!W);var t=U;return U=U+e+15&-16,t}function m(e,t){return t||(t=h),e=Math.ceil(e/t)*t}new Array(0);var v=1024,g=0;function b(e,t){e||Kt("Assertion failed: "+t)}function y(e){var t=a["_"+e];return b(t,"Cannot call unknown function "+e+", make sure it is exported"),t}var w={stackSave:function(){qt()},stackRestore:function(){Vt()},arrayToC:function(e){var t=Wt(e.length);return be(e,t),t},stringToC:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);A(e,t=Wt(n),n)}return t}},x={string:w.stringToC,array:w.arrayToC};function O(e,t,n,r,i){var a=y(e),o=[],s=0;if(r)for(var u=0;u<r.length;u++){var c=x[n[u]];c?(0===s&&(s=qt()),o[u]=c(r[u])):o[u]=r[u]}var l=a.apply(null,o);return"string"===t&&(l=E(l)),0!==s&&Vt(s),l}function k(e,t,n){n=n||[];var r=y(e),i=n.every((function(e){return"number"===e}));return"string"!==t&&i?r:function(){return O(e,t,n,arguments)}}function E(e,t){if(0===t||!e)return"";for(var n,r=0,i=0;r|=n=P[e+i>>0],(0!=n||t)&&(i++,!t||i!=t););t||(t=i);var a="";if(r<128){for(var o;t>0;)o=String.fromCharCode.apply(String,P.subarray(e,e+Math.min(t,1024))),a=a?a+o:o,e+=1024,t-=1024;return a}return j(e)}var _="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function S(e,t){for(var n=t;e[n];)++n;if(n-t>16&&e.subarray&&_)return _.decode(e.subarray(t,n));for(var r,i,a,o,s,u="";;){if(!(r=e[t++]))return u;if(128&r)if(i=63&e[t++],192!=(224&r))if(a=63&e[t++],224==(240&r)?r=(15&r)<<12|i<<6|a:(o=63&e[t++],240==(248&r)?r=(7&r)<<18|i<<12|a<<6|o:(s=63&e[t++],r=248==(252&r)?(3&r)<<24|i<<18|a<<12|o<<6|s:(1&r)<<30|i<<24|a<<18|o<<12|s<<6|63&e[t++])),r<65536)u+=String.fromCharCode(r);else{var c=r-65536;u+=String.fromCharCode(55296|c>>10,56320|1023&c)}else u+=String.fromCharCode((31&r)<<6|i);else u+=String.fromCharCode(r)}}function j(e){return S(P,e)}function C(e,t,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=2097151){if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=67108863){if(n+4>=a)break;t[n++]=248|s>>24,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+5>=a)break;t[n++]=252|s>>30,t[n++]=128|s>>24&63,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function A(e,t,n){return C(e,P,t,n)}function T(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:r<=2097151?4:r<=67108863?5:6}return t}"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function N(e){var t=T(e)+1,n=Bt(t);return n&&C(e,F,n,t),n}function R(e){return e.replace(/__Z[\w\d_]+/g,(function(e){return e===e?e:e+" ["+e+"]"}))}function M(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function D(){var e=M();return a.extraStackTrace&&(e+="\n"+a.extraStackTrace()),R(e)}var I,F,P,z,L,B,U,W,V,q,H,G,$=65536,K=16777216,X=16777216;function Y(e,t){return e%t>0&&(e+=t-e%t),e}function Z(e){a.buffer=I=e}function J(){a.HEAP8=F=new Int8Array(I),a.HEAP16=z=new Int16Array(I),a.HEAP32=L=new Int32Array(I),a.HEAPU8=P=new Uint8Array(I),a.HEAPU16=new Uint16Array(I),a.HEAPU32=new Uint32Array(I),a.HEAPF32=new Float32Array(I),a.HEAPF64=new Float64Array(I)}function Q(){Kt("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+ne+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function ee(){var e=a.usingWasm?$:K,t=2147483648-e;if(L[G>>2]>t)return!1;var n=ne;for(ne=Math.max(ne,X);ne<L[G>>2];)ne=ne<=536870912?Y(2*ne,e):Math.min(Y((3*ne+2147483648)/4,e),t);var r=a.reallocBuffer(ne);return r&&r.byteLength==ne?(Z(r),J(),!0):(ne=n,!1)}B=U=V=q=H=G=0,W=!1,a.reallocBuffer||(a.reallocBuffer=function(e){var t;try{if(ArrayBuffer.transfer)t=ArrayBuffer.transfer(I,e);else{var n=F;t=new ArrayBuffer(e),new Int8Array(t).set(n)}}catch(r){return!1}return!!zt(t)&&t});try{Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get)(new ArrayBuffer(4))}catch(Xt){(function(e){return e.byteLength})}var te=a.TOTAL_STACK||5242880,ne=a.TOTAL_MEMORY||16777216;function re(){return ne}if(ne<te&&a.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+ne+"! (TOTAL_STACK="+te+")"),a.buffer?I=a.buffer:("object"===typeof WebAssembly&&"function"===typeof WebAssembly.Memory?(a.wasmMemory=new WebAssembly.Memory({initial:ne/$}),I=a.wasmMemory.buffer):I=new ArrayBuffer(ne),a.buffer=I),J(),L[0]=1668509029,z[1]=25459,115!==P[2]||99!==P[3])throw"Runtime error: expected the system to be little-endian!";function ie(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"===typeof n?void 0===t.arg?a.dynCall_v(n):a.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t()}}var ae=[],oe=[],se=[],ue=[],ce=[],le=!1;function fe(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)ve(a.preRun.shift());ie(ae)}function de(){le||(le=!0,ie(oe))}function he(){ie(se)}function pe(){ie(ue),!0}function me(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)ge(a.postRun.shift());ie(ce)}function ve(e){ae.unshift(e)}function ge(e){ce.unshift(e)}function be(e,t){F.set(e,t)}function ye(e,t,n){for(var r=0;r<e.length;++r)F[t++>>0]=e.charCodeAt(r);n||(F[t>>0]=0)}Math.abs,Math.cos,Math.sin,Math.tan,Math.acos,Math.asin,Math.atan,Math.atan2,Math.exp,Math.log,Math.sqrt,Math.ceil,Math.floor,Math.pow,Math.imul,Math.fround,Math.round,Math.min,Math.max,Math.clz32,Math.trunc;var we=0,xe=null,Oe=null;function ke(e){we++,a.monitorRunDependencies&&a.monitorRunDependencies(we)}function Ee(e){if(we--,a.monitorRunDependencies&&a.monitorRunDependencies(we),0==we&&(null!==xe&&(clearInterval(xe),xe=null),Oe)){var t=Oe;Oe=null,t()}}a.preloadedImages={},a.preloadedAudios={};var _e="data:application/octet-stream;base64,";function Se(e){return String.prototype.startsWith?e.startsWith(_e):0===e.indexOf(_e)}function je(){var e="libsvm.wast",t="libsvm.wasm",n="libsvm.temp.asm.js";"function"===typeof a.locateFile&&(Se(e)||(e=a.locateFile(e)),Se(t)||(t=a.locateFile(t)),Se(n)||(n=a.locateFile(n)));var r={global:null,env:null,asm2wasm:{"f64-rem":function(e,t){return e%t},debugger:function(){}},parent:a},i=null;function o(){try{if(a.wasmBinary)return new Uint8Array(a.wasmBinary);if(a.readBinary)return a.readBinary(t);throw"on the web, we need the wasm binary to be preloaded and set on Module['wasmBinary']. emcc.py will do that for you when generating HTML (but not JS)"}catch(e){Kt(e)}}function s(e,n,s){if("object"!==typeof WebAssembly)return a.printErr("no native wasm support detected"),!1;if(!(a.wasmMemory instanceof WebAssembly.Memory))return a.printErr("no native wasm Memory in use"),!1;function u(e,t){(i=e.exports).memory&&function(e){var t=a.buffer;e.byteLength<t.byteLength&&a.printErr("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var n=new Int8Array(t);new Int8Array(e).set(n),Z(e),J()}(i.memory),a.asm=i,a.usingWasm=!0,Ee()}if(n.memory=a.wasmMemory,r.global={NaN:NaN,Infinity:1/0},r["global.Math"]=Math,r.env=n,ke(),a.instantiateWasm)try{return a.instantiateWasm(r,u)}catch(Xt){return a.printErr("Module.instantiateWasm callback failed with error: "+Xt),!1}function f(e){u(e.instance,e.module)}function d(e){(a.wasmBinary||!c&&!l||"function"!==typeof fetch?new Promise((function(e,t){e(o())})):fetch(t,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()})).catch((function(){return o()}))).then((function(e){return WebAssembly.instantiate(e,r)})).then(e).catch((function(e){a.printErr("failed to asynchronously prepare wasm: "+e),Kt(e)}))}return a.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||Se(t)||"function"!==typeof fetch?d(f):WebAssembly.instantiateStreaming(fetch(t,{credentials:"same-origin"}),r).then(f).catch((function(e){a.printErr("wasm streaming compile failed: "+e),a.printErr("falling back to ArrayBuffer instantiation"),d(f)})),{}}a.asmPreload=a.asm;var u=a.reallocBuffer;a.reallocBuffer=function(e){return"asmjs"===f?u(e):function(e){e=Y(e,a.usingWasm?$:K);var t=a.buffer.byteLength;if(a.usingWasm)try{return-1!==a.wasmMemory.grow((e-t)/65536)?a.buffer=a.wasmMemory.buffer:null}catch(Xt){return null}}(e)};var f="";a.asm=function(e,t,n){if(!(t=t).table){var r=a.wasmTableSize;void 0===r&&(r=1024);var i=a.wasmMaxTableSize;"object"===typeof WebAssembly&&"function"===typeof WebAssembly.Table?t.table=void 0!==i?new WebAssembly.Table({initial:r,maximum:i,element:"anyfunc"}):new WebAssembly.Table({initial:r,element:"anyfunc"}):t.table=new Array(r),a.wasmTable=t.table}var o;return t.memoryBase||(t.memoryBase=a.STATIC_BASE),t.tableBase||(t.tableBase=0),(o=s(0,t))||Kt("no binaryen method succeeded. consider enabling more options, like interpreting, if you want that: https://github.com/kripken/emscripten/wiki/WebAssembly#binaryen-methods"),o}}je(),U=(B=v)+9024,oe.push();var Ce=9024;function Ae(e){return Bt(e)}function Te(){return!!Te.uncaught_exception}a.STATIC_BASE=B,a.STATIC_BUMP=Ce,U+=16;var Ne={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||Ne.infos[e])return e;for(var t in Ne.infos){if(Ne.infos[t].adjusted===e)return t}return e},addRef:function(e){e&&Ne.infos[e].refcount++},decRef:function(e){if(e){var t=Ne.infos[e];b(t.refcount>0),t.refcount--,0!==t.refcount||t.rethrown||(t.destructor&&a.dynCall_vi(t.destructor,e),delete Ne.infos[e],Me(e))}},clearRef:function(e){e&&(Ne.infos[e].refcount=0)}};function Re(e){var t=Ne.infos[e];return t&&!t.caught&&(t.caught=!0,Te.uncaught_exception--),t&&(t.rethrown=!1),Ne.caught.push(e),Ne.addRef(Ne.deAdjust(e)),e}function Me(e){try{return Lt(e)}catch(Xt){}}function De(){a.setThrew(0);var e=Ne.caught.pop();e&&(Ne.decRef(Ne.deAdjust(e)),Ne.last=0)}function Ie(){return Le.apply(null,arguments)}function Fe(){return Le.apply(null,arguments)}function Pe(){throw g=!0,"Pure virtual function called!"}function ze(e){throw Ne.last||(Ne.last=e),e}function Le(){var e=Ne.last;if(!e)return 0|(Ut(0),0);var t=Ne.infos[e],n=t.type;if(!n)return 0|(Ut(0),e);var r=Array.prototype.slice.call(arguments);a.___cxa_is_pointer_type(n);Le.buffer||(Le.buffer=Bt(4)),L[Le.buffer>>2]=e,e=Le.buffer;for(var i=0;i<r.length;i++)if(r[i]&&a.___cxa_can_catch(r[i],n,e))return e=L[e>>2],t.adjusted=e,0|(Ut(r[i]),e);return e=L[e>>2],0|(Ut(n),e)}function Be(e,t,n){throw Ne.infos[e]={ptr:e,adjusted:e,type:t,destructor:n,refcount:0,caught:!1,rethrown:!1},Ne.last=e,"uncaught_exception"in Te?Te.uncaught_exception++:Te.uncaught_exception=1,e}function Ue(){}var We={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function Ve(e){return a.___errno_location&&(L[a.___errno_location()>>2]=e),e}function qe(e,t){return Ve(We.EPERM),-1}var He={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},Ge={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=Ge.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Ge.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return Ge.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Ge.normalize(e.join("/"))},join2:function(e,t){return Ge.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:Je.cwd();if("string"!==typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return(t?"/":"")+(e=Ge.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=Ge.resolve(e).substr(1),t=Ge.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),a=Math.min(r.length,i.length),o=a,s=0;s<a;s++)if(r[s]!==i[s]){o=s;break}var u=[];for(s=o;s<r.length;s++)u.push("..");return(u=u.concat(i.slice(o))).join("/")}},$e={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){$e.ttys[e]={input:[],output:[],ops:t},Je.registerDevice(e,$e.stream_ops)},stream_ops:{open:function(e){var t=$e.ttys[e.node.rdev];if(!t)throw new Je.ErrnoError(We.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new Je.ErrnoError(We.ENXIO);for(var a=0,o=0;o<r;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(Xt){throw new Je.ErrnoError(We.EIO)}if(void 0===s&&0===a)throw new Je.ErrnoError(We.EAGAIN);if(null===s||void 0===s)break;a++,t[n+o]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new Je.ErrnoError(We.ENXIO);for(var a=0;a<r;a++)try{e.tty.ops.put_char(e.tty,t[n+a])}catch(Xt){throw new Je.ErrnoError(We.EIO)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(f){var n=new i(256),a=0,o="win32"!=r.platform,s=r.stdin.fd;if(o){var u=!1;try{s=Et.openSync("/dev/stdin","r"),u=!0}catch(Xt){}}try{a=Et.readSync(s,n,0,256,null)}catch(Xt){if(-1==Xt.toString().indexOf("EOF"))throw Xt;a=0}u&&Et.closeSync(s),t=a>0?n.slice(0,a).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=St(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(a.print(S(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(a.print(S(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(a.printErr(S(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(a.printErr(S(e.output,0)),e.output=[])}}},Ke={ops_table:null,mount:function(e){return Ke.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(Je.isBlkdev(n)||Je.isFIFO(n))throw new Je.ErrnoError(We.EPERM);Ke.ops_table||(Ke.ops_table={dir:{node:{getattr:Ke.node_ops.getattr,setattr:Ke.node_ops.setattr,lookup:Ke.node_ops.lookup,mknod:Ke.node_ops.mknod,rename:Ke.node_ops.rename,unlink:Ke.node_ops.unlink,rmdir:Ke.node_ops.rmdir,readdir:Ke.node_ops.readdir,symlink:Ke.node_ops.symlink},stream:{llseek:Ke.stream_ops.llseek}},file:{node:{getattr:Ke.node_ops.getattr,setattr:Ke.node_ops.setattr},stream:{llseek:Ke.stream_ops.llseek,read:Ke.stream_ops.read,write:Ke.stream_ops.write,allocate:Ke.stream_ops.allocate,mmap:Ke.stream_ops.mmap,msync:Ke.stream_ops.msync}},link:{node:{getattr:Ke.node_ops.getattr,setattr:Ke.node_ops.setattr,readlink:Ke.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ke.node_ops.getattr,setattr:Ke.node_ops.setattr},stream:Je.chrdev_stream_ops}});var i=Je.createNode(e,t,n,r);return Je.isDir(i.mode)?(i.node_ops=Ke.ops_table.dir.node,i.stream_ops=Ke.ops_table.dir.stream,i.contents={}):Je.isFile(i.mode)?(i.node_ops=Ke.ops_table.file.node,i.stream_ops=Ke.ops_table.file.stream,i.usedBytes=0,i.contents=null):Je.isLink(i.mode)?(i.node_ops=Ke.ops_table.link.node,i.stream_ops=Ke.ops_table.link.stream):Je.isChrdev(i.mode)&&(i.node_ops=Ke.ops_table.chrdev.node,i.stream_ops=Ke.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=Ke.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var n=e.contents?e.contents.length:0;if(n>=t)return;t=Math.max(t,n*(n<1048576?2:1.125)|0),0!=n&&(t=Math.max(t,256));var r=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Je.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Je.isDir(e.mode)?t.size=4096:Je.isFile(e.mode)?t.size=e.usedBytes:Je.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ke.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Je.genericErrors[We.ENOENT]},mknod:function(e,t,n,r){return Ke.createNode(e,t,n,r)},rename:function(e,t,n){if(Je.isDir(e.mode)){var r;try{r=Je.lookupNode(t,n)}catch(Xt){}if(r)for(var i in r.contents)throw new Je.ErrnoError(We.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=Je.lookupNode(e,t);for(var r in n.contents)throw new Je.ErrnoError(We.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=Ke.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!Je.isLink(e.mode))throw new Je.ErrnoError(We.EINVAL);return e.link}},stream_ops:{read:function(e,t,n,r,i){var a=e.node.contents;if(i>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-i,r);if(b(o>=0),o>8&&a.subarray)t.set(a.subarray(i,i+o),n);else for(var s=0;s<o;s++)t[n+s]=a[i+s];return o},write:function(e,t,n,r,i,a){if(!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(n,n+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===i)return o.contents=new Uint8Array(t.subarray(n,n+r)),o.usedBytes=r,r;if(i+r<=o.usedBytes)return o.contents.set(t.subarray(n,n+r),i),r}if(Ke.expandFileStorage(o,i+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)o.contents[i+s]=t[n+s];return o.usedBytes=Math.max(o.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&Je.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new Je.ErrnoError(We.EINVAL);return r},allocate:function(e,t,n){Ke.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i,a,o){if(!Je.isFile(e.node.mode))throw new Je.ErrnoError(We.ENODEV);var s,u,c=e.node.contents;if(2&o||c.buffer!==t&&c.buffer!==t.buffer){if((i>0||i+r<e.node.usedBytes)&&(c=c.subarray?c.subarray(i,i+r):Array.prototype.slice.call(c,i,i+r)),u=!0,!(s=Bt(r)))throw new Je.ErrnoError(We.ENOMEM);t.set(c,s)}else u=!1,s=c.byteOffset;return{ptr:s,allocated:u}},msync:function(e,t,n,r,i){if(!Je.isFile(e.node.mode))throw new Je.ErrnoError(We.ENODEV);if(2&i)return 0;Ke.stream_ops.write(e,t,0,r,n,!1);return 0}}},Xe={dbs:{},indexedDB:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){if("undefined"!==typeof indexedDB)return indexedDB;var e=null;return"object"===typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),b(e,"IDBFS used, but indexedDB not supported"),e})),DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return Ke.mount.apply(null,arguments)},syncfs:function(e,t,n){Xe.getLocalSet(e,(function(r,i){if(r)return n(r);Xe.getRemoteSet(e,(function(e,r){if(e)return n(e);var a=t?r:i,o=t?i:r;Xe.reconcile(a,o,n)}))}))},getDB:function(e,t){var n,r=Xe.dbs[e];if(r)return t(null,r);try{n=Xe.indexedDB().open(e,Xe.DB_VERSION)}catch(Xt){return t(Xt)}if(!n)return t("Unable to connect to IndexedDB");n.onupgradeneeded=function(e){var t,n=e.target.result,r=e.target.transaction;(t=n.objectStoreNames.contains(Xe.DB_STORE_NAME)?r.objectStore(Xe.DB_STORE_NAME):n.createObjectStore(Xe.DB_STORE_NAME)).indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},n.onsuccess=function(){r=n.result,Xe.dbs[e]=r,t(null,r)},n.onerror=function(e){t(this.error),e.preventDefault()}},getLocalSet:function(e,t){var n={};function r(e){return"."!==e&&".."!==e}function i(e){return function(t){return Ge.join2(e,t)}}for(var a=Je.readdir(e.mountpoint).filter(r).map(i(e.mountpoint));a.length;){var o,s=a.pop();try{o=Je.stat(s)}catch(Xt){return t(Xt)}Je.isDir(o.mode)&&a.push.apply(a,Je.readdir(s).filter(r).map(i(s))),n[s]={timestamp:o.mtime}}return t(null,{type:"local",entries:n})},getRemoteSet:function(e,t){var n={};Xe.getDB(e.mountpoint,(function(e,r){if(e)return t(e);try{var i=r.transaction([Xe.DB_STORE_NAME],"readonly");i.onerror=function(e){t(this.error),e.preventDefault()},i.objectStore(Xe.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var i=e.target.result;if(!i)return t(null,{type:"remote",db:r,entries:n});n[i.primaryKey]={timestamp:i.key},i.continue()}}catch(Xt){return t(Xt)}}))},loadLocalEntry:function(e,t){var n,r;try{r=Je.lookupPath(e).node,n=Je.stat(e)}catch(Xt){return t(Xt)}return Je.isDir(n.mode)?t(null,{timestamp:n.mtime,mode:n.mode}):Je.isFile(n.mode)?(r.contents=Ke.getFileDataAsTypedArray(r),t(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,n){try{if(Je.isDir(t.mode))Je.mkdir(e,t.mode);else{if(!Je.isFile(t.mode))return n(new Error("node type not supported"));Je.writeFile(e,t.contents,{canOwn:!0})}Je.chmod(e,t.mode),Je.utime(e,t.timestamp,t.timestamp)}catch(Xt){return n(Xt)}n(null)},removeLocalEntry:function(e,t){try{Je.lookupPath(e);var n=Je.stat(e);Je.isDir(n.mode)?Je.rmdir(e):Je.isFile(n.mode)&&Je.unlink(e)}catch(Xt){return t(Xt)}t(null)},loadRemoteEntry:function(e,t,n){var r=e.get(t);r.onsuccess=function(e){n(null,e.target.result)},r.onerror=function(e){n(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,n,r){var i=e.put(n,t);i.onsuccess=function(){r(null)},i.onerror=function(e){r(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,n){var r=e.delete(t);r.onsuccess=function(){n(null)},r.onerror=function(e){n(this.error),e.preventDefault()}},reconcile:function(e,t,n){var r=0,i=[];Object.keys(e.entries).forEach((function(n){var a=e.entries[n],o=t.entries[n];(!o||a.timestamp>o.timestamp)&&(i.push(n),r++)}));var a=[];if(Object.keys(t.entries).forEach((function(n){t.entries[n];e.entries[n]||(a.push(n),r++)})),!r)return n(null);var o=0,s=("remote"===e.type?e.db:t.db).transaction([Xe.DB_STORE_NAME],"readwrite"),u=s.objectStore(Xe.DB_STORE_NAME);function c(e){return e?c.errored?void 0:(c.errored=!0,n(e)):++o>=r?n(null):void 0}s.onerror=function(e){c(this.error),e.preventDefault()},i.sort().forEach((function(e){"local"===t.type?Xe.loadRemoteEntry(u,e,(function(t,n){if(t)return c(t);Xe.storeLocalEntry(e,n,c)})):Xe.loadLocalEntry(e,(function(t,n){if(t)return c(t);Xe.storeRemoteEntry(u,e,n,c)}))})),a.sort().reverse().forEach((function(e){"local"===t.type?Xe.removeLocalEntry(e,c):Xe.removeRemoteEntry(u,e,c)}))}},Ye={isWindows:!1,staticInit:function(){Ye.isWindows=!!r.platform.match(/^win/);var e=r.binding("constants");e.fs&&(e=e.fs),Ye.flagsForNodeMap={1024:e.O_APPEND,64:e.O_CREAT,128:e.O_EXCL,0:e.O_RDONLY,2:e.O_RDWR,4096:e.O_SYNC,512:e.O_TRUNC,1:e.O_WRONLY}},bufferFrom:function(e){return i.alloc?i.from(e):new i(e)},mount:function(e){return b(f),Ye.createNode(null,"/",Ye.getMode(e.opts.root),0)},createNode:function(e,t,n,r){if(!Je.isDir(n)&&!Je.isFile(n)&&!Je.isLink(n))throw new Je.ErrnoError(We.EINVAL);var i=Je.createNode(e,t,n);return i.node_ops=Ye.node_ops,i.stream_ops=Ye.stream_ops,i},getMode:function(e){var t;try{t=Et.lstatSync(e),Ye.isWindows&&(t.mode=t.mode|(292&t.mode)>>2)}catch(Xt){if(!Xt.code)throw Xt;throw new Je.ErrnoError(We[Xt.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),Ge.join.apply(null,t)},flagsForNode:function(e){e&=-2097153,e&=-2049,e&=-32769,e&=-524289;var t=0;for(var n in Ye.flagsForNodeMap)e&n&&(t|=Ye.flagsForNodeMap[n],e^=n);if(e)throw new Je.ErrnoError(We.EINVAL);return t},node_ops:{getattr:function(e){var t,n=Ye.realPath(e);try{t=Et.lstatSync(n)}catch(Xt){if(!Xt.code)throw Xt;throw new Je.ErrnoError(We[Xt.code])}return Ye.isWindows&&!t.blksize&&(t.blksize=4096),Ye.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var n=Ye.realPath(e);try{if(void 0!==t.mode&&(Et.chmodSync(n,t.mode),e.mode=t.mode),void 0!==t.timestamp){var r=new Date(t.timestamp);Et.utimesSync(n,r,r)}void 0!==t.size&&Et.truncateSync(n,t.size)}catch(Xt){if(!Xt.code)throw Xt;throw new Je.ErrnoError(We[Xt.code])}},lookup:function(e,t){var n=Ge.join2(Ye.realPath(e),t),r=Ye.getMode(n);return Ye.createNode(e,t,r)},mknod:function(e,t,n,r){var i=Ye.createNode(e,t,n,r),a=Ye.realPath(i);try{Je.isDir(i.mode)?Et.mkdirSync(a,i.mode):Et.writeFileSync(a,"",{mode:i.mode})}catch(Xt){if(!Xt.code)throw Xt;throw new Je.ErrnoError(We[Xt.code])}return i},rename:function(e,t,n){var r=Ye.realPath(e),i=Ge.join2(Ye.realPath(t),n);try{Et.renameSync(r,i)}catch(Xt){if(!Xt.code)throw Xt;throw new Je.ErrnoError(We[Xt.code])}},unlink:function(e,t){var n=Ge.join2(Ye.realPath(e),t);try{Et.unlinkSync(n)}catch(Xt){if(!Xt.code)throw Xt;throw new Je.ErrnoError(We[Xt.code])}},rmdir:function(e,t){var n=Ge.join2(Ye.realPath(e),t);try{Et.rmdirSync(n)}catch(Xt){if(!Xt.code)throw Xt;throw new Je.ErrnoError(We[Xt.code])}},readdir:function(e){var t=Ye.realPath(e);try{return Et.readdirSync(t)}catch(Xt){if(!Xt.code)throw Xt;throw new Je.ErrnoError(We[Xt.code])}},symlink:function(e,t,n){var r=Ge.join2(Ye.realPath(e),t);try{Et.symlinkSync(n,r)}catch(Xt){if(!Xt.code)throw Xt;throw new Je.ErrnoError(We[Xt.code])}},readlink:function(e){var t=Ye.realPath(e);try{return t=Et.readlinkSync(t),t=_t.relative(_t.resolve(e.mount.opts.root),t)}catch(Xt){if(!Xt.code)throw Xt;throw new Je.ErrnoError(We[Xt.code])}}},stream_ops:{open:function(e){var t=Ye.realPath(e.node);try{Je.isFile(e.node.mode)&&(e.nfd=Et.openSync(t,Ye.flagsForNode(e.flags)))}catch(Xt){if(!Xt.code)throw Xt;throw new Je.ErrnoError(We[Xt.code])}},close:function(e){try{Je.isFile(e.node.mode)&&e.nfd&&Et.closeSync(e.nfd)}catch(Xt){if(!Xt.code)throw Xt;throw new Je.ErrnoError(We[Xt.code])}},read:function(e,t,n,r,i){if(0===r)return 0;try{return Et.readSync(e.nfd,Ye.bufferFrom(t.buffer),n,r,i)}catch(Xt){throw new Je.ErrnoError(We[Xt.code])}},write:function(e,t,n,r,i){try{return Et.writeSync(e.nfd,Ye.bufferFrom(t.buffer),n,r,i)}catch(Xt){throw new Je.ErrnoError(We[Xt.code])}},llseek:function(e,t,n){var r=t;if(1===n)r+=e.position;else if(2===n&&Je.isFile(e.node.mode))try{r+=Et.fstatSync(e.nfd).size}catch(Xt){throw new Je.ErrnoError(We[Xt.code])}if(r<0)throw new Je.ErrnoError(We.EINVAL);return r}}},Ze={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){b(l),Ze.reader||(Ze.reader=new FileReaderSync);var t=Ze.createNode(null,"/",Ze.DIR_MODE,0),n={};function r(e){for(var r=e.split("/"),i=t,a=0;a<r.length-1;a++){var o=r.slice(0,a+1).join("/");n[o]||(n[o]=Ze.createNode(i,r[a],Ze.DIR_MODE,0)),i=n[o]}return i}function i(e){var t=e.split("/");return t[t.length-1]}return Array.prototype.forEach.call(e.opts.files||[],(function(e){Ze.createNode(r(e.name),i(e.name),Ze.FILE_MODE,0,e,e.lastModifiedDate)})),(e.opts.blobs||[]).forEach((function(e){Ze.createNode(r(e.name),i(e.name),Ze.FILE_MODE,0,e.data)})),(e.opts.packages||[]).forEach((function(e){e.metadata.files.forEach((function(t){var n=t.filename.substr(1);Ze.createNode(r(n),i(n),Ze.FILE_MODE,0,e.blob.slice(t.start,t.end))}))})),t},createNode:function(e,t,n,r,i,a){var o=Je.createNode(e,t,n);return o.mode=n,o.node_ops=Ze.node_ops,o.stream_ops=Ze.stream_ops,o.timestamp=(a||new Date).getTime(),b(Ze.FILE_MODE!==Ze.DIR_MODE),n===Ze.FILE_MODE?(o.size=i.size,o.contents=i):(o.size=4096,o.contents={}),e&&(e.contents[t]=o),o},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new Je.ErrnoError(We.ENOENT)},mknod:function(e,t,n,r){throw new Je.ErrnoError(We.EPERM)},rename:function(e,t,n){throw new Je.ErrnoError(We.EPERM)},unlink:function(e,t){throw new Je.ErrnoError(We.EPERM)},rmdir:function(e,t){throw new Je.ErrnoError(We.EPERM)},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){throw new Je.ErrnoError(We.EPERM)},readlink:function(e){throw new Je.ErrnoError(We.EPERM)}},stream_ops:{read:function(e,t,n,r,i){if(i>=e.node.size)return 0;var a=e.node.contents.slice(i,i+r),o=Ze.reader.readAsArrayBuffer(a);return t.set(new Uint8Array(o),n),a.size},write:function(e,t,n,r,i){throw new Je.ErrnoError(We.EIO)},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&Je.isFile(e.node.mode)&&(r+=e.node.size),r<0)throw new Je.ErrnoError(We.EINVAL);return r}}};U+=16,U+=16;var Je={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof Je.ErrnoError))throw e+" : "+D();return Ve(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=Ge.resolve(Je.cwd(),e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new Je.ErrnoError(We.ELOOP);for(var i=Ge.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),a=Je.root,o="/",s=0;s<i.length;s++){var u=s===i.length-1;if(u&&t.parent)break;if(a=Je.lookupNode(a,i[s]),o=Ge.join2(o,i[s]),Je.isMountpoint(a)&&(!u||u&&t.follow_mount)&&(a=a.mounted.root),!u||t.follow)for(var c=0;Je.isLink(a.mode);){var l=Je.readlink(o);if(o=Ge.resolve(Ge.dirname(o),l),a=Je.lookupPath(o,{recurse_count:t.recurse_count}).node,c++>40)throw new Je.ErrnoError(We.ELOOP)}}return{path:o,node:a}},getPath:function(e){for(var t;;){if(Je.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Je.nameTable.length},hashAddNode:function(e){var t=Je.hashName(e.parent.id,e.name);e.name_next=Je.nameTable[t],Je.nameTable[t]=e},hashRemoveNode:function(e){var t=Je.hashName(e.parent.id,e.name);if(Je.nameTable[t]===e)Je.nameTable[t]=e.name_next;else for(var n=Je.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=Je.mayLookup(e);if(n)throw new Je.ErrnoError(n,e);for(var r=Je.hashName(e.id,t),i=Je.nameTable[r];i;i=i.name_next){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return Je.lookup(e,t)},createNode:function(e,t,n,r){if(!Je.FSNode){Je.FSNode=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Je.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},Je.FSNode.prototype={};Object.defineProperties(Je.FSNode.prototype,{read:{get:function(){return 365===(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Je.isDir(this.mode)}},isDevice:{get:function(){return Je.isChrdev(this.mode)}}})}var i=new Je.FSNode(e,t,n,r);return Je.hashAddNode(i),i},destroyNode:function(e){Je.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=Je.flagModes[e];if("undefined"===typeof t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Je.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:We.EACCES},mayLookup:function(e){var t=Je.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:We.EACCES)},mayCreate:function(e,t){try{Je.lookupNode(e,t);return We.EEXIST}catch(Xt){}return Je.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=Je.lookupNode(e,t)}catch(Xt){return Xt.errno}var i=Je.nodePermissions(e,"wx");if(i)return i;if(n){if(!Je.isDir(r.mode))return We.ENOTDIR;if(Je.isRoot(r)||Je.getPath(r)===Je.cwd())return We.EBUSY}else if(Je.isDir(r.mode))return We.EISDIR;return 0},mayOpen:function(e,t){return e?Je.isLink(e.mode)?We.ELOOP:Je.isDir(e.mode)&&("r"!==Je.flagsToPermissionString(t)||512&t)?We.EISDIR:Je.nodePermissions(e,Je.flagsToPermissionString(t)):We.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||Je.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!Je.streams[n])return n;throw new Je.ErrnoError(We.EMFILE)},getStream:function(e){return Je.streams[e]},createStream:function(e,t,n){Je.FSStream||(Je.FSStream=function(){},Je.FSStream.prototype={},Object.defineProperties(Je.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new Je.FSStream;for(var i in e)r[i]=e[i];e=r;var a=Je.nextfd(t,n);return e.fd=a,Je.streams[a]=e,e},closeStream:function(e){Je.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Je.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Je.ErrnoError(We.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Je.devices[e]={stream_ops:t}},getDevice:function(e){return Je.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"===typeof e&&(t=e,e=!1),Je.syncFSRequests++,Je.syncFSRequests>1&&console.log("warning: "+Je.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=Je.getMounts(Je.root.mount),r=0;function i(e){return b(Je.syncFSRequests>0),Je.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,i(e));++r>=n.length&&i(null)}n.forEach((function(t){if(!t.type.syncfs)return a(null);t.type.syncfs(t,e,a)}))},mount:function(e,t,n){var r,i="/"===n,a=!n;if(i&&Je.root)throw new Je.ErrnoError(We.EBUSY);if(!i&&!a){var o=Je.lookupPath(n,{follow_mount:!1});if(n=o.path,r=o.node,Je.isMountpoint(r))throw new Je.ErrnoError(We.EBUSY);if(!Je.isDir(r.mode))throw new Je.ErrnoError(We.ENOTDIR)}var s={type:e,opts:t,mountpoint:n,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,i?Je.root=u:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),u},unmount:function(e){var t=Je.lookupPath(e,{follow_mount:!1});if(!Je.isMountpoint(t.node))throw new Je.ErrnoError(We.EINVAL);var n=t.node,r=n.mounted,i=Je.getMounts(r);Object.keys(Je.nameTable).forEach((function(e){for(var t=Je.nameTable[e];t;){var n=t.name_next;-1!==i.indexOf(t.mount)&&Je.destroyNode(t),t=n}})),n.mounted=null;var a=n.mount.mounts.indexOf(r);b(-1!==a),n.mount.mounts.splice(a,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=Je.lookupPath(e,{parent:!0}).node,i=Ge.basename(e);if(!i||"."===i||".."===i)throw new Je.ErrnoError(We.EINVAL);var a=Je.mayCreate(r,i);if(a)throw new Je.ErrnoError(a);if(!r.node_ops.mknod)throw new Je.ErrnoError(We.EPERM);return r.node_ops.mknod(r,i,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Je.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Je.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{Je.mkdir(r,t)}catch(Xt){if(Xt.errno!=We.EEXIST)throw Xt}}},mkdev:function(e,t,n){return"undefined"===typeof n&&(n=t,t=438),t|=8192,Je.mknod(e,t,n)},symlink:function(e,t){if(!Ge.resolve(e))throw new Je.ErrnoError(We.ENOENT);var n=Je.lookupPath(t,{parent:!0}).node;if(!n)throw new Je.ErrnoError(We.ENOENT);var r=Ge.basename(t),i=Je.mayCreate(n,r);if(i)throw new Je.ErrnoError(i);if(!n.node_ops.symlink)throw new Je.ErrnoError(We.EPERM);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,i=Ge.dirname(e),a=Ge.dirname(t),o=Ge.basename(e),s=Ge.basename(t);try{n=Je.lookupPath(e,{parent:!0}).node,r=Je.lookupPath(t,{parent:!0}).node}catch(Xt){throw new Je.ErrnoError(We.EBUSY)}if(!n||!r)throw new Je.ErrnoError(We.ENOENT);if(n.mount!==r.mount)throw new Je.ErrnoError(We.EXDEV);var u,c=Je.lookupNode(n,o),l=Ge.relative(e,a);if("."!==l.charAt(0))throw new Je.ErrnoError(We.EINVAL);if("."!==(l=Ge.relative(t,i)).charAt(0))throw new Je.ErrnoError(We.ENOTEMPTY);try{u=Je.lookupNode(r,s)}catch(Xt){}if(c!==u){var f=Je.isDir(c.mode),d=Je.mayDelete(n,o,f);if(d)throw new Je.ErrnoError(d);if(d=u?Je.mayDelete(r,s,f):Je.mayCreate(r,s))throw new Je.ErrnoError(d);if(!n.node_ops.rename)throw new Je.ErrnoError(We.EPERM);if(Je.isMountpoint(c)||u&&Je.isMountpoint(u))throw new Je.ErrnoError(We.EBUSY);if(r!==n&&(d=Je.nodePermissions(n,"w")))throw new Je.ErrnoError(d);try{Je.trackingDelegate.willMovePath&&Je.trackingDelegate.willMovePath(e,t)}catch(Xt){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+Xt.message)}Je.hashRemoveNode(c);try{n.node_ops.rename(c,r,s)}catch(Xt){throw Xt}finally{Je.hashAddNode(c)}try{Je.trackingDelegate.onMovePath&&Je.trackingDelegate.onMovePath(e,t)}catch(Xt){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+Xt.message)}}},rmdir:function(e){var t=Je.lookupPath(e,{parent:!0}).node,n=Ge.basename(e),r=Je.lookupNode(t,n),i=Je.mayDelete(t,n,!0);if(i)throw new Je.ErrnoError(i);if(!t.node_ops.rmdir)throw new Je.ErrnoError(We.EPERM);if(Je.isMountpoint(r))throw new Je.ErrnoError(We.EBUSY);try{Je.trackingDelegate.willDeletePath&&Je.trackingDelegate.willDeletePath(e)}catch(Xt){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+Xt.message)}t.node_ops.rmdir(t,n),Je.destroyNode(r);try{Je.trackingDelegate.onDeletePath&&Je.trackingDelegate.onDeletePath(e)}catch(Xt){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+Xt.message)}},readdir:function(e){var t=Je.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Je.ErrnoError(We.ENOTDIR);return t.node_ops.readdir(t)},unlink:function(e){var t=Je.lookupPath(e,{parent:!0}).node,n=Ge.basename(e),r=Je.lookupNode(t,n),i=Je.mayDelete(t,n,!1);if(i)throw new Je.ErrnoError(i);if(!t.node_ops.unlink)throw new Je.ErrnoError(We.EPERM);if(Je.isMountpoint(r))throw new Je.ErrnoError(We.EBUSY);try{Je.trackingDelegate.willDeletePath&&Je.trackingDelegate.willDeletePath(e)}catch(Xt){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+Xt.message)}t.node_ops.unlink(t,n),Je.destroyNode(r);try{Je.trackingDelegate.onDeletePath&&Je.trackingDelegate.onDeletePath(e)}catch(Xt){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+Xt.message)}},readlink:function(e){var t=Je.lookupPath(e).node;if(!t)throw new Je.ErrnoError(We.ENOENT);if(!t.node_ops.readlink)throw new Je.ErrnoError(We.EINVAL);return Ge.resolve(Je.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=Je.lookupPath(e,{follow:!t}).node;if(!n)throw new Je.ErrnoError(We.ENOENT);if(!n.node_ops.getattr)throw new Je.ErrnoError(We.EPERM);return n.node_ops.getattr(n)},lstat:function(e){return Je.stat(e,!0)},chmod:function(e,t,n){var r;"string"===typeof e?r=Je.lookupPath(e,{follow:!n}).node:r=e;if(!r.node_ops.setattr)throw new Je.ErrnoError(We.EPERM);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){Je.chmod(e,t,!0)},fchmod:function(e,t){var n=Je.getStream(e);if(!n)throw new Je.ErrnoError(We.EBADF);Je.chmod(n.node,t)},chown:function(e,t,n,r){var i;"string"===typeof e?i=Je.lookupPath(e,{follow:!r}).node:i=e;if(!i.node_ops.setattr)throw new Je.ErrnoError(We.EPERM);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){Je.chown(e,t,n,!0)},fchown:function(e,t,n){var r=Je.getStream(e);if(!r)throw new Je.ErrnoError(We.EBADF);Je.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new Je.ErrnoError(We.EINVAL);var n;"string"===typeof e?n=Je.lookupPath(e,{follow:!0}).node:n=e;if(!n.node_ops.setattr)throw new Je.ErrnoError(We.EPERM);if(Je.isDir(n.mode))throw new Je.ErrnoError(We.EISDIR);if(!Je.isFile(n.mode))throw new Je.ErrnoError(We.EINVAL);var r=Je.nodePermissions(n,"w");if(r)throw new Je.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=Je.getStream(e);if(!n)throw new Je.ErrnoError(We.EBADF);if(0===(2097155&n.flags))throw new Je.ErrnoError(We.EINVAL);Je.truncate(n.node,t)},utime:function(e,t,n){var r=Je.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,t,n,r,i){if(""===e)throw new Je.ErrnoError(We.ENOENT);var o;if(n="undefined"===typeof n?438:n,n=64&(t="string"===typeof t?Je.modeStringToFlags(t):t)?4095&n|32768:0,"object"===typeof e)o=e;else{e=Ge.normalize(e);try{o=Je.lookupPath(e,{follow:!(131072&t)}).node}catch(Xt){}}var s=!1;if(64&t)if(o){if(128&t)throw new Je.ErrnoError(We.EEXIST)}else o=Je.mknod(e,n,0),s=!0;if(!o)throw new Je.ErrnoError(We.ENOENT);if(Je.isChrdev(o.mode)&&(t&=-513),65536&t&&!Je.isDir(o.mode))throw new Je.ErrnoError(We.ENOTDIR);if(!s){var u=Je.mayOpen(o,t);if(u)throw new Je.ErrnoError(u)}512&t&&Je.truncate(o,0),t&=-641;var c=Je.createStream({node:o,path:Je.getPath(o),flags:t,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},r,i);c.stream_ops.open&&c.stream_ops.open(c),!a.logReadFiles||1&t||(Je.readFiles||(Je.readFiles={}),e in Je.readFiles||(Je.readFiles[e]=1,a.printErr("read file: "+e)));try{if(Je.trackingDelegate.onOpenFile){var l=0;1!==(2097155&t)&&(l|=Je.tracking.openFlags.READ),0!==(2097155&t)&&(l|=Je.tracking.openFlags.WRITE),Je.trackingDelegate.onOpenFile(e,l)}}catch(Xt){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+Xt.message)}return c},close:function(e){e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(Xt){throw Xt}finally{Je.closeStream(e.fd)}},llseek:function(e,t,n){if(!e.seekable||!e.stream_ops.llseek)throw new Je.ErrnoError(We.ESPIPE);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new Je.ErrnoError(We.EINVAL);if(1===(2097155&e.flags))throw new Je.ErrnoError(We.EBADF);if(Je.isDir(e.node.mode))throw new Je.ErrnoError(We.EISDIR);if(!e.stream_ops.read)throw new Je.ErrnoError(We.EINVAL);var a="undefined"!==typeof i;if(a){if(!e.seekable)throw new Je.ErrnoError(We.ESPIPE)}else i=e.position;var o=e.stream_ops.read(e,t,n,r,i);return a||(e.position+=o),o},write:function(e,t,n,r,i,a){if(r<0||i<0)throw new Je.ErrnoError(We.EINVAL);if(0===(2097155&e.flags))throw new Je.ErrnoError(We.EBADF);if(Je.isDir(e.node.mode))throw new Je.ErrnoError(We.EISDIR);if(!e.stream_ops.write)throw new Je.ErrnoError(We.EINVAL);1024&e.flags&&Je.llseek(e,0,2);var o="undefined"!==typeof i;if(o){if(!e.seekable)throw new Je.ErrnoError(We.ESPIPE)}else i=e.position;var s=e.stream_ops.write(e,t,n,r,i,a);o||(e.position+=s);try{e.path&&Je.trackingDelegate.onWriteToFile&&Je.trackingDelegate.onWriteToFile(e.path)}catch(Xt){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+Xt.message)}return s},allocate:function(e,t,n){if(t<0||n<=0)throw new Je.ErrnoError(We.EINVAL);if(0===(2097155&e.flags))throw new Je.ErrnoError(We.EBADF);if(!Je.isFile(e.node.mode)&&!Je.isDir(e.node.mode))throw new Je.ErrnoError(We.ENODEV);if(!e.stream_ops.allocate)throw new Je.ErrnoError(We.EOPNOTSUPP);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,a,o){if(1===(2097155&e.flags))throw new Je.ErrnoError(We.EACCES);if(!e.stream_ops.mmap)throw new Je.ErrnoError(We.ENODEV);return e.stream_ops.mmap(e,t,n,r,i,a,o)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new Je.ErrnoError(We.ENOTTY);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=Je.open(e,t.flags),i=Je.stat(e).size,a=new Uint8Array(i);return Je.read(r,a,0,i,0),"utf8"===t.encoding?n=S(a,0):"binary"===t.encoding&&(n=a),Je.close(r),n},writeFile:function(e,t,n){(n=n||{}).flags=n.flags||"w";var r=Je.open(e,n.flags,n.mode);if("string"===typeof t){var i=new Uint8Array(T(t)+1),a=C(t,i,0,i.length);Je.write(r,i,0,a,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Je.write(r,t,0,t.byteLength,void 0,n.canOwn)}Je.close(r)},cwd:function(){return Je.currentPath},chdir:function(e){var t=Je.lookupPath(e,{follow:!0});if(null===t.node)throw new Je.ErrnoError(We.ENOENT);if(!Je.isDir(t.node.mode))throw new Je.ErrnoError(We.ENOTDIR);var n=Je.nodePermissions(t.node,"x");if(n)throw new Je.ErrnoError(n);Je.currentPath=t.path},createDefaultDirectories:function(){Je.mkdir("/tmp"),Je.mkdir("/home"),Je.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(Je.mkdir("/dev"),Je.registerDevice(Je.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),Je.mkdev("/dev/null",Je.makedev(1,3)),$e.register(Je.makedev(5,0),$e.default_tty_ops),$e.register(Je.makedev(6,0),$e.default_tty1_ops),Je.mkdev("/dev/tty",Je.makedev(5,0)),Je.mkdev("/dev/tty1",Je.makedev(6,0)),"undefined"!==typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=f?function(){return n(546).randomBytes(1)[0]}:function(){return 256*Math.random()|0};Je.createDevice("/dev","random",e),Je.createDevice("/dev","urandom",e),Je.mkdir("/dev/shm"),Je.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Je.mkdir("/proc"),Je.mkdir("/proc/self"),Je.mkdir("/proc/self/fd"),Je.mount({mount:function(){var e=Je.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,r=Je.getStream(n);if(!r)throw new Je.ErrnoError(We.EBADF);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){a.stdin?Je.createDevice("/dev","stdin",a.stdin):Je.symlink("/dev/tty","/dev/stdin"),a.stdout?Je.createDevice("/dev","stdout",null,a.stdout):Je.symlink("/dev/tty","/dev/stdout"),a.stderr?Je.createDevice("/dev","stderr",null,a.stderr):Je.symlink("/dev/tty1","/dev/stderr");var e=Je.open("/dev/stdin","r");b(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=Je.open("/dev/stdout","w");b(1===t.fd,"invalid handle for stdout ("+t.fd+")");var n=Je.open("/dev/stderr","w");b(2===n.fd,"invalid handle for stderr ("+n.fd+")")},ensureErrnoError:function(){Je.ErrnoError||(Je.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,We)if(We[t]===e){this.code=t;break}},this.setErrno(e),this.message=He[e],this.stack&&Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0})},Je.ErrnoError.prototype=new Error,Je.ErrnoError.prototype.constructor=Je.ErrnoError,[We.ENOENT].forEach((function(e){Je.genericErrors[e]=new Je.ErrnoError(e),Je.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Je.ensureErrnoError(),Je.nameTable=new Array(4096),Je.mount(Ke,{},"/"),Je.createDefaultDirectories(),Je.createDefaultDevices(),Je.createSpecialDirectories(),Je.filesystems={MEMFS:Ke,IDBFS:Xe,NODEFS:Ye,WORKERFS:Ze}},init:function(e,t,n){b(!Je.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),Je.init.initialized=!0,Je.ensureErrnoError(),a.stdin=e||a.stdin,a.stdout=t||a.stdout,a.stderr=n||a.stderr,Je.createStandardStreams()},quit:function(){Je.init.initialized=!1;var e=a._fflush;e&&e(0);for(var t=0;t<Je.streams.length;t++){var n=Je.streams[t];n&&Je.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=Ge.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return Ge.resolve(t,e)},standardizePath:function(e){return Ge.normalize(e)},findObject:function(e,t){var n=Je.analyzePath(e,t);return n.exists?n.object:(Ve(n.error),null)},analyzePath:function(e,t){try{e=(r=Je.lookupPath(e,{follow:!t})).path}catch(Xt){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=Je.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=Ge.basename(e),r=Je.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(Xt){n.error=Xt.errno}return n},createFolder:function(e,t,n,r){var i=Ge.join2("string"===typeof e?e:Je.getPath(e),t),a=Je.getMode(n,r);return Je.mkdir(i,a)},createPath:function(e,t,n,r){e="string"===typeof e?e:Je.getPath(e);for(var i=t.split("/").reverse();i.length;){var a=i.pop();if(a){var o=Ge.join2(e,a);try{Je.mkdir(o)}catch(Xt){}e=o}}return o},createFile:function(e,t,n,r,i){var a=Ge.join2("string"===typeof e?e:Je.getPath(e),t),o=Je.getMode(r,i);return Je.create(a,o)},createDataFile:function(e,t,n,r,i,a){var o=t?Ge.join2("string"===typeof e?e:Je.getPath(e),t):e,s=Je.getMode(r,i),u=Je.create(o,s);if(n){if("string"===typeof n){for(var c=new Array(n.length),l=0,f=n.length;l<f;++l)c[l]=n.charCodeAt(l);n=c}Je.chmod(u,146|s);var d=Je.open(u,"w");Je.write(d,n,0,n.length,0,a),Je.close(d),Je.chmod(u,s)}return u},createDevice:function(e,t,n,r){var i=Ge.join2("string"===typeof e?e:Je.getPath(e),t),a=Je.getMode(!!n,!!r);Je.createDevice.major||(Je.createDevice.major=64);var o=Je.makedev(Je.createDevice.major++,0);return Je.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,a){for(var o=0,s=0;s<i;s++){var u;try{u=n()}catch(Xt){throw new Je.ErrnoError(We.EIO)}if(void 0===u&&0===o)throw new Je.ErrnoError(We.EAGAIN);if(null===u||void 0===u)break;o++,t[r+s]=u}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,i,a){for(var o=0;o<i;o++)try{r(t[n+o])}catch(Xt){throw new Je.ErrnoError(We.EIO)}return i&&(e.node.timestamp=Date.now()),o}}),Je.mkdev(i,a,o)},createLink:function(e,t,n,r,i){var a=Ge.join2("string"===typeof e?e:Je.getPath(e),t);return Je.symlink(n,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!==typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!a.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=St(a.read(e.url),!0),e.usedBytes=e.contents.length}catch(Xt){t=!1}return t||Ve(We.EIO),t},createLazyFile:function(e,t,n,r,i){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;i||(o=r);var s=this;s.setDataGetter((function(e){var t=e*o,i=(e+1)*o-1;if(i=Math.min(i,r-1),"undefined"===typeof s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==o&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):St(i.responseText||"",!0)}(t,i)),"undefined"===typeof s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!a&&r||(o=r=1,r=this.getter(0).length,o=r,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=o,this.lengthKnown=!0},"undefined"!==typeof XMLHttpRequest){if(!l)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new a;Object.defineProperties(o,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:o}}else s={isDevice:!1,url:n};var u=Je.createFile(e,t,s,r,i);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(u.stream_ops).forEach((function(e){var t=u.stream_ops[e];c[e]=function(){if(!Je.forceLoadFile(u))throw new Je.ErrnoError(We.EIO);return t.apply(null,arguments)}})),c.read=function(e,t,n,r,i){if(!Je.forceLoadFile(u))throw new Je.ErrnoError(We.EIO);var a=e.node.contents;if(i>=a.length)return 0;var o=Math.min(a.length-i,r);if(b(o>=0),a.slice)for(var s=0;s<o;s++)t[n+s]=a[i+s];else for(s=0;s<o;s++)t[n+s]=a.get(i+s);return o},u.stream_ops=c,u},createPreloadedFile:function(e,t,n,r,i,o,s,u,c,l){Browser.init();var f=t?Ge.resolve(Ge.join2(e,t)):e;function d(n){function d(n){l&&l(),u||Je.createDataFile(e,t,n,r,i,c),o&&o(),Ee()}var h=!1;a.preloadPlugins.forEach((function(e){h||e.canHandle(f)&&(e.handle(n,f,d,(function(){s&&s(),Ee()})),h=!0)})),h||d(n)}ke(),"string"==typeof n?Browser.asyncLoad(n,(function(e){d(e)}),s):d(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=Je.indexedDB();try{var i=r.open(Je.DB_NAME(),Je.DB_VERSION)}catch(Xt){return n(Xt)}i.onupgradeneeded=function(){console.log("creating db"),i.result.createObjectStore(Je.DB_STORE_NAME)},i.onsuccess=function(){var r=i.result.transaction([Je.DB_STORE_NAME],"readwrite"),a=r.objectStore(Je.DB_STORE_NAME),o=0,s=0,u=e.length;function c(){0==s?t():n()}e.forEach((function(e){var t=a.put(Je.analyzePath(e).object.contents,e);t.onsuccess=function(){++o+s==u&&c()},t.onerror=function(){s++,o+s==u&&c()}})),r.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=Je.indexedDB();try{var i=r.open(Je.DB_NAME(),Je.DB_VERSION)}catch(Xt){return n(Xt)}i.onupgradeneeded=n,i.onsuccess=function(){var r=i.result;try{var a=r.transaction([Je.DB_STORE_NAME],"readonly")}catch(Xt){return void n(Xt)}var o=a.objectStore(Je.DB_STORE_NAME),s=0,u=0,c=e.length;function l(){0==u?t():n()}e.forEach((function(e){var t=o.get(e);t.onsuccess=function(){Je.analyzePath(e).exists&&Je.unlink(e),Je.createDataFile(Ge.dirname(e),Ge.basename(e),t.result,!0,!0,!0),++s+u==c&&l()},t.onerror=function(){u++,s+u==c&&l()}})),a.onerror=n},i.onerror=n}},Qe={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n;if(-100===e)n=Je.cwd();else{var r=Je.getStream(e);if(!r)throw new Je.ErrnoError(We.EBADF);n=r.path}t=Ge.join2(n,t)}return t},doStat:function(e,t,n){try{var r=e(t)}catch(Xt){if(Xt&&Xt.node&&Ge.normalize(t)!==Ge.normalize(Je.getPath(Xt.node)))return-We.ENOTDIR;throw Xt}return L[n>>2]=r.dev,L[n+4>>2]=0,L[n+8>>2]=r.ino,L[n+12>>2]=r.mode,L[n+16>>2]=r.nlink,L[n+20>>2]=r.uid,L[n+24>>2]=r.gid,L[n+28>>2]=r.rdev,L[n+32>>2]=0,L[n+36>>2]=r.size,L[n+40>>2]=4096,L[n+44>>2]=r.blocks,L[n+48>>2]=r.atime.getTime()/1e3|0,L[n+52>>2]=0,L[n+56>>2]=r.mtime.getTime()/1e3|0,L[n+60>>2]=0,L[n+64>>2]=r.ctime.getTime()/1e3|0,L[n+68>>2]=0,L[n+72>>2]=r.ino,0},doMsync:function(e,t,n,r){var i=new Uint8Array(P.subarray(e,e+n));Je.msync(t,i,0,n,r)},doMkdir:function(e,t){return"/"===(e=Ge.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Je.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-We.EINVAL}return Je.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-We.EINVAL;var r=Je.readlink(e),i=Math.min(n,T(r)),a=F[t+i];return A(r,t,n+1),F[t+i]=a,i},doAccess:function(e,t){if(-8&t)return-We.EINVAL;var n;n=Je.lookupPath(e,{follow:!0}).node;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&Je.nodePermissions(n,r)?-We.EACCES:0},doDup:function(e,t,n){var r=Je.getStream(n);return r&&Je.close(r),Je.open(e,t,0,n,n).fd},doReadv:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=L[t+8*a>>2],s=L[t+(8*a+4)>>2],u=Je.read(e,F,o,s,r);if(u<0)return-1;if(i+=u,u<s)break}return i},doWritev:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=L[t+8*a>>2],s=L[t+(8*a+4)>>2],u=Je.write(e,F,o,s,r);if(u<0)return-1;i+=u}return i},varargs:0,get:function(e){return Qe.varargs+=4,L[Qe.varargs-4>>2]},getStr:function(){return E(Qe.get())},getStreamFromFD:function(){var e=Je.getStream(Qe.get());if(!e)throw new Je.ErrnoError(We.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(Qe.get());if(!e)throw new Je.ErrnoError(We.EBADF);return e},getSocketAddress:function(e){var t=Qe.get(),n=Qe.get();if(e&&0===t)return null;var r=__read_sockaddr(t,n);if(r.errno)throw new Je.ErrnoError(r.errno);return r.addr=DNS.lookup_addr(r.addr)||r.addr,r},get64:function(){var e=Qe.get(),t=Qe.get();return b(e>=0?0===t:-1===t),e},getZero:function(){b(0===Qe.get())}};function et(e,t){Qe.varargs=t;try{var n=Qe.getStreamFromFD(),r=(Qe.get(),Qe.get()),i=Qe.get(),a=Qe.get(),o=r;return Je.llseek(n,o,a),L[i>>2]=n.position,n.getdents&&0===o&&0===a&&(n.getdents=null),0}catch(Xt){return"undefined"!==typeof Je&&Xt instanceof Je.ErrnoError||Kt(Xt),-Xt.errno}}function tt(e,t){Qe.varargs=t;try{var n=Qe.getStreamFromFD(),r=Qe.get(),i=Qe.get();return Qe.doReadv(n,r,i)}catch(Xt){return"undefined"!==typeof Je&&Xt instanceof Je.ErrnoError||Kt(Xt),-Xt.errno}}function nt(e,t){Qe.varargs=t;try{var n=Qe.getStreamFromFD(),r=Qe.get(),i=Qe.get();return Qe.doWritev(n,r,i)}catch(Xt){return"undefined"!==typeof Je&&Xt instanceof Je.ErrnoError||Kt(Xt),-Xt.errno}}function rt(e,t){Qe.varargs=t;try{var n=Qe.getStreamFromFD();switch(Qe.get()){case 0:return(r=Qe.get())<0?-We.EINVAL:Je.open(n.path,n.flags,0,r).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var r=Qe.get();return n.flags|=r,0;case 12:case 12:r=Qe.get();return z[r+0>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-We.EINVAL;case 9:return Ve(We.EINVAL),-1;default:return-We.EINVAL}}catch(Xt){return"undefined"!==typeof Je&&Xt instanceof Je.ErrnoError||Kt(Xt),-Xt.errno}}function it(e,t){Qe.varargs=t;try{var n=Qe.getStr(),r=Qe.get(),i=Qe.get();return Je.open(n,r,i).fd}catch(Xt){return"undefined"!==typeof Je&&Xt instanceof Je.ErrnoError||Kt(Xt),-Xt.errno}}function at(e,t){Qe.varargs=t;try{var n=Qe.getStreamFromFD(),r=Qe.get();switch(r){case 21509:case 21505:return n.tty?0:-We.ENOTTY;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-We.ENOTTY;case 21519:if(!n.tty)return-We.ENOTTY;var i=Qe.get();return L[i>>2]=0,0;case 21520:return n.tty?-We.EINVAL:-We.ENOTTY;case 21531:i=Qe.get();return Je.ioctl(n,r,i);case 21523:return n.tty?0:-We.ENOTTY;default:Kt("bad ioctl syscall "+r)}}catch(Xt){return"undefined"!==typeof Je&&Xt instanceof Je.ErrnoError||Kt(Xt),-Xt.errno}}function ot(e,t){Qe.varargs=t;try{var n=Qe.getStreamFromFD();return Je.close(n),0}catch(Xt){return"undefined"!==typeof Je&&Xt instanceof Je.ErrnoError||Kt(Xt),-Xt.errno}}function st(e,t){Qe.varargs=t;try{var n=Qe.get(),r=Qe.get(),i=Qe.mappings[n];if(!i)return 0;if(r===i.len){var a=Je.getStream(i.fd);Qe.doMsync(n,a,r,i.flags),Je.munmap(a),Qe.mappings[n]=null,i.allocated&&Lt(i.malloc)}return 0}catch(Xt){return"undefined"!==typeof Je&&Xt instanceof Je.ErrnoError||Kt(Xt),-Xt.errno}}function ut(){}function ct(){a.abort()}function lt(e){a.exit(e)}function ft(e){lt(e)}var dt=U+=16;function ht(e){var t,n;ht.called?(n=L[dt>>2],t=L[n>>2]):(ht.called=!0,pt.USER=pt.LOGNAME="web_user",pt.PATH="/",pt.PWD="/",pt.HOME="/home/web_user",pt.LANG="C.UTF-8",pt._=a.thisProgram,t=p(1024),n=p(256),L[n>>2]=t,L[dt>>2]=n);var r=[],i=0;for(var o in e)if("string"===typeof e[o]){var s=o+"="+e[o];r.push(s),i+=s.length}if(i>1024)throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");for(var u=0;u<r.length;u++){ye(s=r[u],t),L[n+4*u>>2]=t,t+=s.length+1}L[n+4*r.length>>2]=0}U+=16;var pt={};function mt(e){return 0===e?0:(e=E(e),pt.hasOwnProperty(e)?(mt.ret&&Lt(mt.ret),mt.ret=N(pt[e]),mt.ret):0)}function vt(){Kt("trap!")}function gt(e,t,n){return P.set(P.subarray(t,t+n),e),e}var bt={};function yt(e){return bt[e]||0}var wt=1;function xt(e,t){return 0==e?We.EINVAL:(L[e>>2]=wt,bt[wt]=0,wt++,0)}function Ot(e,t){Ot.seen||(Ot.seen={}),e in Ot.seen||(a.dynCall_v(t),Ot.seen[e]=1)}function kt(e,t){return e in bt?(bt[e]=t,0):We.EINVAL}if(Je.staticInit(),oe.unshift((function(){a.noFSInit||Je.init.initialized||Je.init()})),se.push((function(){Je.ignorePermissions=!1})),ue.push((function(){Je.quit()})),oe.unshift((function(){$e.init()})),ue.push((function(){$e.shutdown()})),f){var Et=n(380),_t=n(381);Ye.staticInit()}function St(e,t,n){var r=n>0?n:T(e)+1,i=new Array(r),a=C(e,i,0,i.length);return t&&(i.length=a),i}function jt(e,t,n,r){try{return a.dynCall_diii(e,t,n,r)}catch(Xt){if("number"!==typeof Xt&&"longjmp"!==Xt)throw Xt;a.setThrew(1,0)}}function Ct(e){try{return a.dynCall_i(e)}catch(Xt){if("number"!==typeof Xt&&"longjmp"!==Xt)throw Xt;a.setThrew(1,0)}}function At(e,t){try{return a.dynCall_ii(e,t)}catch(Xt){if("number"!==typeof Xt&&"longjmp"!==Xt)throw Xt;a.setThrew(1,0)}}function Tt(e){try{a.dynCall_v(e)}catch(Xt){if("number"!==typeof Xt&&"longjmp"!==Xt)throw Xt;a.setThrew(1,0)}}function Nt(e,t){try{a.dynCall_vi(e,t)}catch(Xt){if("number"!==typeof Xt&&"longjmp"!==Xt)throw Xt;a.setThrew(1,0)}}function Rt(e,t,n){try{a.dynCall_vii(e,t,n)}catch(Xt){if("number"!==typeof Xt&&"longjmp"!==Xt)throw Xt;a.setThrew(1,0)}}function Mt(e,t,n,r){try{a.dynCall_viii(e,t,n,r)}catch(Xt){if("number"!==typeof Xt&&"longjmp"!==Xt)throw Xt;a.setThrew(1,0)}}function Dt(e,t,n,r,i){try{a.dynCall_viiii(e,t,n,r,i)}catch(Xt){if("number"!==typeof Xt&&"longjmp"!==Xt)throw Xt;a.setThrew(1,0)}}function It(e,t,n,r,i,o,s,u,c,l,f,d){try{a.dynCall_viiiiiidddii(e,t,n,r,i,o,s,u,c,l,f,d)}catch(Xt){if("number"!==typeof Xt&&"longjmp"!==Xt)throw Xt;a.setThrew(1,0)}}ht(pt),G=p(4),V=q=m(U),H=m(V+te),L[G>>2]=H,W=!0,a.wasmTableSize=104,a.wasmMaxTableSize=104,a.asmGlobalArg={},a.asmLibraryArg={abort:Kt,enlargeMemory:ee,getTotalMemory:re,abortOnCannotGrowMemory:Q,invoke_diii:jt,invoke_i:Ct,invoke_ii:At,invoke_v:Tt,invoke_vi:Nt,invoke_vii:Rt,invoke_viii:Mt,invoke_viiii:Dt,invoke_viiiiiidddii:It,___cxa_allocate_exception:Ae,___cxa_begin_catch:Re,___cxa_end_catch:De,___cxa_find_matching_catch_2:Ie,___cxa_find_matching_catch_3:Fe,___cxa_pure_virtual:Pe,___cxa_throw:Be,___lock:Ue,___map_file:qe,___resumeException:ze,___setErrNo:Ve,___syscall140:et,___syscall145:tt,___syscall146:nt,___syscall221:rt,___syscall5:it,___syscall54:at,___syscall6:ot,___syscall91:st,___unlock:ut,_abort:ct,_emscripten_memcpy_big:gt,_exit:ft,_getenv:mt,_llvm_trap:vt,_pthread_getspecific:yt,_pthread_key_create:xt,_pthread_once:Ot,_pthread_setspecific:kt,DYNAMICTOP_PTR:G,STACKTOP:q};var Ft=a.asm(a.asmGlobalArg,a.asmLibraryArg,I);a.asm=Ft;a.___cxa_can_catch=function(){return a.asm.___cxa_can_catch.apply(null,arguments)},a.___cxa_is_pointer_type=function(){return a.asm.___cxa_is_pointer_type.apply(null,arguments)},a.___errno_location=function(){return a.asm.___errno_location.apply(null,arguments)},a._add_instance=function(){return a.asm._add_instance.apply(null,arguments)},a._create_svm_nodes=function(){return a.asm._create_svm_nodes.apply(null,arguments)},a._deserialize_model=function(){return a.asm._deserialize_model.apply(null,arguments)};var Pt,zt=a._emscripten_replace_memory=function(){return a.asm._emscripten_replace_memory.apply(null,arguments)},Lt=a._free=function(){return a.asm._free.apply(null,arguments)},Bt=(a._free_problem=function(){return a.asm._free_problem.apply(null,arguments)},a._get_svr_epsilon=function(){return a.asm._get_svr_epsilon.apply(null,arguments)},a._libsvm_cross_validation=function(){return a.asm._libsvm_cross_validation.apply(null,arguments)},a._libsvm_predict_one=function(){return a.asm._libsvm_predict_one.apply(null,arguments)},a._libsvm_predict_one_probability=function(){return a.asm._libsvm_predict_one_probability.apply(null,arguments)},a._libsvm_train=function(){return a.asm._libsvm_train.apply(null,arguments)},a._libsvm_train_problem=function(){return a.asm._libsvm_train_problem.apply(null,arguments)},a._malloc=function(){return a.asm._malloc.apply(null,arguments)}),Ut=(a._parse_command_line=function(){return a.asm._parse_command_line.apply(null,arguments)},a._serialize_model=function(){return a.asm._serialize_model.apply(null,arguments)},a._svm_free_model=function(){return a.asm._svm_free_model.apply(null,arguments)},a._svm_get_labels=function(){return a.asm._svm_get_labels.apply(null,arguments)},a._svm_get_nr_class=function(){return a.asm._svm_get_nr_class.apply(null,arguments)},a._svm_get_nr_sv=function(){return a.asm._svm_get_nr_sv.apply(null,arguments)},a._svm_get_sv_indices=function(){return a.asm._svm_get_sv_indices.apply(null,arguments)},a._svm_get_svm_type=function(){return a.asm._svm_get_svm_type.apply(null,arguments)},a._svm_get_svr_probability=function(){return a.asm._svm_get_svr_probability.apply(null,arguments)},a.setTempRet0=function(){return a.asm.setTempRet0.apply(null,arguments)}),Wt=(a.setThrew=function(){return a.asm.setThrew.apply(null,arguments)},a.stackAlloc=function(){return a.asm.stackAlloc.apply(null,arguments)}),Vt=a.stackRestore=function(){return a.asm.stackRestore.apply(null,arguments)},qt=a.stackSave=function(){return a.asm.stackSave.apply(null,arguments)};a.dynCall_diii=function(){return a.asm.dynCall_diii.apply(null,arguments)},a.dynCall_i=function(){return a.asm.dynCall_i.apply(null,arguments)},a.dynCall_ii=function(){return a.asm.dynCall_ii.apply(null,arguments)},a.dynCall_v=function(){return a.asm.dynCall_v.apply(null,arguments)},a.dynCall_vi=function(){return a.asm.dynCall_vi.apply(null,arguments)},a.dynCall_vii=function(){return a.asm.dynCall_vii.apply(null,arguments)},a.dynCall_viii=function(){return a.asm.dynCall_viii.apply(null,arguments)},a.dynCall_viiii=function(){return a.asm.dynCall_viiii.apply(null,arguments)},a.dynCall_viiiiiidddii=function(){return a.asm.dynCall_viiiiiidddii.apply(null,arguments)};function Ht(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Gt(e){function t(){a.calledRun||(a.calledRun=!0,g||(de(),he(),a.onRuntimeInitialized&&a.onRuntimeInitialized(),me()))}e=e||a.arguments,we>0||(fe(),we>0||a.calledRun||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t()))}function $t(e,t){t&&a.noExitRuntime&&0===e||(a.noExitRuntime||(g=!0,e,q=Pt,pe(),a.onExit&&a.onExit(e)),f&&r.exit(e),a.quit(e,new Ht(e)))}function Kt(e){throw a.onAbort&&a.onAbort(e),void 0!==e?(a.print(e),a.printErr(e),e=JSON.stringify(e)):e="",g=!0,1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(a.asm=Ft,a.cwrap=k,a.Pointer_stringify=E,a.then=function(e){if(a.calledRun)e(a);else{var t=a.onRuntimeInitialized;a.onRuntimeInitialized=function(){t&&t(),e(a)}}return a},Ht.prototype=new Error,Ht.prototype.constructor=Ht,Oe=function e(){a.calledRun||Gt(),a.calledRun||(Oe=e)},a.run=Gt,a.exit=$t,a.abort=Kt,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return a.noExitRuntime=!0,Gt(),e};e.exports=o,e.exports=o(a)}).call(this,"/",n(60),n(34).Buffer)},function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(123),t.createHash=t.Hash=n(156),t.createHmac=t.Hmac=n(389);var r=n(561),i=Object.keys(r),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return a};var o=n(392);t.pbkdf2=o.pbkdf2,t.pbkdf2Sync=o.pbkdf2Sync;var s=n(563);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var u=n(578);t.DiffieHellmanGroup=u.DiffieHellmanGroup,t.createDiffieHellmanGroup=u.createDiffieHellmanGroup,t.getDiffieHellman=u.getDiffieHellman,t.createDiffieHellman=u.createDiffieHellman,t.DiffieHellman=u.DiffieHellman;var c=n(583);t.createSign=c.createSign,t.Sign=c.Sign,t.createVerify=c.createVerify,t.Verify=c.Verify,t.createECDH=n(617);var l=n(618);t.publicEncrypt=l.publicEncrypt,t.privateEncrypt=l.privateEncrypt,t.publicDecrypt=l.publicDecrypt,t.privateDecrypt=l.privateDecrypt;var f=n(621);t.randomFill=f.randomFill,t.randomFillSync=f.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},,function(e,t,n){"use strict";var r=n(24).Buffer,i=n(549);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,a=r.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=a,i=s,t.copy(n,i),s+=o.data.length,o=o.next;return a},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},,function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(42))},function(e,t,n){"use strict";e.exports=a;var r=n(386),i=Object.create(n(157));function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}i.inherits=n(23),i.inherits(a,r),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(272)},function(e,t,n){e.exports=n(106)},function(e,t,n){e.exports=n(271).Transform},function(e,t,n){e.exports=n(271).PassThrough},function(e,t,n){var r=n(23),i=n(124),a=n(24).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e){return e<<30|e>>>2}function l(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,u=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=n[f-3]^n[f-8]^n[f-14]^n[f-16];for(var d=0;d<80;++d){var h=~~(d/20),p=0|((t=r)<<5|t>>>27)+l(h,i,a,s)+u+n[d]+o[h];u=s,s=a,a=c(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},function(e,t,n){var r=n(23),i=n(124),a=n(24).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function f(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,u=0|this._e,d=0;d<16;++d)n[d]=e.readInt32BE(4*d);for(;d<80;++d)n[d]=(t=n[d-3]^n[d-8]^n[d-14]^n[d-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),m=c(r)+f(p,i,a,s)+u+n[h]+o[p]|0;u=s,s=a,a=l(i),i=r,r=m}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},function(e,t,n){var r=n(23),i=n(387),a=n(124),o=n(24).Buffer,s=new Array(64);function u(){this.init(),this._w=s,a.call(this,64,56)}r(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=o.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},function(e,t,n){var r=n(23),i=n(388),a=n(124),o=n(24).Buffer,s=new Array(160);function u(){this.init(),this._w=s,a.call(this,128,112)}r(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=o.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},function(e,t,n){"use strict";var r=n(23),i=n(24).Buffer,a=n(90),o=i.alloc(128);function s(e,t){a.call(this,"digest"),"string"===typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=i.concat([t,o],64));for(var n=this._ipad=i.allocUnsafe(64),r=this._opad=i.allocUnsafe(64),s=0;s<64;s++)n[s]=54^t[s],r[s]=92^t[s];this._hash=[n]}r(s,a),s.prototype._update=function(e){this._hash.push(e)},s.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=s},function(e,t,n){e.exports=n(391)},function(e,t,n){(function(t,r){var i,a=n(393),o=n(394),s=n(395),u=n(24).Buffer,c=t.crypto&&t.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(e,t,n,r,i){return c.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return c.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:i}},e,r<<3)})).then((function(e){return u.from(e)}))}e.exports=function(e,n,h,p,m,v){"function"===typeof m&&(v=m,m=void 0);var g=l[(m=m||"sha1").toLowerCase()];if(!g||"function"!==typeof t.Promise)return r.nextTick((function(){var t;try{t=s(e,n,h,p,m)}catch(r){return v(r)}v(null,t)}));if(a(e,n,h,p),"function"!==typeof v)throw new Error("No callback provided to pbkdf2");u.isBuffer(e)||(e=u.from(e,o)),u.isBuffer(n)||(n=u.from(n,o)),function(e,t){e.then((function(e){r.nextTick((function(){t(null,e)}))}),(function(e){r.nextTick((function(){t(e)}))}))}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==f[e])return f[e];var n=d(i=i||u.alloc(8),i,10,128,e).then((function(){return!0})).catch((function(){return!1}));return f[e]=n,n}(g).then((function(t){return t?d(e,n,h,p,g):s(e,n,h,p,m)})),v)}}).call(this,n(42),n(60))},function(e,t,n){var r=n(564),i=n(277),a=n(278),o=n(577),s=n(199);function u(e,t,n){if(e=e.toLowerCase(),a[e])return i.createCipheriv(e,t,n);if(o[e])return new r({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function c(e,t,n){if(e=e.toLowerCase(),a[e])return i.createDecipheriv(e,t,n);if(o[e])return new r({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var n,r;if(e=e.toLowerCase(),a[e])n=a[e].key,r=a[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");n=8*o[e].key,r=o[e].iv}var i=s(t,!1,n,r);return u(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=u,t.createDecipher=t.Decipher=function(e,t){var n,r;if(e=e.toLowerCase(),a[e])n=a[e].key,r=a[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");n=8*o[e].key,r=o[e].iv}var i=s(t,!1,n,r);return c(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=c,t.listCiphers=t.getCiphers=function(){return Object.keys(o).concat(i.getCiphers())}},function(e,t,n){var r=n(90),i=n(565),a=n(23),o=n(24).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(e){r.call(this);var t,n=e.mode.toLowerCase(),i=s[n];t=e.decrypt?"decrypt":"encrypt";var a=e.key;o.isBuffer(a)||(a=o.from(a)),"des-ede"!==n&&"des-ede-cbc"!==n||(a=o.concat([a,a.slice(0,8)]));var u=e.iv;o.isBuffer(u)||(u=o.from(u)),this._des=i.create({key:a,iv:u,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=u,a(u,r),u.prototype._update=function(e){return o.from(this._des.update(e))},u.prototype._final=function(){return o.from(this._des.final())}},function(e,t,n){"use strict";t.utils=n(396),t.Cipher=n(276),t.DES=n(397),t.CBC=n(566),t.EDE=n(567)},function(e,t,n){"use strict";var r=n(61),i=n(23),a={};function o(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var n=Object.keys(a),r=0;r<n.length;r++){var o=n[r];t.prototype[o]=a[o]}return t.create=function(e){return new t(e)},t},a._cbcInit=function(){var e=new o(this.options.iv);this._cbcState=e},a._update=function(e,t,n,r){var i=this._cbcState,a=this.constructor.super_.prototype,o=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)o[s]^=e[t+s];a._update.call(this,o,0,n,r);for(s=0;s<this.blockSize;s++)o[s]=n[r+s]}else{a._update.call(this,e,t,n,r);for(s=0;s<this.blockSize;s++)n[r+s]^=o[s];for(s=0;s<this.blockSize;s++)o[s]=e[t+s]}}},function(e,t,n){"use strict";var r=n(61),i=n(23),a=n(276),o=n(397);function s(e,t){r.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),i=t.slice(8,16),a=t.slice(16,24);this.ciphers="encrypt"===e?[o.create({type:"encrypt",key:n}),o.create({type:"decrypt",key:i}),o.create({type:"encrypt",key:a})]:[o.create({type:"decrypt",key:a}),o.create({type:"encrypt",key:i}),o.create({type:"decrypt",key:n})]}function u(e){a.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}i(u,a),e.exports=u,u.create=function(e){return new u(e)},u.prototype._update=function(e,t,n,r){var i=this._edeState;i.ciphers[0]._update(e,t,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},u.prototype._pad=o.prototype._pad,u.prototype._unpad=o.prototype._unpad},function(e,t,n){var r=n(278),i=n(401),a=n(24).Buffer,o=n(402),s=n(90),u=n(198),c=n(199);function l(e,t,n){s.call(this),this._cache=new d,this._cipher=new u.AES(t),this._prev=a.from(n),this._mode=e,this._autopadding=!0}n(23)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return a.concat(r)};var f=a.alloc(16,16);function d(){this.cache=a.allocUnsafe(0)}function h(e,t,n){var s=r[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof t&&(t=a.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"===typeof n&&(n=a.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new o(s.module,t,n):"auth"===s.type?new i(s.module,t,n):new l(s.module,t,n)}l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=a.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=a.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return a.concat([this.cache,t])},t.createCipheriv=h,t.createCipher=function(e,t){var n=r[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=c(t,!1,n.key,n.iv);return h(e,i.key,i.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){var r=n(158);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},function(e,t,n){var r=n(24).Buffer,i=n(158);function a(e,t,n){var a=t.length,o=i(t,e._cache);return e._cache=e._cache.slice(a),e._prev=r.concat([e._prev,n?t:o]),o}t.encrypt=function(e,t,n){for(var i,o=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){o=r.concat([o,a(e,t,n)]);break}i=e._cache.length,o=r.concat([o,a(e,t.slice(0,i),n)]),t=t.slice(i)}return o}},function(e,t,n){var r=n(24).Buffer;function i(e,t,n){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([n?t:i])]),i}t.encrypt=function(e,t,n){for(var a=t.length,o=r.allocUnsafe(a),s=-1;++s<a;)o[s]=i(e,t[s],n);return o}},function(e,t,n){var r=n(24).Buffer;function i(e,t,n){for(var r,i,o=-1,s=0;++o<8;)r=t&1<<7-o?128:0,s+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^r))>>o%8,e._prev=a(e._prev,n?r:i);return s}function a(e,t){var n=e.length,i=-1,a=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++i<n;)a[i]=e[i]<<1|e[i+1]>>7;return a}t.encrypt=function(e,t,n){for(var a=t.length,o=r.allocUnsafe(a),s=-1;++s<a;)o[s]=i(e,t[s],n);return o}},function(e,t,n){(function(e){var r=n(158);function i(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,i(t)]);var a=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),r(n,a)}}).call(this,n(34).Buffer)},function(e,t,n){var r=n(24).Buffer,i=r.alloc(16,0);function a(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function o(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}o.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},o.prototype._multiply=function(){for(var e,t,n,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],o=-1;++o<128;){for(0!==(this.state[~~(o/8)]&1<<7-o%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!==(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=a(i)},o.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},o.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(a([0,e,0,t])),this.state},e.exports=o},function(e,t,n){var r=n(401),i=n(24).Buffer,a=n(278),o=n(402),s=n(90),u=n(198),c=n(199);function l(e,t,n){s.call(this),this._cache=new f,this._last=void 0,this._cipher=new u.AES(t),this._prev=i.from(n),this._mode=e,this._autopadding=!0}function f(){this.cache=i.allocUnsafe(0)}function d(e,t,n){var s=a[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof n&&(n=i.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"===typeof t&&(t=i.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new o(s.module,t,n,!0):"auth"===s.type?new r(s.module,t,n,!0):new l(s.module,t,n)}n(23)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return i.concat(r)},l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=i.concat([this.cache,e])},f.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=a[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=c(t,!1,n.key,n.iv);return d(e,r.key,r.iv)},t.createDecipheriv=d},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,n){(function(e){var r=n(403),i=n(581),a=n(582);var o={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var n=new e(i[t].prime,"hex"),r=new e(i[t].gen,"hex");return new a(n,r)},t.createDiffieHellman=t.DiffieHellman=function t(n,i,s,u){return e.isBuffer(i)||void 0===o[i]?t(n,"binary",i,s):(i=i||"binary",u=u||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,u)),"number"===typeof n?new a(r(n,s),s,!0):(e.isBuffer(n)||(n=new e(n,i)),new a(n,s,!0)))}}).call(this,n(34).Buffer)},,,function(e){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(e,t,n){(function(t){var r=n(36),i=new(n(404)),a=new r(24),o=new r(11),s=new r(10),u=new r(3),c=new r(7),l=n(403),f=n(123);function d(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new r(e),this}function h(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new r(e),this}e.exports=m;var p={};function m(e,t,n){this.setGenerator(t),this.__prime=new r(e),this._prime=r.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=d,this.setPrivateKey=h):this._primeCode=8}function v(e,n){var r=new t(e.toArray());return n?r.toString(n):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!==typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),r=[n,e.toString(16)].join("_");if(r in p)return p[r];var f,d=0;if(e.isEven()||!l.simpleSieve||!l.fermatTest(e)||!i.test(e))return d+=1,d+="02"===n||"05"===n?8:4,p[r]=d,d;switch(i.test(e.shrn(1))||(d+=2),n){case"02":e.mod(a).cmp(o)&&(d+=8);break;case"05":(f=e.mod(s)).cmp(u)&&f.cmp(c)&&(d+=8);break;default:d+=4}return p[r]=d,d}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new r(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var n=(e=(e=new r(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new t(n.toArray()),a=this.getPrime();if(i.length<a.length){var o=new t(a.length-i.length);o.fill(0),i=t.concat([o,i])}return i},m.prototype.getPublicKey=function(e){return v(this._pub,e)},m.prototype.getPrivateKey=function(e){return v(this._priv,e)},m.prototype.getPrime=function(e){return v(this.__prime,e)},m.prototype.getGenerator=function(e){return v(this._gen,e)},m.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new r(e),this}}).call(this,n(34).Buffer)},function(e,t,n){(function(t){var r=n(156),i=n(269),a=n(23),o=n(584),s=n(616),u=n(391);function c(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function l(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){return new c(e)}function d(e){return new l(e)}Object.keys(u).forEach((function(e){u[e].id=new t(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),a(c,i.Writable),c.prototype._write=function(e,t,n){this._hash.update(e),n()},c.prototype.update=function(e,n){return"string"===typeof e&&(e=new t(e,n)),this._hash.update(e),this},c.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=o(n,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},a(l,i.Writable),l.prototype._write=function(e,t,n){this._hash.update(e),n()},l.prototype.update=function(e,n){return"string"===typeof e&&(e=new t(e,n)),this._hash.update(e),this},l.prototype.verify=function(e,n,r){"string"===typeof n&&(n=new t(n,r)),this.end();var i=this._hash.digest();return s(n,i,e,this._signType,this._tag)},e.exports={Sign:f,Verify:d,createSign:f,createVerify:d}}).call(this,n(34).Buffer)},function(e,t,n){(function(t){var r=n(389),i=n(280),a=n(281).ec,o=n(36),s=n(201),u=n(414);function c(e,n,i,a){if((e=new t(e.toArray())).length<n.byteLength()){var o=new t(n.byteLength()-e.length);o.fill(0),e=t.concat([o,e])}var s=i.length,u=function(e,n){e=(e=l(e,n)).mod(n);var r=new t(e.toArray());if(r.length<n.byteLength()){var i=new t(n.byteLength()-r.length);i.fill(0),r=t.concat([i,r])}return r}(i,n),c=new t(s);c.fill(1);var f=new t(s);return f.fill(0),f=r(a,f).update(c).update(new t([0])).update(e).update(u).digest(),c=r(a,f).update(c).digest(),{k:f=r(a,f).update(c).update(new t([1])).update(e).update(u).digest(),v:c=r(a,f).update(c).digest()}}function l(e,t){var n=new o(e),r=(e.length<<3)-t.bitLength();return r>0&&n.ishrn(r),n}function f(e,n,i){var a,o;do{for(a=new t(0);8*a.length<e.bitLength();)n.v=r(i,n.k).update(n.v).digest(),a=t.concat([a,n.v]);o=l(a,e),n.k=r(i,n.k).update(n.v).update(new t([0])).digest(),n.v=r(i,n.k).update(n.v).digest()}while(-1!==o.cmp(e));return o}function d(e,t,n,r){return e.toRed(o.mont(n)).redPow(t).fromRed().mod(r)}e.exports=function(e,n,r,h,p){var m=s(n);if(m.curve){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");return function(e,n){var r=u[n.curve.join(".")];if(!r)throw new Error("unknown curve "+n.curve.join("."));var i=new a(r).keyFromPrivate(n.privateKey).sign(e);return new t(i.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==h)throw new Error("wrong private key type");return function(e,n,r){var i,a=n.params.priv_key,s=n.params.p,u=n.params.q,h=n.params.g,p=new o(0),m=l(e,u).mod(u),v=!1,g=c(a,u,e,r);for(;!1===v;)i=f(u,g,r),p=d(h,i,s,u),0===(v=i.invm(u).imul(m.add(a.mul(p))).mod(u)).cmpn(0)&&(v=!1,p=new o(0));return function(e,n){e=e.toArray(),n=n.toArray(),128&e[0]&&(e=[0].concat(e));128&n[0]&&(n=[0].concat(n));var r=[48,e.length+n.length+4,2,e.length];return r=r.concat(e,[2,n.length],n),new t(r)}(p,v)}(e,m,r)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");e=t.concat([p,e]);for(var v=m.modulus.byteLength(),g=[0,1];e.length+g.length+1<v;)g.push(255);g.push(0);for(var b=-1;++b<e.length;)g.push(e[b]);return i(g,m)},e.exports.getKey=c,e.exports.makeKey=f}).call(this,n(34).Buffer)},function(e){e.exports=JSON.parse('{"_args":[["elliptic@6.5.2","f:\\\\pvlc\\\\c\\\\Repos\\\\Batch-A-Miner"]],"_from":"elliptic@6.5.2","_id":"elliptic@6.5.2","_inBundle":false,"_integrity":"sha512-f4x70okzZbIQl/NSRLkI/+tteV/9WqL98zx+SQ69KbXxmVrmjwsNUPn/gYJJ0sHvEak24cZgHIPegRePAtA/xw==","_location":"/elliptic","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"elliptic@6.5.2","name":"elliptic","escapedName":"elliptic","rawSpec":"6.5.2","saveSpec":null,"fetchSpec":"6.5.2"},"_requiredBy":["/browserify-sign","/create-ecdh"],"_resolved":"https://registry.npmjs.org/elliptic/-/elliptic-6.5.2.tgz","_spec":"6.5.2","_where":"f:\\\\pvlc\\\\c\\\\Repos\\\\Batch-A-Miner","author":{"name":"Fedor Indutny","email":"fedor@indutny.com"},"bugs":{"url":"https://github.com/indutny/elliptic/issues"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},"description":"EC cryptography","devDependencies":{"brfs":"^1.4.3","coveralls":"^3.0.8","grunt":"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.2","jscs":"^3.0.7","jshint":"^2.10.3","mocha":"^6.2.2"},"files":["lib"],"homepage":"https://github.com/indutny/elliptic","keywords":["EC","Elliptic","curve","Cryptography"],"license":"MIT","main":"lib/elliptic.js","name":"elliptic","repository":{"type":"git","url":"git+ssh://git@github.com/indutny/elliptic.git"},"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","test":"npm run lint && npm run unit","unit":"istanbul test _mocha --reporter=spec test/index.js","version":"grunt dist && git add dist/"},"version":"6.5.2"}')},function(e,t,n){"use strict";var r=n(62),i=n(36),a=n(23),o=n(200),s=r.assert;function u(e){o.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,n,r){o.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,n,r){o.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(u,o),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new i(e.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))?n=a[0]:(n=a[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(n)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),n=new i(2).toRed(t).redInvm(),r=n.redNeg(),a=new i(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(a).fromRed(),r.redSub(a).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,n,r,a,o,s,u,c,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),p=new i(1),m=new i(0),v=new i(0),g=new i(1),b=0;0!==d.cmpn(0);){var y=h.div(d);c=h.sub(y.mul(d)),l=v.sub(y.mul(p));var w=g.sub(y.mul(m));if(!r&&c.cmp(f)<0)t=u.neg(),n=p,r=c.neg(),a=l;else if(r&&2===++b)break;u=c,h=d,d=c,v=p,p=l,g=m,m=w}o=c.neg(),s=l;var x=r.sqr().add(a.sqr());return o.sqr().add(s.sqr()).cmp(x)>=0&&(o=t,s=n),r.negative&&(r=r.neg(),a=a.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:r,b:a},{a:o,b:s}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=i.mul(n.a),s=a.mul(r.a),u=i.mul(n.b),c=a.mul(r.b);return{k1:e.sub(o).sub(s),k2:u.add(c).neg()}},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var a=r.fromRed().isOdd();return(t&&!a||!t&&a)&&(r=r.redNeg()),this.point(e,r)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],u=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),r[2*a]=s,r[2*a+1]=u,i[2*a]=o.k1,i[2*a+1]=o.k2}for(var c=this._wnafMulAdd(1,r,i,2*a,n),l=0;l<2*a;l++)r[l]=null,i[l]=null;return c},a(c,o.BasePoint),u.prototype.point=function(e,t,n){return new c(this,e,t,n)},u.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,n){"string"===typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var a=t[2];return r.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[r].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[r].concat(a.naf.points.map(i))}},r},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},c.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(l,o.BasePoint),u.prototype.jpoint=function(e,t,n){return new l(this,e,t,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),s=r.redSub(i),u=a.redSub(o);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),f=r.redMul(c),d=u.redSqr().redIAdd(l).redISub(f).redISub(f),h=u.redMul(f.redISub(d)).redISub(a.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,h,p)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),o=n.redSub(r),s=i.redSub(a);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=n.redMul(u),f=s.redSqr().redIAdd(c).redISub(l).redISub(l),d=s.redMul(l.redISub(f)).redISub(i.redMul(c)),h=this.z.redMul(o);return this.curve.jpoint(f,d,h)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}var r=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,s=this.z,u=s.redSqr().redSqr(),c=o.redAdd(o);for(n=0;n<e;n++){var l=a.redSqr(),f=c.redSqr(),d=f.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(u)),p=a.redMul(f),m=h.redSqr().redISub(p.redAdd(p)),v=p.redISub(m),g=h.redMul(v);g=g.redIAdd(g).redISub(d);var b=c.redMul(s);n+1<e&&(u=u.redMul(d)),a=m,s=b,c=g}return this.curve.jpoint(a,c.redMul(i),s)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(r).redISub(a);o=o.redIAdd(o);var s=r.redAdd(r).redIAdd(r),u=s.redSqr().redISub(o).redISub(o),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=s.redMul(o.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(l).redISub(d);h=h.redIAdd(h);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),v=d.redIAdd(d);v=(v=v.redIAdd(v)).redIAdd(v),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(v),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},l.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(r).redISub(a);o=o.redIAdd(o);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=s.redSqr().redISub(o).redISub(o);e=u;var c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(o.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var v=f.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),t=h.redMul(p.redISub(e)).redISub(v)}return this.curve.jpoint(e,t,n)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),a=t.redSqr(),o=n.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(o),l=s.redSqr().redISub(c.redAdd(c)),f=c.redISub(l),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=s.redMul(f).redISub(d),p=n.redAdd(n).redMul(r);return this.curve.jpoint(l,h,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(r),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),u=r.redIAdd(r);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(o).redSqr().redISub(n).redISub(s);return this.curve.jpoint(f,d,h)},l.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,n){"use strict";var r=n(36),i=n(23),a=n(200),o=n(62);function s(e){a.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,n){a.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,a),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},i(u,a.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},s.prototype.point=function(e,t){return new u(this,e,t)},s.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(n),o=i.redMul(r),s=t.z.redMul(a.redAdd(o).redSqr()),u=t.x.redMul(a.redISub(o).redSqr());return this.curve.point(s,u)},u.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var a=i.length-1;a>=0;a--)0===i[a]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,n){"use strict";var r=n(62),i=n(36),a=n(23),o=n(200),s=r.assert;function u(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function c(e,t,n,r,a){o.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=a&&new i(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(u,o),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=r.redMul(a.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var u=s.fromRed().isOdd();return(t&&!u||!t&&u)&&(s=s.redNeg()),this.point(e,s)},u.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=r.redMul(a.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},a(c,o.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,n,r){return new c(this,e,t,n,r)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=r.redAdd(t),o=a.redSub(n),s=r.redSub(t),u=i.redMul(o),c=a.redMul(s),l=i.redMul(s),f=o.redMul(a);return this.curve.point(u,c,f,l)},c.prototype._projDbl=function(){var e,t,n,r=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var o=(c=this.curve._mulA(i)).redAdd(a);if(this.zOne)e=r.redSub(i).redSub(a).redMul(o.redSub(this.curve.two)),t=o.redMul(c.redSub(a)),n=o.redSqr().redSub(o).redSub(o);else{var s=this.z.redSqr(),u=o.redSub(s).redISub(s);e=r.redSub(i).redISub(a).redMul(u),t=o.redMul(c.redSub(a)),n=o.redMul(u)}}else{var c=i.redAdd(a);s=this.curve._mulC(this.z).redSqr(),u=c.redSub(s).redSub(s);e=this.curve._mulC(r.redISub(c)).redMul(u),t=this.curve._mulC(c).redMul(i.redISub(a)),n=c.redMul(u)}return this.curve.point(e,t,n)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(t),o=i.redSub(r),s=i.redAdd(r),u=n.redAdd(t),c=a.redMul(o),l=s.redMul(u),f=a.redMul(u),d=o.redMul(s);return this.curve.point(c,l,d,f)},c.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),a=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(a).redMul(o),u=i.redSub(s),c=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(o),f=r.redMul(u).redMul(l);return this.curve.twisted?(t=r.redMul(c).redMul(o.redSub(this.curve._mulA(a))),n=u.redMul(c)):(t=r.redMul(c).redMul(o.redSub(a)),n=this.curve._mulC(u).redMul(c)),this.curve.point(f,t,n)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},c.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},function(e,t,n){"use strict";t.sha1=n(590),t.sha224=n(591),t.sha256=n(408),t.sha384=n(592),t.sha512=n(409)},function(e,t,n){"use strict";var r=n(70),i=n(159),a=n(407),o=r.rotl32,s=r.sum32,u=r.sum32_5,c=a.ft_1,l=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(d,l),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=o(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],a=this.h[1],l=this.h[2],d=this.h[3],h=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),m=u(o(i,5),c(p,a,l,d),h,n[r],f[p]);h=d,d=l,l=o(a,30),a=i,i=m}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],l),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],h)},d.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(70),i=n(408);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(a,i),e.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";var r=n(70),i=n(409);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(a,i),e.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";var r=n(70),i=n(159),a=r.rotl32,o=r.sum32,s=r.sum32_3,u=r.sum32_4,c=i.BlockHash;function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(l,c),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],c=this.h[3],l=this.h[4],b=n,y=r,w=i,x=c,O=l,k=0;k<80;k++){var E=o(a(u(n,f(k,r,i,c),e[p[k]+t],d(k)),v[k]),l);n=l,l=c,c=a(i,10),i=r,r=E,E=o(a(u(b,f(79-k,y,w,x),e[m[k]+t],h(k)),g[k]),O),b=O,O=x,x=a(w,10),w=y,y=E}E=s(this.h[1],i,x),this.h[1]=s(this.h[2],c,O),this.h[2]=s(this.h[3],l,b),this.h[3]=s(this.h[4],n,y),this.h[4]=s(this.h[0],r,w),this.h[0]=E},l.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";var r=n(70),i=n(61);function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,n){"use strict";var r=n(36),i=n(597),a=n(62),o=n(282),s=n(279),u=a.assert,c=n(598),l=n(599);function f(e){if(!(this instanceof f))return new f(e);"string"===typeof e&&(u(o.hasOwnProperty(e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=f,f.prototype.keyPair=function(e){return new c(this,e)},f.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},f.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},f.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),a=this.n.sub(new r(2));;){var o=new r(t.generate(n));if(!(o.cmp(a)>0))return o.iaddn(1),this.keyFromPrivate(o)}},f.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},f.prototype.sign=function(e,t,n,a){"object"===typeof n&&(a=n,n=null),a||(a={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new r(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),u=e.toArray("be",o),c=new i({hash:this.hash,entropy:s,nonce:u,pers:a.pers,persEnc:a.persEnc||"utf8"}),f=this.n.sub(new r(1)),d=0;;d++){var h=a.k?a.k(d):new r(c.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(f)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var m=p.getX(),v=m.umod(this.n);if(0!==v.cmpn(0)){var g=h.invm(this.n).mul(v.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==m.cmp(v)?2:0);return a.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),b^=1),new l({r:v,s:g,recoveryParam:b})}}}}}},f.prototype.verify=function(e,t,n,i){e=this._truncateToN(new r(e,16)),n=this.keyFromPublic(n,i);var a=(t=new l(t,"hex")).r,o=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,u=o.invm(this.n),c=u.mul(e).umod(this.n),f=u.mul(a).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,n.getPublic(),f)).isInfinity()&&s.eqXToP(a):!(s=this.g.mulAdd(c,n.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(a)},f.prototype.recoverPubKey=function(e,t,n,i){u((3&n)===n,"The recovery param is more than two bits"),t=new l(t,i);var a=this.n,o=new r(e),s=t.r,c=t.s,f=1&n,d=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),f):this.curve.pointFromX(s,f);var h=t.r.invm(a),p=a.sub(o).mul(h).umod(a),m=c.mul(h).umod(a);return this.g.mulAdd(p,s,m)},f.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new l(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(e,t,n){"use strict";var r=n(283),i=n(405),a=n(61);function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),r=i.toArray(e.pers,e.persEnc||"hex");a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=o,o.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,n,r){"string"!==typeof t&&(r=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,r),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},o.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var o=a.slice(0,e);return this._update(n),this._reseed++,i.encode(o,t)}},function(e,t,n){"use strict";var r=n(36),i=n(62).assert;function a(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=a,a.fromPublic=function(e,t,n){return t instanceof a?t:new a(e,{pub:t,pubEnc:n})},a.fromPrivate=function(e,t,n){return t instanceof a?t:new a(e,{priv:t,privEnc:n})},a.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},a.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},a.prototype.derive=function(e){return e.mul(this.priv).getX()},a.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},a.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,n){"use strict";var r=n(36),i=n(62),a=i.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(a(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function u(e,t){var n=e[t.place++];if(!(128&n))return n;for(var r=15&n,i=0,a=0,o=t.place;a<r;a++,o++)i<<=8,i|=e[o];return t.place=o,i}function c(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=o,o.prototype._importDER=function(e,t){e=i.toArray(e,t);var n=new s;if(48!==e[n.place++])return!1;if(u(e,n)+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var a=u(e,n),o=e.slice(n.place,a+n.place);if(n.place+=a,2!==e[n.place++])return!1;var c=u(e,n);if(e.length!==c+n.place)return!1;var l=e.slice(n.place,c+n.place);return 0===o[0]&&128&o[1]&&(o=o.slice(1)),0===l[0]&&128&l[1]&&(l=l.slice(1)),this.r=new r(o),this.s=new r(l),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=c(t),n=c(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var r=[2];l(r,t.length),(r=r.concat(t)).push(2),l(r,n.length);var a=r.concat(n),o=[48];return l(o,a.length),o=o.concat(a),i.encode(o,e)}},function(e,t,n){"use strict";var r=n(283),i=n(282),a=n(62),o=a.assert,s=a.parseBytes,u=n(601),c=n(602);function l(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=l,l.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),a=this.encodePoint(i),o=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),u=r.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:a})},l.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(a)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return a.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=a.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!==(128&e[t]),i=a.intFromLE(n);return this.curve.pointFromY(i,r)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return a.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,n){"use strict";var r=n(62),i=r.assert,a=r.parseBytes,o=r.cachedProperty;function s(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},o(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),o(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},s.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=s},function(e,t,n){"use strict";var r=n(36),i=n(62),a=i.assert,o=i.cachedProperty,s=i.parseBytes;function u(e,t){this.eddsa=e,"object"!==typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},function(e,t,n){"use strict";var r=n(160);t.certificate=n(613);var i=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=i;var a=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=a;var o=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));t.PublicKey=o;var s=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=u;var c=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=c;var l=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=l,t.DSAparam=r.define("DSAparam",(function(){this.int()}));var f=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=f;var d=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},function(e,t,n){var r=n(160),i=n(23);function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){var t;try{t=n(605).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(r){t=function(e){this._initNamed(e)}}return i(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r.decoders[e])),this.decoders[e]},a.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r.encoders[e])),this.encoders[e]},a.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},function(module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(e),(function(t){n[t]=e[t]})),forEach(globals,(function(t){e[t]&&(n[t]=e[t])}));var a=Object_keys(n),o=r.call(n,this.code);return forEach(Object_keys(n),(function(t){(t in e||-1===indexOf(a,t))&&(e[t]=n[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,n[t])})),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),(function(n){e[n]=t[n]})),n},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"===typeof e&&forEach(Object_keys(e),(function(n){t[n]=e[n]})),t}},function(e,t,n){var r=n(23);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function a(e,t){this.path=e,this.rethrow(t)}t.Reporter=i,i.prototype.isError=function(e){return e instanceof a},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,n){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},i.prototype.error=function(e){var t,n=this._reporterState,r=e instanceof a;if(t=r?e:new a(n.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(a,Error),a.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(e,t,n){var r=n(161).Reporter,i=n(161).EncoderBuffer,a=n(161).DecoderBuffer,o=n(61),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function c(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=c;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var e=this._baseState,t={};l.forEach((function(n){t[n]=e[n]}));var n=new this.constructor(t.parent);return n._baseState=t,n},c.prototype._wrap=function(){var e=this._baseState;u.forEach((function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}}),this)},c.prototype._init=function(e){var t=this._baseState;o(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),o.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){var t=this._baseState,n=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==n.length&&(o(null===t.children),t.children=n,n.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(o(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!==typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(n){n==(0|n)&&(n|=0);var r=e[n];t[r]=n})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){c.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),s.forEach((function(e){c.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return o(null===t.tag),t.tag=e,this._useArgs(n),this}})),c.prototype.use=function(e){o(e);var t=this._baseState;return o(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){var t=this._baseState;return o(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){var t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){var t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){var t=this._baseState;return o(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){var t=this._baseState;return o(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},c.prototype.contains=function(e){var t=this._baseState;return o(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var r,i=n.default,o=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){var u=null;if(null!==n.explicit?u=n.explicit:null!==n.implicit?u=n.implicit:null!==n.tag&&(u=n.tag),null!==u||n.any){if(o=this._peekTag(e,u,n.any),e.isError(o))return o}else{var c=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),o=!0}catch(p){o=!1}e.restore(c)}}if(n.obj&&o&&(r=e.enterObject()),o){if(null!==n.explicit){var l=this._decodeTag(e,n.explicit);if(e.isError(l))return l;e=l}var f=e.offset;if(null===n.use&&null===n.choice){if(n.any)c=e.save();var d=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(d))return d;n.any?i=e.raw(c):e=d}if(t&&t.track&&null!==n.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),i=n.any?i:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(e,t)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var h=new a(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(h,t)}}return n.obj&&o&&(i=e.leaveObject(r)),null===n.key||null===i&&!0!==o?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,i),i},c.prototype._decodeGeneric=function(e,t,n){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),o(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},c.prototype._decodeChoice=function(e,t){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some((function(a){var o=e.save(),s=n.choice[a];try{var u=s._decode(e,t);if(e.isError(u))return!1;r={type:a,value:u},i=!0}catch(c){return e.restore(o),!1}return!0}),this),i?r:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},c.prototype._encode=function(e,t,n){var r=this._baseState;if(null===r.default||r.default!==e){var i=this._encodeValue(e,t,n);if(void 0!==i&&!this._skipDefault(i,t,n))return i}},c.prototype._encodeValue=function(e,t,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new r);var a=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var o=null,s=!1;if(i.any)a=this._createEncoderBuffer(e);else if(i.choice)a=this._encodeChoice(e,t);else if(i.contains)o=this._getUse(i.contains,n)._encode(e,t),s=!0;else if(i.children)o=i.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var r=t.enterKey(n._baseState.key);if("object"!==typeof e)return t.error("Child expected, but input is not object");var i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),i}),this).filter((function(e){return e})),o=this._createEncoderBuffer(o);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,o=this._createEncoderBuffer(e.map((function(n){var r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)}),u))}else null!==i.use?a=this._getUse(i.use,n)._encode(e,t):(o=this._encodePrimitive(i.tag,e),s=!0);if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===c?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(a=this._encodeComposite(c,s,l,o))}return null!==i.explicit&&(a=this._encodeComposite(i.explicit,!1,"context",a)),a},c.prototype._encodeChoice=function(e,t){var n=this._baseState,r=n.choice[e.type];return r||o(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},function(e,t,n){var r=n(411);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r._reverse(t.tag)},function(e,t,n){var r=t;r.der=n(412),r.pem=n(610)},function(e,t,n){var r=n(23),i=n(34).Buffer,a=n(412);function o(e){a.call(this,e),this.enc="pem"}r(o,a),e.exports=o,o.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1,c=0;c<n.length;c++){var l=n[c].match(o);if(null!==l&&l[2]===r){if(-1!==s){if("END"!==l[1])break;u=c;break}if("BEGIN"!==l[1])break;s=c}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+r);var f=n.slice(s+1,u).join("");f.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new i(f,"base64");return a.prototype.decode.call(this,d,t)}},function(e,t,n){var r=t;r.der=n(413),r.pem=n(612)},function(e,t,n){var r=n(23),i=n(413);function a(e){i.call(this,e),this.enc="pem"}r(a,i),e.exports=a,a.prototype.encode=function(e,t){for(var n=i.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"],a=0;a<n.length;a+=64)r.push(n.slice(a,a+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},function(e,t,n){"use strict";var r=n(160),i=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),a=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),o=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())})),u=r.define("RelativeDistinguishedName",(function(){this.setof(a)})),c=r.define("RDNSequence",(function(){this.seqof(u)})),l=r.define("Name",(function(){this.choice({rdnSequence:this.use(c)})})),f=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),d=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),h=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(l),this.key("validity").use(f),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())}));e.exports=p},function(e){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(e,t,n){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,o=n(199),s=n(277),u=n(24).Buffer;e.exports=function(e,t){var n,c=e.toString(),l=c.match(r);if(l){var f="aes"+l[1],d=u.from(l[2],"hex"),h=u.from(l[3].replace(/[\r\n]/g,""),"base64"),p=o(t,d.slice(0,8),parseInt(l[1],10)).key,m=[],v=s.createDecipheriv(f,p,d);m.push(v.update(h)),m.push(v.final()),n=u.concat(m)}else{var g=c.match(a);n=new u(g[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:n}}},function(e,t,n){(function(t){var r=n(36),i=n(281).ec,a=n(201),o=n(414);function s(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,n,u,c,l){var f=a(u);if("ec"===f.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(e,t,n){var r=o[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var a=new i(r),s=n.data.subjectPrivateKey.data;return a.verify(t,e,s)}(e,n,f)}if("dsa"===f.type){if("dsa"!==c)throw new Error("wrong public key type");return function(e,t,n){var i=n.data.p,o=n.data.q,u=n.data.g,c=n.data.pub_key,l=a.signature.decode(e,"der"),f=l.s,d=l.r;s(f,o),s(d,o);var h=r.mont(i),p=f.invm(o);return 0===u.toRed(h).redPow(new r(t).mul(p).mod(o)).fromRed().mul(c.toRed(h).redPow(d.mul(p).mod(o)).fromRed()).mod(i).mod(o).cmp(d)}(e,n,f)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");n=t.concat([l,n]);for(var d=f.modulus.byteLength(),h=[1],p=0;n.length+h.length+2<d;)h.push(255),p++;h.push(0);for(var m=-1;++m<n.length;)h.push(n[m]);h=new t(h);var v=r.mont(f.modulus);e=(e=new r(e).toRed(v)).redPow(new r(f.publicExponent)),e=new t(e.fromRed().toArray());var g=p<8?1:0;for(d=Math.min(e.length,h.length),e.length!==h.length&&(g=1),m=-1;++m<d;)g|=e[m]^h[m];return 0===g}}).call(this,n(34).Buffer)},function(e,t,n){(function(t){var r=n(281),i=n(36);e.exports=function(e){return new o(e)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(e){this.curveType=a[e],this.curveType||(this.curveType={name:e}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function s(e,n,r){Array.isArray(e)||(e=e.toArray());var i=new t(e);if(r&&i.length<r){var a=new t(r-i.length);a.fill(0),i=t.concat([a,i])}return n?i.toString(n):i}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,o.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},o.prototype.computeSecret=function(e,n,r){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},o.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,e)},o.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},o.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},o.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var r=new i(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,n(34).Buffer)},function(e,t,n){t.publicEncrypt=n(619),t.privateDecrypt=n(620),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},function(e,t,n){var r=n(201),i=n(123),a=n(156),o=n(415),s=n(416),u=n(36),c=n(417),l=n(280),f=n(24).Buffer;e.exports=function(e,t,n){var d;d=e.padding?e.padding:n?1:4;var h,p=r(e);if(4===d)h=function(e,t){var n=e.modulus.byteLength(),r=t.length,c=a("sha1").update(f.alloc(0)).digest(),l=c.length,d=2*l;if(r>n-d-2)throw new Error("message too long");var h=f.alloc(n-r-d-2),p=n-l-1,m=i(l),v=s(f.concat([c,h,f.alloc(1,1),t],p),o(m,p)),g=s(m,o(v,l));return new u(f.concat([f.alloc(1),g,v],n))}(p,t);else if(1===d)h=function(e,t,n){var r,a=t.length,o=e.modulus.byteLength();if(a>o-11)throw new Error("message too long");r=n?f.alloc(o-a-3,255):function(e){var t,n=f.allocUnsafe(e),r=0,a=i(2*e),o=0;for(;r<e;)o===a.length&&(a=i(2*e),o=0),(t=a[o++])&&(n[r++]=t);return n}(o-a-3);return new u(f.concat([f.from([0,n?1:2]),r,f.alloc(1),t],o))}(p,t,n);else{if(3!==d)throw new Error("unknown padding");if((h=new u(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?l(h,p):c(h,p)}},function(e,t,n){var r=n(201),i=n(415),a=n(416),o=n(36),s=n(280),u=n(156),c=n(417),l=n(24).Buffer;e.exports=function(e,t,n){var f;f=e.padding?e.padding:n?1:4;var d,h=r(e),p=h.modulus.byteLength();if(t.length>p||new o(t).cmp(h.modulus)>=0)throw new Error("decryption error");d=n?c(new o(t),h):s(t,h);var m=l.alloc(p-d.length);if(d=l.concat([m,d],p),4===f)return function(e,t){var n=e.modulus.byteLength(),r=u("sha1").update(l.alloc(0)).digest(),o=r.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,o+1),c=t.slice(o+1),f=a(s,i(c,o)),d=a(c,i(f,n-o-1));if(function(e,t){e=l.from(e),t=l.from(t);var n=0,r=e.length;e.length!==t.length&&(n++,r=Math.min(e.length,t.length));var i=-1;for(;++i<r;)n+=e[i]^t[i];return n}(r,d.slice(0,o)))throw new Error("decryption error");var h=o;for(;0===d[h];)h++;if(1!==d[h++])throw new Error("decryption error");return d.slice(h)}(h,d);if(1===f)return function(e,t,n){var r=t.slice(0,2),i=2,a=0;for(;0!==t[i++];)if(i>=t.length){a++;break}var o=t.slice(2,i-1);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&a++;o.length<8&&a++;if(a)throw new Error("decryption error");return t.slice(i)}(0,d,n);if(3===f)return d;throw new Error("unknown padding")}},function(e,t,n){"use strict";(function(e,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var a=n(24),o=n(123),s=a.Buffer,u=a.kMaxLength,c=e.crypto||e.msCrypto,l=Math.pow(2,32)-1;function f(e,t){if("number"!==typeof e||e!==e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>u||e>t)throw new RangeError("offset out of range")}function d(e,t,n){if("number"!==typeof e||e!==e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>u)throw new RangeError("buffer too small")}function h(e,t,n,i){if(r.browser){var a=e.buffer,s=new Uint8Array(a,t,n);return c.getRandomValues(s),i?void r.nextTick((function(){i(null,e)})):e}if(!i)return o(n).copy(e,t),e;o(n,(function(n,r){if(n)return i(n);r.copy(e,t),i(null,e)}))}c&&c.getRandomValues||!r.browser?(t.randomFill=function(t,n,r,i){if(!s.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"===typeof n)i=n,n=0,r=t.length;else if("function"===typeof r)i=r,r=t.length-n;else if("function"!==typeof i)throw new TypeError('"cb" argument must be a function');return f(n,t.length),d(r,n,t.length),h(t,n,r,i)},t.randomFillSync=function(t,n,r){"undefined"===typeof n&&(n=0);if(!s.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');f(n,t.length),void 0===r&&(r=t.length-n);return d(r,n,t.length),h(t,n,r)}):(t.randomFill=i,t.randomFillSync=i)}).call(this,n(42),n(60))},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(217),i=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,a=e.productionPrefix,o=void 0===a?"jss":a,s=e.seed,u=void 0===s?"":s,c=""===u?"":"".concat(u,"-"),l=0;return function(e,t){l+=1;var a=t.options.name;if(a&&0===a.indexOf("Mui")&&!t.options.link&&!n){if(-1!==i.indexOf(e.key))return"Mui-".concat(e.key);var s="".concat(c).concat(a,"-").concat(e.key);return t.options.theme[r.a]&&""===u?"".concat(s,"-").concat(l):s}return"".concat(c).concat(o).concat(l)}}},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(295),c=n(63),l=n(21),f=n(65),d=n(26),h="undefined"===typeof window?a.useEffect:a.useLayoutEffect,p=a.forwardRef((function(e,t){var n=e.alignItems,s=void 0===n?"center":n,p=e.autoFocus,m=void 0!==p&&p,v=e.button,g=void 0!==v&&v,b=e.children,y=e.classes,w=e.className,x=e.component,O=e.ContainerComponent,k=void 0===O?"li":O,E=e.ContainerProps,_=(E=void 0===E?{}:E).className,S=Object(i.a)(E,["className"]),j=e.dense,C=void 0!==j&&j,A=e.disabled,T=void 0!==A&&A,N=e.disableGutters,R=void 0!==N&&N,M=e.divider,D=void 0!==M&&M,I=e.focusVisibleClassName,F=e.selected,P=void 0!==F&&F,z=Object(i.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),L=a.useContext(f.a),B={dense:C||L.dense||!1,alignItems:s},U=a.useRef(null);h((function(){m&&U.current&&U.current.focus()}),[m]);var W=a.Children.toArray(b),V=W.length&&Object(c.a)(W[W.length-1],["ListItemSecondaryAction"]),q=a.useCallback((function(e){U.current=d.findDOMNode(e)}),[]),H=Object(l.a)(q,t),G=Object(r.a)({className:Object(o.a)(y.root,w,B.dense&&y.dense,!R&&y.gutters,D&&y.divider,T&&y.disabled,g&&y.button,"center"!==s&&y.alignItemsFlexStart,V&&y.secondaryAction,P&&y.selected),disabled:T},z),$=x||"li";return g&&(G.component=x||"div",G.focusVisibleClassName=Object(o.a)(y.focusVisible,I),$=u.a),V?($=G.component||x?$:"div","li"===k&&("li"===$?$="div":"li"===G.component&&(G.component="div")),a.createElement(f.a.Provider,{value:B},a.createElement(k,Object(r.a)({className:Object(o.a)(y.container,_),ref:H},S),a.createElement($,G,W),W.pop()))):a.createElement(f.a.Provider,{value:B},a.createElement($,Object(r.a)({ref:H},G),W))}));t.a=Object(s.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(p)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(65),c=a.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,l=e.component,f=void 0===l?"ul":l,d=e.dense,h=void 0!==d&&d,p=e.disablePadding,m=void 0!==p&&p,v=e.subheader,g=Object(i.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),b=a.useMemo((function(){return{dense:h}}),[h]);return a.createElement(u.a.Provider,{value:b},a.createElement(f,Object(r.a)({className:Object(o.a)(s.root,c,h&&s.dense,!m&&s.padding,v&&s.subheader),ref:t},g),v,n))}));t.a=Object(s.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(c)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),i=n(0),a=n(237),o=n(444);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(a.a)(),s=Object(o.a)({theme:n,name:"MuiUseMediaQuery",props:{}});var u="function"===typeof e?e(n):e;u=u.replace(/^@media( ?)/m,"");var c="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,l=Object(r.a)({},s,{},t),f=l.defaultMatches,d=void 0!==f&&f,h=l.matchMedia,p=void 0===h?c?window.matchMedia:null:h,m=l.noSsr,v=void 0!==m&&m,g=l.ssrMatchMedia,b=void 0===g?null:g,y=i.useState((function(){return v&&c?p(u).matches:b?b(u).matches:d})),w=y[0],x=y[1];return i.useEffect((function(){var e=!0;if(c){var t=p(u),n=function(){e&&x(t.matches)};return n(),t.addListener(n),function(){e=!1,t.removeListener(n)}}}),[u,p,c]),w}},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(26)),s=n(47),u=n(296),c=n(21),l=n(25),f=n(32),d=n(35);function h(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var i=window.getComputedStyle(t);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var a=0,o=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");a=parseInt(s[4],10),o=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(-").concat(r.left-a,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(-").concat(r.top-o,"px)"):"translateY(-".concat(r.top+r.height-o,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var p={enter:f.b.enteringScreen,exit:f.b.leavingScreen},m=a.forwardRef((function(e,t){var n=e.children,f=e.direction,m=void 0===f?"down":f,v=e.in,g=e.onEnter,b=e.onEntering,y=e.onExit,w=e.onExited,x=e.style,O=e.timeout,k=void 0===O?p:O,E=Object(i.a)(e,["children","direction","in","onEnter","onEntering","onExit","onExited","style","timeout"]),_=Object(l.a)(),S=a.useRef(null),j=a.useCallback((function(e){S.current=o.findDOMNode(e)}),[]),C=Object(c.a)(n.ref,j),A=Object(c.a)(C,t),T=a.useCallback((function(){S.current&&h(m,S.current)}),[m]);return a.useEffect((function(){if(!v&&"down"!==m&&"right"!==m){var e=Object(s.a)((function(){S.current&&h(m,S.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[m,v]),a.useEffect((function(){v||T()}),[v,T]),a.createElement(u.a,Object(r.a)({onEnter:function(e,t){var n=S.current;h(m,n),Object(d.b)(n),g&&g(n,t)},onEntering:function(e,t){var n=S.current,i=Object(d.a)({timeout:k,style:x},{mode:"enter"});n.style.webkitTransition=_.transitions.create("-webkit-transform",Object(r.a)({},i,{easing:_.transitions.easing.easeOut})),n.style.transition=_.transitions.create("transform",Object(r.a)({},i,{easing:_.transitions.easing.easeOut})),n.style.webkitTransform="none",n.style.transform="none",b&&b(n,t)},onExit:function(){var e=S.current,t=Object(d.a)({timeout:k,style:x},{mode:"exit"});e.style.webkitTransition=_.transitions.create("-webkit-transform",Object(r.a)({},t,{easing:_.transitions.easing.sharp})),e.style.transition=_.transitions.create("transform",Object(r.a)({},t,{easing:_.transitions.easing.sharp})),h(m,e),y&&y(e)},onExited:function(){var e=S.current;e.style.webkitTransition="",e.style.transition="",w&&w(e)},appear:!0,in:v,timeout:k},E),(function(e,t){return a.cloneElement(n,Object(r.a)({ref:A,style:Object(r.a)({visibility:"exited"!==e||v?void 0:"hidden"},x,{},n.props.style)},t))}))}));t.a=m},function(e,t,n){"use strict";var r=n(0),i=n(26),a=(n(8),n(38)),o=n(21);var s="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,u=r.forwardRef((function(e,t){var n=e.children,u=e.container,c=e.disablePortal,l=void 0!==c&&c,f=e.onRendered,d=r.useState(null),h=d[0],p=d[1],m=Object(o.a)(r.isValidElement(n)?n.ref:null,t);return s((function(){l||p(function(e){return e="function"===typeof e?e():e,i.findDOMNode(e)}(u)||document.body)}),[u,l]),s((function(){if(h&&!l)return Object(a.a)(t,h),function(){Object(a.a)(t,null)}}),[t,h,l]),s((function(){f&&(h||l)&&f()}),[f,h,l]),l?r.isValidElement(n)?r.cloneElement(n,{ref:m}):n:h?i.createPortal(n,h):h}));t.a=u},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(632),c=a.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,l=e.invisible,f=void 0!==l&&l,d=e.open,h=e.transitionDuration,p=Object(i.a)(e,["children","classes","className","invisible","open","transitionDuration"]);return a.createElement(u.a,Object(r.a)({in:d,timeout:h},p),a.createElement("div",{className:Object(o.a)(s.root,c,f&&s.invisible),"aria-hidden":!0,ref:t},n))}));t.a=Object(s.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(c)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(296)),s=n(32),u=n(25),c=n(35),l=n(21),f={entering:{opacity:1},entered:{opacity:1}},d={enter:s.b.enteringScreen,exit:s.b.leavingScreen},h=a.forwardRef((function(e,t){var n=e.children,s=e.in,h=e.onEnter,p=e.onExit,m=e.style,v=e.timeout,g=void 0===v?d:v,b=Object(i.a)(e,["children","in","onEnter","onExit","style","timeout"]),y=Object(u.a)(),w=Object(l.a)(n.ref,t);return a.createElement(o.a,Object(r.a)({appear:!0,in:s,onEnter:function(e,t){Object(c.b)(e);var n=Object(c.a)({style:m,timeout:g},{mode:"enter"});e.style.webkitTransition=y.transitions.create("opacity",n),e.style.transition=y.transitions.create("opacity",n),h&&h(e,t)},onExit:function(e){var t=Object(c.a)({style:m,timeout:g},{mode:"exit"});e.style.webkitTransition=y.transitions.create("opacity",t),e.style.transition=y.transitions.create("opacity",t),p&&p(e)},timeout:g},b),(function(e,t){return a.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,visibility:"exited"!==e||s?void 0:"hidden"},f[e],{},m,{},n.props.style),ref:w},t))}))}));t.a=h},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(435)),s=n(237),u=n(630),c=n(56),l=n(38),f=n(21);function d(e){return"function"===typeof e?e():e}var h="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,p={},m=a.forwardRef((function(e,t){var n=e.anchorEl,m=e.children,v=e.container,g=e.disablePortal,b=void 0!==g&&g,y=e.keepMounted,w=void 0!==y&&y,x=e.modifiers,O=e.open,k=e.placement,E=void 0===k?"bottom":k,_=e.popperOptions,S=void 0===_?p:_,j=e.popperRef,C=e.style,A=e.transition,T=void 0!==A&&A,N=Object(i.a)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),R=a.useRef(null),M=Object(f.a)(R,t),D=a.useRef(null),I=Object(f.a)(D,j),F=a.useRef(I);h((function(){F.current=I}),[I]),a.useImperativeHandle(j,(function(){return D.current}),[]);var P=a.useState(!0),z=P[0],L=P[1],B=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(E,Object(s.a)()),U=a.useState(B),W=U[0],V=U[1];a.useEffect((function(){D.current&&D.current.update()}));var q=a.useCallback((function(){if(R.current&&n&&O){D.current&&(D.current.destroy(),F.current(null));var e=function(e){V(e.placement)},t=(d(n),new o.a(d(n),R.current,Object(r.a)({placement:B},S,{modifiers:Object(r.a)({},b?{}:{preventOverflow:{boundariesElement:"window"}},{},x,{},S.modifiers),onCreate:Object(c.a)(e,S.onCreate),onUpdate:Object(c.a)(e,S.onUpdate)})));F.current(t)}}),[n,b,x,O,B,S]),H=a.useCallback((function(e){Object(l.a)(M,e),q()}),[M,q]),G=function(){D.current&&(D.current.destroy(),F.current(null))};if(a.useEffect((function(){q()}),[q]),a.useEffect((function(){return function(){G()}}),[]),a.useEffect((function(){O||T||G()}),[O,T]),!w&&!O&&(!T||z))return null;var $={placement:W};return T&&($.TransitionProps={in:O,onEnter:function(){L(!1)},onExited:function(){L(!0),G()}}),a.createElement(u.a,{disablePortal:b,container:v},a.createElement("div",Object(r.a)({ref:H,role:"tooltip"},N,{style:Object(r.a)({position:"fixed",top:0,left:0},C)}),"function"===typeof m?m($):m))}));t.a=m},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(47)),s=n(21);function u(e,t){return parseInt(e[t],10)||0}var c="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,l={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},f=a.forwardRef((function(e,t){var n=e.onChange,f=e.rows,d=e.rowsMax,h=e.rowsMin,p=void 0===h?1:h,m=e.style,v=e.value,g=Object(i.a)(e,["onChange","rows","rowsMax","rowsMin","style","value"]),b=f||p,y=a.useRef(null!=v).current,w=a.useRef(null),x=Object(s.a)(t,w),O=a.useRef(null),k=a.useRef(0),E=a.useState({}),_=E[0],S=E[1],j=a.useCallback((function(){var t=w.current,n=window.getComputedStyle(t),r=O.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x";var i=n["box-sizing"],a=u(n,"padding-bottom")+u(n,"padding-top"),o=u(n,"border-bottom-width")+u(n,"border-top-width"),s=r.scrollHeight-a;r.value="x";var c=r.scrollHeight-a,l=s;b&&(l=Math.max(Number(b)*c,l)),d&&(l=Math.min(Number(d)*c,l));var f=(l=Math.max(l,c))+("border-box"===i?a+o:0),h=Math.abs(l-s)<=1;S((function(e){return k.current<20&&(f>0&&Math.abs((e.outerHeightStyle||0)-f)>1||e.overflow!==h)?(k.current+=1,{overflow:h,outerHeightStyle:f}):e}))}),[d,b,e.placeholder]);a.useEffect((function(){var e=Object(o.a)((function(){k.current=0,j()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[j]),c((function(){j()})),a.useEffect((function(){k.current=0}),[v]);return a.createElement(a.Fragment,null,a.createElement("textarea",Object(r.a)({value:v,onChange:function(e){k.current=0,y||j(),n&&n(e)},ref:x,rows:b,style:Object(r.a)({height:_.outerHeightStyle,overflow:_.overflow?"hidden":null},m)},g)),a.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:O,tabIndex:-1,style:Object(r.a)({},l,{},m)}))}));t.a=f},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(445),u=n(7),c=a.forwardRef((function(e,t){var n=e.disableUnderline,u=e.classes,c=e.fullWidth,l=void 0!==c&&c,f=e.inputComponent,d=void 0===f?"input":f,h=e.multiline,p=void 0!==h&&h,m=e.type,v=void 0===m?"text":m,g=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(s.a,Object(r.a)({classes:Object(r.a)({},u,{root:Object(o.a)(u.root,!n&&u.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:p,ref:t,type:v},g))}));c.muiName="Input",t.a=Object(u.a)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"dark"===e.palette.type?"0 0 0 100px #266798 inset":null,WebkitTextFillColor:"dark"===e.palette.type?"#fff":null,borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(c)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(58),n(8),n(26)),s=n(33),u=n(627),c=n(222),l=n(21);function f(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function d(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function h(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function p(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return;o=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&h(s,a)&&!u)return void s.focus();s=i(e,s,n)}}var m="undefined"===typeof window?a.useEffect:a.useLayoutEffect,v=a.forwardRef((function(e,t){var n=e.actions,v=e.autoFocus,g=void 0!==v&&v,b=e.autoFocusItem,y=void 0!==b&&b,w=e.children,x=e.className,O=e.disabledItemsFocusable,k=void 0!==O&&O,E=e.disableListWrap,_=void 0!==E&&E,S=e.onKeyDown,j=e.variant,C=void 0===j?"selectedMenu":j,A=Object(i.a)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),T=a.useRef(null),N=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});m((function(){g&&T.current.focus()}),[g]),a.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!T.current.style.width;if(e.clientHeight<T.current.clientHeight&&n){var r="".concat(Object(c.a)(!0),"px");T.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,T.current.style.width="calc(100% + ".concat(r,")")}return T.current}}}),[]);var R=a.useCallback((function(e){T.current=o.findDOMNode(e)}),[]),M=Object(l.a)(R,t),D=-1;a.Children.forEach(w,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===C&&e.props.selected||-1===D)&&(D=t))}));var I=a.Children.map(w,(function(e,t){if(t===D){var n={};return y&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===C&&(n.tabIndex=0),a.cloneElement(e,n)}return e}));return a.createElement(u.a,Object(r.a)({role:"menu",ref:M,className:x,onKeyDown:function(e){var t=T.current,n=e.key,r=Object(s.a)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),p(t,r,_,k,f);else if("ArrowUp"===n)e.preventDefault(),p(t,r,_,k,d);else if("Home"===n)e.preventDefault(),p(t,null,_,k,f);else if("End"===n)e.preventDefault(),p(t,null,_,k,d);else if(1===n.length){var i=N.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&h(r,i);i.previousKeyMatched&&(u||p(t,r,!1,k,f,i))?e.preventDefault():i.previousKeyMatched=!1}S&&S(e)},tabIndex:g?0:-1},A),I)}));t.a=v},function(e,t,n){"use strict";var r=n(6),i=n(3),a=n(0),o=(n(8),n(4)),s=n(64),u=n(48),c=n(7),l=a.forwardRef((function(e,t){var n=e.children,c=e.classes,l=e.className,f=e.component,d=void 0===f?"p":f,h=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(r.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),p=Object(u.a)(),m=Object(s.a)({props:e,muiFormControl:p,states:["variant","margin","disabled","error","filled","focused","required"]});return a.createElement(d,Object(i.a)({className:Object(o.a)(c.root,("filled"===m.variant||"outlined"===m.variant)&&c.contained,l,m.disabled&&c.disabled,m.error&&c.error,m.filled&&c.filled,m.focused&&c.focused,m.required&&c.required,"dense"===m.margin&&c.marginDense),ref:t},h)," "===n?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)}));t.a=Object(c.a)((function(e){return{root:Object(i.a)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(l)},function(e,t,n){"use strict";var r=n(6),i=n(3),a=n(0),o=(n(8),n(4)),s=n(64),u=n(48),c=n(14),l=n(7),f=a.forwardRef((function(e,t){var n=e.children,l=e.classes,f=e.className,d=(e.color,e.component),h=void 0===d?"label":d,p=(e.disabled,e.error,e.filled,e.focused,e.required,Object(r.a)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),m=Object(u.a)(),v=Object(s.a)({props:e,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]});return a.createElement(h,Object(i.a)({className:Object(o.a)(l.root,l["color".concat(Object(c.a)(v.color||"primary"))],f,v.disabled&&l.disabled,v.error&&l.error,v.filled&&l.filled,v.focused&&l.focused,v.required&&l.required),ref:t},p),n,v.required&&a.createElement("span",{className:Object(o.a)(l.asterisk,v.error&&l.error)},"\u2009","*"))}));t.a=Object(l.a)((function(e){return{root:Object(i.a)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(f)},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(6),i=n(3),a=n(0),o=n.n(a),s=n(41),u=n(651),c={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},l=n(237),f=n(652),d=-1e9;function h(){return d+=1}n(83);var p=n(443);function m(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return a;var o=n.overrides[r],s=Object(i.a)({},a);return Object.keys(o).forEach((function(e){s[e]=Object(p.a)(s[e],o[e])})),s},options:{}}}var v={};function g(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Object(u.a)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function b(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,l=e.name;if(!a.disableGeneration){var f=c.get(a.sheetsManager,o,r);f||(f={refs:0,staticSheet:null,dynamicStyles:null},c.set(a.sheetsManager,o,r,f));var d=Object(i.a)({},o.options,{},a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});d.generateId=d.serverGenerateClassName||d.generateClassName;var h=a.sheetsRegistry;if(0===f.refs){var p;a.sheetsCache&&(p=c.get(a.sheetsCache,o,r));var m=o.create(r,l);p||((p=a.jss.createStyleSheet(m,Object(i.a)({link:!1},d))).attach(),a.sheetsCache&&c.set(a.sheetsCache,o,r,p)),h&&h.add(p),f.staticSheet=p,f.dynamicStyles=Object(s.e)(m)}if(f.dynamicStyles){var v=a.jss.createStyleSheet(f.dynamicStyles,Object(i.a)({link:!0},d));v.update(t),v.attach(),n.dynamicSheet=v,n.classes=Object(u.a)({baseClasses:f.staticSheet.classes,newClasses:v.classes}),h&&h.add(v)}else n.classes=f.staticSheet.classes;f.refs+=1}}function y(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function w(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=c.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(c.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function x(e,t){var n,r=o.a.useRef([]),i=o.a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.a.useEffect((function(){return function(){n&&n()}}),[i])}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=t.classNamePrefix,s=t.Component,u=t.defaultTheme,c=void 0===u?v:u,d=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),p=m(e),O=n||a||"makeStyles";p.options={index:h(),name:n,meta:O,classNamePrefix:O};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(l.a)()||c,r=Object(i.a)({},o.a.useContext(f.a),{},d),a=o.a.useRef(),u=o.a.useRef();x((function(){var i={name:n,state:{},stylesCreator:p,stylesOptions:r,theme:t};return b(i,e),u.current=!1,a.current=i,function(){w(i)}}),[t,p]),o.a.useEffect((function(){u.current&&y(a.current,e),u.current=!0}));var h=g(a.current,e.classes,s);return h};return k}},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(445),u=n(19),c=n(7),l=n(25),f=n(14),d=a.forwardRef((function(e,t){e.children;var n=e.classes,s=e.className,c=e.label,d=e.labelWidth,h=e.notched,p=e.style,m=Object(i.a)(e,["children","classes","className","label","labelWidth","notched","style"]),v="rtl"===Object(l.a)().direction?"right":"left";if(void 0!==c)return a.createElement("fieldset",Object(r.a)({"aria-hidden":!0,className:Object(o.a)(n.root,s),ref:t,style:p},m),a.createElement("legend",{className:Object(o.a)(n.legendLabelled,h&&n.legendNotched)},c?a.createElement("span",null,c):a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var g=d>0?.75*d+8:.01;return a.createElement("fieldset",Object(r.a)({"aria-hidden":!0,style:Object(r.a)(Object(u.a)({},"padding".concat(Object(f.a)(v)),8),p),className:Object(o.a)(n.root,s),ref:t},m),a.createElement("legend",{className:n.legend,style:{width:h?g:.01}},a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),h=Object(c.a)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:0,paddingLeft:8,pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(d),p=a.forwardRef((function(e,t){var n=e.classes,u=e.fullWidth,c=void 0!==u&&u,l=e.inputComponent,f=void 0===l?"input":l,d=e.label,p=e.labelWidth,m=void 0===p?0:p,v=e.multiline,g=void 0!==v&&v,b=e.notched,y=e.type,w=void 0===y?"text":y,x=Object(i.a)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return a.createElement(s.a,Object(r.a)({renderSuffix:function(e){return a.createElement(h,{className:n.notchedOutline,label:d,labelWidth:m,notched:"undefined"!==typeof b?b:Boolean(e.startAdornment||e.filled||e.focused)})},classes:Object(r.a)({},n,{root:Object(o.a)(n.root,n.underline),notchedOutline:null}),fullWidth:c,inputComponent:f,multiline:g,ref:t,type:w},x))}));p.muiName="Input";t.a=Object(c.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"dark"===e.palette.type?"0 0 0 100px #266798 inset":null,WebkitTextFillColor:"dark"===e.palette.type?"#fff":null,borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(p)},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=Object(r.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var r,i=n(3),a=n(6),o=n(0),s=n.n(o),u=(n(8),n(625)),c=n(41),l=n(446),f=Object(c.c)(Object(l.a)()),d={disableGeneration:!1,generateClassName:Object(u.a)(),jss:f,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},h=s.a.createContext(d);function p(e){var t=e.children,n=e.injectFirst,o=void 0!==n&&n,u=e.disableGeneration,f=void 0!==u&&u,d=Object(a.a)(e,["children","injectFirst","disableGeneration"]),p=s.a.useContext(h),m=Object(i.a)({},p,{disableGeneration:f},d);if(!m.jss.options.insertionPoint&&o&&"undefined"!==typeof window){if(!r){var v=document.head;r=document.createComment("mui-inject-first"),v.insertBefore(r,v.firstChild)}m.jss=Object(c.c)({plugins:Object(l.a)().plugins,insertionPoint:r})}return s.a.createElement(h.Provider,{value:m},t)}},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(17),c=a.forwardRef((function(e,t){var n=e.absolute,s=void 0!==n&&n,u=e.classes,c=e.className,l=e.component,f=void 0===l?"hr":l,d=e.flexItem,h=void 0!==d&&d,p=e.light,m=void 0!==p&&p,v=e.orientation,g=void 0===v?"horizontal":v,b=e.role,y=void 0===b?"hr"!==f?"separator":void 0:b,w=e.variant,x=void 0===w?"fullWidth":w,O=Object(i.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return a.createElement(f,Object(r.a)({className:Object(o.a)(u.root,c,"fullWidth"!==x&&u[x],s&&u.absolute,h&&u.flexItem,m&&u.light,"vertical"===g&&u.vertical),role:y,ref:t},O))}));t.a=Object(s.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(u.d)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(c)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(14),c=a.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.color,l=void 0===c?"default":c,f=e.component,d=void 0===f?"li":f,h=e.disableGutters,p=void 0!==h&&h,m=e.disableSticky,v=void 0!==m&&m,g=e.inset,b=void 0!==g&&g,y=Object(i.a)(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return a.createElement(d,Object(r.a)({className:Object(o.a)(n.root,s,"default"!==l&&n["color".concat(Object(u.a)(l))],b&&n.inset,!v&&n.sticky,!p&&n.gutters),ref:t},y))}));t.a=Object(s.a)((function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(c)},function(e,t,n){"use strict";var r=n(3),i=n(0),a=(n(8),n(7)),o={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},s=function(e){return Object(r.a)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};t.a=Object(a.a)((function(e){return{"@global":{html:o,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(r.a)({margin:0},s(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,n=void 0===t?null:t;return e.classes,i.createElement(i.Fragment,null,n)}))},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(7),u=n(14),c=n(165),l=a.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.color,f=void 0===l?"primary":l,d=e.position,h=void 0===d?"fixed":d,p=Object(i.a)(e,["classes","className","color","position"]);return a.createElement(c.a,Object(r.a)({square:!0,component:"header",elevation:4,className:Object(o.a)(n.root,n["position".concat(Object(u.a)(h))],n["color".concat(Object(u.a)(f))],s,"fixed"===h&&"mui-fixed"),ref:t},p))}));t.a=Object(s.a)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static",transform:"translateZ(0)"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(l)},function(e,t,n){"use strict";var r=n(3),i=n(0),a=n.n(i),o=(n(8),n(214)),s=n(237),u=n(217);t.a=function(e){var t=e.children,n=e.theme,i=Object(s.a)(),c=a.a.useMemo((function(){var e=null===i?n:function(e,t){return"function"===typeof t?t(e):Object(r.a)({},e,{},t)}(i,n);return null!=e&&(e[u.a]=null!==i),e}),[n,i]);return a.a.createElement(o.a.Provider,{value:c},t)}},function(e,t,n){"use strict";var r=n(6),i=n(3),a=n(0),o=(n(8),n(4)),s=n(7),u=[0,1,2,3,4,5,6,7,8,9,10],c=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var f=a.forwardRef((function(e,t){var n=e.alignContent,s=void 0===n?"stretch":n,u=e.alignItems,c=void 0===u?"stretch":u,l=e.classes,f=e.className,d=e.component,h=void 0===d?"div":d,p=e.container,m=void 0!==p&&p,v=e.direction,g=void 0===v?"row":v,b=e.item,y=void 0!==b&&b,w=e.justify,x=void 0===w?"flex-start":w,O=e.lg,k=void 0!==O&&O,E=e.md,_=void 0!==E&&E,S=e.sm,j=void 0!==S&&S,C=e.spacing,A=void 0===C?0:C,T=e.wrap,N=void 0===T?"wrap":T,R=e.xl,M=void 0!==R&&R,D=e.xs,I=void 0!==D&&D,F=e.zeroMinWidth,P=void 0!==F&&F,z=Object(r.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),L=Object(o.a)(l.root,f,m&&[l.container,0!==A&&l["spacing-xs-".concat(String(A))]],y&&l.item,P&&l.zeroMinWidth,"row"!==g&&l["direction-xs-".concat(String(g))],"wrap"!==N&&l["wrap-xs-".concat(String(N))],"stretch"!==c&&l["align-items-xs-".concat(String(c))],"stretch"!==s&&l["align-content-xs-".concat(String(s))],"flex-start"!==x&&l["justify-xs-".concat(String(x))],!1!==I&&l["grid-xs-".concat(String(I))],!1!==j&&l["grid-sm-".concat(String(j))],!1!==_&&l["grid-md-".concat(String(_))],!1!==k&&l["grid-lg-".concat(String(k))],!1!==M&&l["grid-xl-".concat(String(M))]);return a.createElement(h,Object(i.a)({className:L,ref:t},z))})),d=Object(s.a)((function(e){return Object(i.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return u.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(l(i,2)),width:"calc(100% + ".concat(l(i),")"),"& > $item":{padding:l(i,2)}})})),n}(e,"xs"),{},e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};c.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(i.a)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(f);t.a=d},function(e,t,n){"use strict";var r=n(6),i=n(3),a=n(0),o=(n(8),n(4)),s=n(17),u=n(7),c=n(165),l=n(29),f=Object(l.a)(a.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),d=Object(l.a)(a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),h=Object(l.a)(a.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),p=Object(l.a)(a.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),m=Object(l.a)(a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),v=n(284),g=n(14),b={success:a.createElement(f,{fontSize:"inherit"}),warning:a.createElement(d,{fontSize:"inherit"}),error:a.createElement(h,{fontSize:"inherit"}),info:a.createElement(p,{fontSize:"inherit"})},y=a.createElement(m,{fontSize:"small"}),w=a.forwardRef((function(e,t){var n=e.action,s=e.children,u=e.classes,l=e.className,f=e.closeText,d=void 0===f?"Close":f,h=e.color,p=e.icon,m=e.iconMapping,w=void 0===m?b:m,x=e.onClose,O=e.role,k=void 0===O?"alert":O,E=e.severity,_=void 0===E?"success":E,S=e.variant,j=void 0===S?"standard":S,C=Object(r.a)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return a.createElement(c.a,Object(i.a)({role:k,square:!0,elevation:0,className:Object(o.a)(u.root,u["".concat(j).concat(Object(g.a)(h||_))],l),ref:t},C),!1!==p?a.createElement("div",{className:u.icon},p||w[_]||b[_]):null,a.createElement("div",{className:u.message},s),null!=n?a.createElement("div",{className:u.action},n):null,null==n&&x?a.createElement("div",{className:u.action},a.createElement(v.a,{size:"small","aria-label":d,title:d,color:"inherit",onClick:x},y)):null)}));t.a=Object(u.a)((function(e){var t="light"===e.palette.type?s.a:s.i,n="light"===e.palette.type?s.i:s.a;return{root:Object(i.a)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:n(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:n(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:n(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:n(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(w)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=(n(8),n(4)),s=n(141),u=n(29),c=Object(u.a)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),l=Object(u.a)(a.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),f=n(7);var d=Object(f.a)((function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}}),{name:"PrivateRadioButtonIcon"})((function(e){var t=e.checked,n=e.classes,r=e.fontSize;return a.createElement("div",{className:Object(o.a)(n.root,t&&n.checked)},a.createElement(c,{fontSize:r}),a.createElement(l,{fontSize:r,className:n.layer}))})),h=n(17),p=n(14),m=n(56),v=n(207),g=a.createElement(d,{checked:!0}),b=a.createElement(d,null),y=a.forwardRef((function(e,t){var n=e.checked,u=e.classes,c=e.color,l=void 0===c?"secondary":c,f=e.name,d=e.onChange,h=e.size,y=void 0===h?"medium":h,w=Object(i.a)(e,["checked","classes","color","name","onChange","size"]),x=Object(v.a)(),O=n,k=Object(m.a)(d,x&&x.onChange),E=f;return x&&("undefined"===typeof O&&(O=x.value===e.value),"undefined"===typeof E&&(E=x.name)),a.createElement(s.a,Object(r.a)({color:l,type:"radio",icon:a.cloneElement(b,{fontSize:"small"===y?"small":"default"}),checkedIcon:a.cloneElement(g,{fontSize:"small"===y?"small":"default"}),classes:{root:Object(o.a)(u.root,u["color".concat(Object(p.a)(l))]),checked:u.checked,disabled:u.disabled},name:E,checked:O,onChange:k,ref:t},w))}));t.a=Object(f.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(h.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(h.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiRadio"})(y)},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(0),o=n(8),s=n.n(o),u=n(179),c=n(25);function l(e){var t=e.children,n=e.only,r=e.width,i=Object(c.a)(),a=!0;if(n)if(Array.isArray(n))for(var o=0;o<n.length;o+=1){if(r===n[o]){a=!1;break}}else n&&r===n&&(a=!1);if(a)for(var s=0;s<i.breakpoints.keys.length;s+=1){var l=i.breakpoints.keys[s],f=e["".concat(l,"Up")],d=e["".concat(l,"Down")];if(f&&Object(u.c)(l,r)||d&&Object(u.b)(l,r)){a=!1;break}}return a?t:null}l.propTypes={children:s.a.node,className:s.a.string,implementation:s.a.oneOf(["js","css"]),initialWidth:s.a.oneOf(["xs","sm","md","lg","xl"]),lgDown:s.a.bool,lgUp:s.a.bool,mdDown:s.a.bool,mdUp:s.a.bool,only:s.a.oneOfType([s.a.oneOf(["xs","sm","md","lg","xl"]),s.a.arrayOf(s.a.oneOf(["xs","sm","md","lg","xl"]))]),smDown:s.a.bool,smUp:s.a.bool,width:s.a.string.isRequired,xlDown:s.a.bool,xlUp:s.a.bool,xsDown:s.a.bool,xsUp:s.a.bool};var f=Object(u.a)()(l),d=n(19),h=n(14),p=n(7);var m=Object(p.a)((function(e){var t={display:"none"};return e.breakpoints.keys.reduce((function(n,r){return n["only".concat(Object(h.a)(r))]=Object(d.a)({},e.breakpoints.only(r),t),n["".concat(r,"Up")]=Object(d.a)({},e.breakpoints.up(r),t),n["".concat(r,"Down")]=Object(d.a)({},e.breakpoints.down(r),t),n}),{})}),{name:"PrivateHiddenCss"})((function(e){var t=e.children,n=e.classes,r=e.className,o=e.only,s=(Object(i.a)(e,["children","classes","className","only"]),Object(c.a)()),u=[];r&&u.push(r);for(var l=0;l<s.breakpoints.keys.length;l+=1){var f=s.breakpoints.keys[l],d=e["".concat(f,"Up")],p=e["".concat(f,"Down")];d&&u.push(n["".concat(f,"Up")]),p&&u.push(n["".concat(f,"Down")])}return o&&(Array.isArray(o)?o:[o]).forEach((function(e){u.push(n["only".concat(Object(h.a)(e))])})),a.createElement("div",{className:u.join(" ")},t)}));t.a=function(e){var t=e.implementation,n=void 0===t?"js":t,o=e.lgDown,s=void 0!==o&&o,u=e.lgUp,c=void 0!==u&&u,l=e.mdDown,d=void 0!==l&&l,h=e.mdUp,p=void 0!==h&&h,v=e.smDown,g=void 0!==v&&v,b=e.smUp,y=void 0!==b&&b,w=e.xlDown,x=void 0!==w&&w,O=e.xlUp,k=void 0!==O&&O,E=e.xsDown,_=void 0!==E&&E,S=e.xsUp,j=void 0!==S&&S,C=Object(i.a)(e,["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"]);return"js"===n?a.createElement(f,Object(r.a)({lgDown:s,lgUp:c,mdDown:d,mdUp:p,smDown:g,smUp:y,xlDown:x,xlUp:k,xsDown:_,xsUp:j},C)):a.createElement(m,Object(r.a)({lgDown:s,lgUp:c,mdDown:d,mdUp:p,smDown:g,smUp:y,xlDown:x,xlUp:k,xsDown:_,xsUp:j},C))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(51),i=n(220),a=n(94);var o={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!u[e])return[e];e=u[e]}var t=e.split(""),n=Object(r.a)(t,2),i=n[0],a=n[1],c=o[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return c+e})):[c+l]})),l=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function f(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function d(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function h(e){var t=f(e.theme);return Object.keys(e).map((function(n){if(-1===l.indexOf(n))return null;var r=d(c(n),t),a=e[n];return Object(i.a)(e,a,r)})).reduce(a.a,{})}h.propTypes={},h.filterProps=l;t.b=h}]]);
//# sourceMappingURL=2.3c08a4aa.chunk.js.map